var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.slice(0,v.length-1).concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){var i=l.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),n.apply(e,i.concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("vendor/almond",function(){}),function(e,t){function P(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function B(e){var t=H[e]={};return b.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(e,n,r,i){if(b.acceptData(e)){var s,o,u=b.expando,a="string"==typeof n,f=e.nodeType,c=f?b.cache:e,h=f?e[u]:e[u]&&u;if(h&&c[h]&&(i||c[h].data)||!a||r!==t)return h||(f?e[u]=h=l.pop()||b.guid++:h=u),c[h]||(c[h]={},f||(c[h].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[h]=b.extend(c[h],n):c[h].data=b.extend(c[h].data,n)),s=c[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[b.camelCase(n)]=r),a?(o=s[n],null==o&&(o=s[b.camelCase(n)])):o=s,o}}function q(e,t,n){if(b.acceptData(e)){var r,i,s,o=e.nodeType,u=o?b.cache:e,a=o?e[b.expando]:b.expando;if(u[a]){if(t&&(s=n?u[a]:u[a].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in s?t=[t]:(t=b.camelCase(t),t=t in s?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete s[t[r]];if(!(n?U:b.isEmptyObject)(s))return}(n||(delete u[a].data,U(u[a])))&&(o?b.cleanData([e],!0):b.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null)}}}function R(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(F,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:j.test(r)?b.parseJSON(r):r}catch(s){}b.data(e,n,r)}else r=t}return r}function U(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function it(){return!0}function st(){return!1}function ct(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function ht(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(at.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function _t(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function Ht(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,s=b._data(e),o=b._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)b.event.add(t,n,u[n][r])}o.data&&(o.data=b.extend({},o.data))}}function Bt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(_t(t).text=e.text,Dt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;null!=(s=r[o]);o++)!n||b.nodeName(s,n)?u.push(s):b.merge(u,jt(s,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;u>o;o++)r=e[o],r.style&&(s[o]=b._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(s[o]=b._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;for(;4>s;s+=2)"margin"===n&&(o+=b.css(e,n+Zt[s],!0,i)),r?("content"===n&&(o-=b.css(e,"padding"+Zt[s],!0,i)),"margin"!==n&&(o-=b.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=b.css(e,"padding"+Zt[s],!0,i),"padding"!==n&&(o+=b.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=qt(e),o=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Rt(e,t,s),(0>i||null==i)&&(i=e.style[t]),Jt.test(i))return i;r=o&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=s,n=Qt[e];return n||(n=fn(e,t),"none"!==n&&n||(It=(It||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach()),Qt[e]=n),n}function fn(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)vn(e+"["+i+"]",t[i],n,r)}function _n(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(E)||[];if(b.isFunction(n))while(r=s[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,n,r,i){function u(a){var f;return s[a]=!0,b.each(e[a]||[],function(e,a){var l=a(n,r,i);return"string"!=typeof l||o||s[l]?o?!(f=l):t:(n.dataTypes.unshift(l),u(l),!1)}),f}var s={},o=e===An;return u(n.dataTypes[0])||!s["*"]&&u("*")}function Pn(e,n){var r,i,s=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(u in l)u in r&&(n[l[u]]=r[u]);while("*"===f[0])f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}return o?(o!==f[0]&&f.unshift(o),r[o]):t}function Bn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=a[++u];)if("*"!==r){if("*"!==f&&f!==r){if(i=o[f+" "+r]||o["* "+r],!i)for(n in o)if(s=n.split(" "),s[1]===r&&(i=o[f+" "+s[0]]||o["* "+s[0]])){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],a.splice(u--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(l){return{state:"parsererror",error:i?l:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Gn[t]||[]).concat(Gn["*"]),i=0,s=r.length;for(;s>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,s=0,o=Qn.length,u=b.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(tr(l,f.opts.specialEasing);o>s;s++)if(r=Qn[s].call(f,e,l,f.opts))return r;return Zn(f,l),b.isFunction(f.opts.start)&&f.opts.start.call(e,f),b.fx.timer(b.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(i in e)if(r=b.camelCase(i),s=t[r],n=e[i],b.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=b.cssHooks[r],o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}function nr(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&nn(e);n.queue||(l=b._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,b.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==an(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",b.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],$n.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(m?"hide":"show"))continue;v.push(i)}if(s=v.length){u=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?b(e).show():h.done(function(){b(e).hide()}),h.done(function(){var t;b._removeData(e,"fxshow");for(t in d)b.style(e,t,d[t])});for(i=0;s>i;i++)r=v[i],f=h.createTween(r,m?u[r]:0),d[r]=u[r]||b.style(e,r),r in u||(u[r]=f.start,m&&(f.end=f.start,f.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.document,o=e.location,u=e.jQuery,a=e.$,f={},l=[],c="1.9.1",h=l.concat,p=l.push,d=l.slice,v=l.indexOf,m=f.toString,g=f.hasOwnProperty,y=c.trim,b=function(e,t){return new b.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,E=/\S+/g,S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/^[\],:{}\s]*$/,C=/(?:^|:|,)(?:\s*\[)+/g,k=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,L=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,A=/^-ms-/,O=/-([\da-z])/gi,M=function(e,t){return t.toUpperCase()},_=function(e){(s.addEventListener||"load"===e.type||"complete"===s.readyState)&&(D(),b.ready())},D=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",_,!1),e.removeEventListener("load",_,!1)):(s.detachEvent("onreadystatechange",_),e.detachEvent("onload",_))};b.fn=b.prototype={jquery:c,constructor:b,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:s,!0)),T.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=s.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=s,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[1]||{},a=2),"object"==typeof u||b.isFunction(u)||(u={}),f===a&&(u=this,--a);f>a;a++)if(null!=(s=arguments[a]))for(i in s)e=u[i],r=s[i],u!==r&&(l&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,o=e&&b.isArray(e)?e:[]):o=e&&b.isPlainObject(e)?e:{},u[i]=b.extend(l,o,r)):r!==t&&(u[i]=r));return u},b.extend({noConflict:function(t){return e.$===b&&(e.$=a),t&&e.jQuery===b&&(e.jQuery=u),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!s.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(s,[b]),b.fn.trigger&&b(s).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||g.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||s;var r=T.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&N.test(n.replace(k,"@").replace(L,"]").replace(C,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(A,"ms-").replace(O,M)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=P(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:y&&!y.call("﻿ ")?function(e){return null==e?"":y.call(e)}:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(P(Object(e))?b.merge(n,"string"==typeof e?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(v)return v.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if("number"==typeof r)for(;r>s;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=P(e),u=[];if(o)for(;s>i;i++)r=t(e[i],i,n),null!=r&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(u[u.length]=r);return h.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return"string"==typeof n&&(s=e[n],n=e,e=s),b.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(n||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===b.type(r)){s=!0;for(a in r)b.access(e,n,a,r[a],!0,o,u)}else if(i!==t&&(s=!0,b.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(b(e),n)})),n))for(;f>a;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)));return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===s.readyState)setTimeout(b.ready);else if(s.addEventListener)s.addEventListener("DOMContentLoaded",_,!1),e.addEventListener("load",_,!1);else{s.attachEvent("onreadystatechange",_),e.attachEvent("onload",_);var r=!1;try{r=null==e.frameElement&&s.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}D(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()}),r=b(s);var H={};b.Callbacks=function(e){e="string"==typeof e?H[e]||B(e):b.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){for(r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;a&&s>o;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,a,r))>-1)a.splice(r,1),n&&(s>=r&&s--,o>=r&&o--)}),this},has:function(e){return e?b.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!a||i&&!f||(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,s){var o=s[0],u=b.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,s=1===i?e:b.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1)for(u=Array(r),a=Array(r),f=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i;return i||s.resolveWith(f,n),s.promise()}}),b.support=function(){var t,n,r,o,u,a,f,l,c,h,p=s.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],!n||!r||!n.length)return{};u=s.createElement("select"),f=u.appendChild(s.createElement("option")),o=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==p.className,leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!o.value,optSelected:f.selected,enctype:!!s.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==s.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===s.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}o=s.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=s.createDocumentFragment(),a.appendChild(o),t.appendChecked=o.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===p.style.backgroundClip,b(function(){var n,r,o,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=s.getElementsByTagName("body")[0];a&&(n=s.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=p.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===p.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(p,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(p,null)||{width:"4px"}).width,r=p.appendChild(s.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==p.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=o=r=null)}),n=u=a=f=r=o=null,t}();var j=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,F=/([A-Z])/g;b.extend({cache:{},expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!U(e)},data:function(e,t,n){return I(e,t,n)},removeData:function(e,t){return q(e,t)},_data:function(e,t,n){return I(e,t,n,!0)},_removeData:function(e,t){return q(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length&&(u=b.data(s),1===s.nodeType&&!b._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>o;o++)i=r[o].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),R(s,i,u[i]));b._data(s,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?s?R(s,e,b.data(s,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}}),b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),s=b._queueHooks(e,t),o=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),s.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=b.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(u--)r=b._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var z,W,X=/[\t\r\n]/g,V=/\r/g,$=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,K=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Q=/^(?:checked|selected)$/i,G=b.support.getSetAttribute,Y=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){s=0;while(i=t[s++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var s,o=0,u=b(this),a=t,f=e.match(E)||[];while(s=f[o++])a=r?a:!u.hasClass(s),u[a?"addClass":"removeClass"](s)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(arguments.length)return i=b.isFunction(e),this.each(function(n){var s,o=b(this);1===this.nodeType&&(s=i?e.call(this,n,o.val()):e,null==s?s="":"number"==typeof s?s+="":b.isArray(s)&&(s=b.map(s,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,s,"value")!==t||(this.value=s))});if(s)return r=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;for(;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var s,o,u,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===i?b.prop(e,n,r):(o=1!==a||!b.isXMLDoc(e),o&&(n=n.toLowerCase(),s=b.attrHooks[n]||(K.test(n)?W:z)),r===t?s&&o&&"get"in s&&null!==(u=s.get(e,n))?u:(typeof e.getAttribute!==i&&(u=e.getAttribute(n)),null==u?t:u):null!==r?s&&o&&"set"in s&&(u=s.set(e,r,n))!==t?u:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(E);if(s&&1===e.nodeType)while(n=s[i++])r=b.propFix[n]||n,K.test(n)?!G&&Q.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!b.isXMLDoc(e),o&&(n=b.propFix[n]||n,s=b.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&null!==(i=s.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):$.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:t}}}}),W={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),s="boolean"==typeof r?Y&&G?null!=i:Q.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},Y&&G||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),G||(z=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:z.get,set:function(e,t,n){z.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;b.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=b._data(e);if(y){r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=b.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(E)||[""],f=n.length;while(f--)u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),c=b.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=b.event.special[v]||{},p=b.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&b.expr.match.needsContext.test(o),namespace:m.join(".")},l),(d=a[v])||(d=a[v]=[],d.delegateCount=0,c.setup&&c.setup.call(e,s,m,h)!==!1||(e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),b.event.global[v]=!0;e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=b.hasData(e)&&b._data(e);if(m&&(l=m.events)){t=(t||"").match(E)||[""],f=t.length;while(f--)if(u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){c=b.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],!i&&v!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||b.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)b.event.remove(e,p+t[f],n,r,!0);b.isEmptyObject(l)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,o){var u,a,f,l,c,h,p,d=[i||s],v=g.call(n,"type")?n.type:n,m=g.call(n,"namespace")?n.namespace.split("."):[];if(f=h=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!nt.test(v+b.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=0>v.indexOf(":")&&"on"+v,n=n[b.expando]?n:new b.Event(v,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),c=b.event.special[v]||{},o||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!o&&!c.noBubble&&!b.isWindow(i)){for(l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||s)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(b._data(f,"events")||{})[n.type]&&b._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&b.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();if(n.type=v,!(o||n.isDefaultPrevented()||c._default&&c._default.apply(i.ownerDocument,r)!==!1||"click"===v&&b.nodeName(i,"a")||!b.acceptData(i)||!a||!i[v]||b.isWindow(i))){h=i[a],h&&(i[a]=null),b.event.triggered=v;try{i[v]()}catch(y){}b.event.triggered=t,h&&(i[a]=h)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,s,o,u=[],a=d.call(arguments),f=(b._data(this,"events")||{})[e.type]||[],l=b.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=b.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!=this;f=f.parentNode||this)if(1===f.nodeType&&(f.disabled!==!0||"click"!==e.type)){for(s=[],o=0;a>o;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?b(r,this).index(f)>=0:b.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return n.length>a&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,o=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new b.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||s),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,u=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||s,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||u===t||(e.which=1&u?1:2&u?3:4&u?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==s.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===s.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=s.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!b.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&s.addEventListener(e,r,!0)},teardown:function(){0===--n&&s.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=st;else if(!i)return this;return 1===s&&(u=i,i=function(e){return b().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=st),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[w]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;if((t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(9===u){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){if(h=!0,v=w,m=t,y=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(b){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=t&&e,r=n&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){(!n||(r=U.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),a.push(s=[])),n=!1,(r=z.exec(u))&&(n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length));for(o in i.filter)!(r=V[o].exec(u))||f[o]&&!(r=f[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&"parentNode"===i,o=T++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if((1===t.nodeType||s)&&e(t,n,u))return!0}else while(t=t[i])if(1===t.nodeType||s)if(l=t[w]||(t[w]={}),(f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else if(f=l[i]=[c],f[1]=e(t,n,u)||r,f[1]===!0)return!0}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=null!=t;for(;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function gt(e,t,n,r,i,s){return r&&!r[w]&&(r=gt(r)),i&&!i[w]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:mt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;s>a;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{if(n=i.filter[e[a].type].apply(null,e[a].matches),n[w]){for(r=++a;s>r;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,r>a&&yt(e.slice(a,r)),s>r&&yt(e=e.slice(r)),s>r&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=null!=p,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=null==S?1:Math.random()||.1;for(E&&(f=a!==c&&a,r=n);null!=(d=T[b]);b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}if(y+=b,s&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)w[b]||g[b]||(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;i>r;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!p&&i.relative[o[1].type]){if(t=i.find.ID(a.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}s=V.needsContext.test(e)?0:o.length;while(s--){if(a=o[s],i.relative[f=a.type])break;if((l=i.find[f])&&(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),e=r.length&&pt(o),!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,w="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=RegExp("^"+H+"*,"+H+"*"),z=RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=RegExp(q),X=RegExp("^"+j+"$"),V={ID:RegExp("^#("+B+")"),CLASS:RegExp("^\\.("+B+")"),NAME:RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:RegExp("^("+B.replace("w","w*")+")"),ATTR:RegExp("^"+I),PSEUDO:RegExp("^"+q),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/^[^{]+\{\s*\[native code/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{D.call(E.documentElement.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;return n!==c&&9===n.nodeType&&n.documentElement?(c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),S.getByName=ot(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(w).length===2+n.getElementsByName(w+0).length;return S.getIdNotName=!n.getElementById(w),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==L?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,n){return typeof n.getElementsByName!==L?n.getElementsByName(name):t},i.find.CLASS=S.getByClassName&&function(e,n){return typeof n.getElementsByClassName===L||p?t:n.getElementsByClassName(e)},v=[],d=[":focus"],(S.qsa=rt(n.querySelectorAll))&&(ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=RegExp(d.join("|")),v=RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},y=h.compareDocumentPosition?function(e,t){var r;return e===t?(a=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(y),S.detectDuplicates=a,c):c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){if((e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']"),!(!S.matchesSelector||p||v&&v.test(t)||d.test(t)))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;if(a=!S.detectDuplicates,e.sort(y),a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[x,h]),c===t))break;return h-=i,h===r||0===h%r&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[w]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[0>n?n+t:n]}),even:ct(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[w]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=b.attr,b.find=ut,b.expr=ut.selectors,b.expr[":"]=b.expr.pseudos,b.unique=ut.uniqueSort,b.text=ut.getText,b.isXMLDoc=ut.isXML,b.contains=ut.contains}(e);var ot=/Until$/,ut=/^(?:parents|prev(?:Until|All))/,at=/^.[^:#\[\.,]*$/,ft=b.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e,!1))},filter:function(e){return this.pushStack(ht(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?ft.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(o?o.index(n)>-1:b.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?b.unique(s):s)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack,b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return ot.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!lt[e]?b.unique(i):i,this.length>1&&ut.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&9!==s.nodeType&&(r===t||1!==s.nodeType||!b(s).is(r)))1===s.nodeType&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(s),Ot=At.appendChild(s.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(jt(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(vt,""):t;if(!("string"!=typeof e||St.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&gt.test(e)||Lt[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(yt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=h.apply([],e);var i,s,o,u,a,f,l=0,c=this.length,p=this,d=c-1,v=e[0],m=b.isFunction(v);if(m||!(1>=c||"string"!=typeof v||b.support.checkClone)&&Tt.test(v))return this.each(function(i){var s=p.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(c&&(f=b.buildFragment(e,this[0].ownerDocument,!1,this),i=f.firstChild,1===f.childNodes.length&&(f=i),i)){for(n=n&&b.nodeName(i,"tr"),u=b.map(jt(f,"script"),_t),o=u.length;c>l;l++)s=f,l!==d&&(s=b.clone(s,!0,!0),o&&b.merge(u,jt(s,"script"))),r.call(n&&b.nodeName(this[l],"table")?Mt(this[l],"tbody"):this[l],s,l);if(o)for(a=u[u.length-1].ownerDocument,b.map(u,Dt),l=0;o>l;l++)s=u[l],Nt.test(s.type||"")&&!b._data(s,"globalEval")&&b.contains(a,s)&&(s.src?b.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((s.text||s.textContent||s.innerHTML||"").replace(kt,"")));f=i=null}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],s=b(e),o=s.length-1;for(;o>=r;r++)n=r===o?this:this.clone(!0),b(s[r])[t](n),p.apply(i,n.get());return this.pushStack(i)}}),b.extend({clone:function(e,t,n){var r,i,s,o,u,a=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=jt(s),u=jt(e),o=0;null!=(i=u[o]);++o)r[o]&&Bt(i,r[o]);if(t)if(n)for(u=u||jt(e),r=r||jt(s),o=0;null!=(i=u[o]);o++)Ht(i,r[o]);else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;c>d;d++)if(s=e[d],s||0===s)if("object"===b.type(s))b.merge(p,s.nodeType?[s]:s);else if(Et.test(s)){u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;if(!b.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0])),!b.support.tbody){s="table"!==a||wt.test(s)?"<table>"!==l[1]||wt.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)b.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}b.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}else p.push(t.createTextNode(s));u&&h.removeChild(u),b.support.appendChecked||b.grep(jt(p,"input"),Ft),d=0;while(s=p[d++])if((!r||-1===b.inArray(s,r))&&(o=b.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u),n)){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=b.expando,f=b.cache,c=b.support.deleteExpando,h=b.event.special;for(;null!=(n=e[u]);u++)if((t||b.acceptData(n))&&(s=n[a],o=s&&f[s])){if(o.events)for(r in o.events)h[r]?b.event.remove(n,r):b.removeEvent(n,r,o.handle);f[s]&&(delete f[s],c?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,l.push(s))}}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=RegExp("^("+w+")(.*)$","i"),Jt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Kt=RegExp("^([+-])=("+w+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,s,o={},u=0;if(b.isArray(n)){for(s=qt(e),i=n.length;i>u;u++)o[n[u]]=b.css(e,n[u],!1,s);return o}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=b.camelCase(n),f=e.style;if(n=b.cssProps[a]||(b.cssProps[a]=tn(f,a)),u=b.cssHooks[n]||b.cssHooks[a],r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];if(o=typeof r,"string"===o&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(b.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||b.cssNumber[a]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(f[n]="inherit"),u&&"set"in u&&(r=u.set(e,r,i))===t)))try{f[n]=r}catch(l){}}},css:function(e,n,r,i){var s,o,u,a=b.camelCase(n);return n=b.cssProps[a]||(b.cssProps[a]=tn(e.style,a)),u=b.cssHooks[n]||b.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),"normal"===o&&n in Yt&&(o=Yt[n]),""===r||r?(s=parseFloat(o),r===!0||b.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(""!==a||b.contains(e.ownerDocument,e)||(a=b.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):s.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return null==a&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left="fontSize"===n?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),""===a?"auto":a}),b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Gt,function(){return un(e,n,i)}):un(e,n,i):t},set:function(e,t,r){var i=r&&qt(e);return sn(e,t,r?on(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(s.replace(Ut,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Rt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Rt(e,n),Jt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},s="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(b.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],s=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,gn,yn=b.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=b.fn.load,Ln={},An={},On="*/".concat("*");try{gn=o.href}catch(Mn){gn=s.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],b.fn.load=function(e,n,r){if("string"!=typeof e&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),u.length>0&&b.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,s){return b.isFunction(r)&&(s=s||i,i=r,r=t),b.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,b.ajaxSettings),t):Pn(b.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;2!==w&&(w=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,r&&(E=Hn(c,x,r)),e>=200&&300>e||304===e?(c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(b.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(b.etag[s]=S)),204===e?(l=!0,T="nocontent"):304===e?(l=!0,T="notmodified"):(l=Bn(c,E),T=l.state,g=l.data,y=l.error,l=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--b.active||b.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=b.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?b(h):b.event,d=b.Deferred(),v=b.Callbacks("once memory"),m=c.statusCode||{},g={},y={},w=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return w||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return f&&f.abort(t),N(0,t),this}};if(d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=b.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=b.param(c.data,c.traditional)),Dn(Ln,c,n,x),2===w)return x;a=c.global,a&&0===b.active++&&b.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(b.lastModified[s]&&x.setRequestHeader("If-Modified-Since",b.lastModified[s]),b.etag[s]&&x.setRequestHeader("If-None-Match",b.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&2!==w){S="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);if(f=Dn(An,c,n,x)){x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{w=1,f.send(g,N)}catch(T){if(!(2>w))throw T;N(-1,T)}}else N(-1,"No Transport");return x}return x.abort()},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=s.head||b("head")[0]||s.documentElement;return{send:function(t,i){n=s.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||b.expando+"_"+yn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");return a||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||b.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&b.isFunction(o)&&o(u[0]),u=o=t}),"script"):t});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=b.ajaxSettings.xhr(),b.support.cors=!!qn&&"withCredentials"in qn,qn=b.support.ajax=!!qn,qn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();if(n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async),n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||4===a.readyState))if(r=t,o&&(a.onreadystatechange=b.noop,Un&&delete In[o]),i)4!==a.readyState&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}u||!n.isLocal||n.crossDomain?1223===u&&(u=204):u=c.text?200:404}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?4===a.readyState?setTimeout(r):(o=++Rn,Un&&(In||(In={},b(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Jn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){if(n=+s[2],r=s[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&u){u=b.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,b.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&1!==a&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),s=b.speed(t,n,r),o=function(){var t=er(this,b.extend({},e),s);o.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=b.timers,o=b._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=b.timers,o=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Vn||(Vn=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Vn),Vn=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(u)return n=u.documentElement,b.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),s=i.offset(),o=b.css(e,"top"),u=b.css(e,"left"),a=("absolute"===r||"fixed"===r)&&b.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),b.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+c),null!=t.left&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||s.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,s){var o=sr(e);return s===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?b(o).scrollLeft():s,r?s:b(o).scrollTop()):e[i]=s,t)},e,i,arguments.length,null)}}),b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return b.access(this,function(n,r,i){var s;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?b.css(n,r,u):b.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})}(window),function(){function x(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=v(r,s,4);var o=!S(n)&&d.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function C(e){return function(t,n,r){n=m(n,r);var i=E(t),s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function k(e,t,n){return function(r,i,s){var u=0,a=E(r);if(typeof s=="number")e>0?u=s>=0?s:Math.max(s+a,u):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=t(o.call(r,u,a),d.isNaN),s>=0?s+u:-1;for(s=e>0?u:a-1;s>=0&&s<a;s+=e)if(r[s]===i)return s;return-1}}function M(e,t){var n=O.length,i=e.constructor,s=d.isFunction(i)&&i.prototype||r,o="constructor";d.has(e,o)&&!d.contains(t,o)&&t.push(o);while(n--)o=O[n],o in e&&e[o]!==s[o]&&!d.contains(t,o)&&t.push(o)}var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,s=n.push,o=n.slice,u=r.toString,a=r.hasOwnProperty,f=Array.isArray,l=Object.keys,c=i.bind,h=Object.create,p=function(){},d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.8.3";var v=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return e==null?d.identity:d.isFunction(e)?v(e,t,n):d.isObject(e)?d.matcher(e):d.property(e)};d.iteratee=function(e,t){return m(e,t,Infinity)};var g=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},y=function(e){if(!d.isObject(e))return{};if(h)return h(e);p.prototype=e;var t=new p;return p.prototype=null,t},b=function(e){return function(t){return t==null?void 0:t[e]}},w=Math.pow(2,53)-1,E=b("length"),S=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=w};d.each=d.forEach=function(e,t,n){t=v(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=d.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},d.map=d.collect=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},d.reduce=d.foldl=d.inject=x(1),d.reduceRight=d.foldr=x(-1),d.find=d.detect=function(e,t,n){var r;S(e)?r=d.findIndex(e,t,n):r=d.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},d.filter=d.select=function(e,t,n){var r=[];return t=m(t,n),d.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},d.reject=function(e,t,n){return d.filter(e,d.negate(m(t)),n)},d.every=d.all=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},d.some=d.any=function(e,t,n){t=m(t,n);var r=!S(e)&&d.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},d.contains=d.includes=d.include=function(e,t,n,r){S(e)||(e=d.values(e));if(typeof n!="number"||r)n=0;return d.indexOf(e,t,n)>=0},d.invoke=function(e,t){var n=o.call(arguments,2),r=d.isFunction(t);return d.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matcher(t))},d.findWhere=function(e,t){return d.find(e,d.matcher(t))},d.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},d.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:d.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=m(t,n),d.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},d.shuffle=function(e){var t=S(e)?e:d.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=d.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},d.sample=function(e,t,n){return t==null||n?(S(e)||(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=m(t,n),d.pluck(d.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=m(n,r),d.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};d.groupBy=T(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=T(function(e,t,n){e[n]=t}),d.countBy=T(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.toArray=function(e){return e?d.isArray(e)?o.call(e):S(e)?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return e==null?0:S(e)?e.length:d.keys(e).length},d.partition=function(e,t,n){t=m(t,n);var r=[],i=[];return d.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},d.first=d.head=d.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:d.initial(e,e.length-t)},d.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},d.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:d.rest(e,Math.max(0,e.length-t))},d.rest=d.tail=d.drop=function(e,t,n){return o.call(e,t==null||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var N=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=E(e);o<u;o++){var a=e[o];if(S(a)&&(d.isArray(a)||d.isArguments(a))){t||(a=N(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};d.flatten=function(e,t){return N(e,t,!1)},d.without=function(e){return d.difference(e,o.call(arguments,1))},d.uniq=d.unique=function(e,t,n,r){d.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=m(n,r));var i=[],s=[];for(var o=0,u=E(e);o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?d.contains(s,f)||(s.push(f),i.push(a)):d.contains(i,a)||i.push(a)}return i},d.union=function(){return d.uniq(N(arguments,!0,!0))},d.intersection=function(e){var t=[],n=arguments.length;for(var r=0,i=E(e);r<i;r++){var s=e[r];if(d.contains(t,s))continue;for(var o=1;o<n;o++)if(!d.contains(arguments[o],s))break;o===n&&t.push(s)}return t},d.difference=function(e){var t=N(arguments,!0,!0,1);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(e){var t=e&&d.max(e,E).length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=d.pluck(e,r);return n},d.object=function(e,t){var n={};for(var r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},d.findIndex=C(1),d.findLastIndex=C(-1),d.sortedIndex=function(e,t,n,r){n=m(n,r,1);var i=n(t),s=0,o=E(e);while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},d.indexOf=k(1,d.findIndex,d.sortedIndex),d.lastIndexOf=k(-1,d.findLastIndex),d.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var L=function(e,t,n,r,i){if(r instanceof t){var s=y(e.prototype),o=e.apply(s,i);return d.isObject(o)?o:s}return e.apply(n,i)};d.bind=function(e,t){if(c&&e.bind===c)return c.apply(e,o.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");var n=o.call(arguments,2),r=function(){return L(e,r,t,this,n.concat(o.call(arguments)))};return r},d.partial=function(e){var t=o.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===d?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return L(e,n,this,this,s)};return n},d.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=d.bind(e[r],e);return e},d.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return d.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},d.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=d.partial(d.delay,d,1),d.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:d.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=d.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},d.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=d.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=d.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},d.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},d.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},d.once=d.partial(d.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];d.keys=function(e){if(!d.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return A&&M(e,t),t},d.allKeys=function(e){if(!d.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&M(e,t),t},d.values=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},d.mapObject=function(e,t,n){t=m(t,n);var r=d.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},d.pairs=function(e){var t=d.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},d.invert=function(e){var t={},n=d.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=g(d.allKeys),d.extendOwn=d.assign=g(d.keys),d.findKey=function(e,t,n){t=m(t,n);var r=d.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},d.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;d.isFunction(t)?(o=d.allKeys(i),s=v(t,n)):(o=N(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var r=d.map(N(arguments,!1,!1,1),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)},d.defaults=g(d.allKeys,!0),d.create=function(e,t){var n=y(e);return t&&d.extendOwn(n,t),n},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e},d.isMatch=function(e,t){var n=d.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var _=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(d.isFunction(o)&&o instanceof o&&d.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var f=n.length;while(f--)if(n[f]===e)return r[f]===t;n.push(e),r.push(t);if(s){f=e.length;if(f!==t.length)return!1;while(f--)if(!_(e[f],t[f],n,r))return!1}else{var l=d.keys(e),c;f=l.length;if(d.keys(t).length!==f)return!1;while(f--){c=l[f];if(!d.has(t,c)||!_(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};d.isEqual=function(e,t){return _(e,t)},d.isEmpty=function(e){return e==null?!0:S(e)&&(d.isArray(e)||d.isString(e)||d.isArguments(e))?e.length===0:d.keys(e).length===0},d.isElement=function(e){return!!e&&e.nodeType===1},d.isArray=f||function(e){return u.call(e)==="[object Array]"},d.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){d["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(d.isFunction=function(e){return typeof e=="function"||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||u.call(e)==="[object Boolean]"},d.isNull=function(e){return e===null},d.isUndefined=function(e){return e===void 0},d.has=function(e,t){return e!=null&&a.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=b,d.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},d.matcher=d.matches=function(e){return e=d.extendOwn({},e),function(t){return d.isMatch(t,e)}},d.times=function(e,t,n){var r=Array(Math.max(0,e));t=v(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},d.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=d.invert(D),H=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};d.escape=H(D),d.unescape=H(P),d.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),d.isFunction(r)?r.call(e):r};var B=0;d.uniqueId=function(e){var t=++B+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+F[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var r=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(I,q),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,d)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},d.chain=function(e){var t=d(e);return t._chain=!0,t};var R=function(e,t){return e._chain?d(t).chain():t};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],R(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},typeof define=="function"&&define.amd&&define("underscore",[],function(){return d})}.call(this),function(e,t){t("kendo",[],e)}(function(){"bundle all";return!function(e,t,n){function r(){}function i(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+$kendoHtmlEncode("+r+")+":";"+e+";$kendoOutput+="}function s(e,t,n){return e+="",t=t||2,n=t-e.length,n?R[t].substring(0,n)+e:e}function o(e){var t=e.css(mt.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(kt)||[0,0,0,0,0]:[0,0,0,0,0],r=St.max(+n[3],+(n[4]||0));return{left:-n[1]+r,right:+n[1]+r,bottom:+n[2]+r}}function u(t,n){var r,i,s,u,a,f,l,c,h=Tt.browser,p="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(l=t.parent(".k-animation-container"),c=l[0].style,l.is(":hidden")&&l.show(),r=Nt.test(c.width)||Nt.test(c.height),r||l.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(i=o(t),s=t[0].style.width,u=t[0].style.height,a=Nt.test(s),f=Nt.test(u),h.opera&&(i.left=i.right=i.bottom=5),r=a||f,!a&&(!n||n&&s)&&(s=t.outerWidth()),!f&&(!n||n&&u)&&(u=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:s,height:u,marginLeft:i.left*(p?1:-1),paddingLeft:i.left,paddingRight:i.right,paddingBottom:i.bottom})),r&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&St.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function a(e){var t=1,n=arguments.length;for(t=1;n>t;t++)f(e,arguments[t]);return e}function f(e,t){var n,r,i,s,o,u=mt.data.ObservableArray,a=mt.data.LazyObservableArray,l=mt.data.DataSource,c=mt.data.HierarchicalDataSource;for(n in t)r=t[n],i=typeof r,s=i===_t&&null!==r?r.constructor:null,s&&s!==Array&&s!==u&&s!==a&&s!==l&&s!==c?r instanceof Date?e[n]=new Date(r.getTime()):M(r.clone)?e[n]=r.clone():(o=e[n],e[n]=typeof o===_t?o||{}:{},f(e[n],r)):i!==Ht&&(e[n]=r);return e}function l(e,t,r){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return r!==n?r:e}function c(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function h(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function p(t,n){var r,i={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){i[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){i[t]=r[h(t)]})),mt.size(i)||(i=r),i}function d(e){var t=p(e,["overflow"]).overflow;return"auto"==t||"scroll"==t}function v(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function m(e,n,r){n||(n="offset");var i=e[n]();return Tt.browser.msie&&(Tt.pointers||Tt.msPointers)&&!r&&(i.top-=t.pageYOffset-document.documentElement.scrollTop,i.left-=t.pageXOffset-document.documentElement.scrollLeft),i}function g(e){var t={};return yt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function y(e){return new mt.effects.Element(e)}function b(e,t,n,r){return typeof e===Ot&&(M(t)&&(r=t,t=400,n=!1),M(n)&&(r=n,n=!1),typeof t===Pt&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),gt({effects:{},duration:400,reverse:!1,init:Et,teardown:Et,hide:!1},e,{completeCallback:e.complete,complete:Et})}function w(t,n,r,i,s){for(var o,u=0,a=t.length;a>u;u++)o=e(t[u]),o.queue(function(){z.promise(o,b(n,r,i,s))});return t}function E(e,t,n,r){return t&&(t=t.split(" "),yt(t,function(t,n){e.toggleClass(n,r)})),e}function S(e){return(""+e).replace(W,"&amp;").replace(X,"&lt;").replace(J,"&gt;").replace(V,"&quot;").replace($,"&#39;")}function x(e,t){var r;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(rt,"-$1"),r=e.getAttribute("data-"+mt.ns+t),null===r?r=n:"null"===r?r=null:"true"===r?r=!0:"false"===r?r=!1:Lt.test(r)?r=parseFloat(r):tt.test(r)&&!nt.test(r)&&(r=Function("return ("+r+")")()),r}function T(t,r){var i,s,o={};for(i in r)s=x(t,i),s!==n&&(et.test(i)&&(s=mt.template(e("#"+s).html())),o[i]=s);return o}function N(t,n){return e.contains(t,n)?-1:1}function C(){var t=e(this);return e.inArray(t.attr("data-"+mt.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function k(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&L(e)}function L(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function A(e,t){return new A.fn.init(e,t)}var O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt=t.kendo=t.kendo||{cultures:{}},gt=e.extend,yt=e.each,bt=e.isArray,wt=e.proxy,Et=e.noop,St=Math,xt=t.JSON||{},Tt={},Nt=/%/,Ct=/\{(\d+)(:[^\}]+)?\}/g,kt=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,Lt=/^(\+|-?)\d+(\.?)\d*$/,At="function",Ot="string",Mt="number",_t="object",Dt="null",Pt="boolean",Ht="undefined",Bt={},jt={},Ft=[].slice,It=t.Globalize;mt.version="2015.2.805",r.extend=function(e){var t,n,r=function(){},i=this,s=e&&e.init?e.init:function(){i.apply(this,arguments)};r.prototype=i.prototype,n=s.fn=s.prototype=new r;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?gt(!0,{},r.prototype[t],e[t]):e[t];return n.constructor=s,s.extend=i.extend,s},r.prototype._initOptions=function(e){this.options=a({},this.options,e)},M=mt.isFunction=function(e){return"function"==typeof e},_=function(){this._defaultPrevented=!0},D=function(){return this._defaultPrevented===!0},P=r.extend({init:function(){this._events={}},bind:function(e,t,r){var i,s,o,u,a,f=this,l=typeof e===Ot?[e]:e,c=typeof t===At;if(t===n){for(i in e)f.bind(i,e[i]);return f}for(i=0,s=l.length;s>i;i++)e=l[i],u=c?t:t[e],u&&(r&&(o=u,u=function(){f.unbind(e,u),o.apply(f,arguments)},u.original=o),a=f._events[e]=f._events[e]||[],a.push(u));return f},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,i,s,o=this,u=typeof e===Ot?[e]:e,a=typeof t===At;for(n=0,r=u.length;r>n;n++)e=u[n],i=a?t:t[e],i&&(s=o._events[e]=o._events[e]||[],s.unshift(i));return o},trigger:function(e,t){var n,r,i=this,s=i._events[e];if(s){for(t=t||{},t.sender=i,t._defaultPrevented=!1,t.preventDefault=_,t.isDefaultPrevented=D,s=s.slice(),n=0,r=s.length;r>n;n++)s[n].call(i,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var r,i=this,s=i._events[e];if(e===n)i._events={};else if(s)if(t)for(r=s.length-1;r>=0;r--)(s[r]===t||s[r].original===t)&&s.splice(r,1);else i._events[e]=[];return i}}),H=/^\w+/,B=/\$\{([^}]*)\}/g,j=/\\\}/g,F=/__CURLY__/g,I=/\\#/g,q=/__SHARP__/g,R=["","0","00","000","0000"],O={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,i="";for(n=0,r=t.length;r>n;n++)i+=e(t[n]);return i},compile:function(e,t){var n,r,s,o=gt({},this,t),u=o.paramName,a=u.match(H)[0],f=o.useWithBlock,l="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(M(e))return e;for(l+=f?"with("+u+"){":"",l+="$kendoOutput=",r=e.replace(j,"__CURLY__").replace(B,"#=$kendoHtmlEncode($1)#").replace(F,"}").replace(I,"__SHARP__").split("#"),s=0;r.length>s;s++)l+=i(r[s],s%2===0);l+=f?";}":";",l+="return $kendoOutput;",l=l.replace(q,"#");try{return n=Function(a,l),n._slotCount=Math.floor(r.length/2),n}catch(c){throw Error(mt.format("Invalid template:'{0}' Generated code:'{1}'",e,l))}}},function(){function e(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=u[e];return typeof t===Ot?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(s,o){var u,f,l,c,h,p,d=n,v=o[s];if(v&&typeof v===_t&&typeof v.toJSON===At&&(v=v.toJSON(s)),typeof i===At&&(v=i.call(o,s,v)),p=typeof v,p===Ot)return e(v);if(p===Mt)return isFinite(v)?v+"":Dt;if(p===Pt||p===Dt)return v+"";if(p===_t){if(!v)return Dt;if(n+=r,h=[],"[object Array]"===a.apply(v)){for(c=v.length,u=0;c>u;u++)h[u]=t(u,v)||Dt;return l=0===h.length?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+d+"]":"["+h.join(",")+"]",n=d,l}if(i&&typeof i===_t)for(c=i.length,u=0;c>u;u++)typeof i[u]===Ot&&(f=i[u],l=t(f,v),l&&h.push(e(f)+(n?": ":":")+l));else for(f in v)Object.hasOwnProperty.call(v,f)&&(l=t(f,v),l&&h.push(e(f)+(n?": ":":")+l));return l=0===h.length?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+d+"}":"{"+h.join(",")+"}",n=d,l}}var n,r,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a={}.toString;typeof Date.prototype.toJSON!==At&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?s(e.getUTCFullYear(),4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof xt.stringify!==At&&(xt.stringify=function(e,s,o){var u;if(n="",r="",typeof o===Mt)for(u=0;o>u;u+=1)r+=" ";else typeof o===Ot&&(r=o);if(i=s,!s||typeof s===At||typeof s===_t&&typeof s.length===Mt)return t("",{"":e});throw Error("JSON.stringify")})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Ot){var t=mt.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function r(e){return e&&(e=t(e)),e||mt.cultures.current}function i(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,t,i){i=r(i);var o=i.calendars.standard,u=o.days,a=o.months;return t=o.patterns[t]||t,t.replace(l,function(t){var r,i,f;return"d"===t?i=e.getDate():"dd"===t?i=s(e.getDate()):"ddd"===t?i=u.namesAbbr[e.getDay()]:"dddd"===t?i=u.names[e.getDay()]:"M"===t?i=e.getMonth()+1:"MM"===t?i=s(e.getMonth()+1):"MMM"===t?i=a.namesAbbr[e.getMonth()]:"MMMM"===t?i=a.names[e.getMonth()]:"yy"===t?i=s(e.getFullYear()%100):"yyyy"===t?i=s(e.getFullYear(),4):"h"===t?i=e.getHours()%12||12:"hh"===t?i=s(e.getHours()%12||12):"H"===t?i=e.getHours():"HH"===t?i=s(e.getHours()):"m"===t?i=e.getMinutes():"mm"===t?i=s(e.getMinutes()):"s"===t?i=e.getSeconds():"ss"===t?i=s(e.getSeconds()):"f"===t?i=St.floor(e.getMilliseconds()/100):"ff"===t?(i=e.getMilliseconds(),i>99&&(i=St.floor(i/10)),i=s(i)):"fff"===t?i=s(e.getMilliseconds(),3):"tt"===t?i=e.getHours()<12?o.AM[0]:o.PM[0]:"zzz"===t?(r=e.getTimezoneOffset(),f=0>r,i=(""+St.abs(r/60)).split(".")[0],r=St.abs(r)-60*i,i=(f?"+":"-")+s(i),i+=":"+s(r)):("zz"===t||"z"===t)&&(i=e.getTimezoneOffset()/60,f=0>i,i=(""+St.abs(i)).split(".")[0],i=(f?"+":"-")+("zz"===t?s(i):i)),i!==n?i:t.slice(1,t.length-1)})}function u(e,t,i){i=r(i);var s,o,u,f,l,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F=i.numberFormat,I=F.groupSize[0],q=F[m],R=F[v],U=F.decimals,z=F.pattern[0],W=[],X=0>e,V=d,$=d,J=-1;if(e===n)return d;if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():""+e;if(l=c.exec(t)){if(t=l[1].toLowerCase(),o="c"===t,u="p"===t,(o||u)&&(F=o?F.currency:F.percent,I=F.groupSize[0],q=F[m],R=F[v],U=F.decimals,s=F.symbol,z=F.pattern[X?0:1]),f=l[2],f&&(U=+f),"e"===t)return f?e.toExponential(U):e.toExponential();if(u&&(e*=100),e=a(e,U),X=0>e,e=e.split(v),w=e[0],E=e[1],X&&(w=w.substring(1)),$=w,S=w.length,S>=I)for($=d,T=0;S>T;T++)T>0&&(S-T)%I===0&&($+=q),$+=w.charAt(T);if(E&&($+=R+E),"n"===t&&!X)return $;for(e=d,T=0,N=z.length;N>T;T++)C=z.charAt(T),e+="n"===C?$:"$"===C||"%"===C?s:C;return e}if(X&&(e=-e),(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(h,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return W.push(n),b})),t=t.split(";"),X&&t[1])t=t[1],L=!0;else if(0===e){if(t=t[2]||t[0],-1==t.indexOf(g)&&-1==t.indexOf(y))return t}else t=t[0];if(P=t.indexOf("%"),H=t.indexOf("$"),u=-1!=P,o=-1!=H,u&&(e*=100),o&&"\\"===t[H-1]&&(t=t.split("\\").join(""),o=!1),(o||u)&&(F=o?F.currency:F.percent,I=F.groupSize[0],q=F[m],R=F[v],U=F.decimals,s=F.symbol),k=t.indexOf(m)>-1,k&&(t=t.replace(p,d)),A=t.indexOf(v),N=t.length,-1!=A?(E=(""+e).split("e"),E=E[1]?a(e,Math.abs(E[1])):E[0],E=E.split(v)[1]||d,M=t.lastIndexOf(y)-A,O=t.lastIndexOf(g)-A,_=M>-1,D=O>-1,T=E.length,_||D||(t=t.substring(0,A)+t.substring(A+1),N=t.length,A=-1,T=0),_&&M>O?T=M:O>M&&(D&&T>O?T=O:_&&M>T&&(T=M)),T>-1&&(e=a(e,T))):e=a(e),O=t.indexOf(g),B=M=t.indexOf(y),J=-1==O&&-1!=M?M:-1!=O&&-1==M?O:O>M?M:O,O=t.lastIndexOf(g),M=t.lastIndexOf(y),j=-1==O&&-1!=M?M:-1!=O&&-1==M?O:O>M?O:M,J==N&&(j=J),-1!=J){if($=(""+e).split(v),w=$[0],E=$[1]||d,S=w.length,x=E.length,X&&-1*e>=0&&(X=!1),k)if(S===I&&A-B>S)w=q+w;else if(S>I){for($=d,T=0;S>T;T++)T>0&&(S-T)%I===0&&($+=q),$+=w.charAt(T);w=$}for(e=t.substring(0,J),X&&!L&&(e+="-"),T=J;N>T;T++){if(C=t.charAt(T),-1==A){if(S>j-T){e+=w;break}}else if(-1!=M&&T>M&&(V=d),S>=A-T&&A-T>-1&&(e+=w,T=A),A===T){e+=(E?R:d)+E,T+=j-A+1;continue}C===y?(e+=C,V=C):C===g&&(e+=V)}if(j>=J&&(e+=t.substring(j+1)),o||u){for($=d,T=0,N=e.length;N>T;T++)C=e.charAt(T),$+="$"===C||"%"===C?s:C;e=$}if(N=W.length)for(T=0;N>T;T++)e=e.replace(b,W[T])}return e}var a,f,l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,h=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,p=/\,/g,d="",v=".",m=",",g="#",y="0",b="??",w="en-US",E={}.toString;mt.cultures["en-US"]={name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},mt.culture=function(e){var r,s=mt.cultures;return e===n?s.current:(r=t(e)||s[w],r.calendar=r.calendars.standard,s.current=r,It&&!It.load&&i(r.numberFormat),n)},mt.findCulture=t,mt.getCulture=r,mt.culture(w),a=function(e,t){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t)},f=function(e,t,r){if(t){if("[object Date]"===E.call(e))return o(e,t,r);if(typeof e===Mt)return u(e,t,r)}return e!==n?e:""},It&&!It.load&&(f=function(t,n,r){return e.isPlainObject(r)&&(r=r.name),It.format(t,n,r)}),mt.format=function(e){var t=arguments;return e.replace(Ct,function(e,n,r){var i=t[parseInt(n,10)+1];return f(i,r?r.substring(1):"")})},mt._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},mt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},mt._round=a,mt.toString=f}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function i(t){return e.map(t,r)}function s(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function o(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=(e[t]+"").toLowerCase();return r}function u(e){var t,n={};for(t in e)n[t]=o(e[t]);return n}function a(e,r,o){if(!e)return null;var a,f,l,c,d,v,m,y,b,w,E,S,x,T=function(e){for(var t=0;r[B]===e;)t++,B++;return t>0&&(B-=1),t},N=function(t){var n=g[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(j,t).match(n);return r?(r=r[0],j+=r.length,parseInt(r,10)):null},C=function(t,n){for(var r,i,s,o=0,u=t.length,a=0,f=0;u>o;o++)r=t[o],i=r.length,s=e.substr(j,i),n&&(s=s.toLowerCase()),s==r&&i>a&&(a=i,f=o);return a?(j+=a,f+1):null},k=function(){var t=!1;return e.charAt(j)===r[B]&&(j++,t=!0),t},L=o.calendars.standard,A=null,O=null,M=null,_=null,D=null,P=null,H=null,B=0,j=0,F=!1,I=new Date,q=L.twoDigitYearMax||2029,R=I.getFullYear();for(r||(r="d"),c=L.patterns[r],c&&(r=c),r=r.split(""),l=r.length;l>B;B++)if(a=r[B],F)"'"===a?F=!1:k();else if("d"===a){if(f=T("d"),L._lowerDays||(L._lowerDays=u(L.days)),null!==M&&f>2)continue;if(M=3>f?N(2):C(L._lowerDays[3==f?"namesAbbr":"names"],!0),null===M||t(M,1,31))return null}else if("M"===a){if(f=T("M"),L._lowerMonths||(L._lowerMonths=u(L.months)),O=3>f?N(2):C(L._lowerMonths[3==f?"namesAbbr":"names"],!0),null===O||t(O,1,12))return null;O-=1}else if("y"===a){if(f=T("y"),A=N(f),null===A)return null;2==f&&("string"==typeof q&&(q=R+parseInt(q,10)),A=R-R%100+A,A>q&&(A-=100))}else if("h"===a){if(T("h"),_=N(2),12==_&&(_=0),null===_||t(_,0,11))return null}else if("H"===a){if(T("H"),_=N(2),null===_||t(_,0,23))return null}else if("m"===a){if(T("m"),D=N(2),null===D||t(D,0,59))return null}else if("s"===a){if(T("s"),P=N(2),null===P||t(P,0,59))return null}else if("f"===a){if(f=T("f"),x=e.substr(j,f).match(g[3]),H=N(f),null!==H&&(x=x[0].length,3>x&&(H*=Math.pow(10,3-x)),f>3&&(H=parseInt((""+H).substring(0,3),10))),null===H||t(H,0,999))return null}else if("t"===a){if(f=T("t"),y=L.AM,b=L.PM,1===f&&(y=i(y),b=i(b)),d=C(b),!d&&!C(y))return null}else if("z"===a){if(v=!0,f=T("z"),"Z"===e.substr(j,1)){k();continue}if(m=e.substr(j,6).match(f>2?p:h),!m)return null;if(m=m[0].split(":"),w=m[0],E=m[1],!E&&w.length>3&&(j=w.length-2,E=w.substring(j),w=w.substring(0,j)),w=parseInt(w,10),t(w,-12,13))return null;if(f>2&&(E=parseInt(E,10),isNaN(E)||t(E,0,59)))return null}else if("'"===a)F=!0,k();else if(!k())return null;return S=null!==_||null!==D||P||null,null===A&&null===O&&null===M&&S?(A=R,O=I.getMonth(),M=I.getDate()):(null===A&&(A=R),null===M&&(M=1)),d&&12>_&&(_+=12),v?(w&&(_+=-w),E&&(D+=-E),e=new Date(Date.UTC(A,O,M,_,D,P,H))):(e=new Date(A,O,M,_,D,P,H),s(e,_)),100>A&&e.setFullYear(A),e.getDate()!==M&&v===n?null:e}function f(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}var l=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,h=/[+|\-]\d{1,2}/,p=/[+|\-]\d{1,2}:?\d{2}/,d=/^\/Date\((.*?)\)\/$/,v=/[+-]\d*/,m=["G","g","d","F","D","y","m","T","t"],g={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},y={}.toString;mt.parseDate=function(e,t,n){var r,i,s,o,u;if("[object Date]"===y.call(e))return e;if(r=0,i=null,e&&0===e.indexOf("/D")&&(i=d.exec(e)))return i=i[1],u=v.exec(i.substring(1)),i=new Date(parseInt(i,10)),u&&(u=f(u[0]),i=mt.timezone.apply(i,0),i=mt.timezone.convert(i,0,-1*u)),i;if(n=mt.getCulture(n),!t){for(t=[],o=n.calendar.patterns,s=m.length;s>r;r++)t[r]=o[m[r]];r=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=bt(t)?t:[t],s=t.length;s>r;r++)if(i=a(e,t[r],n))return i;return i},mt.parseInt=function(e,t){var n=mt.parseFloat(e,t);return n&&(n=0|n),n},mt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Mt)return e;e=""+e,t=mt.getCulture(t);var r,i,s=t.numberFormat,o=s.percent,u=s.currency,a=u.symbol,f=o.symbol,h=e.indexOf("-");return c.test(e)?(e=parseFloat(e.replace(s["."],".")),isNaN(e)&&(e=null),e):h>0?null:(h=h>-1,e.indexOf(a)>-1||n&&n.toLowerCase().indexOf("c")>-1?(s=u,r=s.pattern[0].replace("$",a).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),h=!0)):e.indexOf(f)>-1&&(i=!0,s=o,a=f),e=e.replace("-","").replace(a,"").replace(l," ").split(s[","].replace(l," ")).join("").replace(s["."],"."),e=parseFloat(e),isNaN(e)?e=null:h&&(e*=-1),e&&i&&(e/=100),e)},It&&!It.load&&(mt.parseDate=function(e,t,n){return"[object Date]"===y.call(e)?e:It.parseDate(e,t,n)},mt.parseFloat=function(t,r){return typeof t===Mt?t:t===n||null===t?null:(e.isPlainObject(r)&&(r=r.name),t=It.parseFloat(t,r),isNaN(t)?null:t)})}(),function(){var r,i,s,o,u,a,f;Tt._scrollbar=n,Tt.scrollbar=function(e){if(isNaN(Tt._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Tt._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return Tt._scrollbar},Tt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},r=document.createElement("table");try{r.innerHTML="<tr><td></td></tr>",Tt.tbodyInnerHtml=!0}catch(c){Tt.tbodyInnerHtml=!1}Tt.touch="ontouchstart"in t,Tt.msPointers=t.MSPointerEvent,Tt.pointers=t.PointerEvent,i=Tt.transitions=!1,s=Tt.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[],Tt.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,yt(["Moz","webkit","O","ms"],function(){var e,t=""+this,o=typeof r.style[t+"Transition"]===Ot;return o||typeof r.style[t+"Transform"]===Ot?(e=t.toLowerCase(),s={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},o&&(i=s,i.event=i.event?i.event+"TransitionEnd":"transitionend"),!1):n}),r=null,Tt.transforms=s,Tt.transitions=i,Tt.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{Tt.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,Tt.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(c){Tt.screenWidth=t.screen.availWidth,Tt.screenHeight=t.screen.availHeight}Tt.detectOS=function(e){var n,r,i=!1,s=[],o=!/mobile safari/i.test(e),u={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},f={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(r in u)if(u.hasOwnProperty(r)&&(s=e.match(u[r]))){if("windows"==r&&"plugins"in navigator)return!1;i={},i.device=r,i.tablet=l(r,f,!1),i.browser=l(e,c,"default"),i.name=l(r,a),i[i.name]=!0,i.majorVersion=s[2],i.minorVersion=s[3].replace("_","."),n=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+n+Array(3-(3>n.length?n.length:2)).join("0"),i.cordova=typeof t.PhoneGap!==Ht||typeof t.cordova!==Ht,i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova,i.android&&(1.5>Tt.devicePixelRatio&&400>i.flatVersion||o)&&(Tt.screenWidth>800||Tt.screenHeight>800)&&(i.tablet=r);break}return i},u=Tt.mobileOS=Tt.detectOS(navigator.userAgent),Tt.wpDevicePixelRatio=u.wp?screen.width/320:0,Tt.kineticScrollNeeded=u&&(Tt.touch||Tt.msPointers||Tt.pointers),Tt.hasNativeScrolling=!1,(u.ios||u.android&&u.majorVersion>2||u.wp)&&(Tt.hasNativeScrolling=u),Tt.mouseAndTouchPresent=Tt.touch&&!Tt.mobileOS.ios&&!Tt.mobileOS.android,Tt.detectBrowser=function(e){var t,n=!1,r=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in i)if(i.hasOwnProperty(t)&&(r=e.match(i[t]))){n={},n[t]=!0,n[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n},Tt.browser=Tt.detectBrowser(navigator.userAgent),Tt.zoomLevel=function(){var e,n,r;try{return e=Tt.browser,n=0,r=document.documentElement,e.msie&&11==e.version&&r.scrollHeight>r.clientHeight&&!Tt.touch&&(n=Tt.scrollbar()),Tt.touch?r.clientWidth/t.innerWidth:e.msie&&e.version>=10?((top||t).document.documentElement.offsetWidth+n)/(top||t).innerWidth:1}catch(i){return 1}},Tt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(Tt.browser.msie&&8>Tt.browser.version),function(t){var n="",r=e(document.documentElement),i=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+i),Tt.mobileOS&&(n+=" k-mobile"),r.addClass(n)}(Tt.browser),Tt.eventCapture=document.documentElement.addEventListener,a=document.createElement("input"),Tt.placeholder="placeholder"in a,Tt.propertyChangeEvent="onpropertychange"in a,Tt.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,r="test",i={},s=0;n>s;s++)e=t[s],a.setAttribute("type",e),a.value=r,i[e.replace("-","")]="text"!==a.type&&a.value!==r;return i}(),a.style.cssText="float:left;",Tt.cssFloat=!!a.style.cssFloat,a=null,Tt.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;t>e;e++)n.push({index:e,field:"a"});return n.sort(function(e,t){return e.field>t.field?1:t.field>e.field?-1:0}),1===n[0].index}(),Tt.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},Tt.pushState=t.history&&t.history.pushState,f=document.documentMode,Tt.hashChange="onhashchange"in t&&(!Tt.browser.msie||!(!f||8>=f))}(),U={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},z={},e.extend(z,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),z.promiseShim=z.promise,"kendoAnimate"in e.fn||gt(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return w(this,e,t,n,r)},kendoAddClass:function(e,t){return mt.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return mt.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return mt.toggleClass(this,e,t,n)}}),W=/&/g,X=/</g,V=/"/g,$=/'/g,J=/>/g,K=function(e){return e.target},Tt.touch&&(K=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},yt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),Tt.touch?Tt.mobileOS?(Tt.mousedown="touchstart",Tt.mouseup="touchend",Tt.mousemove="touchmove",Tt.mousecancel="touchcancel",Tt.click="touchend",Tt.resize="orientationchange"):(Tt.mousedown="mousedown touchstart",Tt.mouseup="mouseup touchend",Tt.mousemove="mousemove touchmove",Tt.mousecancel="mouseleave touchcancel",Tt.click="click",Tt.resize="resize"):Tt.pointers?(Tt.mousemove="pointermove",Tt.mousedown="pointerdown",Tt.mouseup="pointerup",Tt.mousecancel="pointercancel",Tt.click="pointerup",Tt.resize="orientationchange resize"):Tt.msPointers?(Tt.mousemove="MSPointerMove",Tt.mousedown="MSPointerDown",Tt.mouseup="MSPointerUp",Tt.mousecancel="MSPointerCancel",Tt.click="MSPointerUp",Tt.resize="orientationchange resize"):(Tt.mousemove="mousemove",Tt.mousedown="mousedown",Tt.mouseup="mouseup",Tt.mousecancel="mouseleave",Tt.click="click",Tt.resize="resize"),Q=function(e,t){var n,r,i,s,o=t||"d",u=1;for(r=0,i=e.length;i>r;r++)s=e[r],""!==s&&(n=s.indexOf("["),0!==n&&(-1==n?s="."+s:(u++,s="."+s.substring(0,n)+" || {})"+s.substring(n))),u++,o+=s+(i-1>r?" || {})":")"));return Array(u).join("(")+o},G=/^([a-z]+:)?\/\//i,gt(mt,{ui:mt.ui||{},fx:mt.fx||y,effects:mt.effects||z,mobile:mt.mobile||{},data:mt.data||{},dataviz:mt.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:mt.support||Tt,animate:mt.animate||w,ns:"",attr:function(e){return"data-"+mt.ns+e},getShadows:o,wrap:u,deepExtend:a,getComputedStyles:p,isScrollable:d,size:v,toCamelCase:h,toHyphens:c,getOffset:mt.getOffset||m,parseEffects:mt.parseEffects||g,toggleClass:mt.toggleClass||E,directions:mt.directions||U,Observable:P,Class:r,Template:O,template:wt(O.compile,O),render:wt(O.render,O),stringify:wt(xt.stringify,xt),eventTarget:K,htmlEncode:S,isLocalUrl:function(e){return e&&!G.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Ot&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),t?(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),e=e.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),e=Q(e.split("."),n),e=e.replace(/_\$DOT\$_/g,".")):e=n+e,e},getter:function(e,t){var n=e+t;return Bt[n]=Bt[n]||Function("d","return "+mt.expr(e,t))},setter:function(e){return jt[e]=jt[e]||Function("d,value",mt.expr(e)+"=value")},accessor:function(e){return{get:mt.getter(e),set:mt.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=16*St.random()|0,(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+mt.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,n=e.split(" ");if(n)for(t=0;n.length>t;t++)"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var r=t.console;!mt.suppressLog&&n!==r&&r.log&&r.log(e)}}),Y=P.extend({init:function(e,t){var n,r=this;r.element=mt.jQuery(e).handler(r),r.angular("init",t),P.fn.init.call(r),n=t?t.dataSource:null,n&&(t=gt({},t,{dataSource:{}})),t=r.options=gt(!0,{},r.options,t),n&&(t.dataSource=n),r.element.attr(mt.attr("role"))||r.element.attr(mt.attr("role"),(t.name||"").toLowerCase()),r.element.data("kendo"+t.prefix+t.name,r),r.bind(r.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,r=0,i=n.events.length;i>r;r++)t=n.events[r],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return mt.dimensions(this.element)},size:function(e){return e?(this.setSize(e),n):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){}}),Z=Y.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})}}),mt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},mt.notify=Et,et=/template$/i,tt=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,nt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,rt=/([A-Z])/g,mt.initWidget=function(r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g,y;if(s?s.roles&&(s=s.roles):s=mt.ui.roles,r=r.nodeType?r:r[0],c=r.getAttribute("data-"+mt.ns+"role")){d=-1===c.indexOf("."),a=d?s[c]:mt.getter(c)(t),m=e(r).data(),g=a?"kendo"+a.fn.options.prefix+a.fn.options.name:"",v=d?RegExp("^kendo.*"+c+"$","i"):RegExp("^"+g+"$","i");for(y in m)if(y.match(v)){if(y!==g)return m[y];o=m[y]}if(a){for(p=x(r,"dataSource"),i=e.extend({},T(r,a.fn.options),i),p&&(i.dataSource=typeof p===Ot?mt.getter(p)(t):p),f=0,l=a.fn.events.length;l>f;f++)u=a.fn.events[f],h=x(r,u),h!==n&&(i[u]=mt.getter(h)(t));return o?e.isEmptyObject(i)||o.setOptions(i):o=new a(r,i),o}}},mt.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[mt.ui,mt.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return gt.apply(null,[{}].concat(r.reverse()))},mt.init=function(t){var n=mt.rolesFromNamespaces(Ft.call(arguments,1));e(t).find("[data-"+mt.ns+"role]").addBack().each(function(){mt.initWidget(this,{},n)})},mt.destroy=function(t){e(t).find("[data-"+mt.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf("kendo")&&typeof n[t].destroy===At&&n[t].destroy()})},mt.resize=function(t,n){var r,i=e(t).find("[data-"+mt.ns+"role]").addBack().filter(C);i.length&&(r=e.makeArray(i),r.sort(N),e.each(r,function(){var t=mt.widgetInstance(e(this));t&&t.resize(n)}))},mt.parseOptions=T,gt(mt.ui,{Widget:Y,DataBoundWidget:Z,roles:{},progress:function(t,n){var r,i,s,o,u=t.find(".k-loading-mask"),a=mt.support,f=a.browser;n?u.length||(r=a.isRtl(t),i=r?"right":"left",o=t.scrollLeft(),s=f.webkit&&r?t[0].scrollWidth-t.width()-2*o:0,u=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(i,Math.abs(o)+s).prependTo(t)):u&&u.remove()},plugin:function(t,r,i){var s,o=t.fn.options.name;r=r||mt.ui,i=i||"",r[o]=t,r.roles[o.toLowerCase()]=t,s="getKendo"+i+o,o="kendo"+i+o,e.fn[o]=function(r){var i,s=this;return typeof r===Ot?(i=Ft.call(arguments,1),this.each(function(){var t,u,a=e.data(this,o);if(!a)throw Error(mt.format("Cannot call method '{0}' of {1} before it is initialized",r,o));if(t=a[r],typeof t!==At)throw Error(mt.format("Cannot find method '{0}' of {1}",r,o));return u=t.apply(a,i),u!==n?(s=u,!1):n})):this.each(function(){new t(this,r)}),s},e.fn[o].widget=t,e.fn[s]=function(){return this.data(o)}}}),it={bind:function(){return this},nullObject:!0,options:{}},st=Y.extend({init:function(e,t){Y.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Y.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(mt.roleSelector("view splitview modalview drawer"));return mt.widgetInstance(e,mt.mobile.ui)||it},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(mt.roleSelector("view layout modalview drawer splitview"));return mt.widgetInstance(e.eq(0),mt.mobile.ui)||it}}),gt(mt.mobile,{init:function(e){mt.init(e,mt.mobile.ui,mt.ui,mt.dataviz.ui)},appLevelNativeScrolling:function(){return mt.mobile.application&&mt.mobile.application.options&&mt.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:st,DataBoundWidget:Z.extend(st.prototype),roles:{},plugin:function(e){mt.ui.plugin(e,mt.mobile.ui,"Mobile")}}}),a(mt.dataviz,{init:function(e){mt.init(e,mt.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){mt.ui.plugin(e,mt.dataviz.ui)}},roles:{}}),mt.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),Tt.kineticScrollNeeded&&mt.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},mt.preventDefault=function(e){e.preventDefault()},mt.widgetInstance=function(e,n){var r,i,s,o,u=e.data(mt.ns+"role"),a=[];if(u){if("content"===u&&(u="scroller"),n)if(n[0])for(r=0,i=n.length;i>r;r++)a.push(n[r].roles[u]);else a.push(n.roles[u]);else a=[mt.ui.roles[u],mt.dataviz.ui.roles[u],mt.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(a=[mt.getter(u)(t)]),r=0,i=a.length;i>r;r++)if(s=a[r],s&&(o=e.data("kendo"+s.fn.options.prefix+s.fn.options.name)))return o}},mt.onResize=function(n){var r=n;return Tt.mobileOS.android&&(r=function(){setTimeout(n,600)}),e(t).on(Tt.resize,r),r},mt.unbindResize=function(n){e(t).off(Tt.resize,n)},mt.attrValue=function(e,t){return e.data(mt.ns+t)},mt.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return k(t,!isNaN(n)&&n>-1)}}),ot=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],ut="label, input, [data-rel=external]",at={setupMouseMute:function(){var t,n=0,r=ot.length,i=document.documentElement;if(!at.mouseTrap&&Tt.eventCapture)for(at.mouseTrap=!0,at.bustClick=!1,at.captureMouse=!1,t=function(t){at.captureMouse&&("click"===t.type?at.bustClick&&!e(t.target).is(ut)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)i.addEventListener(ot[n],t,!0)},muteMouse:function(e){at.captureMouse=!0,e.data.bustClick&&(at.bustClick=!0),clearTimeout(at.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(at.mouseTrapTimeoutID),at.mouseTrapTimeoutID=setTimeout(function(){at.captureMouse=!1,at.bustClick=!1},400)}},ft={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},Tt.touch&&(Tt.mobileOS.ios||Tt.mobileOS.android)?ft={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:Tt.pointers?ft={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:Tt.msPointers&&(ft={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!Tt.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,i=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==i&&!e.contains(i,s))&&(t.type=o.origType,r=o.handler.apply(this,arguments),t.type=n),r}}}),lt=function(e){return ft[e]||e},ct=/([^ ]+)/g,mt.applyEventMap=function(e,t){return e=e.replace(ct,lt),t&&(e=e.replace(ct,"$1."+t)),e},ht=e.fn.on,gt(!0,A,e),A.fn=A.prototype=new e,A.fn.constructor=A,A.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof A)&&(n=A(n)),e.fn.init.call(this,t,n,pt)},A.fn.init.prototype=A.fn,pt=A(document),gt(A.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||mt.guid()),this},on:function(){var e,t,n,r,i,s,o=this,u=o.data("kendoNS");return 1===arguments.length?ht.call(o,arguments[0]):(e=o,t=Ft.call(arguments),typeof t[t.length-1]===Ht&&t.pop(),n=t[t.length-1],r=mt.applyEventMap(t[0],u),Tt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(at.setupMouseMute(),i=2===t.length?null:t[1],s=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,ht.call(this,{touchstart:at.muteMouse,touchend:at.unMuteMouse},i,{bustClick:s})),typeof n===Ot&&(e=o.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,ht.apply(o,t),o)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),mt.jQuery=A,mt.eventMap=ft,mt.timezone=function(){function e(e,t){var n,r,i,s=t[3],o=t[4],u=t[5],a=t[8];return a||(t[8]=a={}),a[e]?a[e]:(isNaN(o)?0===o.indexOf("last")?(n=new Date(Date.UTC(e,l[s]+1,1,u[0]-24,u[1],u[2],0)),r=c[o.substr(4,3)],i=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-i-(r>i?7:0))):o.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,l[s],o.substr(5),u[0],u[1],u[2],0)),r=c[o.substr(0,3)],i=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-i+(i>r?7:0))):n=new Date(Date.UTC(e,l[s],o,u[0],u[1],u[2],0)),a[e]=n)}function t(t,n,r){var i,s,o,u;return(n=n[r])?(o=(new Date(t)).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return o>=t&&(n>=o||t==o&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(o,t)),"number"!=typeof n&&(n=+e(o,n)),t-n}),u=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(u)?u:null):(i=r.split(":"),s=0,i.length>1&&(s=60*i[0]+ +i[1]),[-1e6,"max","-","Jan",1,[0,0,0],s,"-"])}function n(e,t,n){var r,i,s,o=t[n];if("string"==typeof o&&(o=t[o]),!o)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(r=o.length-1;r>=0&&(i=o[r][3],!(i&&e>i));r--);if(s=o[r+1],!s)throw Error('Timezone "'+n+'" not found on '+e+".");return s}function r(e,r,i,s){typeof e!=Mt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var o=n(e,r,s);return{zone:o,rule:t(e,i,o[1])}}function i(e,t){var n,i,s;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=r(e,this.zones,this.rules,t),i=n.zone,s=n.rule,mt.parseFloat(s?i[0]-s[6]:i[0]))}function s(e,t){var n=r(e,this.zones,this.rules,t),i=n.zone,s=n.rule,o=i[2];return o.indexOf("/")>=0?o.split("/")[s&&+s[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",s&&"-"!=s[7]?s[7]:""):o}function o(e,t,n){var r,i;return typeof t==Ot&&(t=this.offset(e,t)),typeof n==Ot&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),i=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(i-r))}function u(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function a(e,t){return this.convert(e,t,e.getTimezoneOffset())}function f(e){return this.apply(new Date(e),"Etc/UTC")}var l={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:i,convert:o,apply:u,remove:a,abbr:s,toLocalDate:f}}(),mt.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,r){var i=t.getHours();r=r||1,n=(n-t.getDay()+7*r)%7,t.setDate(t.getDate()+n),e(t,i)}function n(e,n,r){return e=new Date(e),t(e,n,r),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function i(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t}function s(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function o(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function u(e){return e.getTime()-s(e)}function a(e,t,n){var r,i=u(t),s=u(n);return e&&i!=s?(t>=n&&(n+=m),r=u(e),i>r&&(r+=m),i>s&&(s+=m),r>=i&&s>=r):!0}function f(e,t,n){var r,i=t.getTime(),s=n.getTime();return i>=s&&(s+=m),r=e.getTime(),r>=i&&s>=r}function l(t,n){var r=t.getHours();return t=new Date(t),c(t,n*m),e(t,r),t}function c(e,t,n){var r,i=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-i,e.setTime(e.getTime()+r*v))}function h(){return s(new Date)}function p(e){return s(e).getTime()==h().getTime()}function d(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var v=6e4,m=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:s,isInDateRange:f,isInTimeRange:a,isToday:p,nextDay:function(e){return l(e,1)},previousDay:function(e){return l(e,-1)},toUtcTime:o,MS_PER_DAY:m,MS_PER_HOUR:60*v,MS_PER_MINUTE:v,setTime:c,addDays:l,today:h,toInvariantTime:d,firstDayOfMonth:r,lastDayOfMonth:i,getMilliseconds:u}}(),mt.stripWhitespace=function(e){var t,n,r;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;e.childNodes.length>n;n++)r=e.childNodes[n],3!=r.nodeType||/\S/.test(r.nodeValue)||(e.removeChild(r),n--),1==r.nodeType&&mt.stripWhitespace(r)},dt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},mt.animationFrame=function(e){dt.call(t,e)},vt=[],mt.queueAnimation=function(e){vt[vt.length]=e,1===vt.length&&mt.runNextAnimation()},mt.runNextAnimation=function(){mt.animationFrame(function(){vt[0]&&(vt.shift()(),vt[0]&&mt.runNextAnimation())})},mt.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},r=t.split(/&|=/),i=r.length,s=0;i>s;s+=2)""!==r[s]&&(n[decodeURIComponent(r[s])]=decodeURIComponent(r[s+1]));return n},mt.elementUnderCursor=function(e){return n!==e.x.client?document.elementFromPoint(e.x.client,e.y.client):n},mt.wheelDeltaY=function(e){var t,r=e.originalEvent,i=r.wheelDeltaY;return r.wheelDelta?(i===n||i)&&(t=r.wheelDelta):r.detail&&r.axis===r.VERTICAL_AXIS&&(t=10*-r.detail),t},mt.throttle=function(e,t){var r,i,s=0;return!t||0>=t?e:(i=function(){function i(){e.apply(o,a),s=+(new Date)}var o=this,u=+(new Date)-s,a=arguments;return s?(r&&clearTimeout(r),u>t?i():r=setTimeout(i,t-u),n):i()},i.cancel=function(){clearTimeout(r)},i)},mt.caret=function(t,r,i){var s,o,u,a,f=r!==n;if(i===n&&(i=r),t[0]&&(t=t[0]),!f||!t.disabled){try{t.selectionStart!==n?f?(t.focus(),t.setSelectionRange(r,i)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),s=t.createTextRange(),f?(s.collapse(!0),s.moveStart("character",r),s.moveEnd("character",i-r),s.select()):(o=s.duplicate(),s.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",s),u=o.text.length,a=u+s.text.length,r=[u,a]))}catch(l){r=[]}return r}},mt.compileMobileDirective=function(e,n){var r=t.angular;return e.attr("data-"+mt.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),r.element(e).injector().invoke(["$compile",function(t){t(e)(n),/^\$(digest|apply)$/.test(n.$$phase)||n.$digest()}]),mt.widgetInstance(e,mt.mobile.ui)},mt.antiForgeryTokens=function(){var t={},r=e("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=e("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),i!==n&&r!==n&&(t[i]=r),t},mt.cycleForm=function(e){function t(e){var t=mt.widgetInstance(e);t&&t.focus?t.focus():e.focus()}var n=e.find("input, .k-widget").first(),r=e.find("button, .k-button").last();r.on("keydown",function(e){e.keyCode!=mt.keys.TAB||e.shiftKey||(e.preventDefault(),t(n))}),n.on("keydown",function(e){e.keyCode==mt.keys.TAB&&e.shiftKey&&(e.preventDefault(),t(r))})},function(){function n(t,n,r,i){var s,o,u=e("<form>").attr({action:r,method:"POST",target:i}),a=mt.antiForgeryTokens();a.fileName=n,s=t.split(";base64,"),a.contentType=s[0].replace("data:",""),a.base64=s[1];for(o in a)a.hasOwnProperty(o)&&e("<input>").attr({value:a[o],name:o,type:"hidden"}).appendTo(u);u.appendTo("body").submit().remove()}function r(e,t){var n,r,i,s,o,u=e;if("string"==typeof e){for(n=e.split(";base64,"),r=n[0],i=atob(n[1]),s=new Uint8Array(i.length),o=0;i.length>o;o++)s[o]=i.charCodeAt(o);u=new Blob([s.buffer],{type:r})}navigator.msSaveBlob(u,t)}function i(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),s.download=n,s.href=e;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(r)}var s=document.createElement("a"),o="download"in s;mt.saveAs=function(e){var t=n;e.forceProxy||(o?t=i:navigator.msSaveBlob&&(t=r)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}()}(jQuery,window),function(e,t){function n(e,t){if(!t)return e;e+"/"===t&&(e=t);var n=RegExp("^"+t,"i");return n.test(e)||(e=t+"/"+e),p.protocol+"//"+(p.host+"/"+e).replace(/\/\/+/g,"/")}function r(e){return e?"#!":"#"}function i(e){var t=p.href;return"#!"===e&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(e)[1]||""}function s(e,t){return 0===t.indexOf(e)?t.substr(e.length).replace(/\/\//g,"/"):t}function o(e){return e.replace(/^(#)?/,"#")}function u(e){return e.replace(/^(#(!)?)?/,"#!")}var a=window.kendo,f="change",l="back",c="same",h=a.support,p=window.location,d=window.history,v=50,m=a.support.browser.msie,g=/^#*/,y=window.document,b=a.Class.extend({back:function(){m?setTimeout(function(){d.back()}):d.back()},forward:function(){m?setTimeout(function(){d.forward()}):d.forward()},length:function(){return d.length},replaceLocation:function(e){p.replace(e)}}),w=b.extend({init:function(e){this.root=e},navigate:function(e){d.pushState({},y.title,n(e,this.root))},replace:function(e){d.replaceState({},y.title,n(e,this.root))},normalize:function(e){return s(this.root,e)},current:function(){var e=p.pathname;return p.search&&(e+=p.search),s(this.root,e)},change:function(t){e(window).bind("popstate.kendo",t)},stop:function(){e(window).unbind("popstate.kendo")},normalizeCurrent:function(e){var t,s=e.root,o=p.pathname,u=i(r(e.hashBang));s===o+"/"&&(t=s),s===o&&u&&(t=n(u.replace(g,""),s)),t&&d.pushState({},y.title,t)}}),E=b.extend({init:function(e){this._id=a.guid(),this.prefix=r(e),this.fix=e?u:o},navigate:function(e){p.hash=this.fix(e)},replace:function(e){this.replaceLocation(this.fix(e))},normalize:function(e){return e.indexOf(this.prefix)<0?e:e.split(this.prefix)[1]},change:function(t){h.hashChange?e(window).on("hashchange."+this._id,t):this._interval=setInterval(t,v)},stop:function(){e(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return i(this.prefix)},normalizeCurrent:function(e){var t=p.pathname,n=e.root;return e.pushState&&n!==t?(this.replaceLocation(n+this.prefix+s(n,t)),!0):!1}}),S=a.Observable.extend({start:function(t){if(t=t||{},this.bind([f,l,c],t),!this._started){this._started=!0,t.root=t.root||"/";var n,r=this.createAdapter(t);r.normalizeCurrent(t)||(n=r.current(),e.extend(this,{adapter:r,root:t.root,historyLength:r.length(),current:n,locations:[n]}),r.change(e.proxy(this,"_checkUrl")))}},createAdapter:function(e){return h.pushState&&e.pushState?new w(e.root):new E(e.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(f),this._started=!1)},change:function(e){this.bind(f,e)},replace:function(e,t){this._navigate(e,t,function(t){t.replace(e),this.locations[this.locations.length-1]=this.current})},navigate:function(e,n){return"#:back"===e?(this.backCalled=!0,this.adapter.back(),t):(this._navigate(e,n,function(t){t.navigate(e),this.locations.push(this.current)}),t)},_navigate:function(e,n,r){var i=this.adapter;return e=i.normalize(e),this.current===e||this.current===decodeURIComponent(e)?(this.trigger(c),t):((n||!this.trigger(f,{url:e}))&&(this.current=e,r.call(this,i),this.historyLength=i.length()),t)},_checkUrl:function(){var e=this.adapter,n=e.current(),r=e.length(),i=this.historyLength===r,s=n===this.locations[this.locations.length-2]&&i,o=this.backCalled,u=this.current;return null===n||this.current===n||this.current===decodeURIComponent(n)?!0:(this.historyLength=r,this.backCalled=!1,this.current=n,s&&this.trigger("back",{url:u,to:n})?(e.forward(),this.current=u,t):this.trigger(f,{url:n,backButtonPressed:!o})?(s?e.forward():(e.back(),this.historyLength--),this.current=u,t):(s?this.locations.pop():this.locations.push(n),t))}});a.History=S,a.History.HistoryAdapter=b,a.History.HashAdapter=E,a.History.PushStateAdapter=w,a.absoluteURL=n,a.history=new S}(window.kendo.jQuery),function(){function e(e,t){return t?e:"([^/]+)"}function t(t,n){return RegExp("^"+t.replace(d,"\\$&").replace(c,"(?:$1)?").replace(h,e).replace(p,"(.*?)")+"$",n?"i":"")}function n(e){return e.replace(/(\?.*)|(#.*)/g,"")}var r=window.kendo,i=r.history,s=r.Observable,o="init",u="routeMissing",a="change",f="back",l="same",c=/\((.*?)\)/g,h=/(\(\?)?:\w+/g,p=/\*\w+/g,d=/[\-{}\[\]+?.,\\\^$|#\s]/g,v=r.Class.extend({init:function(e,n,r){e instanceof RegExp||(e=t(e,r)),this.route=e,this._callback=n},callback:function(e){var t,i,s=0,o=r.parseQueryStringParams(e);for(e=n(e),t=this.route.exec(e).slice(1),i=t.length;i>s;s++)void 0!==t[s]&&(t[s]=decodeURIComponent(t[s]));t.push(o),this._callback.apply(null,t)},worksWith:function(e){return this.route.test(n(e))?(this.callback(e),!0):!1}}),m=s.extend({init:function(e){e||(e={}),s.fn.init.call(this),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.ignoreCase=e.ignoreCase!==!1,this.bind([o,u,a,l],e)},destroy:function(){i.unbind(a,this._urlChangedProxy),i.unbind(l,this._sameProxy),i.unbind(f,this._backProxy),this.unbind()},start:function(){var e,t=this,n=function(){t._same()},r=function(e){t._back(e)},s=function(e){t._urlChanged(e)};i.start({same:n,change:s,back:r,pushState:t.pushState,hashBang:t.hashBang,root:t.root}),e={url:i.current||"/",preventDefault:$.noop},t.trigger(o,e)||t._urlChanged(e),this._urlChangedProxy=s,this._backProxy=r},route:function(e,t){this.routes.push(new v(e,t,this.ignoreCase))},navigate:function(e,t){r.history.navigate(e,t)},replace:function(e,t){r.history.replace(e,t)},_back:function(e){this.trigger(f,{url:e.url,to:e.to})&&e.preventDefault()},_same:function(){this.trigger(l)},_urlChanged:function(e){var t,n,i,s,o=e.url;if(o||(o="/"),this.trigger(a,{url:e.url,params:r.parseQueryStringParams(e.url),backButtonPressed:e.backButtonPressed}))return void e.preventDefault();for(t=0,n=this.routes,s=n.length;s>t;t++)if(i=n[t],i.worksWith(o))return;this.trigger(u,{url:o,params:r.parseQueryStringParams(o),backButtonPressed:e.backButtonPressed})&&e.preventDefault()}});r.Router=m}(),function(e,t){function n(r,s){var a,f,l,c,h,p,d,v,m=[],g=r.logic||"and",y=r.filters;for(a=0,f=y.length;f>a;a++)r=y[a],l=r.field,d=r.value,p=r.operator,r.filters?r=n(r,s):(v=r.ignoreCase,l=l.replace(/\./g,"/"),r=o[p],s&&(r=u[p]),r&&d!==t&&(c=e.type(d),"string"===c?(h="'{1}'",d=d.replace(/'/g,"''"),v===!0&&(l="tolower("+l+")")):h="date"===c?s?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",r.length>3?"substringof"!==r?h="{0}({2},"+h+")":(h="{0}("+h+",{2})","doesnotcontain"===p&&(s?(h="{0}({2},'{1}') eq -1",r="indexof"):h+=" eq false")):h="{2} {0} "+h,r=i.format(h,r,d,l))),m.push(r);return r=m.join(" "+g+" "),m.length>1&&(r="("+r+")"),r}function r(e){for(var t in e)0===t.indexOf("@odata")&&delete e[t]}var i=window.kendo,s=e.extend,o={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},u=s({},o,{contains:"contains"}),a={pageSize:e.noop,page:e.noop,filter:function(e,t,r){t&&(t=n(t,r),t&&(e.$filter=t))},sort:function(t,n){var r=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},f={read:{dataType:"jsonp"}};s(!0,i.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t,n){var r,s,o,u;if(e=e||{},t=t||"read",u=(this.options||f)[t],u=u?u.dataType:"json","read"===t){r={$inlinecount:"allpages"},"json"!=u&&(r.$format="json");for(o in e)a[o]?a[o](r,e[o],n):r[o]=e[o]}else{if("json"!==u)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(o in e)s=e[o],"number"==typeof s&&(e[o]=s+"");r=i.stringify(e)}}return r}}}}),s(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(t){return t=e.extend({},t),r(t),t.value?t.value:[t]},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var n=i.data.transports.odata.parameterMap(e,t,!0);return"read"==t&&(n.$count=!0,delete n.$inlinecount),n}}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.isArray,i=e.isPlainObject,s=e.map,o=e.each,u=e.extend,a=n.getter,f=n.Class,l=f.extend({init:function(t){var a,f,l,c,h=this,p=t.total,d=t.model,v=t.parse,m=t.errors,g=t.serialize,y=t.data;d&&(i(d)&&(a=t.modelBase||n.data.Model,d.fields&&o(d.fields,function(t,n){i(n)&&n.field?e.isFunction(n.field)||(n=u(n,{field:h.getter(n.field)})):n={field:h.getter(n)},d.fields[t]=n}),f=d.id,f&&(l={},l[h.xpathToMember(f,!0)]={field:h.getter(f)},d.fields=u(l,d.fields),d.id=h.xpathToMember(f)),d=a.define(d)),h.model=d),p&&("string"==typeof p?(p=h.getter(p),h.total=function(e){return parseInt(p(e),10)}):"function"==typeof p&&(h.total=p)),m&&("string"==typeof m?(m=h.getter(m),h.errors=function(e){return m(e)||null}):"function"==typeof m&&(h.errors=m)),y&&("string"==typeof y?(y=h.xpathToMember(y),h.data=function(e){var t,n=h.evaluate(e,y);return n=r(n)?n:[n],h.model&&d.fields?(t=new h.model,s(n,function(e){if(e){var n,r={};for(n in d.fields)r[n]=t._parse(n,d.fields[n].field(e));return r}})):n}):"function"==typeof y&&(h.data=y)),"function"==typeof v&&(c=h.parse,h.parse=function(e){var t=v.call(h,e);return c.call(h,t)}),"function"==typeof g&&(h.serialize=g)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var n,i,s,o,u,a,f,l={},c=e.attributes,h=c.length;for(f=0;h>f;f++)a=c[f],l["@"+a.nodeName]=a.nodeValue;for(i=e.firstChild;i;i=i.nextSibling)s=i.nodeType,3===s||4===s?l["#text"]=i.nodeValue:1===s&&(n=this.parseDOM(i),o=i.nodeName,u=l[o],r(u)?u.push(n):u=u!==t?[u,n]:n,l[o]=u);return l},evaluate:function(e,t){for(var n,i,s,o,u,a=t.split(".");n=a.shift();)if(e=e[n],r(e)){for(i=[],t=a.join("."),u=0,s=e.length;s>u;u++)o=this.evaluate(e[u],t),o=r(o)?o:[o],i.push.apply(i,o);return i}return e},parse:function(t){var n,r,i={};return n=t.documentElement||e.parseXML(t).documentElement,r=this.parseDOM(n),i[n.nodeName]=r,i},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return a(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReader:l,readers:{xml:l}})}(window.kendo.jQuery),function(e,t){function n(e,t,n,r){return function(i){var s,o={};for(s in i)o[s]=i[s];o.field=r?n+"."+i.field:n,t==bt&&e._notifyChange&&e._notifyChange(o),e.trigger(t,o)}}function r(t,n){if(t===n)return!0;var i,s=e.type(t),o=e.type(n);if(s!==o)return!1;if("date"===s)return t.getTime()===n.getTime();if("object"!==s&&"array"!==s)return!1;for(i in t)if(!r(t[i],n[i]))return!1;return!0}function i(e,t){var n,r;for(r in e){if(n=e[r],nt(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function s(e){this.data=e||[]}function o(e,n){if(e){var r=typeof e===pt?{field:e,dir:n}:e,i=it(r)?r:r!==t?[r]:[];return st(i,function(e){return!!e.dir})}}function u(e){var t,n,r,i,s=e.filters;if(s)for(t=0,n=s.length;n>t;t++)r=s[t],i=r.operator,i&&typeof i===pt&&(r.operator=U[i.toLowerCase()]||i),u(r)}function a(e){return e&&!rt(e)?((it(e)||!e.filters)&&(e={logic:"and",filters:it(e)?e:[e]}),u(e),e):t}function f(e){return it(e)?e:[e]}function l(e,n){var r=typeof e===pt?{field:e,dir:n}:e,i=it(r)?r:r!==t?[r]:[];return F(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function c(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function h(e,t,n,r,i,s){var o,u,a,f,l;for(t=t||[],f=t.length,o=0;f>o;o++)u=t[o],a=u.aggregate,l=u.field,e[l]=e[l]||{},s[l]=s[l]||{},s[l][a]=s[l][a]||{},e[l][a]=z[a.toLowerCase()](e[l][a],n,ft.accessor(l),r,i,s[l][a])}function p(e){return"number"==typeof e&&!isNaN(e)}function d(e){return e&&e.getTime}function v(e){var t,n=e.length,r=Array(n);for(t=0;n>t;t++)r[t]=e[t].toJSON();return r}function m(e,t,n,r,i){var s,o,u,a,f;for(a=0,f=e.length;f>a;a++){s=e[a];for(o in t)u=i[o],u&&u!==o&&(s[u]=t[o](s),delete s[o])}}function g(e,t,n,r,i){var s,o,u,a,f;for(a=0,f=e.length;f>a;a++){s=e[a];for(o in t)s[o]=n._parse(o,t[o](s)),u=i[o],u&&u!==o&&delete s[u]}}function y(e,t,n,r,i){var s,o,u,a;for(o=0,a=e.length;a>o;o++)s=e[o],u=r[s.field],u&&u!=s.field&&(s.field=u),s.value=n._parse(s.field,s.value),s.hasSubgroups?y(s.items,t,n,r,i):g(s.items,t,n,r,i)}function b(e,t,n,r,i,s){return function(o){return o=e(o),o&&!rt(r)&&("[object Array]"===Ft.call(o)||o instanceof zt||(o=[o]),n(o,r,new t,i,s)),o||[]}}function w(e,t,n,r){for(var i,s,o,u=0;t.length&&r&&(i=t[u],s=i.items,o=s.length,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?w(e.items[e.items.length-1],i.items,n,r):(s=s.slice(n,n+r),e.items=e.items.concat(s)),t.splice(u--,1)):i.hasSubgroups&&s.length?(w(i,s,n,r),i.items.length||t.splice(u--,1)):(s=s.slice(n,n+r),i.items=s,i.items.length||t.splice(u--,1)),0===s.length?n-=o:(n=0,r-=s.length),!(++u>=t.length)););t.length>u&&t.splice(u,t.length-u)}function E(e){var t,n,r,i,s,o=[];for(t=0,n=e.length;n>t;t++)if(s=e.at(t),s.hasSubgroups)o=o.concat(E(s.items));else for(r=s.items,i=0;r.length>i;i++)o.push(r.at(i));return o}function S(e,t){var n,r,i;if(t)for(n=0,r=e.length;r>n;n++)i=e.at(n),i.hasSubgroups?S(i.items,t):i.items=new Wt(i.items,t)}function x(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n].hasSubgroups){if(x(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function T(e,t,n,r){for(var i=0;e.length>i&&e[i].data!==t&&!N(e[i].data,n,r);i++);}function N(e,t,n){for(var r=0,i=e.length;i>r;r++){if(e[r]&&e[r].hasSubgroups)return N(e[r].items,t,n);if(e[r]===t||e[r]===n)return e[r]=n,!0}}function C(e,n,r,i,s){var o,u,a,f;for(o=0,u=e.length;u>o;o++)if(a=e[o],a&&!(a instanceof i))if(a.hasSubgroups===t||s){for(f=0;n.length>f;f++)if(n[f]===a){e[o]=n.at(f),T(r,n,a,e[o]);break}}else C(a.items,n,r,i,s)}function k(e,t){var n,r,i;for(n=0,r=e.length;r>n;n++)if(i=e.at(n),i.uid==t.uid)return e.splice(n,1),i}function L(e,t){return t?O(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function A(e,t){return t?O(e,function(e){return e.uid==t.uid}):-1}function O(e,t){var n,r;for(n=0,r=e.length;r>n;n++)if(t(e[n]))return n;return-1}function M(e,t){var n,r;return e&&!rt(e)?(n=e[t],r=nt(n)?n.from||n.field||t:e[t]||t,lt(r)?t:r):t}function _(e,t){var n,r,i,s={};for(i in e)"filters"!==i&&(s[i]=e[i]);if(e.filters)for(s.filters=[],n=0,r=e.filters.length;r>n;n++)s.filters[n]=_(e.filters[n],t);else s.field=M(t.fields,s.field);return s}function D(e,t){var n,r,i,s,o,u=[];for(n=0,r=e.length;r>n;n++){i={},s=e[n];for(o in s)i[o]=s[o];i.field=M(t.fields,i.field),i.aggregates&&it(i.aggregates)&&(i.aggregates=D(i.aggregates,t)),u.push(i)}return u}function P(t,n){var r,i,s,o,u,a,f,l,c,h;for(t=e(t)[0],r=t.options,i=n[0],s=n[1],o=[],u=0,a=r.length;a>u;u++)c={},l=r[u],f=l.parentNode,f===t&&(f=null),l.disabled||f&&f.disabled||(f&&(c.optgroup=f.label),c[i.field]=l.text,h=l.attributes.value,h=h&&h.specified?l.value:l.text,c[s.field]=h,o.push(c));return o}function H(t,n){var r,i,s,o,u,a,f,l=e(t)[0].tBodies[0],c=l?l.rows:[],h=n.length,p=[];for(r=0,i=c.length;i>r;r++){for(u={},f=!0,o=c[r].cells,s=0;h>s;s++)a=o[s],"th"!==a.nodeName.toLowerCase()&&(f=!1,u[n[s].field]=a.innerHTML);f||p.push(u)}return p}function B(e){return function(){var t=this._data,n=J.fn[e].apply(this,Bt.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function j(t,n){function r(e,t){return e.filter(t).add(e.find(t))}var i,s,o,u,a,f,l,c,h=e(t).children(),p=[],d=n[0].field,v=n[1]&&n[1].field,m=n[2]&&n[2].field,g=n[3]&&n[3].field;for(i=0,s=h.length;s>i;i++)o={_loaded:!0},u=h.eq(i),f=u[0].firstChild,c=u.children(),t=c.filter("ul"),c=c.filter(":not(ul)"),a=u.attr("data-id"),a&&(o.id=a),f&&(o[d]=3==f.nodeType?f.nodeValue:c.text()),v&&(o[v]=r(c,"a").attr("href")),g&&(o[g]=r(c,"img").attr("src")),m&&(l=r(c,".k-sprite").prop("className"),o[m]=l&&e.trim(l.replace("k-sprite",""))),t.length&&(o.items=j(t.eq(0),n)),"true"==u.attr("data-hasChildren")&&(o.hasChildren=!0),p.push(o);return p}var F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et=e.extend,tt=e.proxy,nt=e.isPlainObject,rt=e.isEmptyObject,it=e.isArray,st=e.grep,ot=e.ajax,ut=e.each,at=e.noop,ft=window.kendo,lt=ft.isFunction,ct=ft.Observable,ht=ft.Class,pt="string",dt="function",vt="create",mt="read",gt="update",yt="destroy",bt="change",wt="sync",Et="get",St="error",xt="requestStart",Tt="progress",Nt="requestEnd",Ct=[vt,mt,gt,yt],kt=function(e){return e},Lt=ft.getter,At=ft.stringify,Ot=Math,Mt=[].push,_t=[].join,Dt=[].pop,Pt=[].splice,Ht=[].shift,Bt=[].slice,jt=[].unshift,Ft={}.toString,It=ft.support.stableSort,qt=/^\/Date\((.*?)\)\/$/,Rt=/(\r+|\n+)/g,Ut=/(?=['\\])/g,zt=ct.extend({init:function(e,t){var n=this;n.type=t||Xt,ct.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},at:function(e){return this[e]},toJSON:function(){var e,t,n=this.length,r=Array(n);for(e=0;n>e;e++)t=this[e],t instanceof Xt&&(t=t.toJSON()),r[e]=t;return r},parent:at,wrapAll:function(e,t){var n,r,i=this,s=function(){return i};for(t=t||[],n=0,r=e.length;r>n;n++)t[n]=i.wrap(e[n],s);return t},wrap:function(e,t){var n,r=this;return null!==e&&"[object Object]"===Ft.call(e)&&(n=e instanceof r.type||e instanceof Jt,n||(e=e instanceof Xt?e.toJSON():e,e=new r.type(e)),e.parent=t,e.bind(bt,function(e){r.trigger(bt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,n=this.wrapAll(arguments);return e=Mt.apply(this,n),this.trigger(bt,{action:"add",index:t,items:n}),e},slice:Bt,sort:[].sort,join:_t,pop:function(){var e=this.length,t=Dt.apply(this);return e&&this.trigger(bt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,n){var r,i,s,o=this.wrapAll(Bt.call(arguments,2));if(r=Pt.apply(this,[e,t].concat(o)),r.length)for(this.trigger(bt,{action:"remove",index:e,items:r}),i=0,s=r.length;s>i;i++)r[i]&&r[i].children&&r[i].unbind(bt);return n&&this.trigger(bt,{action:"add",index:e,items:o}),r},shift:function(){var e=this.length,t=Ht.apply(this);return e&&this.trigger(bt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=jt.apply(this,t),this.trigger(bt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,n,r=this;for(t=0,n=r.length;n>t;t++)if(r[t]===e)return t;return-1},forEach:function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,n=[],r=this.length;r>t;t++)n[t]=e(this[t],t,this);return n},reduce:function(e){var t,n=0,r=this.length;for(2==arguments.length?t=arguments[1]:r>n&&(t=this[n++]);r>n;n++)t=e(t,this[n],n,this);return t},reduceRight:function(e){var t,n=this.length-1;for(2==arguments.length?t=arguments[1]:n>0&&(t=this[n--]);n>=0;n--)t=e(t,this[n],n,this);return t},filter:function(e){for(var t,n=0,r=[],i=this.length;i>n;n++)t=this[n],e(t,n,this)&&(r[r.length]=t);return r},find:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],e(t,n,this))return t},every:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],!e(t,n,this))return!1;return!0},some:function(e){for(var t,n=0,r=this.length;r>n;n++)if(t=this[n],e(t,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),Wt=zt.extend({init:function(e,t){ct.fn.init.call(this),this.type=t||Xt;for(var n=0;e.length>n;n++)this[n]=e[n];this.length=n,this._parent=tt(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}}),Xt=ct.extend({init:function(e){var t,n,r=this,i=function(){return r};ct.fn.init.call(this);for(n in e)t=e[n],"object"==typeof t&&t&&!t.getTime&&"_"!=n.charAt(0)&&(t=r.wrap(t,n,i)),r[n]=t;r.uid=ft.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==dt&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Xt||e instanceof zt)&&(e=e.toJSON()),n[t]=e);return n},get:function(e){var t,n=this;return n.trigger(Et,{field:e}),t="this"===e?n:ft.getter(e,!0)(n)},_set:function(e,t){var n,r,i,s=this,o=e.indexOf(".")>=0;if(o)for(n=e.split("."),r="";n.length>1;){if(r+=n.shift(),i=ft.getter(r,!0)(s),i instanceof Xt)return i.set(n.join("."),t),o;r+="."}return ft.setter(e)(s,t),o},set:function(e,t){var n=this,r=e.indexOf(".")>=0,i=ft.getter(e,!0)(n);i!==t&&(n.trigger("set",{field:e,value:t})||(r||(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)||e.indexOf("(")>=0||e.indexOf("[")>=0)&&n.trigger(bt,{field:e})))},parent:at,wrap:function(e,t,r){var i,s,o=this,u=Ft.call(e);return null==e||"[object Object]"!==u&&"[object Array]"!==u||(i=e instanceof zt,s=e instanceof J,"[object Object]"!==u||s||i?("[object Array]"===u||i||s)&&(i||s||(e=new zt(e)),e.parent()!=r()&&e.bind(bt,n(o,bt,t,!1))):(e instanceof Xt||(e=new Xt(e)),e.parent()!=r()&&(e.bind(Et,n(o,Et,t,!0)),e.bind(bt,n(o,bt,t,!0)))),e.parent=r),e}}),Vt={number:function(e){return ft.parseFloat(e)},date:function(e){return ft.parseDate(e)},"boolean":function(e){return typeof e===pt?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},$t={string:"",number:0,date:new Date,"boolean":!1,"default":""},Jt=Xt.extend({init:function(n){var r,i,s=this;if((!n||e.isEmptyObject(n))&&(n=e.extend({},s.defaults,n),s._initializers))for(r=0;s._initializers.length>r;r++)i=s._initializers[r],n[i]=s.defaults[i]();Xt.fn.init.call(s,n),s.dirty=!1,s.idField&&(s.id=s.get(s.idField),s.id===t&&(s.id=s._defaultId))},shouldSerialize:function(e){return Xt.fn.shouldSerialize.call(this,e)&&"uid"!==e&&("id"===this.idField||"id"!==e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var n,r=this,s=e,o=r.fields||{};return e=o[e],e||(e=i(o,s)),e&&(n=e.parse,!n&&e.type&&(n=Vt[e.type.toLowerCase()])),n?n(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,n){var i=this;i.editable(e)&&(t=i._parse(e,t),r(t,i.get(e))||(i.dirty=!0,Xt.fn.set.call(i,e,t,n)))},accept:function(e){var t,n,r=this,i=function(){return r};for(t in e)n=e[t],"_"!=t.charAt(0)&&(n=r.wrap(e[t],t,i)),r._set(t,n);r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});Jt.define=function(e,n){n===t&&(n=e,e=Jt);var r,i,s,o,u,a,f,l,c=et({defaults:{}},n),h={},p=c.id,d=[];if(p&&(c.idField=p),c.id&&delete c.id,p&&(c.defaults[p]=c._defaultId=""),"[object Array]"===Ft.call(c.fields)){for(a=0,f=c.fields.length;f>a;a++)s=c.fields[a],typeof s===pt?h[s]={}:s.field&&(h[s.field]=s);c.fields=h}for(i in c.fields)s=c.fields[i],o=s.type||"default",u=null,l=i,i=typeof s.field===pt?s.field:i,s.nullable||(u=c.defaults[l!==i?l:i]=s.defaultValue!==t?s.defaultValue:$t[o.toLowerCase()],"function"==typeof u&&d.push(i)),n.id===i&&(c._defaultId=u),c.defaults[l!==i?l:i]=u,s.parse=s.parse||Vt[o];return d.length>0&&(c._initializers=d),r=e.extend(c),r.define=function(e){return Jt.define(r,e)},c.fields&&(r.fields=c.fields,r.idField=c.idField),r},I={selector:function(e){return lt(e)?e:Lt(e)},compare:function(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n?0:null==e?-1:null==n?1:e.localeCompare?e.localeCompare(n):e>n?1:n>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,n){return t(n,e,!0)}:t},combine:function(e){return function(t,n){var r,i,s=e[0](t,n);for(r=1,i=e.length;i>r;r++)s=s||e[r](t,n);return s}}},q=et({},I,{asc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:null==r?-1:null==i?1:r.localeCompare?r.localeCompare(i):r>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,n){var r=t(e),i=t(n);return r&&r.getTime&&i&&i.getTime&&(r=r.getTime(),i=i.getTime()),r===i?e.__position-n.__position:null==r?1:null==i?-1:i.localeCompare?i.localeCompare(r):i>r?1:-1}},create:function(e){return this[e.dir](e.field)}}),F=function(e,t){var n,r=e.length,i=Array(r);for(n=0;r>n;n++)i[n]=t(e[n],n,e);return i},R=function(){function e(e){return e.replace(Ut,"\\").replace(Rt,"")}function t(t,n,r,i){var s;return null!=r&&(typeof r===pt&&(r=e(r),s=qt.exec(r),s?r=new Date(+s[1]):i?(r="'"+r.toLowerCase()+"'",n="("+n+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(n="("+n+"?"+n+".getTime():"+n+")",r=r.getTime())),n+" "+t+" "+r}return{quote:function(t){return t&&t.getTime?"new Date("+t.getTime()+")":"string"==typeof t?"'"+e(t)+"'":""+t},eq:function(e,n,r){return t("==",e,n,r)},neq:function(e,n,r){return t("!=",e,n,r)},gt:function(e,n,r){return t(">",e,n,r)},gte:function(e,n,r){return t(">=",e,n,r)},lt:function(e,n,r){return t("<",e,n,r)},lte:function(e,n,r){return t("<=",e,n,r)},startswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".lastIndexOf('"+n+"', 0) == 0"},endswith:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"', "+t+".length - "+(n||"").length+") >= 0"},contains:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') >= 0"},doesnotcontain:function(t,n,r){return r&&(t="("+t+" || '').toLowerCase()",n&&(n=n.toLowerCase())),n&&(n=e(n)),t+".indexOf('"+n+"') == -1"}}}(),s.filterExpr=function(e){var n,r,i,o,u,a,f=[],l={and:" && ",or:" || "},c=[],h=[],p=e.filters;for(n=0,r=p.length;r>n;n++)i=p[n],u=i.field,a=i.operator,i.filters?(o=s.filterExpr(i),i=o.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(h.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(c.length+t)+"]"}),h.push.apply(h,o.operators),c.push.apply(c,o.fields)):(typeof u===dt?(o="__f["+c.length+"](d)",c.push(u)):o=ft.expr(u),typeof a===dt?(i="__o["+h.length+"]("+o+", "+R.quote(i.value)+")",h.push(a)):i=R[(a||"eq").toLowerCase()](o,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),f.push(i);return{expression:"("+f.join(l[e.logic])+")",fields:c,operators:h}},U={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},s.normalizeFilter=a,s.prototype={toArray:function(){return this.data},range:function(e,t){return new s(this.data.slice(e,e+t))},skip:function(e){return new s(this.data.slice(e))},take:function(e){return new s(this.data.slice(0,e))},select:function(e){return new s(F(this.data,e))},order:function(e,t){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new s(this.data.slice(0).sort(I.create(n)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,n){var r,i,s=o(e,t),u=[];if(n=n||I,s.length){for(r=0,i=s.length;i>r;r++)u.push(n.create(s[r]));return this.orderBy({compare:n.combine(u)})}return this},filter:function(e){var t,n,r,i,o,u,f,l,c=this.data,h=[];if(e=a(e),!e||0===e.filters.length)return this;for(i=s.filterExpr(e),u=i.fields,f=i.operators,o=l=Function("d, __f, __o","return "+i.expression),(u.length||f.length)&&(l=function(e){return o(e,u,f)}),t=0,r=c.length;r>t;t++)n=c[t],l(n)&&h.push(n);return new s(h)},group:function(e,t){e=l(e||[]),t=t||this.data;var n,r=this,i=new s(r.data);return e.length>0&&(n=e[0],i=i.groupBy(n).select(function(r){var i=(new s(t)).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]);return{field:r.field,value:r.value,items:e.length>1?(new s(r.items)).group(e.slice(1),i.toArray()).toArray():r.items,hasSubgroups:e.length>1,aggregates:i.aggregate(n.aggregates)}})),i},groupBy:function(e){if(rt(e)||!this.data.length)return new s([]);var t,n,r,i,o=e.field,u=this._sortForGrouping(o,e.dir||"asc"),a=ft.accessor(o),f=a.get(u[0],o),l={field:o,value:f,items:[]},h=[l];for(r=0,i=u.length;i>r;r++)t=u[r],n=a.get(t,o),c(f,n)||(f=n,l={field:o,value:f,items:[]},h.push(l)),l.items.push(t);return new s(h)},_sortForGrouping:function(e,t){var n,r,i=this.data;if(!It){for(n=0,r=i.length;r>n;n++)i[n].__position=n;for(i=(new s(i)).sort(e,t,q).toArray(),n=0,r=i.length;r>n;n++)delete i[n].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,n,r={},i={};if(e&&e.length)for(t=0,n=this.data.length;n>t;t++)h(r,e,this.data[t],t,n,i);return r}},z={sum:function(e,t,n){var r=n.get(t);return p(e)?p(r)&&(e+=r):e=r,e},count:function(e){return(e||0)+1},average:function(e,n,r,i,s,o){var u=r.get(n);return o.count===t&&(o.count=0),p(e)?p(u)&&(e+=u):e=u,p(u)&&o.count++,i==s-1&&p(e)&&(e/=o.count),e},max:function(e,t,n){var r=n.get(t);return p(e)||d(e)||(e=r),r>e&&(p(r)||d(r))&&(e=r),e},min:function(e,t,n){var r=n.get(t);return p(e)||d(e)||(e=r),e>r&&(p(r)||d(r))&&(e=r),e}},s.process=function(e,n){n=n||{};var r,i=new s(e),u=n.group,a=l(u||[]).concat(o(n.sort||[])),f=n.filterCallback,c=n.filter,h=n.skip,p=n.take;return c&&(i=i.filter(c),f&&(i=f(i)),r=i.toArray().length),a&&(i=i.sort(a),u&&(e=i.toArray())),h!==t&&p!==t&&(i=i.range(h,p)),u&&(i=i.group(u,e)),{total:r,data:i.toArray()}},W=ht.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),X=ht.extend({init:function(e){var t,n=this;e=n.options=et({},n.options,e),ut(Ct,function(t,n){typeof e[n]===pt&&(e[n]={url:e[n]})}),n.cache=e.cache?V.create(e.cache):{find:at,add:at},t=e.parameterMap,lt(e.push)&&(n.push=e.push),n.push||(n.push=kt),n.parameterMap=lt(t)?t:function(e){var n={};return ut(e,function(e,r){e in t&&(e=t[e],nt(e)&&(r=e.value(r),e=e.key)),n[e]=r}),n}},options:{parameterMap:kt},create:function(e){return ot(this.setup(e,vt))},read:function(n){var r,i,s,o=this,u=o.cache;n=o.setup(n,mt),r=n.success||at,i=n.error||at,s=u.find(n.data),s!==t?r(s):(n.success=function(e){u.add(n.data,e),r(e)},e.ajax(n))},update:function(e){return ot(this.setup(e,gt))},destroy:function(e){return ot(this.setup(e,yt))},setup:function(e,t){e=e||{};var n,r=this,i=r.options[t],s=lt(i.data)?i.data(e.data):i.data;return e=et(!0,{},i,e),n=et(!0,{},s,e.data),e.data=r.parameterMap(n,t),lt(e.url)&&(e.url=e.url(n)),e}}),V=ht.extend({init:function(){this._store={}},add:function(e,n){e!==t&&(this._store[At(e)]=n)},find:function(e){return this._store[At(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[At(e)]}}),V.create=function(e){var t={inmemory:function(){return new V}};return nt(e)&&lt(e.find)?e:e===!0?new V:t[e]()},$=ht.extend({init:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d=this;e=e||{};for(t in e)n=e[t],d[t]=typeof n===pt?Lt(n):n;i=e.modelBase||Jt,nt(d.model)&&(d.model=r=i.define(d.model)),s=tt(d.data,d),d._dataAccessFunction=s,d.model&&(o=tt(d.groups,d),u=tt(d.serialize,d),a={},f={},l={},c={},h=!1,r=d.model,r.fields&&(ut(r.fields,function(e,t){var n;p=e,nt(t)&&t.field?p=t.field:typeof t===pt&&(p=t),nt(t)&&t.from&&(n=t.from),h=h||n&&n!==e||p!==e,f[e]=Lt(n||p),l[e]=Lt(e),a[n||p]=e,c[e]=n||p}),!e.serialize&&h&&(d.serialize=b(u,r,m,l,a,c))),d._dataAccessFunction=s,d.data=b(s,r,g,f,a,c),d.groups=b(o,r,y,f,a,c))},errors:function(e){return e?e.errors:null},parse:kt,data:kt,total:function(e){return e.length},groups:kt,aggregates:function(){return{}},serialize:function(e){return e}}),J=ct.extend({init:function(e){var n,r,i,s=this;e&&(r=e.data),e=s.options=et({},s.options,e),s._map={},s._prefetch={},s._data=[],s._pristineData=[],s._ranges=[],s._view=[],s._pristineTotal=0,s._destroyed=[],s._pageSize=e.pageSize,s._page=e.page||(e.pageSize?1:t),s._sort=o(e.sort),s._filter=a(e.filter),s._group=l(e.group),s._aggregate=e.aggregate,s._total=e.total,s._shouldDetachObservableParents=!0,ct.fn.init.call(s),s.transport=K.create(e,r,s),lt(s.transport.push)&&s.transport.push({pushCreate:tt(s._pushCreate,s),pushUpdate:tt(s._pushUpdate,s),pushDestroy:tt(s._pushDestroy,s)}),null!=e.offlineStorage&&("string"==typeof e.offlineStorage?(i=e.offlineStorage,s._storage={getItem:function(){return JSON.parse(localStorage.getItem(i))},setItem:function(e){localStorage.setItem(i,At(s.reader.serialize(e)))}}):s._storage=e.offlineStorage),s.reader=new ft.data.readers[e.schema.type||"json"](e.schema),n=s.reader.model||{},s._detachObservableParents(),s._data=s._observe(s._data),s._online=!0,s.bind(["push",St,bt,xt,wt,Nt,Tt],e)},options:{data:null,schema:{modelBase:Jt},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},clone:function(){return this},online:function(n){return n!==t?this._online!=n&&(this._online=n,n)?this.sync():e.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==t?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var n=this._readData(e);n||(n=e),this[t](n)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return E(e);if(!t)for(var n=0;e.length>n;n++)e.at(n)}return e},parent:at,get:function(e){var t,n,r=this._flatData(this._data);for(t=0,n=r.length;n>t;t++)if(r[t].id==e)return r[t]},getByUid:function(e){var t,n,r=this._flatData(this._data);if(r)for(t=0,n=r.length;n>t;t++)if(r[t].uid==e)return r[t]},indexOf:function(e){return A(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var n,r=this;if(e===t){if(r._data)for(n=0;r._data.length>n;n++)r._data.at(n);return r._data}r._detachObservableParents(),r._data=this._observe(e),r._pristineData=e.slice(0),r._storeData(),r._ranges=[],r.trigger("reset"),r._addRange(r._data),r._total=r._data.length,r._pristineTotal=r._total,r._process(r._data)},view:function(e){return e===t?this._view:(this._view=this._observeView(e),t)},_observeView:function(e){var t,n=this;return C(e,n._data,n._ranges,n.reader.model||Xt,n._isServerGrouped()),t=new Wt(e,n.reader.model),t.parent=function(){return n.parent()},t},flatView:function(){var e=this.group()||[];return e.length?E(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof Xt?e:new Xt(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Jt||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),t},pushCreate:function(e){var t,n,r,i,s,o;it(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;e.length>r;r++)i=e[r],s=this.add(i),t.push(s),o=s.toJSON(),this._isServerGrouped()&&(o=this._wrapInEmptyGroup(o)),this._pristineData.push(o)}finally{this.options.autoSync=n}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(e){var t,n,r,i,s;for(it(e)||(e=[e]),t=[],n=0;e.length>n;n++)r=e[n],i=this._createNewModel(r),s=this.get(i.id),s?(t.push(s),s.accept(r),s.trigger(bt),this._updatePristineForModel(s,r)):this.pushCreate(r);t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e){var t,n,r,i,s,o;it(e)||(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(r=0;e.length>r;r++)i=e[r],s=this._createNewModel(i),o=!1,this._eachItem(this._data,function(e){var n,r;for(n=0;e.length>n;n++)if(r=e.at(n),r.id===s.id){t.push(r),e.splice(n,1),o=!0;break}}),o&&(this._removePristineForModel(s),this._destroyed.pop())}finally{this.options.autoSync=n}return t},remove:function(e){var n,r=this,i=r._isServerGrouped();return this._eachItem(r._data,function(s){return n=k(s,e),n&&i?(n.isNew&&n.isNew()||r._destroyed.push(n),!0):t}),this._removeModelFromRanges(e),this._updateRangesLength(),e},destroyed:function(){return this._destroyed},created:function(){var e,t,n=[],r=this._flatData(this._data);for(e=0,t=r.length;t>e;e++)r[e].isNew&&r[e].isNew()&&n.push(r[e]);return n},updated:function(){var e,t,n=[],r=this._flatData(this._data);for(e=0,t=r.length;t>e;e++)r[e].isNew&&!r[e].isNew()&&r[e].dirty&&n.push(r[e]);return n},sync:function(){var t,n=this,r=[],i=[],s=n._destroyed,o=(n._flatData(n._data),e.Deferred().resolve().promise());if(n.online()){if(!n.reader.model)return o;r=n.created(),i=n.updated(),t=[],n.options.batch&&n.transport.submit?t=n._sendSubmit(r,i,s):(t.push.apply(t,n._send("create",r)),t.push.apply(t,n._send("update",i)),t.push.apply(t,n._send("destroy",s))),o=e.when.apply(null,t).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)n._accept(arguments[e]);n._storeData(!0),n._change({action:"sync"}),n.trigger(wt)})}else n._storeData(!0),n._change({action:"sync"});return o},cancelChanges:function(e){var t=this;e instanceof ft.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data),t._change())},hasChanges:function(){var e,t,n=this._flatData(this._data);if(this._destroyed.length)return!0;for(e=0,t=n.length;t>e;e++)if(n[e].isNew&&n[e].isNew()||n[e].dirty)return!0;return!1},_accept:function(t){var n,r=this,i=t.models,s=t.response,o=0,u=r._isServerGrouped(),a=r._pristineData,f=t.type;if(r.trigger(Nt,{response:s,type:f}),s&&!rt(s)){if(s=r.reader.parse(s),r._handleCustomErrors(s))return;s=r.reader.data(s),it(s)||(s=[s])}else s=e.map(i,function(e){return e.toJSON()});for("destroy"===f&&(r._destroyed=[]),o=0,n=i.length;n>o;o++)"destroy"!==f?(i[o].accept(s[o]),"create"===f?a.push(u?r._wrapInEmptyGroup(i[o]):s[o]):"update"===f&&r._updatePristineForModel(i[o],s[o])):r._removePristineForModel(i[o])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,n){ft.deepExtend(n[e],t)})},_executeOnPristineForModel:function(e,n){this._eachPristineItem(function(r){var i=L(r,e);return i>-1?(n(i,r),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?x(e,t):t(e))},_pristineForModel:function(e){var n,r,i=function(i){return r=L(i,e),r>-1?(n=i[r],!0):t};return this._eachPristineItem(i),n},_cancelModel:function(e){var t=this._pristineForModel(e);this._eachItem(this._data,function(n){var r=A(n,e);r>=0&&(!t||e.isNew()&&!t.__state__?n.splice(r,1):n[r].accept(t))})},_submit:function(t,n){var r=this;r.trigger(xt,{type:"submit"}),r.transport.submit(et({success:function(n,r){var i=e.grep(t,function(e){return e.type==r})[0];i&&i.resolve({response:n,models:i.models,type:r})},error:function(e,n,i){for(var s=0;t.length>s;s++)t[s].reject(e);r.error(e,n,i)}},n))},_sendSubmit:function(t,n,r){var i=this,s=[];return i.options.batch&&(t.length&&s.push(e.Deferred(function(e){e.type="create",e.models=t})),n.length&&s.push(e.Deferred(function(e){e.type="update",e.models=n})),r.length&&s.push(e.Deferred(function(e){e.type="destroy",e.models=r})),i._submit(s,{data:{created:i.reader.serialize(v(t)),updated:i.reader.serialize(v(n)),destroyed:i.reader.serialize(v(r))}})),s},_promise:function(t,n,r){var i=this;return e.Deferred(function(e){i.trigger(xt,{type:r}),i.transport[r].call(i.transport,et({success:function(t){e.resolve({response:t,models:n,type:r})},error:function(t,n,r){e.reject(t),i.error(t,n,r)}},t))}).promise()},_send:function(e,t){var n,r,i=this,s=[],o=i.reader.serialize(v(t));if(i.options.batch)t.length&&s.push(i._promise({data:{models:o}},t,e));else for(n=0,r=t.length;r>n;n++)s.push(i._promise({data:o[n]},[t[n]],e));return s},read:function(t){var n=this,r=n._params(t),i=e.Deferred();return n._queueRequest(r,function(){var e=n.trigger(xt,{type:"read"});e?(n._dequeueRequest(),i.resolve(e)):(n.trigger(Tt),n._ranges=[],n.trigger("reset"),n.online()?n.transport.read({data:r,success:function(e){n.success(e,r),i.resolve()},error:function(){var e=Bt.call(arguments);n.error.apply(n,e),i.reject.apply(i,e)}}):null!=n.options.offlineStorage&&(n.success(n.offlineData(),r),i.resolve()))}),i.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var n,r,i,s,o,u,a,f,l=this,c=l.options;if(l.trigger(Nt,{response:e,type:"read"}),l.online()){if(e=l.reader.parse(e),l._handleCustomErrors(e))return l._dequeueRequest(),t;l._total=l.reader.total(e),l._aggregate&&c.serverAggregates&&(l._aggregateResult=l._readAggregates(e)),e=l._readData(e)}else{for(e=l._readData(e),n=[],r={},i=l.reader.model,s=i?i.idField:"id",o=0;this._destroyed.length>o;o++)u=this._destroyed[o][s],r[u]=u;for(o=0;e.length>o;o++)a=e[o],f=a.__state__,"destroy"==f?r[a[s]]||this._destroyed.push(this._createNewModel(a)):n.push(a);e=n,l._total=e.length}l._pristineTotal=l._total,l._pristineData=e.slice(0),l._detachObservableParents(),l._data=l._observe(e),null!=l.options.offlineStorage&&l._eachItem(l._data,function(e){var t,n;for(t=0;e.length>t;t++)n=e.at(t),"update"==n.__state__&&(n.dirty=!0)}),l._storeData(),l._addRange(l._data),l._process(l._data),l._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;this._data.length>e;e++)this._data[e].parent&&(this._data[e].parent=at)},_storeData:function(e){function t(e){var n,r,i,u=[];for(n=0;e.length>n;n++)r=e.at(n),i=r.toJSON(),s&&r.items?i.items=t(r.items):(i.uid=r.uid,o&&(r.isNew()?i.__state__="create":r.dirty&&(i.__state__="update"))),u.push(i);return u}var n,r,i,s=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),r=0;this._destroyed.length>r;r++)i=this._destroyed[r].toJSON(),i.__state__="destroy",n.push(i);this.offlineData(n),e&&(this._pristineData=n)}},_addRange:function(e){var t=this,n=t._skip||0,r=n+t._flatData(e,!0).length;t._ranges.push({start:n,end:r,data:e,timestamp:(new Date).getTime()}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,n){this._dequeueRequest(),this.trigger(Nt,{}),this.trigger(St,{xhr:e,status:t,errorThrown:n})},_params:function(e){var t=this,n=et({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGrouping?t.reader.model&&n.group&&(n.group=D(n.group,t.reader.model)):delete n.group,t.options.serverFiltering?t.reader.model&&n.filter&&(n.filter=_(n.filter,t.reader.model)):delete n.filter,t.options.serverSorting?t.reader.model&&n.sort&&(n.sort=D(n.sort,t.reader.model)):delete n.sort,t.options.serverAggregates?t.reader.model&&n.aggregate&&(n.aggregate=D(n.aggregate,t.reader.model)):delete n.aggregate,n},_queueRequest:function(e,n){var r=this;r._requestInProgress?r._pending={callback:tt(n,r),options:e}:(r._requestInProgress=!0,r._pending=t,n())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(St,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return t&&e.length?!(e[0]instanceof t):!1},_observe:function(e){var t,n=this,r=n.reader.model;return n._shouldDetachObservableParents=!0,e instanceof zt?(n._shouldDetachObservableParents=!1,n._shouldWrap(e)&&(e.type=n.reader.model,e.wrapAll(e,e))):(t=n.pageSize()&&!n.options.serverPaging?Wt:zt,e=new t(e,n.reader.model),e.parent=function(){return n.parent()}),n._isServerGrouped()&&S(e,r),n._changeHandler&&n._data&&n._data instanceof zt?n._data.unbind(bt,n._changeHandler):n._changeHandler=tt(n._change,n),e.bind(bt,n._changeHandler)},_change:function(e){var t,n,r,i=this,s=e?e.action:"";if("remove"===s)for(t=0,n=e.items.length;n>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==s&&"remove"!==s&&"itemchange"!==s?(r=parseInt(i._total,10),p(i._total)||(r=parseInt(i._pristineTotal,10)),"add"===s?r+=e.items.length:"remove"===s?r-=e.items.length:"itemchange"===s||"sync"===s||i.options.serverPaging?"sync"===s&&(r=i._pristineTotal=parseInt(i._total,10)):r=i._pristineTotal,i._total=r,i._process(i._data,e)):i.sync()},_calculateAggregates:function(e,t){t=t||{};var n=new s(e),r=t.aggregate,i=t.filter;return i&&(n=n.filter(i)),n.aggregate(r)},_process:function(e,n){var r,i=this,s={};i.options.serverPaging!==!0&&(s.skip=i._skip,s.take=i._take||i._pageSize,s.skip===t&&i._page!==t&&i._pageSize!==t&&(s.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(s.sort=i._sort),i.options.serverFiltering!==!0&&(s.filter=i._filter),i.options.serverGrouping!==!0&&(s.group=i._group),i.options.serverAggregates!==!0&&(s.aggregate=i._aggregate,i._aggregateResult=i._calculateAggregates(e,s)),r=i._queryProcess(e,s),i.view(r.data),r.total===t||i.options.serverFiltering||(i._total=r.total),n=n||{},n.items=n.items||i._view,i.trigger(bt,n)},_queryProcess:function(e,t){return s.process(e,t)},_mergeState:function(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=e.skip,n._take=e.take,n._skip===t&&(n._skip=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=o(e.sort)),e.filter&&(n._filter=e.filter=a(e.filter)),e.group&&(n._group=e.group=l(e.group)),e.aggregate&&(n._aggregate=e.aggregate=f(e.aggregate))),e},query:function(n){var r,i,s=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return s||(this._data===t||0===this._data.length)&&!this._destroyed.length?this.read(this._mergeState(n)):(i=this.trigger(xt,{type:"read"}),i||(this.trigger(Tt),r=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering||(this._total=r.total!==t?r.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(r.data),this.trigger(Nt,{type:"read"}),this.trigger(bt,{items:r.data})),e.Deferred().resolve(i).promise())},fetch:function(e){var t=this,n=function(n){n!==!0&&lt(e)&&e.call(t)};return this._query().then(n)},_query:function(e){var t=this;return t.query(et({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var n=this,r=n.page(),i=n.total();return e=e||{},!r||i&&r+1>n.totalPages()?t:(n._skip=r*n.take(),r+=1,e.page=r,n._query(e),r)},prev:function(e){var n=this,r=n.page();return e=e||{},r&&1!==r?(n._skip=n._skip-n.take(),r-=1,e.page=r,n._query(e),r):t},page:function(e){var n,r=this;return e!==t?(e=Ot.max(Ot.min(Ot.max(e,1),r.totalPages()),1),r._query({page:e}),t):(n=r.skip(),n!==t?Ot.round((n||0)/(r.take()||1))+1:t)},pageSize:function(e){var n=this;return e!==t?(n._query({pageSize:e,page:1}),t):n.take()},sort:function(e){var n=this;return e!==t?(n._query({sort:e}),t):n._sort},filter:function(e){var n=this;return e===t?n._filter:(n.trigger("reset"),n._query({filter:e,page:1}),t)},group:function(e){var n=this;return e!==t?(n._query({group:e}),t):n._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var n=this;return e!==t?(n._query({aggregate:e}),t):n._aggregate},aggregates:function(){var e=this._aggregateResult;return rt(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t,n,r={};if(!rt(e))for(t={},it(e)||(e=[e]),n=0;e.length>n;n++)t[e[n].aggregate]=0,r[e[n].field]=t;return r},_wrapInEmptyGroup:function(e){var t,n,r,i,s=this.group();for(r=s.length-1,i=0;r>=i;r--)n=s[r],t={value:e.get(n.field),field:n.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(n.aggregates)};return t},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Ot.ceil((e.total()||0)/t)},inRange:function(e,t){var n=this,r=Ot.min(e+t,n.total());return!n.options.serverPaging&&n._data.length>0?!0:n._findRange(e,r).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,n){var r,i,s,o,u,a,f,l;if(this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=Ot.min(e||0,this.total()),r=this,i=Ot.max(Ot.floor(e/n),0)*n,s=Ot.min(i+n,r.total()),o=r._findRange(e,Ot.min(e+n,r.total())),o.length){r._pending=t,r._skip=e>r.skip()?Ot.min(s,(r.totalPages()-1)*r.take()):i,r._take=n,u=r.options.serverPaging,a=r.options.serverSorting,f=r.options.serverFiltering,l=r.options.serverAggregates;try{r.options.serverPaging=!0,r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0),r.options.serverFiltering=!0,r.options.serverPaging=!0,r.options.serverAggregates=!0,u&&(r._detachObservableParents(),r._data=o=r._observe(o)),r._process(o)}finally{r.options.serverPaging=u,r.options.serverSorting=a,r.options.serverFiltering=f,r.options.serverAggregates=l}}else n!==t&&(r._rangeExists(i,s)?e>i&&r.prefetch(s,n,function(){r.range(e,n)}):r.prefetch(i,n,function(){e>i&&s<r.total()&&!r._rangeExists(s,Ot.min(s+n,r.total()))?r.prefetch(s,n,function(){r.range(e,n)}):r.range(e,n)}))},_findRange:function(e,n){var r,i,s,u,a,f,c,h,p,d,v,m,g=this,y=g._ranges,b=[],w=g.options,E=w.serverSorting||w.serverPaging||w.serverFiltering||w.serverGrouping||w.serverAggregates;for(i=0,v=y.length;v>i;i++)if(r=y[i],e>=r.start&&r.end>=e){for(d=0,s=i;v>s;s++)if(r=y[s],p=g._flatData(r.data,!0),p.length&&e+d>=r.start&&(f=r.data,c=r.end,E||(m=l(g.group()||[]).concat(o(g.sort()||[])),h=g._queryProcess(r.data,{sort:m,filter:g.filter()}),p=f=h.data,h.total!==t&&(c=h.total)),u=0,e+d>r.start&&(u=e+d-r.start),a=p.length,c>n&&(a-=c-n),d+=a-u,b=g._mergeGroups(b,f,u,a),r.end>=n&&d==n-e))return b;break}return[]},_mergeGroups:function(e,t,n,r){if(this._isServerGrouped()){var i,s=t.toJSON();return e.length&&(i=e[e.length-1]),w(i,s,n,r),e.concat(s)}return e.concat(t.slice(n,r))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,n,r){var i=this,s=i._timeStamp();return function(o){var u,a,f,l=!1,c={start:e,end:t,data:[],timestamp:i._timeStamp()};if(i._dequeueRequest(),i.trigger(Nt,{response:o,type:"read"}),o=i.reader.parse(o),f=i._readData(o),f.length){for(u=0,a=i._ranges.length;a>u;u++)if(i._ranges[u].start===e){l=!0,c=i._ranges[u];break}l||i._ranges.push(c)}c.data=i._observe(f),c.end=c.start+i._flatData(c.data,!0).length,i._ranges.sort(function(e,t){return e.start-t.start}),i._total=i.reader.total(o),(r||s>=i._currentRequestTimeStamp||!i._skipRequestsInProgress)&&(n&&f.length?n():i.trigger(bt,{}))}},prefetch:function(e,t,n){var r=this,i=Ot.min(e+t,r.total()),s={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(e,i)?n&&n():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(s,function(){r.trigger(xt,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(s),success:r._prefetchSuccessHandler(e,i,n),error:function(){var e=Bt.call(arguments);r.error.apply(r,e)}})})},100))},_multiplePrefetch:function(e,t,n){var r=this,i=Ot.min(e+t,r.total()),s={take:t,skip:e,page:e/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(e,i)?n&&n():r.trigger(xt,{type:"read"})||r.transport.read({data:r._params(s),success:r._prefetchSuccessHandler(e,i,n,!0)})},_rangeExists:function(e,t){var n,r,i=this,s=i._ranges;for(n=0,r=s.length;r>n;n++)if(e>=s[n].start&&s[n].end>=t)return!0;return!1},_removeModelFromRanges:function(e){var t,n,r,i,s;for(i=0,s=this._ranges.length;s>i&&(r=this._ranges[i],this._eachItem(r.data,function(r){t=k(r,e),t&&(n=!0)}),!n);i++);},_updateRangesLength:function(){var e,t,n,r,i=0;for(n=0,r=this._ranges.length;r>n;n++)e=this._ranges[n],e.start=e.start-i,t=this._flatData(e.data,!0).length,i=e.end-t,e.end=e.start+t}}),K={},K.create=function(t,n,r){var i,s=t.transport?e.extend({},t.transport):null;return s?(s.read=typeof s.read===pt?{url:s.read}:s.read,r&&(s.dataSource=r),t.type&&(ft.data.transports=ft.data.transports||{},ft.data.schemas=ft.data.schemas||{},ft.data.transports[t.type]&&!nt(ft.data.transports[t.type])?i=new ft.data.transports[t.type](et(s,{data:n})):s=et(!0,{},ft.data.transports[t.type],s),t.schema=et(!0,{},ft.data.schemas[t.type],t.schema)),i||(i=lt(s.read)?s:new X(s))):i=new W({data:t.data||[]}),i},J.create=function(e){(it(e)||e instanceof zt)&&(e={data:e});var n,r,i,s=e||{},o=s.data,u=s.fields,a=s.table,f=s.select,l={};if(o||!u||s.transport||(a?o=H(a,u):f&&(o=P(f,u),s.group===t&&o[0]&&o[0].optgroup!==t&&(s.group="optgroup"))),ft.data.Model&&u&&(!s.schema||!s.schema.model)){for(n=0,r=u.length;r>n;n++)i=u[n],i.type&&(l[i.field]=i);rt(l)||(s.schema=et(!0,s.schema,{model:{fields:l}}))}return s.data=o,f=null,s.select=null,a=null,s.table=null,s instanceof J?s:new J(s)},Q=Jt.define({idField:"id",init:function(e){var t=this,n=t.hasChildren||e&&e.hasChildren,r="items",i={};ft.data.Model.fn.init.call(t,e),typeof t.children===pt&&(r=t.children),i={schema:{data:r,model:{hasChildren:n,id:t.idField,fields:t.fields}}},typeof t.children!==pt&&et(i,t.children),i.data=e,n||(n=i.schema.data),typeof n===pt&&(n=ft.getter(n)),lt(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[r]&&!e._loaded)},_initChildren:function(){var e,t,n,r=this;r.children instanceof G||(e=r.children=new G(r._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[r.idField||"id"]=r.id,n&&(e=n(e,t)),e},e.parent=function(){return r},e.bind(bt,function(e){e.node=e.node||r,r.trigger(bt,e)}),e.bind(St,function(e){var t=r.parent();t&&(e.node=e.node||r,t.trigger(St,e))}),r._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var n,r,i={},s="_query";return this.hasChildren?(this._initChildren(),n=this.children,i[this.idField||"id"]=this.id,this._loaded||(n._data=t,s="read"),n.one(bt,tt(this._childrenLoaded,this)),r=n[s](i)):this.loaded(!0),r||e.Deferred().resolve().promise()},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Jt.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),G=J.extend({init:function(e){var t=Q.define({children:e});J.fn.init.call(this,et(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(St,function(t){e.trigger(St,t)})},remove:function(e){var t,n=e.parentNode(),r=this;return n&&n._initChildren&&(r=n.children),t=J.fn.remove.call(r,e),n&&!r.data().length&&(n.hasChildren=!1),t},success:B("success"),data:B("data"),insert:function(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),J.fn.insert.call(this,e,t)},_find:function(e,t){var n,r,i,s,o;if(i=J.fn[e].call(this,t))return i;if(s=this._flatData(this._data))for(n=0,r=s.length;r>n;n++)if(o=s[n].children,o instanceof G&&(i=o[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),G.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data,r=t.fields,i=t.list;return n&&n._dataSource?n._dataSource:(n||!r||t.transport||i&&(n=j(i,r)),t.data=n,t instanceof G?t:new G(t))},Y=ft.Observable.extend({init:function(e,t,n){ft.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var r=this;e.bind("change",function(){r._change()}),e.bind("reset",function(){r._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var n=this.pageSize,r=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((this.dataOffset>e||e>=this.skip+n)&&(r=this.range(Math.floor(e/n)*n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),r?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):t:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,r=Ot.max(Ot.floor(n/t),0)*t;this.offset=n,this.dataSource.prefetch(r,t,function(){e._goToRange(n,!0)})},range:function(e,t){if(this.offset===e)return!0;var n=this,r=this.pageSize,i=Ot.max(Ot.floor(e/r),0)*r,s=this.dataSource;return t&&(i+=r),s.inRange(e,r)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):this.prefetch?(s.prefetch(i,r,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)}),!1):!0},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,n=this.skip+t,r=this.dataSource;r.inRange(n,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:n,take:t}),r.prefetch(n,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:n,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,n=this.viewSize,r=Math.ceil(t/e)*e;this.skip=r,this.midPageThreshold=r+e-1,this.nextPageThreshold=r+n-1,this.prefetchThreshold=r+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=r+e-n,this.nextFullRange=r,this.previousMidRange=t-n,this.previousFullRange=r-e}}),Z=ft.Observable.extend({init:function(e,t){var n=this;ft.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new Y(e,3*t),this.buffer.bind({endreached:function(e){n.trigger("endreached",{index:e.index})},prefetching:function(e){n.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){n.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){n._total=0,n.trigger("reset")},resize:function(){n._total=Math.ceil(this.length/n.batchSize),n.trigger("resize",{total:n.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,n,r=this.buffer,i=e*this.batchSize,s=this.batchSize,o=[];for(r.offset>i&&r.at(r.offset-1),n=0;s>n&&(t=r.at(i+n),null!==t);n++)o.push(t);return o},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),et(!0,ft.data,{readers:{json:$},Query:s,DataSource:J,HierarchicalDataSource:G,Node:Q,ObservableObject:Xt,ObservableArray:zt,LazyObservableArray:Wt,LocalTransport:W,RemoteTransport:X,Cache:V,DataReader:$,Model:Jt,Buffer:Y,BatchBuffer:Z})}(window.kendo.jQuery),function(e,t){function n(t,n,r){return g.extend({init:function(e,t,n){var r=this;g.fn.init.call(r,e.element[0],t,n),r.widget=e,r._dataBinding=M(r.dataBinding,r),r._dataBound=M(r.dataBound,r),r._itemChange=M(r.itemChange,r)},itemChange:function(e){o(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()))},dataBinding:function(e){var t,n,r=this.widget,i=e.removedItems||r.items();for(t=0,n=i.length;n>t;t++)f(i[t])},_ns:function(t){t=t||T.ui;var n=[T.ui,T.dataviz.ui,T.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),T.rolesFromNamespaces(n)},dataBound:function(e){var r,i,s,u,a=this.widget,f=e.addedItems||a.items(),l=a[n],c=(l.group()||[],T.data.HierarchicalDataSource);if(!(c&&l instanceof c)&&f.length)for(s=e.addedDataItems||l.flatView(),u=this.bindings[t]._parents(),r=0,i=s.length;i>r;r++)o(f[r],s[r],this._ns(e.ns),[s[r]].concat(u))},refresh:function(e){var i,s=this,o=s.widget;e=e||{},e.action||(s.destroy(),o.bind("dataBinding",s._dataBinding),o.bind("dataBound",s._dataBound),o.bind("itemChange",s._itemChange),i=s.bindings[t].get(),o[n]instanceof T.data.DataSource&&o[n]!=i&&(i instanceof T.data.DataSource?o[r](i):i&&i._dataSource?o[r](i._dataSource):(o[n].data(i),s.bindings.value&&(o instanceof T.ui.Select||o instanceof T.ui.MultiSelect)&&o.value(p(s.bindings.value.get(),o.options.dataValueField)))))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}})}function r(e,n){var r=T.initWidget(e,{},n);return r?new E(r):t}function i(e){var t,n,r,s,o,u,a,f={};for(a=e.match(S),t=0,n=a.length;n>t;t++)r=a[t],s=r.indexOf(":"),o=r.substring(0,s),u=r.substring(s+1),"{"==u.charAt(0)&&(u=i(u)),f[o]=u;return f}function s(e,t,n){var r,i={};for(r in e)i[r]=new n(t,e[r]);return i}function o(e,t,n,u){var f,l,c,h=e.getAttribute("data-"+T.ns+"role"),p=e.getAttribute("data-"+T.ns+"bind"),g=e.children,y=[],b=!0,E={};if(u=u||[t],(h||p)&&a(e),h&&(c=r(e,n)),p&&(p=i(p.replace(x,"")),c||(E=T.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:F,valuePrimitive:!1,autoBind:!0}),E.roles=n,c=new w(e,E)),c.source=t,l=s(p,u,d),E.template&&(l.template=new m(u,"",E.template)),l.click&&(p.events=p.events||{},p.events.click=p.click,l.click.destroy(),delete l.click),l.source&&(b=!1),p.attr&&(l.attr=s(p.attr,u,d)),p.style&&(l.style=s(p.style,u,d)),p.events&&(l.events=s(p.events,u,v)),p.css&&(l.css=s(p.css,u,d)),c.bind(l)),c&&(e.kendoBindingTarget=c),b&&g){for(f=0;g.length>f;f++)y[f]=g[f];for(f=0;y.length>f;f++)o(y[f],t,n,u)}}function u(t,n){var r,i,s,u=T.rolesFromNamespaces([].slice.call(arguments,2));for(n=T.observable(n),t=e(t),r=0,i=t.length;i>r;r++)s=t[r],1===s.nodeType&&o(s,n,u)}function a(e){var t=e.kendoBindingTarget;t&&(t.destroy(),j?delete e.kendoBindingTarget:e.removeAttribute?e.removeAttribute("kendoBindingTarget"):e.kendoBindingTarget=null)}function f(e){a(e),l(e)}function l(e){var t,n,r=e.children;if(r)for(t=0,n=r.length;n>t;t++)f(r[t])}function c(t){var n,r;for(t=e(t),n=0,r=t.length;r>n;n++)f(t[n])}function h(e,t){var n=e.element,r=n[0].kendoBindingTarget;r&&u(n,r.source,t)}function p(e,t){var n,r,i=[],s=0;if(!t)return e;if(e instanceof k){for(n=e.length;n>s;s++)r=e[s],i[s]=r.get?r.get(t):r[t];e=i}else e instanceof C&&(e=e.get(t));return e}var d,v,m,g,y,b,w,E,S,x,T=window.kendo,N=T.Observable,C=T.data.ObservableObject,k=T.data.ObservableArray,L={}.toString,A={},O=T.Class,M=e.proxy,_="value",D="source",P="events",H="checked",B="css",j=!0,F="change";!function(){var e=document.createElement("a");try{delete e.test}catch(t){j=!1}}(),d=N.extend({init:function(e,t){var n=this;N.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof N,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(F,n._change))},_parents:function(){var t,n=this.parents,r=this.get();return r&&"function"==typeof r.parent&&(t=r.parent(),e.inArray(t,n)<0&&(n=[t].concat(n))),n},change:function(e){var t,n,r=e.field,i=this;if("this"===i.path)i.trigger(F,e);else for(t in i.dependencies)if(0===t.indexOf(r)&&(n=t.charAt(r.length),!n||"."===n||"["===n)){i.trigger(F,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,n=e.source,r=0,i=e.path,s=n;if(!e.observable)return s;for(e.start(e.source),s=n.get(i);s===t&&n;)n=e.parents[++r],n instanceof C&&(s=n.get(i));if(s===t)for(n=e.source;s===t&&n;)n=n.parent(),n instanceof C&&(s=n.get(i));return"function"==typeof s&&(r=i.lastIndexOf("."),r>0&&(n=n.get(i.substring(0,r))),e.start(n),s=n!==e.source?s.call(n,e.source):s.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(F,e._change).bind(F,e._change)),e.stop(e.source),s},set:function(e){var t=this.currentSource||this.source,n=T.getter(this.path)(t);"function"==typeof n?t!==this.source?n.call(t,this.source,e):n.call(t,e):t.set(this.path,e)},destroy:function(){this.observable&&(this.source.unbind(F,this._change),this.currentSource&&this.currentSource.unbind(F,this._change)),this.unbind()}}),v=d.extend({get:function(){var e,t=this.source,n=this.path,r=0;for(e=t.get(n);!e&&t;)t=this.parents[++r],t instanceof C&&(e=t.get(n));return M(e,t)}}),m=d.extend({init:function(e,t,n){var r=this;d.fn.init.call(r,e,t),r.template=n},render:function(e){var t;return this.start(this.source),t=T.render(this.template,e),this.stop(this.source),t}}),g=O.extend({init:function(e,t,n){this.element=e,this.bindings=t,this.options=n},bind:function(e,t){var n=this;e=t?e[t]:e,e.bind(F,function(e){n.refresh(t||e)}),n.refresh(t)},destroy:function(){}}),y=g.extend({dataType:function(){var e=this.element.getAttribute("data-type")||this.element.type||"text";return e.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(e,t){return"date"==t?e=T.parseDate(e,"yyyy-MM-dd"):"datetime-local"==t?e=T.parseDate(e,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==t?e=T.parseFloat(e):"boolean"==t&&(e=e.toLowerCase(),e=null!==T.parseFloat(e)?!!T.parseFloat(e):"true"===e.toLowerCase()),e}}),A.attr=g.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),A.css=g.extend({init:function(e,t,n){g.fn.init.call(this,e,t,n),this.classes={}},refresh:function(t){var n=e(this.element),r=this.bindings.css[t],i=this.classes[t]=r.get();i?n.addClass(t):n.removeClass(t)}}),A.style=g.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),A.enabled=g.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),A.readonly=g.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),A.disabled=g.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),A.events=g.extend({init:function(e,t,n){g.fn.init.call(this,e,t,n),this.handlers={}},refresh:function(t){var n=e(this.element),r=this.bindings.events[t],i=this.handlers[t];i&&n.off(t,i),i=this.handlers[t]=r.get(),n.on(t,r.source,i)},destroy:function(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),A.text=g.extend({refresh:function(){var t=this.bindings.text.get(),n=this.element.getAttribute("data-format")||"";null==t&&(t=""),e(this.element).text(T.toString(t,n))}}),A.visible=g.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),A.invisible=g.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),A.html=g.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),A.value=y.extend({init:function(t,n,r){y.fn.init.call(this,t,n,r),this._change=M(this.change,this),this.eventName=r.valueUpdate||F,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=F,this.bindings[_].set(this.parsedValue()),this._initChange=!1},refresh:function(){var e,t;this._initChange||(e=this.bindings[_].get(),null==e&&(e=""),t=this.dataType(),"date"==t?e=T.toString(e,"yyyy-MM-dd"):"datetime-local"==t&&(e=T.toString(e,"yyyy-MM-ddTHH:mm:ss")),this.element.value=e),this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),A.source=g.extend({init:function(e,t,n){g.fn.init.call(this,e,t,n);var r=this.bindings.source.get();r instanceof T.data.DataSource&&n.autoBind!==!1&&r.fetch()},refresh:function(e){var t=this,n=t.bindings.source.get();n instanceof k||n instanceof T.data.DataSource?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t||(t="select"==n?e.valueField||e.textField?T.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==n?"<tr><td>#:data#</td></tr>":"ul"==n||"ol"==n?"<li>#:data#</li>":"#:data#",t=T.template(t)),t},add:function(t,n){var r,i,s,u,a=this.container(),f=a.cloneNode(!1),l=a.children[t];if(e(f).html(T.render(this.template(),n)),f.children.length)for(r=this.bindings.source._parents(),i=0,s=n.length;s>i;i++)u=f.children[0],a.insertBefore(u,l||null),o(u,n[i],this.options.roles,[n[i]].concat(r))},remove:function(e,t){var n,r,i=this.container();for(n=0;t.length>n;n++)r=i.children[e],f(r),i.removeChild(r)},render:function(){var t,n,r,i=this.bindings.source.get(),s=this.container(),u=this.template();if(i instanceof T.data.DataSource&&(i=i.view()),i instanceof k||"[object Array]"===L.call(i)||(i=[i]),this.bindings.template){if(l(s),e(s).html(this.bindings.template.render(i)),s.children.length)for(t=this.bindings.source._parents(),n=0,r=i.length;r>n;n++)o(s.children[n],i[n],this.options.roles,[i[n]].concat(t))}else e(s).html(T.render(u,i))}}),A.input={checked:y.extend({init:function(t,n,r){y.fn.init.call(this,t,n,r),this._change=M(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,n,r=this.element,i=this.value();if("radio"==r.type)i=this.parsedValue(),this.bindings[H].set(i);else if("checkbox"==r.type)if(e=this.bindings[H].get(),e instanceof k){if(i=this.parsedValue(),i instanceof Date){for(n=0;e.length>n;n++)if(e[n]instanceof Date&&+e[n]===+i){t=n;break}}else t=e.indexOf(i);t>-1?e.splice(t,1):e.push(i)}else this.bindings[H].set(i)},refresh:function(){var e,t,n=this.bindings[H].get(),r=n,i=this.dataType(),s=this.element;if("checkbox"==s.type)if(r instanceof k){if(e=-1,n=this.parsedValue(),n instanceof Date){for(t=0;r.length>t;t++)if(r[t]instanceof Date&&+r[t]===+n){e=t;break}}else e=r.indexOf(n);s.checked=e>=0}else s.checked=r;else"radio"==s.type&&null!=n&&("date"==i?n=T.toString(n,"yyyy-MM-dd"):"datetime-local"==i&&(n=T.toString(n,"yyyy-MM-ddTHH:mm:ss")),s.value===""+n&&(s.checked=!0))},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(F,this._change)}})},A.select={source:A.source.extend({refresh:function(n){var r=this,i=r.bindings.source.get();i instanceof k||i instanceof T.data.DataSource?(n=n||{},"add"==n.action?r.add(n.index,n.items):"remove"==n.action?r.remove(n.index,n.items):("itemchange"==n.action||n.action===t)&&(r.render(),r.bindings.value&&r.bindings.value&&(r.element.value=p(r.bindings.value.get(),e(r.element).data("valueField"))))):r.render()}}),value:y.extend({init:function(t,n,r){y.fn.init.call(this,t,n,r),this._change=M(this.change,this),e(this.element).change(this._change)},parsedValue:function(){var e,t,n,r,i=this.dataType(),s=[];for(n=0,r=this.element.options.length;r>n;n++)t=this.element.options[n],t.selected&&(e=t.attributes.value,e=e&&e.specified?t.value:t.text,s.push(this._parseValue(e,i)));return s},change:function(){var e,n,r,i,s,o,u=[],a=this.options.valueField||this.options.textField,f=this.options.valuePrimitive;if(u=this.parsedValue(),a)for(e=this.bindings.source.get(),e instanceof T.data.DataSource&&(e=e.view()),n=0;u.length>n;n++)for(i=0,s=e.length;s>i;i++)if(o=f?this._parseValue(u[n],this.dataType())===e[i].get(a):""+this._parseValue(e[i].get(a),this.dataType())===u[n]){u[n]=e[i];break}r=this.bindings[_].get(),r instanceof k?r.splice.apply(r,[0,r.length].concat(u)):this.bindings[_].set(f||!(r instanceof C||null===r||r===t)&&a?u[0].get(a):u[0])},refresh:function(){var e,t,n,r=this.element,i=r.options,s=this.bindings[_].get(),o=s,u=this.options.valueField||this.options.textField,a=!1,f=this.dataType();for(o instanceof k||(o=new k([s])),r.selectedIndex=-1,n=0;o.length>n;n++)for(s=o[n],u&&s instanceof C&&(s=s.get(u)),"date"==f?s=T.toString(o[n],"yyyy-MM-dd"):"datetime-local"==f&&(s=T.toString(o[n],"yyyy-MM-ddTHH:mm:ss")),e=0;i.length>e;e++)t=i[e].value,""===t&&""!==s&&(t=i[e].text),null!=s&&t==""+s&&(i[e].selected=!0,a=!0)},destroy:function(){e(this.element).off(F,this._change)}})},A.widget={events:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=M(this.change,this),this.widget.bind(F,this._change)},change:function(){this.bindings[H].set(this.value())},refresh:function(){this.widget.check(this.bindings[H].get()===!0)},value:function(){var e=this.element,t=e.value;return("on"==t||"off"==t)&&(t=e.checked),t},destroy:function(){this.widget.unbind(F,this._change)}}),visible:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:g.extend({init:function(e,t,n){g.fn.init.call(this,e.element[0],t,n),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:n("source","dataSource","setDataSource"),value:g.extend({init:function(t,n,r){g.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(F,this._change);var i=this.bindings.value.get();this._valueIsObservableObject=!r.valuePrimitive&&(null==i||i instanceof C),this._valueIsObservableArray=i instanceof k,this._initChange=!1},change:function(){var e,t,n,r,i,s,o,u=this.widget.value(),a=this.options.dataValueField||this.options.dataTextField,f="[object Array]"===L.call(u),l=this._valueIsObservableObject,c=[];if(this._initChange=!0,a)if(this.bindings.source&&(o=this.bindings.source.get()),""===u&&(l||this.options.valuePrimitive))u=null;else{for((!o||o instanceof T.data.DataSource)&&(o=this.widget.dataSource.flatView()),f&&(t=u.length,c=u.slice(0)),i=0,s=o.length;s>i;i++)if(n=o[i],r=n.get(a),f){for(e=0;t>e;e++)if(r==c[e]){c[e]=n;break}}else if(r==u){u=l?n:r;break}c[0]&&(u=this._valueIsObservableArray?c:l||!a?c[0]:c[0].get(a))}this.bindings.value.set(u),this._initChange=!1},refresh:function(){var e,n,r,i,s,o,u,a,f;if(!this._initChange){if(e=this.widget,n=e.options,r=n.dataTextField,i=n.dataValueField||r,s=this.bindings.value.get(),o=n.text||"",u=0,f=[],s===t&&(s=null),i)if(s instanceof k){for(a=s.length;a>u;u++)f[u]=s[u].get(i);s=f}else s instanceof C&&(o=s.get(r),s=s.get(i));n.autoBind!==!1||n.cascadeFrom||!e.listView||e.listView.isBound()?e.value(s):(r!==i||o||(o=s),o||!s&&0!==s||!n.valuePrimitive?e._preselect(s,o):e.value(s))}this._initChange=!1},destroy:function(){this.widget.unbind(F,this._change)}}),gantt:{dependencies:n("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:g.extend({init:function(t,n,r){g.fn.init.call(this,t.element[0],n,r),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(F,this._change),this._initChange=!1},change:function(){var e,n,r,i,s,o,u,a,f,l=this,c=l.bindings[_].get(),h=l.options.valuePrimitive,p=h?l.widget.value():l.widget.dataItems(),d=this.options.dataValueField||this.options.dataTextField;if(p=p.slice(0),l._initChange=!0,c instanceof k){for(e=[],n=p.length,r=0,i=0,s=c[r],o=!1;s!==t;){for(f=!1,i=0;n>i;i++)if(h?o=p[i]==s:(a=p[i],a=a.get?a.get(d):a,o=a==(s.get?s.get(d):s)),o){p.splice(i,1),n-=1,f=!0;break}f?r+=1:(e.push(s),b(c,r,1),u=r),s=c[r]}b(c,c.length,0,p),e.length&&c.trigger("change",{action:"remove",items:e,index:u}),p.length&&c.trigger("change",{action:"add",items:p,index:c.length-1})}else l.bindings[_].set(p);l._initChange=!1},refresh:function(){if(!this._initChange){var e,n,r=this.options,i=this.widget,s=r.dataValueField||r.dataTextField,o=this.bindings.value.get(),u=o,a=0,f=[];if(o===t&&(o=null),s)if(o instanceof k){for(e=o.length;e>a;a++)n=o[a],f[a]=n.get?n.get(s):n;o=f}else o instanceof C&&(o=o.get(s));r.autoBind!==!1||r.valuePrimitive===!0||i.listView.isBound()?i.value(o):i._preselect(u,o)}},destroy:function(){this.widget.unbind(F,this._change)}})},scheduler:{source:n("source","dataSource","setDataSource").extend({dataBound:function(e){var t,n,r,i,s=this.widget,u=e.addedItems||s.items();if(u.length)for(r=e.addedDataItems||s.dataItems(),i=this.bindings.source._parents(),t=0,n=r.length;n>t;t++)o(u[t],r[t],this._ns(e.ns),[r[t]].concat(i))}})}},b=function(e,t,n,r){var i,s,o,u,a;if(r=r||[],n=n||0,i=r.length,s=e.length,o=[].slice.call(e,t+n),u=o.length,i){for(i=t+i,a=0;i>t;t++)e[t]=r[a],a++;e.length=i}else if(n)for(e.length=t,n+=t;n>t;)delete e[--n];if(u){for(u=t+u,a=0;u>t;t++)e[t]=o[a],a++;e.length=u}for(t=e.length;s>t;)delete e[t],t++},w=O.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,n,r,i,s,o,u=this instanceof E,a=this.binders();for(t in e)t==_?n=!0:t==D?r=!0:t!=P||u?t==H?s=!0:t==B?o=!0:this.applyBinding(t,e,a):i=!0;r&&this.applyBinding(D,e,a),n&&this.applyBinding(_,e,a),s&&this.applyBinding(H,e,a),i&&!u&&this.applyBinding(P,e,a),o&&!u&&this.applyBinding(B,e,a)},binders:function(){return A[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,i=n[e]||A[e],s=this.toDestroy,o=t[e];if(i)if(i=new i(this.target,t,this.options),s.push(i),o instanceof d)i.bind(o),s.push(o);else for(r in o)i.bind(o,r),s.push(o[r]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,n=this.toDestroy;for(e=0,t=n.length;t>e;e++)n[e].destroy()}}),E=w.extend({binders:function(){return A.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(e,t,n){var r,i=n[e]||A.widget[e],s=this.toDestroy,o=t[e];if(!i)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(i=new i(this.target,t,this.target.options),s.push(i),o instanceof d)i.bind(o),s.push(o);else for(r in o)i.bind(o,r),s.push(o[r])}}),S=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,x=/\s/g,T.unbind=c,T.bind=u,T.data.binders=A,T.data.Binder=g,T.notify=h,T.observable=function(e){return e instanceof C||(e=new C(e)),e},T.observableHierarchy=function(e){function t(e){var n,r;for(n=0;e.length>n;n++)e[n]._initChildren(),r=e[n].children,r.fetch(),e[n].items=r.data(),t(e[n].items)}var n=T.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),function(e,t){function n(e){return parseInt(e,10)}function r(e,t){return n(e.css(t))}function i(e){var t,n=[];for(t in e)n.push(t);return n}function s(e){for(var t in e)-1!=U.indexOf(t)&&-1==z.indexOf(t)&&delete e[t];return e}function o(e,t){var n,r,i,s,o=[],u={};for(r in t)n=r.toLowerCase(),s=M&&-1!=U.indexOf(n),!A.hasHW3D&&s&&-1==z.indexOf(n)?delete t[r]:(i=t[r],s?o.push(r+"("+i+")"):u[r]=i);return o.length&&(u[ut]=o.join(" ")),u}function u(e,t){var r,i,s;return M?(r=e.css(ut),r==K?"scale"==t?1:0:(i=r.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),s=0,i?s=n(i[1]):(i=r.match(B)||[0,0,0,0,0],t=t.toLowerCase(),F.test(t)?s=parseFloat(i[3]/i[2]):"translatey"==t?s=parseFloat(i[4]/i[2]):"scale"==t?s=parseFloat(i[2]):"rotate"==t&&(s=parseFloat(Math.atan2(i[2],i[1])))),s)):parseFloat(e.css(t))}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}function f(e,t){var n=d.extend(t),r=n.prototype.directions;N[a(e)]=n,N.Element.prototype[e]=function(e,t,r,i){return new n(this.element,e,t,r,i)},C(r,function(t,r){N.Element.prototype[e+a(r)]=function(e,t,i){return new n(this.element,r,e,t,i)}})}function l(e,n,r,i){f(e,{directions:m,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,s){var o,u,a=this,f="out"===this._direction,l=a.element.data(n),c=!isNaN(l)&&l!=r;o=c?l:t!==this._startValue?this._startValue:f?r:i,u=t!==this._endValue?this._endValue:f?i:r,this._reverse?(e[n]=u,s[n]=o):(e[n]=o,s[n]=u),a._shouldHide=s[n]===i}})}function c(e,t){var n=T.directions[t].vertical,r=e[n?Y:G]()/2+"px";return y[t].replace("$size",r)}var h,p,d,v,m,g,y,b,w,E,S,x,T=window.kendo,N=T.effects,C=e.each,k=e.extend,L=e.proxy,A=T.support,O=A.browser,M=A.transforms,_=A.transitions,D={scale:0,scalex:0,scaley:0,scale3d:0},P={translate:0,translatex:0,translatey:0,translate3d:0},H=t!==document.documentElement.style.zoom&&!M,B=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,j=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,F=/translatex?$/i,I=/(zoom|fade|expand)(\w+)/,q=/(zoom|fade|expand)/,R=/[xy]$/i,U=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],z=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],W={rotate:"deg",scale:"",skew:"px",translate:"px"},X=M.css,V=Math.round,$="",J="px",K="none",Q="auto",G="width",Y="height",Z="hidden",et="origin",tt="abortId",nt="overflow",rt="translate",it="position",st="completeCallback",ot=X+"transition",ut=X+"transform",at=X+"backface-visibility",ft=X+"perspective",lt="1500px",ct="perspective("+lt+")",ht={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};T.directions=ht,k(e.fn,{kendoStop:function(e,t){return _?N.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),M&&!_&&(C(z,function(n,r){e.fn[r]=function(n){if(t===n)return u(this,r);var i=e(this)[0],s=r+"("+n+W[r.replace(R,"")]+")";return-1==i.style.cssText.indexOf(ut)?e(this).css(ut,s):i.style.cssText=i.style.cssText.replace(RegExp(r+"\\(.*?\\)","i"),s),this},e.fx.step[r]=function(t){e(t.elem)[r](t.now)}}),h=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=z.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):h.apply(this,arguments)}),T.toggleClass=function(e,t,n,r){return t&&(t=t.split(" "),_&&(n=k({exclusive:"all",duration:400,ease:"ease-out"},n),e.css(ot,n.exclusive+" "+n.duration+"ms "+n.ease),setTimeout(function(){e.css(ot,"").css(Y)},n.duration)),C(t,function(t,n){e.toggleClass(n,r)})),e},T.parseEffects=function(e,t){var n={};return"string"==typeof e?C(e.split(" "),function(e,r){var i=!q.test(r),s=r.replace(I,function(e,t,n){return t+":"+n.toLowerCase()}),o=s.split(":"),u=o[1],a={};o.length>1&&(a.direction=t&&i?ht[u].reverse:u),n[o[0]]=a}):C(e,function(e){var r=this.direction;r&&t&&!q.test(e)&&(this.direction=ht[r].reverse),n[e]=this}),n},_&&k(N,{transition:function(t,n,r){var s,u,a,f,l=0,c=t.data("keys")||[];r=k({duration:200,ease:"ease-out",complete:null,exclusive:"all"},r),a=!1,f=function(){a||(a=!0,u&&(clearTimeout(u),u=null),t.removeData(tt).dequeue().css(ot,"").css(ot),r.complete.call(t))},r.duration=e.fx?e.fx.speeds[r.duration]||r.duration:r.duration,s=o(t,n),e.merge(c,i(s)),t.data("keys",e.unique(c)).height(),t.css(ot,r.exclusive+" "+r.duration+"ms "+r.ease).css(ot),t.css(s).css(ut),_.event&&(t.one(_.event,f),0!==r.duration&&(l=500)),u=setTimeout(f,r.duration+l),t.data(tt,u),t.data(st,f)},stopQueue:function(e,t,n){var r,i=e.data("keys"),s=!n&&i,o=e.data(st);return s&&(r=T.getComputedStyles(e[0],i)),o&&o(),s&&e.css(r),e.removeData("keys").stop(t)}}),p=T.Class.extend({init:function(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[]},run:function(t){var n,r,i,u,a,f,l,c=this,h=t.length,p=c.element,d=c.options,v=e.Deferred(),m={},g={};for(c.effects=t,v.then(e.proxy(c,"complete")),p.data("animating",!0),r=0;h>r;r++)for(n=t[r],n.setReverse(d.reverse),n.setOptions(d),c.addRestoreProperties(n.restore),n.prepare(m,g),a=n.children(),i=0,f=a.length;f>i;i++)a[i].duration(d.duration).run();for(l in d.effects)k(g,d.effects[l].properties);for(p.is(":visible")||k(m,{display:p.data("olddisplay")||"block"}),M&&!d.reset&&(u=p.data("targetTransform"),u&&(m=k(u,m))),m=o(p,m),M&&!_&&(m=s(m)),p.css(m).css(ut),r=0;h>r;r++)t[r].setup();return d.init&&d.init(),p.data("targetTransform",g),N.animate(p,g,k({},d,{complete:v.resolve})),v.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,n=this.element,r=0,i=e.length;i>r;r++)t=e[r],this.restore.push(t),n.data(t)||n.data(t,n.css(t))},restoreCallback:function(){var e,t,n,r=this.element;for(e=0,t=this.restore.length;t>e;e++)n=this.restore[e],r.css(n,r.data(n))},complete:function(){var t=this,n=0,r=t.element,i=t.options,s=t.effects,o=s.length;for(r.removeData("animating").dequeue(),i.hide&&r.data("olddisplay",r.css("display")).hide(),this.restoreCallback(),H&&!M&&setTimeout(e.proxy(this,"restoreCallback"),0);o>n;n++)s[n].teardown();i.completeCallback&&i.completeCallback(r)}}),N.promise=function(e,t){var n,r,i,s=[],o=new p(e,t),u=T.parseEffects(t.effects);t.effects=u;for(i in u)n=N[a(i)],n&&(r=new n(e,u[i].direction),s.push(r));s[0]?o.run(s):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),o.complete())},k(N,{animate:function(n,i,o){var u=o.transition!==!1;delete o.transition,_&&"transition"in N&&u?N.transition(n,i,o):M?n.animate(s(i),{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete}):n.each(function(){var n=e(this),s={};C(U,function(e,o){var u,a,f,l,c,h,p,d=i?i[o]+" ":null;d&&(a=i,o in D&&i[o]!==t?(u=d.match(j),M&&k(a,{scale:+u[0]})):o in P&&i[o]!==t&&(f=n.css(it),l="absolute"==f||"fixed"==f,n.data(rt)||(l?n.data(rt,{top:r(n,"top")||0,left:r(n,"left")||0,bottom:r(n,"bottom"),right:r(n,"right")}):n.data(rt,{top:r(n,"marginTop")||0,left:r(n,"marginLeft")||0})),c=n.data(rt),u=d.match(j),u&&(h=o==rt+"y"?0:+u[1],p=o==rt+"y"?+u[1]:+u[2],l?(isNaN(c.right)?isNaN(h)||k(a,{left:c.left+h}):isNaN(h)||k(a,{right:c.right-h}),isNaN(c.bottom)?isNaN(p)||k(a,{top:c.top+p}):isNaN(p)||k(a,{bottom:c.bottom-p})):(isNaN(h)||k(a,{marginLeft:c.left+h}),isNaN(p)||k(a,{marginTop:c.top+p})))),!M&&"scale"!=o&&o in a&&delete a[o],a&&k(s,a))}),O.msie&&delete s.scale,n.animate(s,{queue:!1,show:!1,hide:!1,duration:o.duration,complete:o.complete})})}}),N.animatedPromise=N.promise,d=T.Class.extend({init:function(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore||(n.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=this,t=new p(e.element,{reverse:e._reverse,duration:e._duration}),n=e._additionalEffects.concat([e]);return t.run(n)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,r=this,i=r.element,u=0,a=r.restore,f=a.length,l=e.Deferred(),c={},h={},p=r.children(),d=p.length;for(l.then(e.proxy(r,"_complete")),i.data("animating",!0),u=0;f>u;u++)t=a[u],i.data(t)||i.data(t,i.css(t));for(u=0;d>u;u++)p[u].duration(r._duration).run();return r.prepare(c,h),i.is(":visible")||k(c,{display:i.data("olddisplay")||"block"}),M&&(n=i.data("targetTransform"),n&&(c=k(n,c))),c=o(i,c),M&&!_&&(c=s(c)),i.css(c).css(ut),r.setup(),i.data("targetTransform",h),N.animate(i,h,{duration:r._duration,complete:l.resolve}),l.promise()},stop:function(){var t=0,n=this.children(),r=n.length;for(t=0;r>t;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e,t,n,r=this.element;for(e=0,t=this.restore.length;t>e;e++)n=this.restore[e],r.css(n,r.data(n))},_complete:function(){var t=this,n=t.element;n.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&n.data("olddisplay",n.css("display")).hide(),H&&!M&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown()},setOptions:function(e){k(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),v=["left","right","up","down"],m=["in","out"],f("slideIn",{directions:v,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var n,r=this,i=r.element,s=ht[r._direction],o=-s.modifier*(s.vertical?i.outerHeight():i.outerWidth()),u=o/(r.options&&r.options.divisor||1)+J,a="0px";r._reverse&&(n=e,e=t,t=n),M?(e[s.transition]=u,t[s.transition]=a):(e[s.property]=u,t[s.property]=a)}}),f("tile",{directions:v,init:function(e,t,n){d.prototype.init.call(this,e,t),this.options={previous:n}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this,t=e._reverse,n=e.options.previous,r=e.options.previousDivisor||1,i=e._direction,s=[T.fx(e.element).slideIn(i).setReverse(t)];return n&&s.push(T.fx(n).slideIn(ht[i].reverse).divisor(r).setReverse(!t)),s}}),l("fade","opacity",1,0),l("zoom","scale",1,.01),f("slideMargin",{prepare:function(e,t){var n,r=this,i=r.element,s=r.options,o=i.data(et),u=s.offset,a=r._reverse;a||null!==o||i.data(et,parseFloat(i.css("margin-"+s.axis))),n=i.data(et)||0,t["margin-"+s.axis]=a?n:n+u}}),f("slideTo",{prepare:function(e,t){var n=this,r=n.element,i=n.options,s=i.offset.split(","),o=n._reverse;M?(t.translatex=o?0:s[0],t.translatey=o?0:s[1]):(t.left=o?0:s[0],t.top=o?0:s[1]),r.css("left")}}),f("expand",{directions:["horizontal","vertical"],restore:[nt],prepare:function(e,n){var r=this,i=r.element,s=r.options,o=r._reverse,u="vertical"===r._direction?Y:G,a=i[0].style[u],f=i.data(u),l=parseFloat(f||a),c=V(i.css(u,Q)[u]());e.overflow=Z,l=s&&s.reset?c||l:l||c,n[u]=(o?0:l)+J,e[u]=(o?l:0)+J,f===t&&i.data(u,a)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,n="vertical"===e._direction?Y:G,r=t.data(n);(r==Q||r===$)&&setTimeout(function(){t.css(n,Q).css(n)},0)}}),g={position:"absolute",marginLeft:0,marginTop:0,scale:1},f("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var n=this,r=n.element,i=N.box(r),s=N.box(n.options.target),o=u(r,"scale"),a=N.fillScale(s,i),f=N.transformOrigin(s,i);k(e,g),t.scale=1,r.css(ut,"scale(1)").css(ut),r.css(ut,"scale("+o+")"),e.top=i.top,e.left=i.left,e.transformOrigin=f.x+J+" "+f.y+J,n._reverse?e.scale=a:t.scale=a}}),y={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},b={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},f("turningPage",{directions:v,init:function(e,t,n){d.prototype.init.call(this,e,t),this._container=n},prepare:function(e,t){var n=this,r=n._reverse,i=r?ht[n._direction].reverse:n._direction,s=b[i];e.zIndex=1,n._clipInHalf&&(e.clip=c(n._container,T.directions[i].reverse)),e[at]=Z,t[ut]=ct+(r?s.start:s.end),e[ut]=ct+(r?s.end:s.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),f("staticPage",{directions:v,init:function(e,t,n){d.prototype.init.call(this,e,t),this._container=n},restore:["clip"],prepare:function(e,t){var n=this,r=n._reverse?ht[n._direction].reverse:n._direction;e.clip=c(n._container,r),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,n=e._face;return t&&!n||!t&&n},face:function(e){return this._face=e,this}}),f("pageturn",{directions:["horizontal","vertical"],init:function(e,t,n,r){d.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=r},children:function(){var e,t=this,n=t.options,r="horizontal"===t._direction?"left":"top",i=T.directions[r].reverse,s=t._reverse,o=n.face.clone(!0).removeAttr("id"),u=n.back.clone(!0).removeAttr("id"),a=t.element;return s&&(e=r,r=i,i=e),[T.fx(n.face).staticPage(r,a).face(!0).setReverse(s),T.fx(n.back).staticPage(i,a).setReverse(s),T.fx(o).turningPage(r,a).face(!0).clipInHalf(!0).temporary().setReverse(s),T.fx(u).turningPage(i,a).clipInHalf(!0).temporary().setReverse(s)]},prepare:function(e,t){e[ft]=lt,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),f("flip",{directions:["horizontal","vertical"],init:function(e,t,n,r){d.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=r},children:function(){var e,t=this,n=t.options,r="horizontal"===t._direction?"left":"top",i=T.directions[r].reverse,s=t._reverse,o=t.element;return s&&(e=r,r=i,i=e),[T.fx(n.face).turningPage(r,o).face(!0).setReverse(s),T.fx(n.back).turningPage(i,o).setReverse(s)]},prepare:function(e){e[ft]=lt,e.transformStyle="preserve-3d"}}),w=!A.mobileOS.android,E=".km-touch-scrollbar, .km-actionsheet-wrapper",f("replace",{_before:e.noop,_after:e.noop,init:function(t,n,r){d.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=r},duration:function(){throw Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return e().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(t){if(!(!this.deferred||t&&e(t.target).is(E))){var n=this.container;n.removeClass("k-fx-end").removeClass(this._containerClass()).off(_.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),w&&n.css(nt,""),this.isAbsolute||this._both().css(it,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n=this,r=n.element,i=n._previous,s=r.parents().filter(i.parents()).first(),o=n._both(),u=e.Deferred(),a=r.css(it);return s.length||(s=r.parent()),this.container=s,this.deferred=u,this.isAbsolute="absolute"==a,this.isAbsolute||o.css(it,"absolute"),w&&(t=s.css(nt),s.css(nt,"hidden")),_?(r.addClass("k-fx-hidden"),s.addClass(this._containerClass()),this.completeProxy=e.proxy(this,"complete"),s.on(_.event,this.completeProxy),T.animationFrame(function(){r.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),n._before(i,r),T.animationFrame(function(){s.removeClass("k-fx-start").addClass("k-fx-end"),n._after(i,r)})})):this.complete(),u.promise()},stop:function(){this.complete()}}),S=T.Class.extend({init:function(){var e=this;e._tickProxy=L(e._tick,e),e._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,T.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):T.animationFrame(e._tickProxy))}}),x=S.extend({init:function(e){var t=this;k(t,e),S.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),k(x,{easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeOutBack:function(e,t,n,r,i){return i=1.70158,n*((e=e/r-1)*e*((i+1)*e+i)+1)+t}}),N.Animation=S,N.Transition=x,N.createEffect=f,N.box=function(t){t=e(t);var n=t.offset();return n.width=t.outerWidth(),n.height=t.outerHeight(),n},N.transformOrigin=function(e,t){var n=(e.left-t.left)*t.width/(t.width-e.width),r=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(n)?0:n,y:isNaN(r)?0:r}},N.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},N.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),function(e){function t(e){if(!e)return{};var t=e.match(g)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]}}var n=window.kendo,r=n.Observable,i="SCRIPT",s="init",o="show",u="hide",a="transitionStart",f="transitionEnd",l="attach",c="detach",h=/unrecognized expression/,p=r.extend({init:function(e,t){var i=this;t=t||{},r.fn.init.call(i),i.content=e,i.id=n.guid(),i.tagName=t.tagName||"div",i.model=t.model,i._wrap=t.wrap!==!1,this._evalTemplate=t.evalTemplate||!1,i._fragments={},i.bind([s,o,u,a,f],t)},render:function(t){var r=this,i=!r.element;return i&&(r.element=r._createElement()),t&&e(t).append(r.element),i&&(n.bind(r.element,r.model),r.trigger(s)),t&&(r._eachFragment(l),r.trigger(o)),r.element},clone:function(){return new d(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(a,{type:e})},afterTransition:function(e){this.trigger(f,{type:e})},hide:function(){this._eachFragment(c),this.element.detach(),this.trigger(u)},destroy:function(){var e=this.element;e&&(n.unbind(e),n.destroy(e),e.remove())},fragments:function(t){e.extend(this._fragments,t)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t,r,s,o=this,u="<"+o.tagName+" />";try{r=e(document.getElementById(o.content)||o.content),r[0].tagName===i&&(r=r.html())}catch(a){h.test(a.message)&&(r=o.content)}return"string"==typeof r?(r=r.replace(/^\s+|\s+$/g,""),o._evalTemplate&&(r=n.template(r)(o.model||{})),t=e(u).append(r),o._wrap||(t=t.contents())):(t=r,o._evalTemplate&&(s=e(n.template(e("<div />").append(t.clone(!0)).html())(o.model||{})),e.contains(document,t[0])&&t.replaceWith(s),t=s),o._wrap&&(t=t.wrapAll(u).parent())),t}}),d=n.Class.extend({init:function(t){e.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id}),t.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:e.noop,afterTransition:e.noop}),v=p.extend({init:function(e,t){p.fn.init.call(this,e,t),this.containers={}},container:function(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t},showIn:function(e,t,n){this.container(e).show(t,n)},_createContainer:function(e){var t,n=this.render(),r=n.find(e);if(!r.length&&n.is(e)){if(!n.is(e))throw Error("can't find a container with the specified "+e+" selector");r=n}return t=new y(r),t.bind("accepted",function(e){e.view.render(r)}),t}}),m=p.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),g=/^(\w+)(:(\w+))?( (\w+))?$/,y=r.extend({init:function(e){r.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(e,r,i){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;i=i||e.id;var s=this,o=e===s.view?e.clone():s.view,u=s.history,a=u[u.length-2]||{},f=a.id===i,l=r||(f?u[u.length-1].transition:e.transition),c=t(l);return s.running&&s.effect.stop(),"none"===l&&(l=null),s.trigger("accepted",{view:e}),s.view=e,s.previous=o,s.running=!0,f?u.pop():u.push({id:i,transition:l}),o?(l&&n.effects.enabled?(e.element.addClass("k-fx-hidden"),e.showStart(),f&&!r&&(c.reverse=!c.reverse),s.effect=n.fx(e.element).replace(o.element,c.type).beforeTransition(function(){e.beforeTransition("show"),o.beforeTransition("hide")}).afterTransition(function(){e.afterTransition("show"),o.afterTransition("hide")}).direction(c.direction).setReverse(c.reverse),s.effect.run().then(function(){s.end()})):(e.showStart(),s.end()),!0):(e.showStart(),e.showEnd(),s.after(),!0)}});n.ViewContainer=y,n.Fragment=m,n.Layout=v,n.View=p,n.ViewClone=d}(window.kendo.jQuery),function(e){function t(){this.node=null}function n(){}function r(e,t,n){this.nodeName=e,this.attr=t||{},this.children=n||[]}function i(e){this.nodeValue=e}function s(e){this.html=e}function o(e){return new s(e)}function u(e,t,n){return new r(e,t,n)}function a(e){return new i(e)}function f(e){this.root=e,this.children=[]}t.prototype={remove:function(){this.node.parentNode.removeChild(this.node)},attr:{}},n.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var l=new n;r.prototype=new t,r.prototype.appendTo=function(e){var t,n=document.createElement(this.nodeName),r=this.children;for(t=0;r.length>t;t++)r[t].render(n,l);return e.appendChild(n),n},r.prototype.render=function(e,t){var n,r,i,s,o,u;if(t.nodeName!==this.nodeName)t.remove(),n=this.appendTo(e);else{if(n=t.node,i=this.children,s=i.length,o=t.children,u=o.length,Math.abs(u-s)>2)return void this.render({appendChild:function(n){e.replaceChild(n,t.node)}},l);for(r=0;s>r;r++)i[r].render(n,o[r]||l);for(r=s;u>r;r++)o[r].remove()}this.node=n,this.syncAttributes(t.attr),this.removeAttributes(t.attr)},r.prototype.syncAttributes=function(e){var t,n,r,i=this.attr;for(t in i)n=i[t],r=e[t],"style"===t?this.setStyle(n,r):n!==r&&this.setAttribute(t,n,r)},r.prototype.setStyle=function(e,t){var n,r=this.node;if(t)for(n in e)e[n]!==t[n]&&(r.style[n]=e[n]);else for(n in e)r.style[n]=e[n]},r.prototype.removeStyle=function(e){var t,n=this.attr.style||{},r=this.node;for(t in e)void 0===n[t]&&(r.style[t]="")},r.prototype.removeAttributes=function(e){var t,n=this.attr;for(t in e)"style"===t?this.removeStyle(e.style):void 0===n[t]&&this.removeAttribute(t)},r.prototype.removeAttribute=function(e){var t=this.node;"style"===e?t.style.cssText="":"className"===e?t.className="":t.removeAttribute(e)},r.prototype.setAttribute=function(e,t){var n=this.node;void 0!==n[e]?n[e]=t:n.setAttribute(e,t)},i.prototype=new t,i.prototype.nodeName="#text",i.prototype.render=function(e,t){var n;t.nodeName!==this.nodeName?(t.remove(),n=document.createTextNode(this.nodeValue),e.appendChild(n)):(n=t.node,this.nodeValue!==t.nodeValue&&(n.nodeValue=this.nodeValue)),this.node=n},s.prototype={nodeName:"#html",attr:{},remove:function(){for(var e=0;this.nodes.length>e;e++)this.nodes[e].parentNode.removeChild(this.nodes[e])},render:function(e,t){var n,r;if(t.nodeName!==this.nodeName||t.html!==this.html)for(t.remove(),n=e.lastChild,e.insertAdjacentHTML("beforeend",this.html),this.nodes=[],r=n?n.nextSibling:e.firstChild;r;r=r.nextSibling)this.nodes.push(r);else this.nodes=t.nodes.slice(0)}},f.prototype={html:o,element:u,text:a,render:function(e){var t,n,r=this.children;for(t=0,n=e.length;n>t;t++)e[t].render(this.root,r[t]||l);for(t=n;r.length>t;t++)r[t].remove();this.children=e}},e.dom={html:o,text:a,element:u,Tree:f}}(window.kendo),function(e,t){function n(e){var t=Math.floor(e/26)-1;return(t>=0?n(t):"")+String.fromCharCode(65+e%26)}function r(e,t){return n(t)+(e+1)}function i(e,t){return n(t)+"$"+(e+1)}function s(e){return((e.freezePane||{}).rowSplit||1)-1}function o(e){return 6>e.length&&(e=e.replace(/(\w)/g,function(e,t){return t+t})),e=e.substring(1).toUpperCase(),8>e.length&&(e="FF"+e),e}var u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',a=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>${creator}</dc:creator><cp:lastModifiedBy>${lastModifiedBy}</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${created}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${modified}</dcterms:modified></cp:coreProperties>'),f=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>${sheets.length}</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="${sheets.length}" baseType="lpstr"># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<vt:lpstr>${sheets[idx].options.title}</vt:lpstr># } else { #<vt:lpstr>Sheet${idx+1}</vt:lpstr># } ## } #</vt:vector></TitlesOfParts><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>'),l=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/># for (var idx = 1; idx <= count; idx++) { #<Override PartName="/xl/worksheets/sheet${idx}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /># } #<Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /></Types>'),c=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" /><workbookPr defaultThemeVersion="124226" /><bookViews><workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" /></bookViews><sheets># for (var idx = 0; idx < sheets.length; idx++) { ## if (sheets[idx].options.title) { #<sheet name="${sheets[idx].options.title}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } else { #<sheet name="Sheet${idx+1}" sheetId="${idx+1}" r:id="rId${idx+1}" /># } ## } #</sheets># if (definedNames.length) { #<definedNames> # for (var di = 0; di < definedNames.length; di++) { #<definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${definedNames[di].localSheetId}">${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}</definedName> # } #</definedNames># } #<calcPr calcId="145621" /></workbook>'),h=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"><dimension ref="A1" /><sheetViews><sheetView #if(index==0) {# tabSelected="1" #}# workbookViewId="0"># if (freezePane) { #<pane state="frozen"# if (freezePane.colSplit) { # xSplit="${freezePane.colSplit}"# } ## if (freezePane.rowSplit) { # ySplit="${freezePane.rowSplit}"# } # topLeftCell="${String.fromCharCode(65 + (freezePane.colSplit || 0))}${(freezePane.rowSplit || 0)+1}"/># } #</sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25" /># if (columns) { #<cols># for (var ci = 0; ci < columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #<col min="${ci+1}" max="${ci+1}" customWidth="1"# if (column.autoWidth) { # width="${((column.width*7+5)/7*256)/256}" bestFit="1"# } else { # width="${(((column.width)/7)*100+0.5)/100}" # } #/># } ## } #</cols># } #<sheetData># for (var ri = 0; ri < data.length; ri++) { ## var row = data[ri]; #<row r="#=ri + 1#"># for (var ci = 0; ci < row.data.length; ci++) { ## var cell = row.data[ci];#<c r="#=cell.ref#"# if (cell.style) { # s="#=cell.style#" # } ## if (cell.type) { # t="#=cell.type#"# } #># if (cell.value != null) { #<v>${cell.value}</v># } #</c># } #</row># } #</sheetData># if (filter) { #<autoFilter ref="${filter.from}:${filter.to}"/># } ## if (mergeCells.length) { #<mergeCells count="${mergeCells.length}"># for (var ci = 0; ci < mergeCells.length; ci++) { #<mergeCell ref="${mergeCells[ci]}"/># } #</mergeCells># } #<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" /></worksheet>'),p=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"># for (var idx = 1; idx <= count; idx++) { #<Relationship Id="rId${idx}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${idx}.xml" /># } #<Relationship Id="rId${count+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" /><Relationship Id="rId${count+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" /></Relationships>'),d=t.template('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${count}" uniqueCount="${uniqueCount}"># for (var index in indexes) { #<si><t>${index.substring(1)}</t></si># } #</sst>'),v=t.template('<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="${formats.length}"># for (var fi = 0; fi < formats.length; fi++) { ## var format = formats[fi]; #<numFmt formatCode="${format.format}" numFmtId="${165+fi}" /># } #</numFmts><fonts count="${fonts.length+1}" x14ac:knownFonts="1"><font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><scheme val="minor" /></font># for (var fi = 0; fi < fonts.length; fi++) { ## var font = fonts[fi]; #<font># if (font.bold) { #<b/># } ## if (font.italic) { #<i/># } ## if (font.underline) { #<u/># } ## if (font.color) { #<color rgb="${font.color}" /># } else { #<color theme="1" /># } ## if (font.fontSize) { #<sz val="${font.fontSize}" /># } else { #<sz val="11" /># } ## if (font.fontName) { #<name val="${font.fontName}" /># } else { #<name val="Calibri" /><scheme val="minor" /># } #<family val="2" /></font># } #</fonts><fills count="${fills.length+1}"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill># for (var fi = 0; fi < fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #<fill><patternFill patternType="solid"><fgColor rgb="${fill.background}"/></patternFill></fill># } ## } #</fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellXfs count="${styles.length+1}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/># for (var si = 0; si < styles.length; si++) { ## var style = styles[si]; #<xf xfid="0"# if (style.fontId) { # fontId="${style.fontId}" applyFont="1"# } ## if (style.fillId) { # fillId="${style.fillId}" applyFill="1"# } ## if (style.numFmtId) { # numFmtId="${style.numFmtId}" applyNumberFormat="1"# } ## if (style.hAlign || style.vAlign || style.wrap) { # applyAlignment="1"# } #># if (style.hAlign || style.vAlign || style.wrap) { #<alignment# if (style.hAlign) { # horizontal="${style.hAlign}"# } ## if (style.vAlign) { # vertical="${style.vAlign}"# } ## if (style.wrap) { # wrapText="1"# } #/># } #</xf># } #</cellXfs><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" /></styleSheet>'),m=t.timezone.remove(new Date(1900,0,0),"Etc/UTC"),g=t.Class.extend({init:function(e,t,n){this.options=e,this._strings=t,this._styles=n,this._mergeCells=[]},toXML:function(e){var t,n,i=this.options.rows||[],o=this.options.filter,u={};for(this._maxCellIndex=0,t=[],n=0;i.length>n;n++)t.push(this._row(i,u,i[n],n));return h({freezePane:this.options.freezePane,columns:this.options.columns,data:t,index:e,mergeCells:this._mergeCells,filter:o?{from:r(s(this.options),o.from),to:r(s(this.options),o.to)}:null})},_row:function(e,t,n,i){var s,o,u,a,f,l;for(this._cellIndex&&this._cellIndex>this._maxCellIndex&&(this._maxCellIndex=this._cellIndex),this._cellIndex=0,o=[],u=n.cells,a=0,f=u.length;f>a;a++)s=this._cell(u[a],t,i),s&&o.push.apply(o,s);for(;this._maxCellIndex>this._cellIndex;)l=t[this._cellIndex],l&&(l.rowSpan-=1),o.push({ref:r(i,this._cellIndex)}),this._cellIndex++;return{data:o}},_lookupString:function(e){var t="$"+e,n=this._strings.indexes[t];return void 0!==n?e=n:(e=this._strings.indexes[t]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,e},_lookupStyle:function(n){var r,i=t.stringify(n);return"{}"==i?0:(r=e.inArray(i,this._styles),0>r&&(r=this._styles.push(i)-1),r+1)},_cell:function(e,n,i){var s,o,u,a,f,l,c,h,p,d,v,g;if(!e)return void (this._cellIndex++);for(s=e.value,o={bold:e.bold,color:e.color,background:e.background,italic:e.italic,underline:e.underline,fontName:e.fontName,fontSize:e.fontSize,format:e.format,hAlign:e.hAlign,vAlign:e.vAlign,wrap:e.wrap},u=this.options.columns||[],a=u[this._cellIndex],a&&a.autoWidth&&(a.width=Math.max(a.width||0,(""+s).length)),f=typeof s,"string"===f?(s=this._lookupString(s),f="s"):"number"===f?f="n":"boolean"===f?(f="b",s=+s):s&&s.getTime?(f=null,s=(t.timezone.remove(s,"Etc/UTC")-m)/t.date.MS_PER_DAY+1,o.format||(o.format="mm-dd-yy")):(f=null,s=""),o=this._lookupStyle(o),l=[],p=n[this._cellIndex]||{};p.rowSpan>1;){for(p.rowSpan-=1,c=p.colSpan;c>0;)l.push({ref:r(i,this._cellIndex)}),c--,this._cellIndex++;p=n[this._cellIndex]||{}}if(h=r(i,this._cellIndex),l.push({value:s,type:f,style:o,ref:h}),d=e.colSpan||1,v=e.rowSpan||1,d>1||v>1){for(v>1&&(n[this._cellIndex]={colSpan:d,rowSpan:v}),g=1;d>g;g++)this._cellIndex++,l.push({ref:r(i,this._cellIndex)});this._mergeCells.push(h+":"+r(i+v-1,this._cellIndex))}return this._cellIndex++,l}}),y={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70},b=t.Class.extend({init:function(t){this.options=t||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._sheets=e.map(this.options.sheets||[],e.proxy(function(e){return new g(e,this._strings,this._styles)},this))},toDataURL:function(){var n,r,h,m,g,b,w,E,S,x,T,N,C,k;if("undefined"==typeof JSZip)throw Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");for(n=new JSZip,r=n.folder("docProps"),r.file("core.xml",a({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()})),h=this._sheets.length,r.file("app.xml",f({sheets:this._sheets})),m=n.folder("_rels"),m.file(".rels",u),g=n.folder("xl"),b=g.folder("_rels"),b.file("workbook.xml.rels",p({count:h})),g.file("workbook.xml",c({sheets:this._sheets,definedNames:e.map(this._sheets,function(e,t){var n=e.options,r=n.filter;return r?{localSheetId:t,name:n.title||"Sheet"+(t+1),from:i(s(n),r.from),to:i(s(n),r.to)}:void 0})})),w=g.folder("worksheets"),E=new Date,S=0;h>S;S++)w.file(t.format("sheet{0}.xml",S+1),this._sheets[S].toXML(S));return x=e.map(this._styles,e.parseJSON),T=function(e){return e.underline||e.bold||e.italic||e.color||e.fontName||e.fontSize},N=e.map(x,function(e){return e.color&&(e.color=o(e.color)),T(e)?e:void 0}),C=e.map(x,function(e){return e.format&&void 0===y[e.format]?e:void 0}),k=e.map(x,function(e){return e.background?(e.background=o(e.background),e):void 0}),g.file("styles.xml",v({fonts:N,fills:k,formats:C,styles:e.map(x,function(t){var n={};return T(t)&&(n.fontId=e.inArray(t,N)+1),t.background&&(n.fillId=e.inArray(t,k)+2),n.hAlign=t.hAlign,n.vAlign=t.vAlign,n.wrap=t.wrap,t.format&&(n.numFmtId=void 0!==y[t.format]?y[t.format]:165+e.inArray(t,C)),n})})),g.file("sharedStrings.xml",d(this._strings)),n.file("[Content_Types].xml",l({count:h})),"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+n.generate({compression:"DEFLATE"})}});t.ooxml={Workbook:b,Worksheet:g}}(kendo.jQuery,kendo),function(e,t){t.ExcelExporter=t.Class.extend({init:function(n){var r,i,s;n.columns=this._trimColumns(n.columns||[]),this.allColumns=e.map(this._leafColumns(n.columns||[]),this._prepareColumn),this.columns=e.grep(this.allColumns,function(e){return!e.hidden}),this.options=n,r=n.dataSource,r instanceof t.data.DataSource?(this.dataSource=new r.constructor(e.extend({},r.options,{page:n.allPages?0:r.page(),filter:r.filter(),pageSize:n.allPages?r.total():r.pageSize(),sort:r.sort(),group:r.group(),aggregate:r.aggregate()})),i=r.data(),i.length>0&&(this.dataSource._data=i,s=this.dataSource.transport,r._isServerGrouped()&&s.options.data&&(s.options.data=null))):this.dataSource=t.data.DataSource.create(r)},_trimColumns:function(t){var n=this;return e.grep(t,function(e){var t=!!e.field;return!t&&e.columns&&(t=n._trimColumns(e.columns).length>0),t})},_leafColumns:function(e){var t,n=[];for(t=0;e.length>t;t++)e[t].columns?n=n.concat(this._leafColumns(e[t].columns)):n.push(e[t]);return n},workbook:function(){return e.Deferred(e.proxy(function(t){this.dataSource.fetch().then(e.proxy(function(){var e={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};t.resolve(e,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(n){var r,i;if(n.field)return r=function(e){return e.get(n.field)},i=null,n.values&&(i={},e.each(n.values,function(){i[this.value]=this.text}),r=function(e){return i[e.get(n.field)]}),e.extend({},n,{value:r,values:i,groupHeaderTemplate:t.template(n.groupHeaderTemplate||"${title}: ${value}"),groupFooterTemplate:n.groupFooterTemplate?t.template(n.groupFooterTemplate):null,footerTemplate:n.footerTemplate?t.template(n.footerTemplate):null})},_filter:function(){if(!this.options.filterable)return null;var e=this._depth();return{from:e,to:e+this.columns.length-1}},_dataRow:function(t,n,r){var i,s,o,u,a,f,l,c,h,p;for(this._hierarchical()&&(n=this.dataSource.level(t)+1),i=[],s=0;n>s;s++)i[s]={background:"#dfdfdf",color:"#333"};if(r&&t.items)return o=e.grep(this.allColumns,function(e){return e.field==t.field})[0],u=o&&o.title?o.title:t.field,a=o?o.groupHeaderTemplate:null,f=u+": "+t.value,l=e.extend({title:u,field:t.field,value:o&&o.values?o.values[t.value]:t.value,aggregates:t.aggregates},t.aggregates[t.field]),a&&(f=a(l)),i.push({value:f,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+r-n}),c=this._dataRows(t.items,n+1),c.unshift({type:"group-header",cells:i}),c.concat(this._footer(t));for(h=[],p=0;this.columns.length>p;p++)h[p]=this._cell(t,this.columns[p]);return this._hierarchical()&&(h[0].colSpan=r-n+1),[{type:"data",cells:i.concat(h)}]},_dataRows:function(e,t){var n,r=this._depth(),i=[];for(n=0;e.length>n;n++)i.push.apply(i,this._dataRow(e[n],t,r));return i},_footer:function(t){var n=[],r=!1,i=e.map(this.columns,e.proxy(function(n){return n.groupFooterTemplate?(r=!0,{background:"#dfdfdf",color:"#333",value:n.groupFooterTemplate(e.extend({},this.dataSource.aggregates(),t.aggregates,t.aggregates[n.field]))}):{background:"#dfdfdf",color:"#333"}},this));return r&&n.push({type:"group-footer",cells:e.map(Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(i)}),n},_isColumnVisible:function(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns)},_visibleColumns:function(t){var n=this;return e.grep(t,function(e){var t=!e.hidden;return t&&e.columns&&(t=n._visibleColumns(e.columns).length>0),t})},_headerRow:function(t,n){var r=e.map(t.cells,function(e){return{background:"#7a7a7a",color:"#fff",value:e.title,colSpan:e.colSpan>1?e.colSpan:1,rowSpan:t.rowSpan>1&&!e.colSpan?t.rowSpan:1}});return this._hierarchical()&&(r[0].colSpan=this._depth()+1),{type:"header",cells:e.map(Array(n.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(r)}},_prependHeaderRows:function(e){var t,n=this.dataSource.group(),r=[{rowSpan:1,cells:[],index:0}];for(this._prepareHeaderRows(r,this.options.columns),t=r.length-1;t>=0;t--)e.unshift(this._headerRow(r[t],n))},_prepareHeaderRows:function(e,t,n,r){var i,s,o,u=r||e[e.length-1],a=e[u.index+1],f=0;for(o=0;t.length>o;o++)i=t[o],this._isColumnVisible(i)&&(s={title:i.title||i.field,colSpan:0},u.cells.push(s),i.columns&&i.columns.length&&(a||(a={rowSpan:0,cells:[],index:e.length},e.push(a)),s.colSpan=this._trimColumns(this._visibleColumns(i.columns)).length,this._prepareHeaderRows(e,i.columns,s,a),f+=s.colSpan-1,u.rowSpan=e.length-u.index));n&&(n.colSpan+=f)},_rows:function(){var t,n,r=this.dataSource.group(),i=this._dataRows(this.dataSource.view(),0);return this.columns.length&&(this._prependHeaderRows(i),t=!1,n=e.map(this.columns,e.proxy(function(n){if(n.footerTemplate){t=!0;var r=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:n.footerTemplate(e.extend({},r,r[n.field]))}}return{background:"#dfdfdf",color:"#333"}},this)),t&&i.push({type:"footer",cells:e.map(Array(r.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(n)})),i},_headerDepth:function(e){var t,n,r=1,i=0;for(t=0;e.length>t;t++)e[t].columns&&(n=this._headerDepth(e[t].columns),n>i&&(i=n));return r+i},_freezePane:function(){var t=this._visibleColumns(this.options.columns||[]),n=this._visibleColumns(this._trimColumns(this._leafColumns(e.grep(t,function(e){return e.locked})))).length;return{rowSplit:this._headerDepth(t),colSplit:n?n+this.dataSource.group().length:0}},_cell:function(e,t){return{value:t.value(e)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var e,t,n,r=this.dataSource,i=0;if(this._hierarchical()){for(e=r.view(),t=0;e.length>t;t++)n=r.level(e[t]),n>i&&(i=n);i++}else i=r.group().length;return i},_columns:function(){var t=this._depth(),n=e.map(Array(t),function(){return{width:20}});return n.concat(e.map(this.columns,function(e){return{width:parseInt(e.width,10),autoWidth:e.width?!1:!0}}))}}),t.ExcelMixin={extend:function(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var n=this.options.excel||{},r=new t.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:n.allPages,filterable:n.filterable,hierarchy:n.hierarchy});r.workbook().then(e.proxy(function(e,r){if(!this.trigger("excelExport",{workbook:e,data:r})){var i=new t.ooxml.Workbook(e);t.saveAs({dataURI:i.toDataURL(),fileName:e.fileName||n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy})}},this))}}}(kendo.jQuery,kendo),function(e){var t=kendo.data.RemoteTransport.extend({init:function(e){var t,n=e&&e.signalr?e.signalr:{},r=n.promise;if(!r)throw Error('The "promise" option must be set.');if("function"!=typeof r.done||"function"!=typeof r.fail)throw Error('The "promise" option must be a Promise.');if(this.promise=r,t=n.hub,!t)throw Error('The "hub" option must be set.');if("function"!=typeof t.on||"function"!=typeof t.invoke)throw Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=t,kendo.data.RemoteTransport.fn.init.call(this,e)},push:function(e){var t=this.options.signalr.client||{};t.create&&this.hub.on(t.create,e.pushCreate),t.update&&this.hub.on(t.update,e.pushUpdate),t.destroy&&this.hub.on(t.destroy,e.pushDestroy)},_crud:function(t,n){var r,i,s=this.hub,o=this.options.signalr.server;if(!o||!o[n])throw Error(kendo.format('The "server.{0}" option must be set.',n));r=[o[n]],i=this.parameterMap(t.data,n),e.isEmptyObject(i)||r.push(i),this.promise.done(function(){s.invoke.apply(s,r).done(t.success).fail(t.error)})},read:function(e){this._crud(e,"read")},create:function(e){this._crud(e,"create")},update:function(e){this._crud(e,"update")},destroy:function(e){this._crud(e,"destroy")}});e.extend(!0,kendo.data,{transports:{signalr:t}})}(window.kendo.jQuery),function(e,t,n){function r(e,i){var o,l;if(null==e||"none"==e)return null;if(e instanceof u)return e;if(e=e.toLowerCase(),o=s.exec(e))return e="transparent"==o[1]?new a(1,1,1,0):r(c.namedColors[o[1]],i),e.match=[o[1]],e;if((o=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(e))?l=new f(n(o[1],16),n(o[2],16),n(o[3],16),1):(o=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(e))?l=new f(n(o[1]+o[1],16),n(o[2]+o[2],16),n(o[3]+o[3],16),1):(o=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))?l=new f(n(o[1],10),n(o[2],10),n(o[3],10),1):(o=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))?l=new f(n(o[1],10),n(o[2],10),n(o[3],10),t(o[4])):(o=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))?l=new a(t(o[1])/100,t(o[2])/100,t(o[3])/100,1):(o=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))&&(l=new a(t(o[1])/100,t(o[2])/100,t(o[3])/100,t(o[4]))),l)l.match=o;else if(!i)throw Error("Cannot parse color: "+e);return l}function i(e,t,n){for(n||(n="0"),e=e.toString(16);t>e.length;)e="0"+e;return e}var s,o,u,a,f,l,c=function(e){var t,n,r,i,s,o=this,u=c.formats;if(1===arguments.length)for(e=o.resolveColor(e),i=0;u.length>i;i++)t=u[i].re,n=u[i].process,r=t.exec(e),r&&(s=n(r),o.r=s[0],o.g=s[1],o.b=s[2]);else o.r=arguments[0],o.g=arguments[1],o.b=arguments[2];o.r=o.normalizeByte(o.r),o.g=o.normalizeByte(o.g),o.b=o.normalizeByte(o.b)};c.prototype={toHex:function(){var e=this,t=e.padDigit,n=e.r.toString(16),r=e.g.toString(16),i=e.b.toString(16);return"#"+t(n)+t(r)+t(i)},resolveColor:function(e){return e=e||"black","#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=c.namedColors[e]||e},normalizeByte:function(e){return 0>e||isNaN(e)?0:e>255?255:e},padDigit:function(e){return 1===e.length?"0"+e:e},brightness:function(e){var t=this,n=Math.round;return t.r=n(t.normalizeByte(t.r*e)),t.g=n(t.normalizeByte(t.g*e)),t.b=n(t.normalizeByte(t.b*e)),t},percBrightness:function(){var e=this;return Math.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)}},c.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[n(e[1],10),n(e[2],10),n(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[n(e[1],16),n(e[2],16),n(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[n(e[1]+e[1],16),n(e[2]+e[2],16),n(e[3]+e[3],16)]}}],c.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},s=["transparent"];for(o in c.namedColors)c.namedColors.hasOwnProperty(o)&&s.push(o);s=RegExp("^("+s.join("|")+")(\\W|$)","i"),u=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+t((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&9>kendo.support.browser.version?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()==r(e).toCssRgba()},diff:function(e){if(null==e)return 0/0;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3*(t.r-e.r),2)+Math.pow(.59*(t.g-e.g),2)+Math.pow(.11*(t.b-e.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new f(e.r,e.g,e.b,e.a)),e}}),a=u.extend({init:function(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r},toHSV:function(){var e,t,n=this.r,r=this.g,i=this.b,s=Math.min(n,r,i),o=Math.max(n,r,i),u=o,a=o-s;return 0===a?new l(0,0,u,this.a):(0!==o?(t=a/o,e=n==o?(r-i)/a:r==o?2+(i-n)/a:4+(n-r)/a,e*=60,0>e&&(e+=360)):(t=0,e=-1),new l(e,t,u,this.a))},toBytes:function(){return new f(255*this.r,255*this.g,255*this.b,this.a)}}),f=a.extend({init:function(e,t,n,r){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(n),this.a=r},toRGB:function(){return new a(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return i(this.r,2)+i(this.g,2)+i(this.b,2)},toBytes:function(){return this}}),l=u.extend({init:function(e,t,n,r){this.h=e,this.s=t,this.v=n,this.a=r},toRGB:function(){var e,t,n,r,i,s,o,u,f=this.h,l=this.s,c=this.v;if(0===l)t=n=r=c;else switch(f/=60,e=Math.floor(f),i=f-e,s=c*(1-l),o=c*(1-l*i),u=c*(1-l*(1-i)),e){case 0:t=c,n=u,r=s;break;case 1:t=o,n=c,r=s;break;case 2:t=s,n=c,r=u;break;case 3:t=s,n=o,r=c;break;case 4:t=u,n=s,r=c;break;default:t=c,n=s,r=o}return new a(t,n,r,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),c.fromBytes=function(e,t,n,r){return new f(e,t,n,null!=r?r:1)},c.fromRGB=function(e,t,n,r){return new a(e,t,n,null!=r?r:1)},c.fromHSV=function(e,t,n,r){return new l(e,t,n,null!=r?r:1)},kendo.Color=c,kendo.parseColor=r}(window.kendo.jQuery,parseFloat,parseInt),function(e){function t(e){return typeof e!==P}function n(e,t){var n=r(t);return L.round(e*n)/n}function r(e){return e?L.pow(10,e):1}function i(e,t,n){return L.max(L.min(e,n),t)}function s(e){return e*M}function o(e){return e/M}function u(e){return"number"==typeof e&&!isNaN(e)}function a(e,n){return t(e)?e:n}function f(e){return e*e}function l(e){var t,n=[];for(t in e)n.push(t+e[t]);return n.sort().join("")}function c(e){var t,n=2166136261;for(t=0;e.length>t;++t)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(t);return n>>>0}function h(e){return c(l(e))}function p(e){var t,n=e.length,r=_,i=D;for(t=0;n>t;t++)i=L.max(i,e[t]),r=L.min(r,e[t]);return{min:r,max:i}}function d(e){return p(e).min}function v(e){return p(e).max}function m(e){return y(e).min}function g(e){return y(e).max}function y(e){var t,n,r,i=_,s=D;for(t=0,n=e.length;n>t;t++)r=e[t],null!==r&&isFinite(r)&&(i=L.min(i,r),s=L.max(s,r));return{min:i===_?void 0:i,max:s===D?void 0:s}}function b(e){return e?e[e.length-1]:void 0}function w(e,t){return e.push.apply(e,t),e}function E(e){return A.template(e,{useWithBlock:!1,paramName:"d"})}function S(e,n){return t(n)&&null!==n?" "+e+"='"+n+"' ":""}function x(e){var t,n="";for(t=0;e.length>t;t++)n+=S(e[t][0],e[t][1]);return n}function T(e){var n,r,i="";for(n=0;e.length>n;n++)r=e[n][1],t(r)&&(i+=e[n][0]+":"+r+";");return""!==i?i:void 0}function N(e){return"string"!=typeof e&&(e+="px"),e}function C(e){var t,n,r=[];if(e)for(t=A.toHyphens(e).split("-"),n=0;t.length>n;n++)r.push("k-pos-"+t[n]);return r.join(" ")}function k(e){return""===e||null===e||"none"===e||"transparent"===e||!t(e)}var L=Math,A=window.kendo,O=A.deepExtend,M=L.PI/180,_=Number.MAX_VALUE,D=-Number.MAX_VALUE,P="undefined",H=Date.now;H||(H=function(){return(new Date).getTime()}),O(A,{util:{MAX_NUM:_,MIN_NUM:D,append:w,arrayLimits:p,arrayMin:d,arrayMax:v,defined:t,deg:o,hashKey:c,hashObject:h,isNumber:u,isTransparent:k,last:b,limitValue:i,now:H,objectKey:l,round:n,rad:s,renderAttr:S,renderAllAttr:x,renderPos:C,renderSize:N,renderStyle:T,renderTemplate:E,sparseArrayLimits:y,sparseArrayMin:m,sparseArrayMax:g,sqr:f,valueOrDefault:a}}),A.dataviz.util=A.util}(window.kendo.jQuery),function(){function e(e){var n,r,i,u,a,f,l,c="",h=0;for(e=t(e);e.length>h;)n=e.charCodeAt(h++),r=e.charCodeAt(h++),i=e.charCodeAt(h++),u=n>>2,a=(3&n)<<4|r>>4,f=(15&r)<<2|i>>6,l=63&i,isNaN(r)?f=l=64:isNaN(i)&&(l=64),c=c+s.charAt(u)+s.charAt(a)+s.charAt(f)+s.charAt(l);return c}function t(e){var t,n,r="";for(t=0;e.length>t;t++)n=e.charCodeAt(t),128>n?r+=i(n):2048>n?(r+=i(192|n>>>6),r+=i(128|63&n)):65536>n&&(r+=i(224|n>>>12),r+=i(128|n>>>6&63),r+=i(128|63&n));return r}var n=window.kendo,r=n.deepExtend,i=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r(n.util,{encodeBase64:e,encodeUTF8:t})}(window.kendo.jQuery),function(e){var t=Math,n=window.kendo,r=n.deepExtend,i=e.inArray,s={observers:function(){return this._observers=this._observers||[]},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),n=i(e,t);return-1!=n&&t.splice(n,1),this},trigger:function(e,t){var n,r,i=this._observers;if(i&&!this._suspended)for(r=0;i.length>r;r++)n=i[r],n[e]&&n[e](t);return this},optionsChange:function(e){this.trigger("optionsChange",e)},geometryChange:function(e){this.trigger("geometryChange",e)},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=t.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};r(n,{mixins:{ObserversMixin:s}})}(window.kendo.jQuery),function(e){function t(e){return null===e?null:e instanceof m?e:new m(e)}function n(e){return e&&b.isFunction(e.matrix)?e.matrix():e}function r(e,t,n,r){var i=0,s=0;return r&&(i=g.atan2(r.c*n,r.a*t),0!==r.b&&(s=g.atan2(r.d*n,r.b*t))),{x:i,y:s}}function i(e,t){for(;t>e;)e+=90;return e}function s(e,t){var n,r,i;for(n=0;t.length>n;n++)r=t[n],i=r.charAt(0).toUpperCase()+r.substring(1,r.length),e["set"+i]=o(r),e["get"+i]=u(r)}function o(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function u(e){return function(){return this[e]}}function a(e,t,n){e>t&&(t+=360);var r=g.abs(t-e);return n||(r=360-r),r}function f(e,t,n,r,i,s){var o=k((i-e)/n,3),u=k((s-t)/r,3);return k(C(g.atan2(u,o)))}function l(e,t,n,r,i,s,o,u){var l,c,h,p,d,v,m,b,w,E,S,x,T,N,C,k,L,A;if(t!==r)w=n-e,E=r-t,S=y(i,2),x=y(s,2),T=(x*w*(e+n)+S*E*(t+r))/(2*S*E),N=T-r,C=-(w*x)/(S*E),d=1/S+y(C,2)/x,v=2*(C*N/x-n/S),m=y(n,2)/S+y(N,2)/x-1,b=g.sqrt(y(v,2)-4*d*m),l=(-v-b)/(2*d),c=T+C*l,h=(-v+b)/(2*d),p=T+C*h;else{if(e===n)return!1;v=-2*r,m=y((n-e)*s/(2*i),2)+y(r,2)-y(s,2),b=g.sqrt(y(v,2)-4*m),l=h=(e+n)/2,c=(-v-b)/2,p=(-v+b)/2}return k=f(l,c,i,s,e,t),L=f(l,c,i,s,n,r),A=a(k,L,u),(o&&180>=A||!o&&A>180)&&(l=h,c=p,k=f(l,c,i,s,e,t),L=f(l,c,i,s,n,r)),{center:new M(l,c),startAngle:k,endAngle:L}}var c,h,p,d,v,m,g=Math,y=g.pow,b=window.kendo,w=b.Class,E=b.deepExtend,S=b.mixins.ObserversMixin,x=b.util,T=x.defined,N=x.rad,C=x.deg,k=x.round,L=g.PI/2,A=x.MIN_NUM,O=x.MAX_NUM,M=w.extend({init:function(e,t){this.x=e||0,this.y=t||0},equals:function(e){return e&&e.x===this.x&&e.y===this.y},clone:function(){return new M(this.x,this.y)},rotate:function(e,n){return this.transform(t().rotate(e,n))},translate:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this},translateWith:function(e){return this.translate(e.x,e.y)},move:function(e,t){return this.x=this.y=0,this.translate(e,t)},scale:function(e,t){return T(t)||(t=e),this.x*=e,this.y*=t,this.geometryChange(),this},scaleCopy:function(e,t){return this.clone().scale(e,t)},transform:function(e){var t=n(e),r=this.x,i=this.y;return this.x=t.a*r+t.c*i+t.e,this.y=t.b*r+t.d*i+t.f,this.geometryChange(),this},transformCopy:function(e){var t=this.clone();return e&&t.transform(e),t},distanceTo:function(e){var t=this.x-e.x,n=this.y-e.y;return g.sqrt(t*t+n*n)},round:function(e){return this.x=k(this.x,e),this.y=k(this.y,e),this.geometryChange(),this},toArray:function(e){var t=T(e),n=t?k(this.x,e):this.x,r=t?k(this.y,e):this.y;return[n,r]}});s(M.fn,["x","y"]),E(M.fn,S),M.fn.toString=function(e,t){var n=this.x,r=this.y;return T(e)&&(n=k(n,e),r=k(r,e)),t=t||" ",n+t+r},M.create=function(e,t){return T(e)?e instanceof M?e:1===arguments.length&&2===e.length?new M(e[0],e[1]):new M(e,t):void 0},M.min=function(){var e,t,n=x.MAX_NUM,r=x.MAX_NUM;for(e=0;arguments.length>e;e++)t=arguments[e],n=g.min(t.x,n),r=g.min(t.y,r);return new M(n,r)},M.max=function(){var e,t,n=x.MIN_NUM,r=x.MIN_NUM;for(e=0;arguments.length>e;e++)t=arguments[e],n=g.max(t.x,n),r=g.max(t.y,r);return new M(n,r)},M.minPoint=function(){return new M(A,A)},M.maxPoint=function(){return new M(O,O)},M.ZERO=new M(0,0),c=w.extend({init:function(e,t){this.width=e||0,this.height=t||0},equals:function(e){return e&&e.width===this.width&&e.height===this.height},clone:function(){return new c(this.width,this.height)},toArray:function(e){var t=T(e),n=t?k(this.width,e):this.width,r=t?k(this.height,e):this.height;return[n,r]}}),s(c.fn,["width","height"]),E(c.fn,S),c.create=function(e,t){return T(e)?e instanceof c?e:1===arguments.length&&2===e.length?new c(e[0],e[1]):new c(e,t):void 0},c.ZERO=new c(0,0),h=w.extend({init:function(e,t){this.setOrigin(e||new M),this.setSize(t||new c)},clone:function(){return new h(this.origin.clone(),this.size.clone())},equals:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)},setOrigin:function(e){return this._observerField("origin",M.create(e)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(e){return this._observerField("size",c.create(e)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(e){var t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),i=this.bottomLeft().transformCopy(e);return h.fromPoints(t,n,r,i)},transformCopy:function(e){return h.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}}),E(h.fn,S),h.fromPoints=function(){var e=M.min.apply(this,arguments),t=M.max.apply(this,arguments),n=new c(t.x-e.x,t.y-e.y);return new h(e,n)},h.union=function(e,t){return h.fromPoints(M.min(e.topLeft(),t.topLeft()),M.max(e.bottomRight(),t.bottomRight()))},h.intersect=function(e,t){return e={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},t={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},t.right>=e.left&&e.right>=t.left&&t.bottom>=e.top&&e.bottom>=t.top?h.fromPoints(new M(g.max(e.left,t.left),g.max(e.top,t.top)),new M(g.min(e.right,t.right),g.min(e.bottom,t.bottom))):void 0},p=w.extend({init:function(e,t){this.setCenter(e||new M),this.setRadius(t||0)},setCenter:function(e){return this._observerField("center",M.create(e)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return new p(this.center.clone(),this.radius)},pointAt:function(e){return this._pointAt(N(e))},bbox:function(e){var t,n,i,s,o=M.maxPoint(),u=M.minPoint(),a=r(this.center,this.radius,this.radius,e);for(t=0;4>t;t++)n=this._pointAt(a.x+t*L).transformCopy(e),i=this._pointAt(a.y+t*L).transformCopy(e),s=new M(n.x,i.y),o=M.min(o,s),u=M.max(u,s);return h.fromPoints(o,u)},_pointAt:function(e){var t=this.center,n=this.radius;return new M(t.x-n*g.cos(e),t.y-n*g.sin(e))}}),s(p.fn,["radius"]),E(p.fn,S),d=w.extend({init:function(e,t){this.setCenter(e||new M),t=t||{},this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1},clone:function(){return new d(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(e){return this._observerField("center",M.create(e)),this.geometryChange(),this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(e){var t=this.center,n=N(e);return new M(t.x+this.radiusX*g.cos(n),t.y+this.radiusY*g.sin(n))},curvePoints:function(){var e,t,n,r=this.startAngle,i=this.anticlockwise?-1:1,s=[this.pointAt(r)],o=r,u=this._arcInterval(),a=u.endAngle-u.startAngle,f=g.ceil(a/this.MAX_INTERVAL),l=a/f;for(e=1;f>=e;e++)t=o+i*l,n=this._intervalCurvePoints(o,t),s.push(n.cp1,n.cp2,n.p2),o=t;return s},bbox:function(e){for(var t,n,s=this,o=s._arcInterval(),u=o.startAngle,a=o.endAngle,f=r(this.center,this.radiusX,this.radiusY,e),l=C(f.x),c=C(f.y),p=s.pointAt(u).transformCopy(e),d=s.pointAt(a).transformCopy(e),v=M.min(p,d),m=M.max(p,d),g=i(l,u),y=i(c,u);a>g||a>y;)a>g&&(t=s.pointAt(g).transformCopy(e),g+=90),a>y&&(n=s.pointAt(y).transformCopy(e),y+=90),p=new M(t.x,n.y),v=M.min(v,p),m=M.max(m,p);return h.fromPoints(v,m)},_arcInterval:function(){var e,t=this.startAngle,n=this.endAngle,r=this.anticlockwise;return r&&(e=t,t=n,n=e),(t>n||r&&t===n)&&(n+=360),{startAngle:t,endAngle:n}},_intervalCurvePoints:function(e,t){var n=this,r=n.pointAt(e),i=n.pointAt(t),s=n._derivativeAt(e),o=n._derivativeAt(t),u=(N(t)-N(e))/3,a=new M(r.x+u*s.x,r.y+u*s.y),f=new M(i.x-u*o.x,i.y-u*o.y);return{p1:r,cp1:a,cp2:f,p2:i}},_derivativeAt:function(e){var t=this,n=N(e);return new M(-t.radiusX*g.sin(n),t.radiusY*g.cos(n))}}),s(d.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),E(d.fn,S),d.fromPoints=function(e,t,n,r,i,s){var o=l(e.x,e.y,t.x,t.y,n,r,i,s);return new d(o.center,{startAngle:o.startAngle,endAngle:o.endAngle,radiusX:n,radiusY:r,anticlockwise:0===s})},v=w.extend({init:function(e,t,n,r,i,s){this.a=e||0,this.b=t||0,this.c=n||0,this.d=r||0,this.e=i||0,this.f=s||0},multiplyCopy:function(e){return new v(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},invert:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.e,s=this.f,o=e*r-t*n;return 0===o?null:new v(r/o,-t/o,-n/o,e/o,(n*s-r*i)/o,(t*i-e*s)/o)},clone:function(){return new v(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(e){return e?this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f:!1},round:function(e){return this.a=k(this.a,e),this.b=k(this.b,e),this.c=k(this.c,e),this.d=k(this.d,e),this.e=k(this.e,e),this.f=k(this.f,e),this},toArray:function(e){var t,n=[this.a,this.b,this.c,this.d,this.e,this.f];if(T(e))for(t=0;n.length>t;t++)n[t]=k(n[t],e);return n}}),v.fn.toString=function(e,t){return this.toArray(e).join(t||",")},v.translate=function(e,t){return new v(1,0,0,1,e,t)},v.unit=function(){return new v(1,0,0,1,0,0)},v.rotate=function(e,t,n){var r=new v;return r.a=g.cos(N(e)),r.b=g.sin(N(e)),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+n*r.b||0,r.f=n-n*r.a-t*r.b||0,r},v.scale=function(e,t){return new v(e,0,0,t,0,0)},v.IDENTITY=v.unit(),m=w.extend({init:function(e){this._matrix=e||v.unit()},clone:function(){return new m(this._matrix.clone())},equals:function(e){return e&&e._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(e,t){return this._matrix=this._matrix.multiplyCopy(v.translate(e,t)),this._optionsChange(),this},scale:function(e,t,n){return T(t)||(t=e),n&&(n=M.create(n),this._matrix=this._matrix.multiplyCopy(v.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(v.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(v.translate(-n.x,-n.y))),this._optionsChange(),this},rotate:function(e,t){return t=M.create(t)||M.ZERO,this._matrix=this._matrix.multiplyCopy(v.rotate(e,t.x,t.y)),this._optionsChange(),this},multiply:function(e){var t=n(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},matrix:function(){return this._matrix}}),E(m.fn,S),E(b,{geometry:{Arc:d,Circle:p,Matrix:v,Point:M,Rect:h,Size:c,Transformation:m,transform:t,toMatrix:n}}),b.dataviz.geometry=b.geometry}(window.kendo.jQuery),function(e){var t,n,r,i=e.noop,s=Object.prototype.toString,o=window.kendo,u=o.Class,a=o.ui.Widget,f=o.deepExtend,l=o.util,c=l.defined,h=a.extend({init:function(e,t){this.options=f({},this.options,t),a.fn.init.call(this,e,this.options),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._visual=new o.drawing.Group,this.options.width&&this.element.css("width",this.options.width),this.options.height&&this.element.css("height",this.options.height)},options:{name:"Surface"},events:["click","mouseenter","mouseleave","resize"],draw:function(e){this._visual.children.push(e)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null,a.fn.destroy.call(this)},exportVisual:function(){return this._visual},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(e){this.element.css({width:e.width,height:e.height}),this._size=e,this._resize()},eventTarget:function(t){for(var n,r=e(t.touch?t.touch.initialTouch:t.target);!n&&r.length>0&&(n=r[0]._kendoNode,!r.is(this.element)&&0!==r.length);)r=r.parent();return n?n.srcElement:void 0},_resize:i,_handler:function(e){var t=this;return function(n){var r=t.eventTarget(n);r&&t.trigger(e,{element:r,originalEvent:n})}}});o.ui.plugin(h),h.create=function(e,t){return r.current.create(e,t)},t=u.extend({init:function(e){this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())},destroy:function(){var e,t;for(this.srcElement&&this.srcElement.removeObserver(this),e=this.childNodes,t=0;e.length>t;t++)this.childNodes[t].destroy();this.parent=null},load:i,observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(e){this.childNodes.push(e),e.parent=this},insertAt:function(e,t){this.childNodes.splice(t,0,e),e.parent=this},remove:function(e,t){var n,r=e+t;for(n=e;r>n;n++)this.childNodes[n].removeSelf();this.childNodes.splice(e,t)},removeSelf:function(){this.clear(),this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}),n=u.extend({init:function(e,t){var n,r;this.prefix=t||"";for(n in e)r=e[n],r=this._wrap(r,n),this[n]=r},get:function(e){return o.getter(e,!0)(this)},set:function(e,t){var n,r=o.getter(e,!0)(this);r!==t&&(n=this._set(e,this._wrap(t,e)),n||this.optionsChange({field:this.prefix+e,value:t}))},_set:function(e,t){var r,i,s,u=e.indexOf(".")>=0;if(u)for(r=e.split("."),i="";r.length>1;){if(i+=r.shift(),s=o.getter(i,!0)(this),s||(s=new n({},i+"."),s.addObserver(this),this[i]=s),s instanceof n)return s.set(r.join("."),t),u;i+="."}return this._clear(e),o.setter(e)(this,t),u},_clear:function(e){var t=o.getter(e,!0)(this);t&&t.removeObserver&&t.removeObserver(this)},_wrap:function(e,t){var r=s.call(e);return null!==e&&c(e)&&"[object Object]"===r&&(e instanceof n||e instanceof u||(e=new n(e,this.prefix+t+".")),e.addObserver(this)),e}}),f(n.fn,o.mixins.ObserversMixin),r=function(){this._items=[]},r.prototype={register:function(e,t,n){var r=this._items,i=r[0],s={name:e,type:t,order:n};!i||i.order>n?r.unshift(s):r.push(s)},create:function(e,t){var n,r,i=this._items,s=i[0];if(t&&t.type)for(n=t.type.toLowerCase(),r=0;i.length>r;r++)if(i[r].name===n){s=i[r];break}return s?new s.type(e,t):void o.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}},r.current=new r,f(o,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:o.Color,BaseNode:t,OptionsStore:n,Surface:h,SurfaceFactory:r}}),o.dataviz.drawing=o.drawing}(window.kendo.jQuery),function(){var e=window.kendo,t=e.deepExtend,n=e.util.defined,r="gradient",i={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var i,s=this.options;return n(e)?(e&&e.nodeType!=r?(i={color:e},n(t)&&(i.opacity=t),s.set("fill",i)):s.set("fill",e),this):s.get("fill")},stroke:function(e,t,r){return n(e)?(this.options.set("stroke.color",e),n(t)&&this.options.set("stroke.width",t),n(r)&&this.options.set("stroke.opacity",r),this):this.options.get("stroke")}},s={extend:function(e,t){e.traverse=function(e){var n,r,i=this[t];for(n=0;i.length>n;n++)r=i[n],r.traverse?r.traverse(e):e(r);return this}}};t(e.drawing,{mixins:{Paintable:i,Traversable:s}})}(window.kendo.jQuery),function(e){function t(e,t){return l.current.measure(e,t)}var n=document,r=window.kendo,i=r.Class,s=r.deepExtend,o=r.util,u=o.defined,a=1,f=i.extend({init:function(e){this._size=e,this._length=0,this._map={}},put:function(e,t){var n=this,r=n._map,i={key:e,value:t};r[e]=i,n._head?(n._tail.newer=i,i.older=n._tail,n._tail=i):n._head=n._tail=i,n._length>=n._size?(r[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++},get:function(e){var t=this,n=t._map[e];return n?(n===t._head&&n!==t._tail&&(t._head=n.newer,t._head.older=null),n!==t._tail&&(n.older&&(n.older.newer=n.newer,n.newer.older=n.older),n.older=t._tail,n.newer=null,t._tail.newer=n,t._tail=n),n.value):void 0}}),l=i.extend({init:function(){this._cache=new f(1e3)},measure:function(t,r){var i,s,f,l,c,h=o.objectKey(r),p=o.hashKey(t+h),d=this._cache.get(p);if(d)return d;i={width:0,height:0,baseline:0},s=this._measureBox,f=this._baselineMarker.cloneNode(!1);for(l in r)c=r[l],u(c)&&(s.style[l]=c);return e(s).text(t),s.appendChild(f),n.body.appendChild(s),(t+"").length&&(i.width=s.offsetWidth-a,i.height=s.offsetHeight,i.baseline=f.offsetTop+a),this._cache.put(p,i),s.parentNode.removeChild(s),i}});l.fn._baselineMarker=e("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+a+"px; height: "+a+"px;overflow: hidden;' />")[0],l.fn._measureBox=e("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0],l.current=new l,s(r.drawing,{util:{TextMetrics:l,LRUCache:f,measureText:t}})}(window.kendo.jQuery),function(e){function t(e,t,n){var r,i,s,o;for(i=0;e.length>i;i++)s=e[i],s.visible()&&(o=t?s.bbox(n):s.rawBBox(),o&&(r=r?$.union(r,o):o));return r}function n(e,t){var n,r,i,s;for(r=0;e.length>r;r++)i=e[r],i.visible()&&(s=i.clippedBBox(t),s&&(n=n?$.union(n,s):s));return n}function r(e,t){e.origin.x-=t,e.origin.y-=t,e.size.width+=2*t,e.size.height+=2*t}function i(e,t){for(var n=0;t.length>n;n++)e[t[n]]=s(t[n])}function s(e){var t="_"+e;return function(e){return it(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function o(e,t){for(var n=0;t.length>n;n++)e[t[n]]=u(t[n])}function u(e){var t="_"+e;return function(e){return it(e)?(this._observerField(t,V.create(e)),this.geometryChange(),this):this[t]}}function a(e,t){for(var n=0;t.length>n;n++)e[t[n]]=f(t[n])}function f(e){return function(t){return it(t)?(this.options.set(e,t),this):this.options.get(e)}}function l(){return"kdef"+vt++}function c(e,t,n){S(e,t,n,"x","width")}function h(e,t,n){S(e,t,n,"y","height")}function p(e){E(w(e),"x","y","width")}function d(e){E(w(e),"y","x","height")}function v(e,t){return g(e,t,"x","y","width")}function m(e,t){return g(e,t,"y","x","height")}function g(e,t,n,r,i){var s,o,u,a,f=[],l=b(e,t,i),c=t.origin.clone();for(a=0;l.length>a;a++)for(u=l[a],s=u[0],c[r]=s.bbox.origin[r],N(c,s.bbox,s.element),s.bbox.origin[n]=c[n],E(u,n,r,i),f.push([]),o=0;u.length>o;o++)f[a].push(u[o].element);return f}function y(e,t){var n,r,i=e.clippedBBox(),s=i.size,o=t.size;(s.width>o.width||s.height>o.height)&&(n=Z.min(o.width/s.width,o.height/s.height),r=e.transform()||X.transform(),r.scale(n,n),e.transform(r))}function b(e,t,n){var r,i,s,o,u=t.size[n],a=0,f=[],l=[],c=function(){l.push({element:r,bbox:s})};for(o=0;e.length>o;o++)r=e[o],s=r.clippedBBox(),s&&(i=s.size[n],a+i>u?l.length?(f.push(l),l=[],c(),a=i):(c(),f.push(l),l=[],a=0):(c(),a+=i));return l.length&&f.push(l),f}function w(e){var t,n,r,i=[];for(r=0;e.length>r;r++)t=e[r],n=t.clippedBBox(),n&&i.push({element:t,bbox:n});return i}function E(e,t,n,r){var i,s,o,u,a;if(e.length>1)for(i=e[0].bbox,s=new V,a=1;e.length>a;a++)o=e[a].element,u=e[a].bbox,s[t]=i.origin[t]+i.size[r],s[n]=u.origin[n],N(s,u,o),u.origin[t]=s[t],i=u}function S(e,t,n,r,i){var s,o,u;for(n=n||"start",u=0;e.length>u;u++)s=e[u].clippedBBox(),s&&(o=s.origin.clone(),o[r]=x(s.size[i],t,n,r,i),N(o,s,e[u]))}function x(e,t,n,r,i){var s;return s=n==mt?t.origin[r]:n==gt?t.origin[r]+t.size[i]-e:t.origin[r]+(t.size[i]-e)/2}function T(e,t,n){var r=n.transform()||X.transform(),i=r.matrix();i.e+=e,i.f+=t,n.transform(r)}function N(e,t,n){T(e.x-t.origin.x,e.y-t.origin.y,n)}var C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U=window.kendo,z=U.Class,W=U.deepExtend,X=U.geometry,V=X.Point,$=X.Rect,J=X.Size,K=X.Matrix,Q=X.toMatrix,G=U.drawing,Y=G.OptionsStore,Z=Math,et=Z.pow,tt=U.util,nt=tt.append,rt=tt.arrayLimits,it=tt.defined,st=tt.last,ot=tt.valueOrDefault,ut=U.mixins.ObserversMixin,at=e.inArray,ft=[].push,lt=[].pop,ct=[].splice,ht=[].shift,pt=[].slice,dt=[].unshift,vt=1,mt="start",gt="end",yt="horizontal",bt=z.extend({nodeType:"Element",init:function(e){this._initOptions(e)},_initOptions:function(e){var t,n;e=e||{},t=e.transform,n=e.clip,t&&(e.transform=X.transform(t)),n&&!n.id&&(n.id=l()),this.options=new Y(e),this.options.addObserver(this)},transform:function(e){return it(e)?void this.options.set("transform",X.transform(e)):this.options.get("transform")},parentTransform:function(){for(var e,t,n=this;n.parent;)n=n.parent,e=n.transform(),e&&(t=e.matrix().multiplyCopy(t||K.unit()));return t?X.transform(t):void 0},currentTransform:function(e){var t,n,r=this.transform(),i=Q(r);return it(e)||(e=this.parentTransform()),t=Q(e),n=i&&t?t.multiplyCopy(i):i||t,n?X.transform(n):void 0},visible:function(e){return it(e)?(this.options.set("visible",e),this):this.options.get("visible")!==!1},clip:function(e){var t=this.options;return it(e)?(e&&!e.id&&(e.id=l()),t.set("clip",e),this):t.get("clip")},opacity:function(e){return it(e)?(this.options.set("opacity",e),this):ot(this.options.get("opacity"),1)},clippedBBox:function(e){var t,n=this._clippedBBox(e);return n?(t=this.clip(),t?$.intersect(n,t.bbox(e)):n):void 0},_clippedBBox:function(e){return this.bbox(e)}});W(bt.fn,ut),C=z.extend({init:function(e){e=e||[],this.length=0,this._splice(0,e.length,e)},elements:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)},push:function(){var e=arguments,t=ft.apply(this,e);return this._add(e),t},slice:pt,pop:function(){var e=this.length,t=lt.apply(this);return e&&this._remove([t]),t},splice:function(e,t){var n=pt.call(arguments,2),r=this._splice(e,t,n);return this._change(),r},shift:function(){var e=this.length,t=ht.apply(this);return e&&this._remove([t]),t},unshift:function(){var e=arguments,t=dt.apply(this,e);return this._add(e),t},indexOf:function(e){var t,n,r=this;for(t=0,n=r.length;n>t;t++)if(r[t]===e)return t;return-1},_splice:function(e,t,n){var r=ct.apply(this,[e,t].concat(n));return this._clearObserver(r),this._setObserver(n),r},_add:function(e){this._setObserver(e),this._change()},_remove:function(e){this._clearObserver(e),this._change()},_setObserver:function(e){for(var t=0;e.length>t;t++)e[t].addObserver(this)},_clearObserver:function(e){for(var t=0;e.length>t;t++)e[t].removeObserver(this)},_change:function(){}}),W(C.fn,ut),k=bt.extend({nodeType:"Group",init:function(e){bt.fn.init.call(this,e),this.children=[]},childrenChange:function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})},append:function(){return nt(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insertAt:function(e,t){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this},remove:function(e){var t=at(e,this.children);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this},removeAt:function(e){if(e>=0&&this.children.length>e){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this},clear:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this},bbox:function(e){return t(this.children,!0,this.currentTransform(e))},rawBBox:function(){return t(this.children,!1)},_clippedBBox:function(e){return n(this.children,this.currentTransform(e))},currentTransform:function(e){return bt.fn.currentTransform.call(this,e)||null},_reparent:function(e,t){var n,r,i;for(n=0;e.length>n;n++)r=e[n],i=r.parent,i&&i!=this&&i.remove&&i.remove(r),r.parent=t}}),G.mixins.Traversable.extend(k.fn,"children"),L=bt.extend({nodeType:"Text",init:function(e,t,n){bt.fn.init.call(this,n),this.content(e),this.position(t||new X.Point),this.options.font||(this.options.font="12px sans-serif"),it(this.options.fill)||this.fill("#000")},content:function(e){return it(e)?(this.options.set("content",e),this):this.options.get("content")},measure:function(){var e=G.util.measureText(this.content(),{font:this.options.get("font")});return e},rect:function(){var e=this.measure(),t=this.position().clone();return new X.Rect(t,[e.width,e.height])},bbox:function(e){var t=Q(this.currentTransform(e));return this.rect().bbox(t)},rawBBox:function(){return this.rect().bbox()}}),G.mixins.Paintable.extend(L.fn),o(L.fn,["position"]),A=bt.extend({nodeType:"Circle",init:function(e,t){bt.fn.init.call(this,t),this.geometry(e||new X.Circle),it(this.options.stroke)||this.stroke("#000")},bbox:function(e){var t=Q(this.currentTransform(e)),n=this._geometry.bbox(t),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this._geometry.bbox()}}),G.mixins.Paintable.extend(A.fn),i(A.fn,["geometry"]),O=bt.extend({nodeType:"Arc",init:function(e,t){bt.fn.init.call(this,t),this.geometry(e||new X.Arc),it(this.options.stroke)||this.stroke("#000")},bbox:function(e){var t=Q(this.currentTransform(e)),n=this.geometry().bbox(t),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var e,t=new D,n=this.geometry().curvePoints();if(n.length>0)for(t.moveTo(n[0].x,n[0].y),e=1;n.length>e;e+=3)t.curveTo(n[e],n[e+1],n[e+2]);return t}}),G.mixins.Paintable.extend(O.fn),i(O.fn,["geometry"]),M=C.extend({_change:function(){this.geometryChange()}}),_=z.extend({init:function(e,t,n){this.anchor(e||new V),this.controlIn(t),this.controlOut(n)},bboxTo:function(e,t){var n,r=this.anchor().transformCopy(t),i=e.anchor().transformCopy(t);return n=this.controlOut()&&e.controlIn()?this._curveBoundingBox(r,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),i):this._lineBoundingBox(r,i)},_lineBoundingBox:function(e,t){return $.fromPoints(e,t)},_curveBoundingBox:function(e,t,n,r){var i=[e,t,n,r],s=this._curveExtremesFor(i,"x"),o=this._curveExtremesFor(i,"y"),u=rt([s.min,s.max,e.x,r.x]),a=rt([o.min,o.max,e.y,r.y]);return $.fromPoints(new V(u.min,a.min),new V(u.max,a.max))},_curveExtremesFor:function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:this._calculateCurveAt(n.min,t,e),max:this._calculateCurveAt(n.max,t,e)}},_calculateCurveAt:function(e,t,n){var r=1-e;return et(r,3)*n[0][t]+3*et(r,2)*e*n[1][t]+3*et(e,2)*r*n[2][t]+et(e,3)*n[3][t]},_curveExtremes:function(e,t,n,r){var i,s,o=e-3*t+3*n-r,u=-2*(e-2*t+n),a=e-t,f=Z.sqrt(u*u-4*o*a),l=0,c=1;return 0===o?0!==u&&(l=c=-a/u):isNaN(f)||(l=(-u+f)/(2*o),c=(-u-f)/(2*o)),i=Z.max(Z.min(l,c),0),(0>i||i>1)&&(i=0),s=Z.min(Z.max(l,c),1),(s>1||0>s)&&(s=1),{min:i,max:s}}}),o(_.fn,["anchor","controlIn","controlOut"]),W(_.fn,ut),D=bt.extend({nodeType:"Path",init:function(e){bt.fn.init.call(this,e),this.segments=new M,this.segments.addObserver(this),it(this.options.stroke)||(this.stroke("#000"),it(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this},lineTo:function(e,t){var n=it(t)?new V(e,t):e,r=new _(n);return this.segments.push(r),this},curveTo:function(e,t,n){var r,i;return this.segments.length>0&&(r=st(this.segments),i=new _(n,t),this.suspend(),r.controlOut(e),this.resume(),this.segments.push(i)),this},arc:function(e,t,n,r,i){var s,o,u,a,f;return this.segments.length>0&&(s=st(this.segments),o=s.anchor(),u=tt.rad(e),a=new V(o.x-n*Z.cos(u),o.y-r*Z.sin(u)),f=new X.Arc(a,{startAngle:e,endAngle:t,radiusX:n,radiusY:r,anticlockwise:i}),this._addArcSegments(f)),this},arcTo:function(e,t,n,r,i){var s,o,u;return this.segments.length>0&&(s=st(this.segments),o=s.anchor(),u=X.Arc.fromPoints(o,e,t,n,r,i),this._addArcSegments(u)),this},_addArcSegments:function(e){var t,n;for(this.suspend(),t=e.curvePoints(),n=1;t.length>n;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},bbox:function(e){var t=Q(this.currentTransform(e)),n=this._bbox(t),i=this.options.get("stroke.width");return i&&r(n,i/2),n},rawBBox:function(){return this._bbox()},_bbox:function(e){var t,n,r,i,s=this.segments,o=s.length;if(1===o)n=s[0].anchor().transformCopy(e),t=new $(n,J.ZERO);else if(o>0)for(r=1;o>r;r++)i=s[r-1].bboxTo(s[r],e),t=t?$.union(t,i):i;return t}}),G.mixins.Paintable.extend(D.fn),D.fromRect=function(e,t){return(new D(t)).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()},D.fromPoints=function(e,t){var n,r,i;if(e){for(n=new D(t),r=0;e.length>r;r++)i=V.create(e[r]),i&&(0===r?n.moveTo(i):n.lineTo(i));return n}},D.fromArc=function(e,t){var n=new D(t),r=e.startAngle,i=e.pointAt(r);return n.moveTo(i.x,i.y),n.arc(r,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n},P=bt.extend({nodeType:"MultiPath",init:function(e){bt.fn.init.call(this,e),this.paths=new M,this.paths.addObserver(this),it(this.options.stroke)||this.stroke("#000")},moveTo:function(e,t){var n=new D;return n.moveTo(e,t),this.paths.push(n),this},lineTo:function(e,t){return this.paths.length>0&&st(this.paths).lineTo(e,t),this},curveTo:function(e,t,n){return this.paths.length>0&&st(this.paths).curveTo(e,t,n),this},arc:function(e,t,n,r,i){return this.paths.length>0&&st(this.paths).arc(e,t,n,r,i),this},arcTo:function(e,t,n,r,i){return this.paths.length>0&&st(this.paths).arcTo(e,t,n,r,i),this},close:function(){return this.paths.length>0&&st(this.paths).close(),this},bbox:function(e){return t(this.paths,!0,this.currentTransform(e))},rawBBox:function(){return t(this.paths,!1)},_clippedBBox:function(e){return n(this.paths,this.currentTransform(e))}}),G.mixins.Paintable.extend(P.fn),H=bt.extend({nodeType:"Image",init:function(e,t,n){bt.fn.init.call(this,n),this.src(e),this.rect(t||new X.Rect)},src:function(e){return it(e)?(this.options.set("src",e),this):this.options.get("src")},bbox:function(e){var t=Q(this.currentTransform(e));return this._rect.bbox(t)},rawBBox:function(){return this._rect.bbox()}}),i(H.fn,["rect"]),B=z.extend({init:function(e,t,n){this.options=new Y({offset:e,color:t,opacity:it(n)?n:1}),this.options.addObserver(this)}}),a(B.fn,["offset","color","opacity"]),W(B.fn,ut),B.create=function(e){if(it(e)){var t;return t=e instanceof B?e:e.length>1?new B(e[0],e[1],e[2]):new B(e.offset,e.color,e.opacity)}},j=C.extend({_change:function(){this.optionsChange({field:"stops"})}}),F=z.extend({nodeType:"gradient",init:function(e){this.stops=new j(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=l()},userSpace:function(e){return it(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace},_createStops:function(e){var t,n=[];for(e=e||[],t=0;e.length>t;t++)n.push(B.create(e[t]));return n},addStop:function(e,t,n){this.stops.push(new B(e,t,n))},removeStop:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}}),W(F.fn,ut,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}}),I=F.extend({init:function(e){e=e||{},F.fn.init.call(this,e),this.start(e.start||new V),this.end(e.end||new V(1,0))}}),o(I.fn,["start","end"]),q=F.extend({init:function(e){e=e||{},F.fn.init.call(this,e),this.center(e.center||new V),this._radius=it(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill},radius:function(e){return it(e)?(this._radius=e,this.geometryChange(),this):this._radius},fallbackFill:function(e){return it(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}),o(q.fn,["center"]),R=k.extend({init:function(e,t){k.fn.init.call(this,U.deepExtend({},this._defaults,t)),this._rect=e,this._fieldMap={}},_defaults:{alignContent:mt,justifyContent:mt,alignItems:mt,spacing:0,orientation:yt,lineSpacing:0,wrap:!0},rect:function(e){return e?(this._rect=e,this):this._rect},_initMap:function(){var e=this.options,t=this._fieldMap;e.orientation==yt?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x")},reflow:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,T,C,k;if(this._rect&&0!==this.children.length){for(this._initMap(),this.options.transform&&this.transform(null),e=this.options,t=this._fieldMap,n=this._rect,r=this._initGroups(),i=r.groups,s=r.groupsSize,o=t.sizeField,u=t.groupsSizeField,a=t.groupAxis,f=t.groupsAxis,l=x(s,n,e.alignContent,f,u),c=new V,h=new V,p=new X.Size,b=0;i.length>b;b++){for(g=i[b],c[a]=d=x(g.size,n,e.justifyContent,a,o),c[f]=l,p[o]=g.size,p[u]=g.lineSize,y=new $(c,p),w=0;g.bboxes.length>w;w++)m=g.elements[w],v=g.bboxes[w],h[a]=d,h[f]=x(v.size[u],y,e.alignItems,f,u),N(h,v,m),d+=v.size[o]+e.spacing;l+=g.lineSize+e.lineSpacing}!e.wrap&&g.size>n.size[o]&&(E=n.size[o]/y.size[o],S=y.topLeft().scale(E,E),T=y.size[u]*E,C=x(T,n,e.alignContent,f,u),k=X.transform(),"x"===a?k.translate(n.origin.x-S.x,C-S.y):k.translate(C-S.x,n.origin.y-S.y),k.scale(E,E),this.transform(k))}},_initGroups:function(){var e,t,n,r=this.options,i=this.children,s=r.lineSpacing,o=this._fieldMap.sizeField,u=-s,a=[],f=this._newGroup(),l=function(){a.push(f),u+=f.lineSize+s};for(n=0;i.length>n;n++)t=i[n],e=i[n].clippedBBox(),t.visible()&&e&&(r.wrap&&f.size+e.size[o]+r.spacing>this._rect.size[o]?0===f.bboxes.length?(this._addToGroup(f,e,t),l(),f=this._newGroup()):(l(),f=this._newGroup(),this._addToGroup(f,e,t)):this._addToGroup(f,e,t));return f.bboxes.length&&l(),{groups:a,groupsSize:u}},_addToGroup:function(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}}),W(G,{align:c,Arc:O,Circle:A,Element:bt,ElementsArray:C,fit:y,Gradient:F,GradientStop:B,Group:k,Image:H,Layout:R,LinearGradient:I,MultiPath:P,Path:D,RadialGradient:q,Segment:_,stack:p,Text:L,vAlign:h,vStack:d,vWrap:m,wrap:v})}(window.kendo.jQuery),function(e){function t(e){var t=[];return e.replace(v,function(e,n){t.push(parseFloat(n))}),t}function n(e,t,n){var r,i=t?0:1;for(r=0;e.length>r;r+=2)e.splice(r+i,0,n)}function r(e,t){return e&&t?t.scaleCopy(2).translate(-e.x,-e.y):void 0}function i(e,t,n){var r=1/3;return t=t.clone().scale(2/3),{controlOut:t.clone().translateWith(e.scaleCopy(r)),controlIn:t.translateWith(n.scaleCopy(r))}}var s=window.kendo,o=s.drawing,u=s.geometry,a=s.Class,f=u.Point,l=s.deepExtend,c=e.trim,h=s.util,p=h.last,d=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,v=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,m="m",g="z",y=a.extend({parse:function(e,n){var r,i=new o.MultiPath(n),s=new f;return e.replace(d,function(e,n,o,u){var a=n.toLowerCase(),f=a===n,l=t(c(o));if(a===m&&(f?(s.x+=l[0],s.y+=l[1]):(s.x=l[0],s.y=l[1]),i.moveTo(s.x,s.y),l.length>2&&(a="l",l.splice(0,2))),b[a])b[a](i,{parameters:l,position:s,isRelative:f,previousCommand:r}),u&&u.toLowerCase()===g&&i.close();else if(a!==m)throw Error("Error while parsing SVG path. Unsupported command: "+a);r=a}),i}}),b={l:function(e,t){var n,r,i=t.parameters,s=t.position;for(n=0;i.length>n;n+=2)r=new f(i[n],i[n+1]),t.isRelative&&r.translateWith(s),e.lineTo(r.x,r.y),s.x=r.x,s.y=r.y},c:function(e,t){var n,r,i,s,o=t.parameters,u=t.position;for(s=0;o.length>s;s+=6)n=new f(o[s],o[s+1]),r=new f(o[s+2],o[s+3]),i=new f(o[s+4],o[s+5]),t.isRelative&&(r.translateWith(u),n.translateWith(u),i.translateWith(u)),e.curveTo(n,r,i),u.x=i.x,u.y=i.y},v:function(e,t){var r=t.isRelative?0:t.position.x;n(t.parameters,!0,r),this.l(e,t)},h:function(e,t){var r=t.isRelative?0:t.position.y;n(t.parameters,!1,r),this.l(e,t)},a:function(e,t){var n,r,i,s,o,u,a=t.parameters,l=t.position;for(n=0;a.length>n;n+=7)r=a[n],i=a[n+1],s=a[n+3],o=a[n+4],u=new f(a[n+5],a[n+6]),t.isRelative&&u.translateWith(l),e.arcTo(u,r,i,s,o),l.x=u.x,l.y=u.y},s:function(e,t){var n,i,s,o,u,a=t.parameters,l=t.position,c=t.previousCommand;for(("s"==c||"c"==c)&&(o=p(p(e.paths).segments).controlIn()),u=0;a.length>u;u+=4)s=new f(a[u],a[u+1]),i=new f(a[u+2],a[u+3]),t.isRelative&&(s.translateWith(l),i.translateWith(l)),n=o?r(o,l):l.clone(),o=s,e.curveTo(n,s,i),l.x=i.x,l.y=i.y},q:function(e,t){var n,r,s,o,u=t.parameters,a=t.position;for(o=0;u.length>o;o+=4)s=new f(u[o],u[o+1]),r=new f(u[o+2],u[o+3]),t.isRelative&&(s.translateWith(a),r.translateWith(a)),n=i(a,s,r),e.curveTo(n.controlOut,n.controlIn,r),a.x=r.x,a.y=r.y},t:function(e,t){var n,s,o,u,a,l=t.parameters,c=t.position,h=t.previousCommand;for(("q"==h||"t"==h)&&(u=p(p(e.paths).segments),s=u.controlIn().clone().translateWith(c.scaleCopy(-1/3)).scale(1.5)),a=0;l.length>a;a+=2)o=new f(l[a],l[a+1]),t.isRelative&&o.translateWith(c),s=s?r(s,c):c.clone(),n=i(c,s,o),e.curveTo(n.controlOut,n.controlIn,o),c.x=o.x,c.y=o.y}};y.current=new y,o.Path.parse=function(e,t){return y.current.parse(e,t)},l(o,{PathParser:y})}(window.kendo.jQuery),function(e){function t(e){var t,n,r,i;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(s){}t&&(n=-t.e%1,r=-t.f%1,i=e.style,(0!==n||0!==r)&&(i.left=n+"px",i.top=r+"px"))}function n(){var e=document.getElementsByTagName("base")[0],t="",n=document.location.href,r=n.indexOf("#");return e&&!l.support.browser.msie&&(-1!==r&&(n=n.substring(0,r)),t=n),t}function r(e){return"url("+n()+"#"+e+")"}function i(e){var t,n,r,i=new P({encodeText:!0}),s=e.clippedBBox();return s&&(t=s.getOrigin(),n=new p.Group,n.transform(h.transform().translate(-t.x,-t.y)),n.children.push(e),e=n),i.load([e]),r="<?xml version='1.0' ?><svg xmlns='"+A+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+i.render()+"</svg>",i.destroy(),r}function s(t,n){var r=i(t);return n&&n.raw||(r="data:image/svg+xml;base64,"+v.encodeBase64(r)),e.Deferred().resolve(r).promise()}function o(e,t){return"clip"==e||"fill"==e&&(!t||t.nodeType==T)}function u(e){if(!e||!e.indexOf||e.indexOf("&")<0)return e;var t=u._element;return t.innerHTML=e,t.textContent||t.innerText}var a,f=document,l=window.kendo,c=l.deepExtend,h=l.geometry,p=l.drawing,d=p.BaseNode,v=l.util,m=v.defined,g=v.isTransparent,y=v.renderAttr,b=v.renderAllAttr,w=v.renderTemplate,E=e.inArray,S="butt",x=p.DASH_ARRAYS,T="gradient",N="none",C=".kendo",k="solid",L=" ",A="http://www.w3.org/2000/svg",O="transform",M="undefined",_=p.Surface.extend({init:function(e,n){p.Surface.fn.init.call(this,e,n),this._root=new P(this.options),K(this.element[0],this._template(this)),this._rootElement=this.element[0].firstElementChild,t(this._rootElement),this._root.attachTo(this._rootElement),this.element.on("click"+C,this._click),this.element.on("mouseover"+C,this._mouseenter),this.element.on("mouseout"+C,this._mouseleave),this.resize()},type:"svg",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(C)),p.Surface.fn.destroy.call(this)},translate:function(e){var t=l.format("{0} {1} {2} {3}",Math.round(e.x),Math.round(e.y),this._size.width,this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)},draw:function(e){p.Surface.fn.draw.call(this,e),this._root.load([e])},clear:function(){p.Surface.fn.clear.call(this),this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},exportVisual:function(){var e,t=this._visual,n=this._offset;return n&&(e=new p.Group,e.children.push(t),e.transform(h.transform().translate(-n.x,-n.y)),t=e),t},_resize:function(){this._offset&&this.translate(this._offset)},_template:w("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+A+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #</svg>")}),D=d.extend({init:function(e){d.fn.init.call(this,e),this.definitions={}},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),d.fn.destroy.call(this)},load:function(e,t){var n,r,i,s,o=this,u=o.element;for(s=0;e.length>s;s++)r=e[s],i=r.children,n=new J[r.nodeType](r),m(t)?o.insertAt(n,t):o.append(n),n.createDefinitions(),i&&i.length>0&&n.load(i),u&&n.attachTo(u,t)},root:function(){for(var e=this;e.parent;)e=e.parent;return e},attachTo:function(e,t){var n,r=f.createElement("div");K(r,"<svg xmlns='"+A+"' version='1.1'>"+this.render()+"</svg>"),n=r.firstChild.firstChild,n&&(m(t)?e.insertBefore(n,e.childNodes[t]||null):e.appendChild(n),this.setElement(n))},setElement:function(e){var t,n,r=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this,n=0;r.length>n;n++)t=e.childNodes[n],r[n].setElement(t)},clear:function(){var e,t;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=""),e=this.childNodes,t=0;e.length>t;t++)e[t].destroy();this.childNodes=[]},removeSelf:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}d.fn.removeSelf.call(this)},template:w("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){var e,t=this.childNodes,n="";for(e=0;t.length>e;e++)n+=t[e].render();return n},optionsChange:function(e){var t=e.field,n=e.value;"visible"===t?this.css("display",n?"":N):a[t]&&o(t,n)?this.updateDefinition(t,n):"opacity"===t&&this.attr("opacity",n),d.fn.optionsChange.call(this,e)},attr:function(e,t){this.element&&this.element.setAttribute(e,t)},allAttr:function(e){for(var t=0;e.length>t;t++)this.attr(e[t][0],e[t][1])},css:function(e,t){this.element&&(this.element.style[e]=t)},allCss:function(e){for(var t=0;e.length>t;t++)this.css(e[t][0],e[t][1])},removeAttr:function(e){this.element&&this.element.removeAttribute(e)},mapTransform:function(e){var t=[];return e&&t.push([O,"matrix("+e.matrix().toString(6)+")"]),t},renderTransform:function(){return b(this.mapTransform(this.srcElement.transform()))},transformChange:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(O)},mapStyle:function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return e.visible===!1&&t.push(["display",N]),t},renderStyle:function(){return y("style",v.renderStyle(this.mapStyle()))},renderOpacity:function(){return y("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var e,t,n,r,i=this.srcElement,s=this.definitions;if(i){n=i.options;for(t in a)e=n.get(t),e&&o(t,e)&&(s[t]=e,r=!0);r&&this.definitionChange({action:"add",definitions:s})}},definitionChange:function(e){this.parent&&this.parent.definitionChange(e)},updateDefinition:function(e,t){var n=this.definitions,i=n[e],s=a[e],o={};i&&(o[e]=i,this.definitionChange({action:"remove",definitions:o}),delete n[e]),t?(o[e]=t,this.definitionChange({action:"add",definitions:o}),n[e]=t,this.attr(s,r(t.id))):i&&this.removeAttr(s)},clearDefinitions:function(){var e,t=this.definitions;for(e in t){this.definitionChange({action:"remove",definitions:t}),this.definitions={};break}},renderDefinitions:function(){return b(this.mapDefinitions())},mapDefinitions:function(){var e,t=this.definitions,n=[];for(e in t)n.push([a[e],r(t[e].id)]);return n}}),P=D.extend({init:function(e){D.fn.init.call(this),this.options=e,this.defs=new H},attachTo:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)},clear:function(){d.fn.clear.call(this)},template:w("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(e){this.defs.definitionChange(e)}}),H=D.extend({init:function(){D.fn.init.call(this),this.definitionMap={}},attachTo:function(e){this.element=e},template:w("<defs>#= d.renderChildren()#</defs>"),definitionChange:function(e){var t=e.definitions,n=e.action;"add"==n?this.addDefinitions(t):"remove"==n&&this.removeDefinitions(t)},createDefinition:function(e,t){var n;return"clip"==e?n=B:"fill"==e&&(t instanceof p.LinearGradient?n=V:t instanceof p.RadialGradient&&(n=$)),new n(t)},addDefinitions:function(e){for(var t in e)this.addDefinition(t,e[t])},addDefinition:function(e,t){var n,r=this.definitionMap,i=t.id,s=this.element,o=r[i];o?o.count++:(n=this.createDefinition(e,t),r[i]={element:n,count:1},this.append(n),s&&n.attachTo(this.element))},removeDefinitions:function(e){for(var t in e)this.removeDefinition(e[t])},removeDefinition:function(e){var t=this.definitionMap,n=e.id,r=t[n];r&&(r.count--,0===r.count&&(this.remove(E(r.element,this.childNodes),1),delete t[n]))}}),B=D.extend({init:function(e){D.fn.init.call(this),this.srcElement=e,this.id=e.id,this.load([e])},template:w("<clipPath id='#=d.id#'>#= d.renderChildren()#</clipPath>")}),j=D.extend({template:w("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>"),optionsChange:function(e){e.field==O&&this.transformChange(e.value),D.fn.optionsChange.call(this,e)}}),F=D.extend({geometryChange:function(){this.attr("d",this.renderData()),this.invalidate()},optionsChange:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case O:this.transformChange(e.value);break;default:var t=this.attributeMap[e.field];t&&this.attr(t,e.value)}D.fn.optionsChange.call(this,e)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(e){var t,n,r,i,s,o=e.segments,u=o.length;if(u>0){for(t=[],s=1;u>s;s++)r=this.segmentType(o[s-1],o[s]),r!==i&&(i=r,t.push(r)),t.push("L"===r?this.printPoints(o[s].anchor()):this.printPoints(o[s-1].controlOut(),o[s].controlIn(),o[s].anchor()));return n="M"+this.printPoints(o[0].anchor())+L+t.join(L),e.options.closed&&(n+="Z"),n}},printPoints:function(){var e,t=arguments,n=t.length,r=[];for(e=0;n>e;e++)r.push(t[e].toString(3));return r.join(L)},segmentType:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"},mapStroke:function(e){var t=[];return e&&!g(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),m(e.opacity)&&t.push(["stroke-opacity",e.opacity]),m(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",N]),t},renderStroke:function(){return b(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(e){var t,n,r,i=e.width||1,s=e.dashType;if(s&&s!=k){for(t=x[s.toLowerCase()],n=[],r=0;t.length>r;r++)n.push(t[r]*i);return n.join(" ")}},renderLinecap:function(e){var t=e.dashType,n=e.lineCap;return t&&t!=k?S:n},mapFill:function(e){var t=[];return e&&e.nodeType==T||(e&&!g(e.color)?(t.push(["fill",e.color]),m(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",N])),t},renderFill:function(){return b(this.mapFill(this.srcElement.options.fill))},template:w("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #></path>")}),I=F.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}}),q=F.extend({renderData:function(){var e,t,n=this.srcElement.paths;if(n.length>0){for(e=[],t=0;n.length>t;t++)e.push(this.printPath(n[t]));return e.join(" ")}}}),R=F.extend({geometryChange:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:w("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ></circle>")}),U=F.extend({geometryChange:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()},optionsChange:function(e){"font"===e.field?(this.attr("style",v.renderStyle(this.mapStyle())),this.geometryChange()):"content"===e.field&&F.fn.content.call(this,this.srcElement.content()),F.fn.optionsChange.call(this,e)},mapStyle:function(){var e=F.fn.mapStyle.call(this),t=this.srcElement.options.font;return e.push(["font",l.htmlEncode(t)]),e},pos:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)},content:function(){var e=this.srcElement.content(),t=this.root().options;return t&&t.encodeText&&(e=u(e),e=l.htmlEncode(e)),e},template:w("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #>#= d.content() #</text>")}),z=F.extend({geometryChange:function(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChange:function(e){"src"===e.field&&this.allAttr(this.mapSource()),F.fn.optionsChange.call(this,e)},mapPosition:function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]},renderPosition:function(){return b(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return b(this.mapSource())},template:w("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#></image>")}),W=D.extend({template:w("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return y("offset",this.srcElement.offset())},mapStyle:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]},optionsChange:function(e){"offset"==e.field?this.attr(e.field,e.value):("color"==e.field||"opacity"==e.field)&&this.css("stop-"+e.field,e.value)}}),X=D.extend({init:function(e){D.fn.init.call(this,e),this.id=e.id,this.loadStops()},loadStops:function(){var e,t,n=this.srcElement,r=n.stops,i=this.element;for(t=0;r.length>t;t++)e=new W(r[t]),this.append(e),i&&e.attachTo(i)},optionsChange:function(e){"gradient.stops"==e.field?(d.fn.clear.call(this),this.loadStops()):e.field==T&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return b(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),V=X.extend({template:w("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</linearGradient>"),mapCoordinates:function(){var e=this.srcElement,t=e.start(),n=e.end(),r=[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()];return r}}),$=X.extend({template:w("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#</radialGradient>"),mapCoordinates:function(){var e=this.srcElement,t=e.center(),n=e.radius(),r=[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()];return r}}),J={Group:j,Text:U,Path:F,MultiPath:q,Circle:R,Arc:I,Image:z},K=function(e,t){e.innerHTML=t};!function(){var e="<svg xmlns='"+A+"'></svg>",t=f.createElement("div"),n=typeof DOMParser!=M;t.innerHTML=e,n&&t.firstChild.namespaceURI!=A&&(K=function(e,t){var n=new DOMParser,r=n.parseFromString(t,"text/xml"),i=f.adoptNode(r.documentElement);e.innerHTML="",e.appendChild(i)})}(),u._element=document.createElement("span"),a={clip:"clip-path",fill:"fill"},l.support.svg=function(){return f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),l.support.svg&&p.SurfaceFactory.current.register("svg",_,10),c(p,{exportSVG:s,svg:{ArcNode:I,CircleNode:R,ClipNode:B,DefinitionNode:H,GradientStopNode:W,GroupNode:j,ImageNode:z,LinearGradientNode:V,MultiPathNode:q,Node:D,PathNode:F,RadialGradientNode:$,RootNode:P,Surface:_,TextNode:U,_exportGroup:i}})}(window.kendo.jQuery),function(e){function t(t,n){var r,i,s,o,u,a,f={width:"800px",height:"600px",cors:"Anonymous"},l=t.clippedBBox();return l&&(r=l.getOrigin(),i=new w.Group,i.transform(b.transform().translate(-r.x,-r.y)),i.children.push(t),t=i,s=l.getSize(),f.width=s.width+"px",f.height=s.height+"px"),n=p(f,n),o=e("<div />").css({display:"none",width:n.width,height:n.height}).appendTo(document.body),u=new C(o,n),u.draw(t),a=u.image(),a.always(function(){u.destroy(),o.remove()}),a}function n(e,t){var n,r,i;for(i=0;t.length>i;i++)r=t[i],n=h.parseColor(r.color()),n.a*=r.opacity(),e.addColorStop(r.offset(),n.toCssRgba())}var r,i,s,o,u,a,f,l,c=document,h=window.kendo,p=h.deepExtend,d=h.util,v=d.defined,m=d.isTransparent,g=d.renderTemplate,y=d.valueOrDefault,b=h.geometry,w=h.drawing,E=w.BaseNode,S="butt",x=w.DASH_ARRAYS,T=1e3/60,N="solid",C=w.Surface.extend({init:function(t,n){w.Surface.fn.init.call(this,t,n),this.element[0].innerHTML=this._template(this);var i=this.element[0].firstElementChild;i.width=e(t).width(),i.height=e(t).height(),this._rootElement=i,this._root=new r(i)},destroy:function(){w.Surface.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null)},type:"canvas",draw:function(e){w.Surface.fn.draw.call(this,e),this._root.load([e],void 0,this.options.cors)},clear:function(){w.Surface.fn.clear.call(this),this._root.clear()},image:function(){var t,n=this._root,r=this._rootElement,i=[];return n.traverse(function(e){e.loading&&i.push(e.loading)}),t=e.Deferred(),e.when.apply(e,i).done(function(){n._invalidate();try{var e=r.toDataURL();t.resolve(e)}catch(i){t.reject(i)}}).fail(function(e){t.reject(e)}),t.promise()},_resize:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_template:g("<canvas style='width: 100%; height: 100%;'></canvas>")}),k=E.extend({init:function(e){E.fn.init.call(this,e),e&&this.initClip()},initClip:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),E.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(e){this.clip&&(e.beginPath(),i.fn.renderPoints(e,this.clip),e.clip())},optionsChange:function(e){"clip"==e.field&&(this.clearClip(),this.initClip()),E.fn.optionsChange.call(this,e)},setTransform:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}},load:function(e,t,n){var r,i,s,o,u=this;for(o=0;e.length>o;o++)i=e[o],s=i.children,r=new l[i.nodeType](i,n),s&&s.length>0&&r.load(s,t,n),v(t)?u.insertAt(r,t):u.append(r);u.invalidate()},setOpacity:function(e){if(this.srcElement){var t=this.srcElement.opacity();v(t)&&this.globalAlpha(e,t)}},globalAlpha:function(e,t){t&&e.globalAlpha&&(t*=e.globalAlpha),e.globalAlpha=t},visible:function(){var e=this.srcElement;return!e||e&&e.options.visible!==!1}}),L=k.extend({renderTo:function(e){var t,n,r;if(this.visible()){for(e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),t=this.childNodes,n=0;t.length>n;n++)r=t[n],r.visible()&&r.renderTo(e);e.restore()}}});w.mixins.Traversable.extend(L.fn,"childNodes"),r=L.extend({init:function(t){L.fn.init.call(this),this.canvas=t,this.ctx=t.getContext("2d"),this.invalidate=h.throttle(e.proxy(this._invalidate,this),T)},destroy:function(){L.fn.destroy.call(this),this.canvas=null,this.ctx=null},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}),w.mixins.Traversable.extend(r.fn,"childNodes"),i=k.extend({renderTo:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()},setFill:function(e){var t=this.srcElement.options.fill,n=!1;return t&&("gradient"==t.nodeType?(this.setGradientFill(e,t),n=!0):m(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n},setGradientFill:function(e,t){var r,i,s,o,u=this.srcElement.rawBBox();t instanceof w.LinearGradient?(i=t.start(),s=t.end(),r=e.createLinearGradient(i.x,i.y,s.x,s.y)):t instanceof w.RadialGradient&&(o=t.center(),r=e.createRadialGradient(o.x,o.y,0,o.x,o.y,t.radius())),n(r,t.stops),e.save(),t.userSpace()||e.transform(u.width(),0,0,u.height(),u.origin.x,u.origin.y),e.fillStyle=r,e.fill(),e.restore()},setStroke:function(e){var t=this.srcElement.options.stroke;return t&&!m(t.color)&&t.width>0?(e.strokeStyle=t.color,e.lineWidth=y(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0):void 0},dashType:function(){var e=this.srcElement.options.stroke;return e&&e.dashType?e.dashType.toLowerCase():void 0},setLineDash:function(e){var t,n=this.dashType();n&&n!=N&&(t=x[n],e.setLineDash?e.setLineDash(t):(e.mozDash=t,e.webkitLineDash=t))},setLineCap:function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==N?e.lineCap=S:n&&n.lineCap&&(e.lineCap=n.lineCap)},setLineJoin:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)},renderPoints:function(e,t){var n,r,i,s,o,u,a=t.segments;if(0!==a.length){for(n=a[0],r=n.anchor(),e.moveTo(r.x,r.y),i=1;a.length>i;i++)n=a[i],r=n.anchor(),s=a[i-1],o=s.controlOut(),u=n.controlIn(),o&&u?e.bezierCurveTo(o.x,o.y,u.x,u.y,r.x,r.y):e.lineTo(r.x,r.y);t.options.closed&&e.closePath()}}}),s=i.extend({renderPoints:function(e){var t,n=this.srcElement.paths;for(t=0;n.length>t;t++)i.fn.renderPoints(e,n[t])}}),o=i.extend({renderPoints:function(e){var t=this.srcElement.geometry(),n=t.center,r=t.radius;e.arc(n.x,n.y,r,0,2*Math.PI)}}),u=i.extend({renderPoints:function(e){var t=this.srcElement.toPath();i.fn.renderPoints.call(this,e,t)}}),a=i.extend({renderTo:function(e){var t=this.srcElement,n=t.position(),r=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,this.setFill(e)&&e.fillText(t.content(),n.x,n.y+r.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+r.baseline)),e.restore()}}),f=i.extend({init:function(t,n){var r,s;i.fn.init.call(this,t),this.onLoad=e.proxy(this.onLoad,this),this.onError=e.proxy(this.onError,this),this.loading=e.Deferred(),r=this.img=new Image,n&&!/^data:/i.test(t.src())&&(r.crossOrigin=n),s=r.src=t.src(),r.complete?this.onLoad():(r.onload=this.onLoad,r.onerror=this.onError)},renderTo:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())},optionsChange:function(t){"src"===t.field?(this.loading=e.Deferred(),this.img.src=this.srcElement.src()):i.fn.optionsChange.call(this,t)},onLoad:function(){this.loading.resolve(),this.invalidate()},onError:function(){this.loading.reject(Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}}),l={Group:L,Text:a,Path:i,MultiPath:s,Circle:o,Arc:u,Image:f},h.support.canvas=function(){return!!c.createElement("canvas").getContext}(),h.support.canvas&&w.SurfaceFactory.current.register("canvas",C,20),p(h.drawing,{exportImage:t,canvas:{ArcNode:u,CircleNode:o,GroupNode:L,ImageNode:f,MultiPathNode:s,Node:k,PathNode:i,RootNode:r,Surface:C,TextNode:a}})}(window.kendo.jQuery),function(e){function t(){if(c.namespaces&&!c.namespaces.kvml){c.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var e=c.styleSheets.length>30?c.styleSheets[0]:c.createStyleSheet();e.addRule(".kvml","behavior:url(#default#VML)")}}function n(e){var t=c.createElement("kvml:"+e);return t.className="kvml",t}function r(e){var t,n=e.length,r=[];for(t=0;n>t;t++)r.push(e[t].scaleCopy(_).toString(0,","));return r.join(" ")}function i(e,t){var n,i,o,u,a,f=e.segments,l=f.length;if(l>0){for(n=[],a=1;l>a;a++)o=s(f[a-1],f[a]),o!==u&&(u=o,n.push(o)),n.push("l"===o?r([f[a].anchor()]):r([f[a-1].controlOut(),f[a].controlIn(),f[a].anchor()]));return i="m "+r([f[0].anchor()])+" "+n.join(" "),e.options.closed&&(i+=" x"),t!==!0&&(i+=" e"),i}}function s(e,t){return e.controlOut()&&t.controlIn()?"c":"l"}function o(e){return 0===e.indexOf("fill")||0===e.indexOf(P)}function u(e,t,n){var r,i=n*A(t.opacity(),1);return r=e?a(e,t.color(),i):a(t.color(),"#fff",1-i)}function a(e,t,n){var r=new x(e),i=new x(t),s=f(r.r,i.r,n),o=f(r.g,i.g,n),u=f(r.b,i.b,n);return(new x(s,o,u)).toHex()}function f(e,t,n){return h.round(n*t+(1-n)*e)}var l,c=document,h=Math,p=h.atan2,d=h.ceil,v=h.sqrt,m=window.kendo,g=m.deepExtend,y=e.noop,b=m.drawing,w=b.BaseNode,E=m.geometry,S=E.toMatrix,x=m.Color,T=m.util,N=T.isTransparent,C=T.defined,k=T.deg,L=T.round,A=T.valueOrDefault,O="none",M=".kendo",_=100,D=_*_,P="gradient",H=4,B=b.Surface.extend({init:function(e,n){b.Surface.fn.init.call(this,e,n),t(),this.element.empty(),this._root=new F,this._root.attachTo(this.element[0]),this.element.on("click"+M,this._click),this.element.on("mouseover"+M,this._mouseenter),this.element.on("mouseout"+M,this._mouseleave)},type:"vml",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this.element.off(M)),b.Surface.fn.destroy.call(this)},draw:function(e){b.Surface.fn.draw.call(this,e),this._root.load([e],void 0,null)},clear:function(){b.Surface.fn.clear.call(this),this._root.clear()}}),j=w.extend({init:function(e){w.fn.init.call(this,e),this.createElement(),this.attachReference()},observe:y,destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null),w.fn.destroy.call(this)},clear:function(){var e,t;for(this.element&&(this.element.innerHTML=""),e=this.childNodes,t=0;e.length>t;t++)e[t].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),w.fn.removeSelf.call(this)},createElement:function(){this.element=c.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(e,t,n,r){var i,s,o,u,a,f;for(r=A(r,1),this.srcElement&&(r*=A(this.srcElement.options.opacity,1)),i=0;e.length>i;i++)s=e[i],o=s.children,u=s.currentTransform(n),a=r*A(s.options.opacity,1),f=new ot[s.nodeType](s,u,a),o&&o.length>0&&f.load(o,t,u,r),C(t)?this.insertAt(f,t):this.append(f),f.attachTo(this.element,t)},attachTo:function(e,t){C(t)?e.insertBefore(this.element,e.children[t]||null):e.appendChild(this.element)},optionsChange:function(e){"visible"==e.field&&this.css("display",e.value!==!1?"":O)},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var e=[];return this.srcElement&&this.srcElement.options.visible===!1&&e.push(["display",O]),e},mapOpacityTo:function(e,t){var n=A(this.opacity,1);n*=A(t,1),e.push(["opacity",n])},attr:function(e,t){this.element&&(this.element[e]=t)},allAttr:function(e){for(var t=0;e.length>t;t++)this.attr(e[t][0],e[t][1])},css:function(e,t){this.element&&(this.element.style[e]=t)},allCss:function(e){for(var t=0;e.length>t;t++)this.css(e[t][0],e[t][1])}}),F=j.extend({createElement:function(){j.fn.createElement.call(this),this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:y}),I=m.Class.extend({init:function(e,t){this.srcElement=e,this.observer=t,e.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}}),q=j.extend({init:function(e){j.fn.init.call(this,e),e&&this.initClip()},observe:function(){w.fn.observe.call(this)},mapStyle:function(){var e=j.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&e.push(["clip",this.clipRect()]),e},optionsChange:function(e){"clip"==e.field&&(this.clearClip(),this.initClip(),this.setClip()),j.fn.optionsChange.call(this,e)},clear:function(){this.clearClip(),j.fn.clear.call(this)},initClip:function(){this.srcElement.clip()&&(this.clip=new I(this.srcElement.clip(),this),this.clip.observer=this)},clearClip:function(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()))},setClip:function(){this.clip&&this.css("clip",this.clipRect())},clipRect:function(){var e,t,n,r=l,i=this.srcElement.clip();return i&&(e=this.clipBBox(i),t=e.topLeft(),n=e.bottomRight(),r=m.format("rect({0}px {1}px {2}px {3}px)",t.y,n.x,n.y,t.x)),r},clipBBox:function(e){var t=this.srcElement.rawBBox().topLeft(),n=e.rawBBox();return n.origin.translate(-t.x,-t.y),n}}),R=q.extend({createElement:function(){j.fn.createElement.call(this),this.setStyle()},attachTo:function(e,t){this.css("display",O),j.fn.attachTo.call(this,e,t),this.srcElement.options.visible!==!1&&this.css("display","")},_attachTo:function(e){var t=document.createDocumentFragment();t.appendChild(this.element),e.appendChild(t)},mapStyle:function(){var e=q.fn.mapStyle.call(this);return e.push(["position","absolute"]),e.push(["white-space","nowrap"]),e},optionsChange:function(e){"transform"===e.field&&this.refreshTransform(),"opacity"===e.field&&this.refreshOpacity(),q.fn.optionsChange.call(this,e)},refreshTransform:function(e){var t,n=this.srcElement.currentTransform(e),r=this.childNodes,i=r.length;for(this.setClip(),t=0;i>t;t++)r[t].refreshTransform(n)},currentOpacity:function(){var e=A(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(e*=this.parent.currentOpacity()),e},refreshOpacity:function(){var e,t=this.childNodes,n=t.length,r=this.currentOpacity();for(e=0;n>e;e++)t[e].refreshOpacity(r)},initClip:function(){if(q.fn.initClip.call(this),this.clip){var e=this.clip.srcElement.bbox(this.srcElement.currentTransform());e&&(this.css("width",e.width()+e.origin.x),this.css("height",e.height()+e.origin.y))}},clipBBox:function(e){return e.bbox(this.srcElement.currentTransform())},clearClip:function(){q.fn.clearClip.call(this)}}),U=j.extend({init:function(e,t){this.opacity=t,j.fn.init.call(this,e)},createElement:function(){this.element=n("stroke"),this.setOpacity()},optionsChange:function(e){0===e.field.indexOf("stroke")&&this.setStroke()},refreshOpacity:function(e){this.opacity=e,this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var e,t=this.srcElement.options.stroke,n=[];return t&&!N(t.color)&&0!==t.width?(n.push(["on","true"]),n.push(["color",t.color]),n.push(["weight",(t.width||1)+"px"]),this.mapOpacityTo(n,t.opacity),C(t.dashType)&&n.push(["dashstyle",t.dashType]),C(t.lineJoin)&&n.push(["joinstyle",t.lineJoin]),C(t.lineCap)&&(e=t.lineCap.toLowerCase(),"butt"===e&&(e="butt"===e?"flat":e),n.push(["endcap",e]))):n.push(["on","false"]),n}}),z=j.extend({init:function(e,t,n){this.opacity=n,j.fn.init.call(this,e)},createElement:function(){this.element=n("fill"),this.setFill()},optionsChange:function(e){o(e.field)&&this.setFill()},refreshOpacity:function(e){this.opacity=e,this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(e,t){var n,r=this.element;if(r){for(n=e.split(".");n.length>1;)r=r[n.shift()];r[n[0]]=t}},mapFill:function(){var e=this.srcElement.fill(),t=[["on","false"]];return e&&(e.nodeType==P?t=this.mapGradient(e):N(e.color)||(t=this.mapFillColor(e))),t},mapFillColor:function(e){var t=[["on","true"],["color",e.color]];return this.mapOpacityTo(t,e.opacity),t},mapGradient:function(e){var t,n=this.srcElement.options,r=n.fallbackFill||e.fallbackFill&&e.fallbackFill();return t=e instanceof b.LinearGradient?this.mapLinearGradient(e):e instanceof b.RadialGradient&&e.supportVML?this.mapRadialGradient(e):r?this.mapFillColor(r):[["on","false"]]},mapLinearGradient:function(e){var t=e.start(),n=e.end(),r=T.deg(p(n.y-t.y,n.x-t.x)),i=[["on","true"],["type",P],["focus",0],["method","none"],["angle",270-r]];return this.addColors(i),i},mapRadialGradient:function(e){var t=this.srcElement.rawBBox(),n=e.center(),r=(n.x-t.origin.x)/t.width(),i=(n.y-t.origin.y)/t.height(),s=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",r+" "+i],["method","none"]];return this.addColors(s),s},addColors:function(e){var t,n,r=this.srcElement.options,i=A(this.opacity,1),s=[],o=r.fill.stops,a=r.baseColor,f=this.element.colors?"colors.value":"colors",l=u(a,o[0],i),c=u(a,o[o.length-1],i);for(n=0;o.length>n;n++)t=o[n],s.push(h.round(100*t.offset())+"% "+u(a,t,i));e.push([f,s.join(",")],["color",l],["color2",c])}}),W=j.extend({init:function(e,t){this.transform=t,j.fn.init.call(this,e)},createElement:function(){this.element=n("skew"),this.setTransform()},optionsChange:function(e){"transform"===e.field&&this.refresh(this.srcElement.currentTransform())},refresh:function(e){this.transform=e,this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var e=this.transform,t=[],n=S(e);return n?(n.round(H),t.push(["on","true"],["matrix",[n.a,n.c,n.b,n.d,0,0].join(",")],["offset",n.e+"px,"+n.f+"px"],["origin",this.transformOrigin()])):t.push(["on","false"]),t}}),X=q.extend({init:function(e,t,n){this.fill=this.createFillNode(e,t,n),this.stroke=new U(e,n),this.transform=this.createTransformNode(e,t),q.fn.init.call(this,e)},attachTo:function(e,t){this.fill.attachTo(this.element),this.stroke.attachTo(this.element),this.transform.attachTo(this.element),j.fn.attachTo.call(this,e,t)},createFillNode:function(e,t,n){return new z(e,t,n)},createTransformNode:function(e,t){return new W(e,t)},createElement:function(){this.element=n("shape"),this.setCoordsize(),this.setStyle()},optionsChange:function(e){o(e.field)?this.fill.optionsChange(e):0===e.field.indexOf("stroke")?this.stroke.optionsChange(e):"transform"===e.field?this.transform.optionsChange(e):"opacity"===e.field&&(this.fill.setOpacity(),this.stroke.setOpacity()),q.fn.optionsChange.call(this,e)},refreshTransform:function(e){this.transform.refresh(this.srcElement.currentTransform(e))},refreshOpacity:function(e){e*=A(this.srcElement.options.opacity,1),this.fill.refreshOpacity(e),this.stroke.refreshOpacity(e)},mapStyle:function(e,t){var n,r=q.fn.mapStyle.call(this);return e&&t||(e=t=_),r.push(["position","absolute"],["width",e+"px"],["height",t+"px"]),n=this.srcElement.options.cursor,n&&r.push(["cursor",n]),r},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",D+" "+D]])}}),V=j.extend({createElement:function(){this.element=n("path"),this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return i(this.srcElement)}}),$=X.extend({init:function(e,t,n){this.pathData=this.createDataNode(e),X.fn.init.call(this,e,t,n)},attachTo:function(e,t){this.pathData.attachTo(this.element),X.fn.attachTo.call(this,e,t)},createDataNode:function(e){return new V(e)},geometryChange:function(){this.pathData.geometryChange(),X.fn.geometryChange.call(this)}}),J=V.extend({renderData:function(){var e,t,n,r=this.srcElement.paths;if(r.length>0){for(e=[],t=0;r.length>t;t++)n=r.length-1>t,e.push(i(r[t],n));return e.join(" ")}}}),K=$.extend({createDataNode:function(e){return new J(e)}}),Q=W.extend({transformOrigin:function(){var e=this.srcElement.geometry().bbox(),t=e.center(),n=-d(t.x)/d(e.width()),r=-d(t.y)/d(e.height());return n+","+r}}),G=X.extend({createElement:function(){this.element=n("oval"),this.setStyle()},createTransformNode:function(e,t){return new Q(e,t)},geometryChange:function(){X.fn.geometryChange.call(this),this.setStyle(),this.refreshTransform()},mapStyle:function(){var e=this.srcElement.geometry(),t=e.radius,n=e.center,r=d(2*t),i=X.fn.mapStyle.call(this,r,r);return i.push(["left",d(n.x-t)+"px"],["top",d(n.y-t)+"px"]),i}}),Y=V.extend({renderData:function(){return i(this.srcElement.toPath())}}),Z=$.extend({createDataNode:function(e){return new Y(e)}}),et=V.extend({createElement:function(){V.fn.createElement.call(this),this.attr("textpathok",!0)},renderData:function(){var e=this.srcElement.rect(),t=e.center();return"m "+r([new E.Point(e.topLeft().x,t.y)])+" l "+r([new E.Point(e.bottomRight().x,t.y)])}}),tt=j.extend({createElement:function(){this.element=n("textpath"),this.attr("on",!0),this.attr("fitpath",!1),this.setStyle(),this.setString()},optionsChange:function(e){"content"===e.field?this.setString():this.setStyle(),j.fn.optionsChange.call(this,e)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}}),nt=$.extend({init:function(e,t,n){this.path=new tt(e),$.fn.init.call(this,e,t,n)},createDataNode:function(e){return new et(e)},attachTo:function(e,t){this.path.attachTo(this.element),$.fn.attachTo.call(this,e,t)},optionsChange:function(e){("font"===e.field||"content"===e.field)&&(this.path.optionsChange(e),this.pathData.geometryChange(e)),$.fn.optionsChange.call(this,e)}}),rt=V.extend({renderData:function(){var e=this.srcElement.rect(),t=(new b.Path).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();return i(t)}}),it=W.extend({init:function(e,t,n){this.opacity=n,W.fn.init.call(this,e,t)},createElement:function(){this.element=n("fill"),this.attr("type","frame"),this.attr("rotate",!0),this.setOpacity(),this.setSrc(),this.setTransform()},optionsChange:function(e){"src"===e.field&&this.setSrc(),W.fn.optionsChange.call(this,e)},geometryChange:function(){this.refresh()},refreshOpacity:function(e){this.opacity=e,this.setOpacity()},setOpacity:function(){var e=[];this.mapOpacityTo(e,this.srcElement.options.opacity),this.allAttr(e)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var e,t,n,r,i,s,o,u,a=this.srcElement,f=a.rawBBox(),l=f.center(),c=_/2,h=_,d=f.width()/h,m=f.height()/h,g=0,y=this.transform;return y?(n=S(y),r=v(n.a*n.a+n.b*n.b),i=v(n.c*n.c+n.d*n.d),d*=r,m*=i,s=k(p(n.b,n.d)),o=k(p(-n.c,n.a)),g=(s+o)/2,0!==g?(u=a.bbox().center(),e=(u.x-c)/h,t=(u.y-c)/h):(e=(l.x*r+n.e-c)/h,t=(l.y*i+n.f-c)/h)):(e=(l.x-c)/h,t=(l.y-c)/h),d=L(d,H),m=L(m,H),e=L(e,H),t=L(t,H),g=L(g,H),[["size",d+","+m],["position",e+","+t],["angle",g]]}}),st=$.extend({createFillNode:function(e,t,n){return new it(e,t,n)},createDataNode:function(e){return new rt(e)},optionsChange:function(e){("src"===e.field||"transform"===e.field)&&this.fill.optionsChange(e),$.fn.optionsChange.call(this,e)},geometryChange:function(){this.fill.geometryChange(),$.fn.geometryChange.call(this)},refreshTransform:function(e){$.fn.refreshTransform.call(this,e),this.fill.refresh(this.srcElement.currentTransform(e))}}),ot={Group:R,Text:nt,Path:$,MultiPath:K,Circle:G,Arc:Z,Image:st};m.support.vml=function(){var e=m.support.browser;return e.msie&&9>e.version}(),l="inherit",m.support.browser.msie&&8>m.support.browser.version&&(l="rect(auto auto auto auto)"),m.support.vml&&b.SurfaceFactory.current.register("vml",B,30),g(b,{vml:{ArcDataNode:Y,ArcNode:Z,CircleTransformNode:Q,CircleNode:G,FillNode:z,GroupNode:R,ImageNode:st,ImageFillNode:it,ImagePathDataNode:rt,MultiPathDataNode:J,MultiPathNode:K,Node:j,PathDataNode:V,PathNode:$,RootNode:F,StrokeNode:U,Surface:B,TextNode:nt,TextPathNode:tt,TextPathDataNode:et,TransformNode:W}})}(window.kendo.jQuery),function(e,t,n){"use strict";function r(n,r){function s(t){var n=new ut.Group,r=t.getBoundingClientRect();return _(n,[1,0,0,1,-r.left,-r.top]),pt._clipbox=!1,pt._matrix=at.Matrix.unit(),pt._stackingContext={element:t,group:n},e(t).addClass("k-pdf-export"),tt(t,n),e(t).removeClass("k-pdf-export"),n}function o(t){return null!=t?("string"==typeof t&&(t=kendo.template(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(n){var r=t(n);return r?e(r)[0]:void 0}:function(){return e(t).clone()[0]}):void 0}function u(n,r,i,s,u,a,f){function l(){function e(){setTimeout(function(){n({pages:S,container:T})},10)}var t,r;("-"!=i||u)&&c(x),t=v(),x.parentNode.insertBefore(t,x),t.appendChild(x),y?(r=S.length,S.forEach(function(t,n){var i=y({element:t,pageNum:n+1,totalPages:S.length});i&&(t.appendChild(i),h(i,function(){0===--r&&e()}))})):e()}function c(n){var r,s,o,a,f=w(n),l=t(E(f,"padding-bottom")),h=t(E(f,"border-bottom-width")),p=N;for(N+=l+h,r=!0,s=n.firstChild;s;s=s.nextSibling)if(1==s.nodeType){if(r=!1,o=e(s),o.is(i)){d(s);continue}if(!u){c(s);continue}if(!/^(?:static|relative)$/.test(E(w(s),"position")))continue;a=m(s),1==a?d(s):a&&(o.data("kendoChart")||/^(?:img|tr|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(s.tagName))?d(s):c(s)}else 3==s.nodeType&&u&&(g(s,r),r=!1);N=p}function p(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}function d(e){var t,n;return 1==e.nodeType&&e!==x&&p(e)?d(e.parentNode):(t=v(),n=b.createRange(),n.setStartBefore(x),n.setEndBefore(e),t.appendChild(n.extractContents()),void x.parentNode.insertBefore(t,x))}function v(){var t=b.createElement("KENDO-PDF-PAGE");return e(t).css({display:"block",boxSizing:"content-box",width:s||"auto",padding:a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px",position:"relative",height:u||"auto",overflow:u||s?"hidden":"visible",clear:"both"}),f&&f.pageClassName&&(t.className=f.pageClassName),S.push(t),t}function m(e){var t,n,r=e.getBoundingClientRect();return 0===r.width||0===r.height?0:(t=x.getBoundingClientRect().top,n=u-N,r.height>n?3:r.top-t>n?1:r.bottom-t>n?2:0)}function g(e,t){var n,r,i,s,o;/\S/.test(e.data)&&(n=e.data.length,r=b.createRange(),r.selectNodeContents(e),i=m(r),i&&(s=e,1==i?d(t?e.parentNode:e):(!function u(t,n,i){return r.setEnd(e,n),t==n||n==i?n:m(r)?u(t,t+n>>1,n):u(n,n+i>>1,i)}(0,n>>1,n),!/\S/.test(""+r)&&t?d(e.parentNode):(s=e.splitText(r.endOffset),o=v(),r.setStartBefore(x),o.appendChild(r.extractContents()),x.parentNode.insertBefore(o,x))),g(s)))}var y=o(f.template),b=r.ownerDocument,S=[],x=e(r).clone(!0,!0)[0],T=b.createElement("KENDO-PDF-DOCUMENT"),N=0;e(x).find("tfoot").each(function(){this.parentNode.appendChild(this)}),e(x).find("ol").each(function(){e(this).children().each(function(e){this.setAttribute("kendo-split-index",e)})}),e(T).css({display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),s&&(e(T).css({width:s,paddingLeft:a.left,paddingRight:a.right}),e(x).css({overflow:"hidden"})),T.appendChild(x),r.parentNode.insertBefore(T,r),f.beforePageBreak?setTimeout(function(){f.beforePageBreak(T,l)},15):setTimeout(l,15)}r||(r={});var a=e.Deferred();if(n=e(n)[0],!n)return a.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");return kendo.pdf&&kendo.pdf.defineFont(i(n.ownerDocument)),h(n,function(){var e,t=r&&r.forcePageBreak,i=r&&r.paperSize&&"auto"!=r.paperSize,o=i&&kendo.pdf.getPaperOptions(function(e,t){return e in r?r[e]:t}),f=i&&o.paperSize[0],l=i&&o.paperSize[1],c=r.margin&&o.margin;t||l?(c||(c={left:0,top:0,right:0,bottom:0}),e=new ut.Group({pdf:{multiPage:!0,paperSize:i?o.paperSize:"auto"}}),u(function(t){if(r.progress){var n=!1,i=0;!function o(){t.pages.length>i?(e.append(s(t.pages[i])),r.progress({pageNum:++i,totalPages:t.pages.length,cancel:function(){n=!0}}),n?t.container.parentNode.removeChild(t.container):setTimeout(o)):(t.container.parentNode.removeChild(t.container),a.resolve(e))}()}else t.pages.forEach(function(t){e.append(s(t))}),t.container.parentNode.removeChild(t.container),a.resolve(e)},n,t,f?f-c.left-c.right:null,l?l-c.top-c.bottom:null,c,r)):a.resolve(s(n))}),a.promise()}function i(e){function t(e){if(e){var t=null;try{t=e.cssRules}catch(n){}t&&r(e,t)}}function n(e){var t,n=E(e.style,"src");return n?st(n).reduce(function(e,t){var n=ot(t);return n&&e.push(n),e},[]):(t=ot(e.cssText),t?[t]:[])}function r(e,r){var s,o,u,a,f,l,c;for(s=0;r.length>s;++s)switch(o=r[s],o.type){case 3:t(o.styleSheet);break;case 5:u=o.style,a=st(E(u,"font-family")),f=/^(400|bold)$/i.test(E(u,"font-weight")),l="italic"==E(u,"font-style"),c=n(o),c.length>0&&i(e,a,f,l,c[0])}}function i(e,t,n,r,i){/^data:/i.test(i)||/^[^\/:]+:\/\//.test(i)||/^\//.test(i)||(i=(e.href+"").replace(/[^\/]*$/,"")+i),t.forEach(function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(e+="|bold"),r&&(e+="|italic"),s[e]=i})}var s,o;for(null==e&&(e=document),s={},o=0;e.styleSheets.length>o;++o)t(e.styleSheets[o]);return s}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){return e="_counter_"+e,pt[e]}function u(e){var t=[],n=pt;for(e="_counter_"+e;n;)s(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);return t.reverse()}function a(e,t){var n=pt;for(e="_counter_"+e;n&&!s(n,e);)n=Object.getPrototypeOf(n);n||(n=pt._root),n[e]=(n[e]||0)+(null==t?1:t)}function f(e,t){e="_counter_"+e,pt[e]=null==t?0:t}function l(e,n,r){var i,s,o;for(i=0;e.length>i;)s=e[i++],o=t(e[i]),isNaN(o)?n(s,r):(n(s,o),++i)}function c(e,t){var n=kendo.parseColor(e);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n}function h(e,t){function n(e){ht[e]||(ht[e]=!0,s.push(e))}function r(){--i<=0&&t()}var i,s=[];!function o(e){/^img$/i.test(e.tagName)&&n(e.src),it(E(w(e),"background-image")).forEach(function(e){"url"==e.type&&n(e.url)}),e.children&&ft.call(e.children).forEach(o)}(e),i=s.length,0===i&&r(),s.forEach(function(e){var t=ht[e]=new Image;/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?r():(t.onload=r,t.onerror=function(){ht[e]=null,r()})})}function p(e){for(var t={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},n=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],r="";e>0;)n[0]>e?n.shift():(r+=t[n[0]],e-=n[0]);return r}function d(e){var t,r="";do t=e%26,r=String.fromCharCode(97+t)+r,e=n.floor(e/26);while(e>0);return r}function v(e,t,n){var r,i;pt=Object.create(pt),pt[e.tagName.toLowerCase()]={element:e,style:t},r=E(t,"text-decoration"),r&&"none"!=r&&(i=E(t,"color"),r.split(/\s+/g).forEach(function(e){pt[e]||(pt[e]=i)})),b(t)&&(pt._stackingContext={element:e,group:n})}function m(){pt=Object.getPrototypeOf(pt)}function g(e){if(null!=pt._clipbox){var t=e.bbox(pt._matrix);pt._clipbox=pt._clipbox?at.Rect.intersect(pt._clipbox,t):t}}function y(){var e=pt._clipbox;return null==e?!0:e?0===e.width()||0===e.height():void 0}function b(e){function t(t){return E(e,t)}return"none"!=t("transform")||"static"!=t("position")&&"auto"!=t("z-index")||t("opacity")<1?!0:void 0}function w(e,t){return window.getComputedStyle(e,t||null)}function E(e,t){return e.getPropertyValue(t)||lt.webkit&&e.getPropertyValue("-webkit-"+t)||lt.mozilla&&e.getPropertyValue("-moz-"+t)||lt.opera&&e.getPropertyValue("-o-"+t)||lt.msie&&e.getPropertyValue("-ms-"+t)}function S(e,t,n,r){e.setProperty(t,n,r),lt.webkit?e.setProperty("-webkit-"+t,n,r):lt.mozilla?e.setProperty("-moz-"+t,n,r):lt.opera?e.setProperty("-o-"+t,n,r):lt.msie&&(e.setProperty("-ms-"+t,n,r),t="ms"+t.replace(/(^|-)([a-z])/g,function(e,t,n){return t+n.toUpperCase()}),e[t]=n)}function x(e){if(lt.msie||lt.chrome){var t=e.getClientRects();if(2==t.length&&1>=t[1].width)return t[0];if(3==t.length&&1>=t[0].width&&1>=t[2].width)return t[1]}return e.getBoundingClientRect()}function T(e,n){return n="border-"+n,{width:t(E(e,n+"-width")),style:E(e,n+"-style"),color:c(E(e,n+"-color"),!0)}}function N(e,t){var n=e.style.cssText,r=t();return e.style.cssText=n,r}function C(e,n){var r=E(e,"border-"+n+"-radius").split(/\s+/g).map(t);return 1==r.length&&r.push(r[0]),H({x:r[0],y:r[1]})}function k(e){var t=e.getBoundingClientRect();return t=L(t,"border-*-width",e),t=L(t,"padding-*",e)}function L(e,n,r){var i,s,o,u,a;return"string"==typeof n?(i=w(r),s=t(E(i,n.replace("*","top"))),o=t(E(i,n.replace("*","right"))),u=t(E(i,n.replace("*","bottom"))),a=t(E(i,n.replace("*","left")))):"number"==typeof n&&(s=o=u=a=n),{top:e.top+s,right:e.right-o,bottom:e.bottom-u,left:e.left+a,width:e.right-e.left-o-a,height:e.bottom-e.top-u-s}}function A(e){var n,r,i=E(e,"transform");return"none"==i?null:(n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(i),n?(r=E(e,"transform-origin"),n=n[1].split(/\s*,\s*/g).map(t),r=r.split(/\s+/g).map(t),{matrix:n,origin:r}):void 0)}function O(e){return 180*e/n.PI%360}function M(e){var r=t(e);return/grad$/.test(e)?n.PI*r/200:/rad$/.test(e)?r:/turn$/.test(e)?n.PI*r*2:/deg$/.test(e)?n.PI*r/180:void 0}function _(e,t){return t=new at.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function D(e,t){e.clip(t)}function P(e,t,n,r){for(var i=(new at.Arc([t,n],r)).curvePoints(),s=1;i.length>s;)e.curveTo(i[s++],i[s++],i[s++])}function H(e){return(0>=e.x||0>=e.y)&&(e.x=e.y=0),e}function B(e,t,r,i,s){var o=n.max(0,t.x),u=n.max(0,t.y),a=n.max(0,r.x),f=n.max(0,r.y),l=n.max(0,i.x),c=n.max(0,i.y),h=n.max(0,s.x),p=n.max(0,s.y),d=n.min(e.width/(o+a),e.height/(f+c),e.width/(l+h),e.height/(p+u));return 1>d&&(o*=d,u*=d,a*=d,f*=d,l*=d,c*=d,h*=d,p*=d),{tl:{x:o,y:u},tr:{x:a,y:f},br:{x:l,y:c},bl:{x:h,y:p}}}function j(e,n,r){var i,s,o,u,a,f,l,c,h=w(e),p=C(h,"top-left"),d=C(h,"top-right"),v=C(h,"bottom-left"),m=C(h,"bottom-right");return("padding"==r||"content"==r)&&(i=T(h,"top"),s=T(h,"right"),o=T(h,"bottom"),u=T(h,"left"),p.x-=u.width,p.y-=i.width,d.x-=s.width,d.y-=i.width,m.x-=s.width,m.y-=o.width,v.x-=u.width,v.y-=o.width,"content"==r&&(a=t(E(h,"padding-top")),f=t(E(h,"padding-right")),l=t(E(h,"padding-bottom")),c=t(E(h,"padding-left")),p.x-=c,p.y-=a,d.x-=f,d.y-=a,m.x-=f,m.y-=l,v.x-=c,v.y-=l)),"number"==typeof r&&(p.x-=r,p.y-=r,d.x-=r,d.y-=r,m.x-=r,m.y-=r,v.x-=r,v.y-=r),F(n,p,d,m,v)}function F(e,t,n,r,i){var s=B(e,t,n,r,i),o=s.tl,u=s.tr,a=s.br,f=s.bl,l=new ut.Path({fill:null,stroke:null});return l.moveTo(e.left,e.top+o.y),o.x&&P(l,e.left+o.x,e.top+o.y,{startAngle:-180,endAngle:-90,radiusX:o.x,radiusY:o.y}),l.lineTo(e.right-u.x,e.top),u.x&&P(l,e.right-u.x,e.top+u.y,{startAngle:-90,endAngle:0,radiusX:u.x,radiusY:u.y}),l.lineTo(e.right,e.bottom-a.y),a.x&&P(l,e.right-a.x,e.bottom-a.y,{startAngle:0,endAngle:90,radiusX:a.x,radiusY:a.y}),l.lineTo(e.left+f.x,e.bottom),f.x&&P(l,e.left+f.x,e.bottom-f.y,{startAngle:90,endAngle:180,radiusX:f.x,radiusY:f.y}),l.close()}function I(e,n){var r=t(e)+"";switch(n){case"decimal-leading-zero":return 2>r.length&&(r="0"+r),r;case"lower-roman":return p(e);case"upper-roman":return p(e).toUpperCase();case"lower-latin":case"lower-alpha":return d(e-1);case"upper-latin":case"upper-alpha":return d(e-1).toUpperCase();default:return r}}function q(e,t){function n(e,t,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),u(e).map(function(e){return I(e,t)}).join(n)):I(o(e)||0,t)}var r,i=st(t,/^\s+/),s=[];return i.forEach(function(t){var i;(r=/^\s*(["'])(.*)\1\s*$/.exec(t))?s.push(r[2].replace(/\\([0-9a-f]{4})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})):(r=/^\s*counter\((.*?)\)\s*$/.exec(t))?(i=st(r[1]),s.push(n(i[0],i[1]))):(r=/^\s*counters\((.*?)\)\s*$/.exec(t))?(i=st(r[1]),s.push(n(i[0],i[2],i[1]))):s.push((r=/^\s*attr\((.*?)\)\s*$/.exec(t))?e.getAttribute(r[1])||"":t)}),s.join("")}function R(e){var t,n;if(e.cssText)return e.cssText;for(t=[],n=0;e.length>n;++n)t.push(e[n]+": "+E(e,e[n]));return t.join(";\n")}function U(e,n){function r(n,r){var s,o=w(e,n);o.content&&"normal"!=o.content&&"none"!=o.content&&"0px"!=o.width&&(s=e.ownerDocument.createElement(ct),s.style.cssText=R(o),s.textContent=q(e,o.content),e.insertBefore(s,r),":before"!=n||/absolute|fixed/.test(E(s.style,"position"))||(s.style.marginLeft=t(E(s.style,"margin-left"))-s.offsetWidth+"px"),i.push(s))}if(e.tagName==ct)return void z(e,n);var i=[];r(":before",e.firstChild),r(":after",null),z(e,n),i.forEach(function(t){e.removeChild(t)})}function z(r,i){function s(e){var t,n,i,s,o,u;if(/^td$/i.test(r.tagName)&&(t=pt.table,t&&"collapse"==E(t.style,"border-collapse"))){if(n=T(t.style,"left").width,i=T(t.style,"top").width,0===n&&0===i)return e;if(s=t.element.getBoundingClientRect(),o=t.element.rows[0].cells[0],u=o.getBoundingClientRect(),u.top==s.top||u.left==s.left)return ft.call(e).map(function(e){return{left:e.left+n,top:e.top+i,right:e.right+n,bottom:e.bottom+i,height:e.height,width:e.width}})}return e}function o(e,t,r,s,o,u,a,f){function l(t,i,s){var o=n.PI/2*t/(t+r),u={x:i.x-t,y:i.y-r},a=(new ut.Path({fill:{color:e},stroke:null})).moveTo(0,0);_(a,s),P(a,0,i.y,{startAngle:-90,endAngle:-O(o),radiusX:i.x,radiusY:i.y}),u.x>0&&u.y>0?(a.lineTo(u.x*n.cos(o),i.y-u.y*n.sin(o)),P(a,0,i.y,{startAngle:-O(o),endAngle:-90,radiusX:u.x,radiusY:u.y,anticlockwise:!0})):u.x>0?a.lineTo(u.x,r).lineTo(0,r):a.lineTo(u.x,r).lineTo(u.x,0),h.append(a.close())}if(!(0>=r)){var c,h=new ut.Group;_(h,f),i.append(h),H(u),H(a),c=new ut.Path({fill:{color:e},stroke:null}),h.append(c),c.moveTo(u.x?n.max(u.x,s):0,0).lineTo(t-(a.x?n.max(a.x,o):0),0).lineTo(t-n.max(a.x,o),r).lineTo(n.max(u.x,s),r).close(),u.x&&l(s,u,[-1,0,0,1,u.x,0]),a.x&&l(o,a,[1,0,0,1,t-a.x,0])}}function u(t){var n,s,o=new ut.Group;for(D(o,F(t,U,z,$,V)),i.append(o),"A"==r.tagName&&r.href&&!/^#?$/.test(e(r).attr("href"))&&(o._pdfLink={url:r.href,top:t.top,right:t.right,bottom:t.bottom,left:t.left}),Q&&(n=new ut.Path({fill:{color:Q.toCssRgba()},stroke:null}),n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),o.append(n)),s=h.length;--s>=0;)a(o,t,h[s],v[s%v.length],m[s%m.length],y[s%y.length],b[s%b.length])}function a(e,n,i,s,o,u,a){function f(e,n,i,f,l){function c(){for(;m.origin.x>n.left;)m.origin.x-=i}function h(){for(;m.origin.y>n.top;)m.origin.y-=f}function p(){for(;n.right>m.origin.x;)l(e,m.clone()),m.origin.x+=i}var d,v,m,g,y=i/f,b=n;if("content-box"==u?(b=L(b,"border-*-width",r),b=L(b,"padding-*",r)):"padding-box"==u&&(b=L(b,"border-*-width",r)),/^\s*auto(\s+auto)?\s*$/.test(a)||(d=a.split(/\s+/g),i=/%$/.test(d[0])?b.width*t(d[0])/100:t(d[0]),f=1==d.length||"auto"==d[1]?i/y:/%$/.test(d[1])?b.height*t(d[1])/100:t(d[1])),v=(o+"").split(/\s+/),1==v.length&&(v[1]="50%"),v[0]=/%$/.test(v[0])?t(v[0])/100*(b.width-i):t(v[0]),v[1]=/%$/.test(v[1])?t(v[1])/100*(b.height-f):t(v[1]),m=new at.Rect([b.left+v[0],b.top+v[1]],[i,f]),"no-repeat"==s)l(e,m);else if("repeat-x"==s)c(),p();else if("repeat-y"==s)for(h();n.bottom>m.origin.y;)l(e,m.clone()),m.origin.y+=f;else if("repeat"==s)for(c(),h(),g=m.origin.clone();n.bottom>m.origin.y;)m.origin.x=g.x,p(),m.origin.y+=f}if(i&&"none"!=i)if("url"==i.type){if(/^url\(\"data:image\/svg/i.test(i.url))return;var l=ht[i.url];l&&l.width>0&&l.height>0&&f(e,n,l.width,l.height,function(e,t){e.append(new ut.Image(i.url,t))})}else{if("linear"!=i.type)return;f(e,n,n.width,n.height,W(i))}}function f(){function e(e){N(r,function(){r.style.position="relative";var t=r.ownerDocument.createElement(ct);t.style.position="absolute",t.style.boxSizing="border-box","outside"==s?(t.style.width="6em",t.style.left="-6.8em",t.style.textAlign="right"):t.style.left="0px",e(t),r.insertBefore(t,r.firstChild),tt(t,i),r.removeChild(t)})}function t(e){var t,n=r.parentNode.children,i=r.getAttribute("kendo-split-index");if(null!=i)return e(0|i,n.length);for(t=0;n.length>t;++t)if(n[t]===r)return e(t,n.length)}var n,s,o=E(A,"list-style-type");if("none"!=o)switch(n=E(A,"list-style-image"),s=E(A,"list-style-position"),o){case"circle":case"disc":case"square":e(function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"●",circle:"◯",square:"■"}[o]});break;case"decimal":case"decimal-leading-zero":e(function(e){t(function(t){++t,"decimal-leading-zero"==o&&2>(t+"").length&&(t="0"+t),e.innerHTML=t+"."})});break;case"lower-roman":case"upper-roman":e(function(e){t(function(t){t=p(t+1),"upper-roman"==o&&(t=t.toUpperCase()),e.innerHTML=t+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":e(function(e){t(function(t){t=d(t),/^upper/i.test(o)&&(t=t.toUpperCase()),e.innerHTML=t+"."})})}}function l(e,t,n){function s(e){return{x:e.y,y:e.x}}var a,f,l,c,h,p,d,v;if(0!==e.width&&0!==e.height&&(u(e),a=R.width>0&&(t&&"ltr"==K||n&&"rtl"==K),f=I.width>0&&(n&&"ltr"==K||t&&"rtl"==K),0!==M.width||0!==R.width||0!==I.width||0!==q.width)){if(M.color==I.color&&M.color==q.color&&M.color==R.color&&M.width==I.width&&M.width==q.width&&M.width==R.width&&a&&f)return e=L(e,M.width/2),l=j(r,e,M.width/2),l.options.stroke={color:M.color,width:M.width},void i.append(l);if(0===U.x&&0===z.x&&0===$.x&&0===V.x&&2>M.width&&2>R.width&&2>I.width&&2>q.width)return M.width>0&&i.append((new ut.Path({stroke:{width:M.width,color:M.color}})).moveTo(e.left,e.top+M.width/2).lineTo(e.right,e.top+M.width/2)),q.width>0&&i.append((new ut.Path({stroke:{width:q.width,color:q.color}})).moveTo(e.left,e.bottom-q.width/2).lineTo(e.right,e.bottom-q.width/2)),a&&i.append((new ut.Path({stroke:{width:R.width,color:R.color}})).moveTo(e.left+R.width/2,e.top).lineTo(e.left+R.width/2,e.bottom)),void (f&&i.append((new ut.Path({stroke:{width:I.width,color:I.color}})).moveTo(e.right-I.width/2,e.top).lineTo(e.right-I.width/2,e.bottom)));c=B(e,U,z,$,V),h=c.tl,p=c.tr,d=c.br,v=c.bl,o(M.color,e.width,M.width,R.width,I.width,h,p,[1,0,0,1,e.left,e.top]),o(q.color,e.width,q.width,I.width,R.width,d,v,[-1,0,0,-1,e.right,e.bottom]),o(R.color,e.height,R.width,q.width,M.width,s(v),s(h),[0,-1,1,0,e.left,e.bottom]),o(I.color,e.height,I.width,M.width,q.width,s(p),s(d),[0,1,-1,0,e.right,e.top])}}var h,v,m,y,b,S,x,k,A=w(r),M=T(A,"top"),I=T(A,"right"),q=T(A,"bottom"),R=T(A,"left"),U=C(A,"top-left"),z=C(A,"top-right"),V=C(A,"bottom-left"),$=C(A,"bottom-right"),K=E(A,"direction"),Q=E(A,"background-color");for(Q=c(Q),h=it(E(A,"background-image")),v=st(E(A,"background-repeat")),m=st(E(A,"background-position")),y=st(E(A,"background-origin")),b=st(E(A,"background-size")),lt.msie&&10>lt.version&&(m=st(r.currentStyle.backgroundPosition)),S=L(r.getBoundingClientRect(),"border-*-width",r),function(){var e,n,r,s,o,u,a,f=E(A,"clip"),l=/^\s*rect\((.*)\)\s*$/.exec(f);l&&(e=l[1].split(/[ ,]+/g),n="auto"==e[0]?S.top:t(e[0])+S.top,r="auto"==e[1]?S.right:t(e[1])+S.left,s="auto"==e[2]?S.bottom:t(e[2])+S.top,o="auto"==e[3]?S.left:t(e[3])+S.left,u=new ut.Group,a=(new ut.Path).moveTo(o,n).lineTo(r,n).lineTo(r,s).lineTo(o,s).close(),D(u,a),i.append(u),i=u,g(a))}(),x=r.getClientRects(),1==x.length&&(x=[r.getBoundingClientRect()]),x=s(x),k=0;x.length>k;++k)l(x[k],0===k,k==x.length-1);return x.length>0&&"list-item"==E(A,"display")&&f(x[0]),function(){function e(){var e=j(r,S,"padding"),t=new ut.Group;D(t,e),i.append(t),i=t,g(e)}J(r)?e():/^(hidden|auto|scroll)/.test(E(A,"overflow"))?e():/^(hidden|auto|scroll)/.test(E(A,"overflow-x"))?e():/^(hidden|auto|scroll)/.test(E(A,"overflow-y"))&&e()}(),X(r,i)||Y(r,i),i}function W(e){return function(r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y=i.width(),b=i.height();i.topLeft();switch(e.type){case"linear":switch(s=null!=e.angle?e.angle:n.PI,e.to){case"top":s=0;break;case"left":s=-n.PI/2;break;case"bottom":s=n.PI;break;case"right":s=n.PI/2;break;case"top left":case"left top":s=-n.atan2(b,y);break;case"top right":case"right top":s=n.atan2(b,y);break;case"bottom left":case"left bottom":s=n.PI+n.atan2(b,y);break;case"bottom right":case"right bottom":s=n.PI-n.atan2(b,y)}e.reverse&&(s-=n.PI),s%=2*n.PI,0>s&&(s+=2*n.PI),o=n.abs(y*n.sin(s))+n.abs(b*n.cos(s)),u=n.atan(y*n.tan(s)/b),a=n.sin(u),f=n.cos(u),l=n.abs(a)+n.abs(f),c=l/2*a,h=l/2*f,s>n.PI/2&&3*n.PI/2>=s&&(c=-c,h=-h),p=[],d=0,v=e.stops.map(function(n,r){var i,s=n.percent;return s?s=t(s)/100:n.length?s=t(n.length)/o:0===r?s=0:r==e.stops.length-1&&(s=1),i={color:n.color.toCssRgba(),offset:s},null!=s?(d=s,p.forEach(function(e,t){var n=e.stop;n.offset=e.left+(d-e.left)*(t+1)/(p.length+1)}),p=[]):p.push({left:d,stop:i}),i}),m=[.5-c,.5+h],g=[.5+c,.5-h],r.append(ut.Path.fromRect(i).stroke(null).fill(new ut.LinearGradient({start:m,end:g,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}function X(t,n){var r,i,s,o;return t.getAttribute(kendo.attr("role"))&&(r=kendo.widgetInstance(e(t)),r&&(r.exportDOMVisual||r.exportVisual))?(i=r.exportDOMVisual?r.exportDOMVisual():r.exportVisual())?(s=new ut.Group,s.children.push(i),o=t.getBoundingClientRect(),s.transform(at.transform().translate(o.left,o.top)),n.append(s),!0):!1:void 0}function V(e,t,n){var r=k(e),i=new at.Rect([r.left,r.top],[r.width,r.height]),s=new ut.Image(t,i);D(s,j(e,r,"content")),n.append(s)}function $(e,n){var r=w(e),i=w(n),s=t(E(r,"z-index")),o=t(E(i,"z-index")),u=E(r,"position"),a=E(i,"position");return isNaN(s)&&isNaN(o)?/static|absolute/.test(u)&&/static|absolute/.test(a)?0:"static"==u?-1:"static"==a?1:0:isNaN(s)?0===o?0:o>0?-1:1:isNaN(o)?0===s?0:s>0?1:-1:t(s)-t(o)}function J(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}function K(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex]}function Q(e,t){var r=w(e),i=E(r,"color"),s=e.getBoundingClientRect();"checkbox"==e.type?(t.append(ut.Path.fromRect(new at.Rect([s.left+1,s.top+1],[s.width-2,s.height-2])).stroke(i,1)),e.checked&&t.append((new ut.Path).stroke(i,1.2).moveTo(s.left+.22*s.width,s.top+.55*s.height).lineTo(s.left+.45*s.width,s.top+.75*s.height).lineTo(s.left+.78*s.width,s.top+.22*s.width))):(t.append((new ut.Circle(new at.Circle([(s.left+s.right)/2,(s.top+s.bottom)/2],n.min(s.width-2,s.height-2)/2))).stroke(i,1)),e.checked&&t.append((new ut.Circle(new at.Circle([(s.left+s.right)/2,(s.top+s.bottom)/2],n.min(s.width-8,s.height-8)/2))).fill(i).stroke(null)))}function G(e,t){var n,r,i,s,o,u=e.tagName.toLowerCase();if("input"==u&&("checkbox"==e.type||"radio"==e.type))return Q(e,t);if(n=e.parentNode,r=e.ownerDocument,i=r.createElement(ct),i.style.cssText=R(w(e)),i.style.display="inline-block","input"==u&&(i.style.whiteSpace="pre"),("select"==u||"textarea"==u)&&(i.style.overflow="auto"),"select"==u)if(e.multiple)for(o=0;e.options.length>o;++o)s=r.createElement(ct),s.style.cssText=R(w(e.options[o])),s.style.display="block",s.textContent=e.options[o].textContent,i.appendChild(s);else s=K(e),s&&(i.textContent=s.textContent);else i.textContent=e.value;n.insertBefore(i,e),i.scrollLeft=e.scrollLeft,i.scrollTop=e.scrollTop,Y(i,t),n.removeChild(i)}function Y(e,t){var n,r,i,s,o,u,a,f,l;switch(pt._stackingContext.element===e&&(pt._stackingContext.group=t),e.tagName.toLowerCase()){case"img":V(e,e.src,t);break;case"canvas":try{V(e,e.toDataURL("image/png"),t)}catch(c){}break;case"textarea":case"input":case"select":G(e,t);break;default:for(n=[],r=[],i=[],s=[],o=e.firstChild;o;o=o.nextSibling)switch(o.nodeType){case 3:/\S/.test(o.data)&&Z(e,o,t);break;case 1:u=w(o),a=E(u,"display"),f=E(u,"float"),l=E(u,"position"),"static"!=l?s.push(o):"inline"!=a?"none"!=f?r.push(o):n.push(o):i.push(o)}n.sort($).forEach(function(e){tt(e,t)}),r.sort($).forEach(function(e){tt(e,t)}),i.sort($).forEach(function(e){tt(e,t)}),s.sort($).forEach(function(e){tt(e,t)})}}function Z(e,r,i){function s(){var e,t,i,s,u,a,h,p=l,d=f.substr(l).search(/\S/);if(l+=d,0>d||l>=c)return!0;if(m.setStart(r,l),m.setEnd(r,l+1),e=m.getBoundingClientRect(),t=!1,b&&(d=f.substr(l).search(/\s/),d>=0&&(m.setEnd(r,l+d),i=m.getBoundingClientRect(),i.bottom==e.bottom&&(e=i,t=!0,l+=d))),!t){if(d=function v(t,n,i){m.setEnd(r,n);var s=x(m);return s.bottom!=e.bottom&&n>t?v(t,t+n>>1,n):s.right!=e.right?(e=s,i>n?v(n,n+i>>1,i):n):n}(l,n.min(c,l+T),c),d==l)return!0;if(l=d,d=(""+m).search(/\s+$/),0===d)return;d>0&&(m.setEnd(r,m.startOffset+d),e=m.getBoundingClientRect())}if(lt.msie&&(e=m.getClientRects()[0]),s=""+m,/^(?:pre|pre-wrap)$/i.test(S)){if(/\t/.test(s)){for(u=0,d=p;m.startOffset>d;++d)a=f.charCodeAt(d),9==a?u+=8-u%8:10==a||13==a?u=0:u++;for(;(d=s.search("	"))>=0;)h="        ".substr(0,8-(u+d)%8),s=s.substr(0,d)+h+s.substr(d+1)}}else s=s.replace(/\s+/g," ");o(s,e)}function o(e,t){var n,r,s;lt.msie&&!isNaN(p)&&(n=ut.util.measureText(e,{font:d}),r=(t.top+t.bottom-n.height)/2,t={top:r,right:t.right,bottom:r+n.height,left:t.left,height:n.height,width:t.right-t.left}),s=new rt(e,new at.Rect([t.left,t.top],[t.width,t.height]),{font:d,fill:{color:v}}),i.append(s),u(t)}function u(e){function t(t,n){var r,s;t&&(r=h/12,s=new ut.Path({stroke:{width:r,color:t}}),n-=r,s.moveTo(e.left,n).lineTo(e.right,n),i.append(s))}t(pt.underline,e.bottom),t(pt["line-through"],e.bottom-e.height/2.7),t(pt.overline,e.top)}var a,f,l,c,h,p,d,v,m,g,b,S,T;if(!y()&&(a=w(e),!(t(E(a,"text-indent"))<-500)&&(f=r.data,l=0,c=f.search(/\S\s*$/)+1,c&&(h=E(a,"font-size"),p=E(a,"line-height"),d=[E(a,"font-style"),E(a,"font-variant"),E(a,"font-weight"),h,E(a,"font-family")].join(" "),h=t(h),p=t(p),0!==h))))for(v=E(a,"color"),m=e.ownerDocument.createRange(),g=E(a,"text-align"),b="justify"==g,S=E(a,"white-space"),T=e.getBoundingClientRect().width/h*5,0===T&&(T=500);!s(););}function et(e,n,r){var i,s,o,u,a,f;for("auto"!=r?(i=pt._stackingContext.group,r=t(r)):(i=n,r=0),s=i.children,o=0;s.length>o&&!(null!=s[o]._dom_zIndex&&s[o]._dom_zIndex>r);++o);return u=new ut.Group,i.insertAt(u,o),u._dom_zIndex=r,i!==n&&pt._clipbox&&(a=pt._matrix.invert(),f=pt._clipbox.transformCopy(a),D(u,ut.Path.fromRect(f))),u}function tt(e,n){var r,i,s,o,u,c,h,p=w(e),d=E(p,"counter-reset");d&&l(st(d,/^\s+/),f,0),r=E(p,"counter-increment"),r&&l(st(r,/^\s+/),a,1),/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)||null!=pt._clipbox&&(i=t(E(p,"opacity")),s=E(p,"visibility"),o=E(p,"display"),0!==i&&"hidden"!=s&&"none"!=o&&(u=A(p),h=E(p,"z-index"),(u||1>i)&&"auto"==h&&(h=0),c=et(e,n,h),1>i&&c.opacity(i*c.opacity()),v(e,p,c),u?N(e,function(){var t,n,r,i;S(e.style,"transform","none","important"),S(e.style,"transition","none","important"),"static"==E(p,"position")&&S(e.style,"position","relative","important"),t=e.getBoundingClientRect(),n=t.left+u.origin[0],r=t.top+u.origin[1],i=[1,0,0,1,-n,-r],i=nt(i,u.matrix),i=nt(i,[1,0,0,1,n,r]),i=_(c,i),pt._matrix=pt._matrix.multiplyCopy(i),U(e,c)}):U(e,c),m()))}function nt(e,t){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],a=t[0],f=t[1],l=t[2],c=t[3],h=t[4],p=t[5];return[n*a+r*l,n*f+r*c,i*a+s*l,i*f+s*c,o*a+u*l+h,o*f+u*c+p]}var rt,it,st,ot,ut=kendo.drawing,at=kendo.geometry,ft=Array.prototype.slice,lt=kendo.support.browser,ct="KENDO-PSEUDO-ELEMENT",ht={},pt={};pt._root=pt,rt=ut.Text.extend({nodeType:"Text",init:function(e,t,n){ut.Text.fn.init.call(this,e,t.getOrigin(),n),this._pdfRect=t},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}}),ut.drawDOM=r,r.getFontFaces=i,it=function(){function e(e){function d(){var t=u.exec(e);t&&(e=e.substr(t[1].length))}function v(t){d();var n=t.exec(e);return n?(e=e.substr(n[1].length),n[1]):void 0}function m(){var t,i,s=kendo.parseColor(e,!0);return s?(e=e.substr(s.match[0].length),s=s.toRGB(),(t=v(r))||(i=v(n)),{color:s,length:t,percent:i}):void 0}function g(t){var r,s,u,c,h,p,d=[],g=!1;if(v(a)){for(r=v(o),r?(r=M(r),v(l)):(s=v(i),"to"==s?s=v(i):s&&/^-/.test(t)&&(g=!0),u=v(i),v(l)),/-moz-/.test(t)&&null==r&&null==s&&(c=v(n),h=v(n),g=!0,"0%"==c?s="left":"100%"==c&&(s="right"),"0%"==h?u="top":"100%"==h&&(u="bottom"),v(l));e&&!v(f)&&(p=m());)d.push(p),v(l);return{type:"linear",angle:r,to:s&&u?s+" "+u:s?s:u?u:null,stops:d,reverse:g}}}function y(){if(v(a)){var e=v(h);return e=e.replace(/^['"]+|["']+$/g,""),v(f),{type:"url",url:e}}}var b,w=e;return s(p,w)?p[w]:((b=v(t))?b=g(b):(b=v(c))&&(b=y()),p[w]=b||{type:"none"})}var t=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,n=/^([-0-9.]+%)/,r=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,o=/^([-0-9.]+(deg|grad|rad|turn))/,u=/^(\s+)/,a=/^(\()/,f=/^(\))/,l=/^(,)/,c=/^(url)\(/,h=/^(.*?)\)/,p={},d={};return function(t){return s(d,t)?d[t]:d[t]=st(t).map(e)}}(),st=function(){var e={};return function(t,n){function r(e){return h=e.exec(t.substr(f))}function i(e){return e.replace(/^\s+|\s+$/g,"")}var o,u,a,f,l,c,h;if(n||(n=/^\s*,\s*/),o=t+n,s(e,o))return e[o];for(u=[],a=0,f=0,l=0,c=!1;t.length>f;)!c&&r(/^[\(\[\{]/)?(l++,f++):!c&&r(/^[\)\]\}]/)?(l--,f++):!c&&r(/^[\"\']/)?(c=h[0],f++):"'"==c&&r(/^\\\'/)?f+=2:'"'==c&&r(/^\\\"/)?f+=2:"'"==c&&r(/^\'/)?(c=!1,f++):'"'==c&&r(/^\"/)?(c=!1,f++):r(n)?(!c&&!l&&f>a&&(u.push(i(t.substring(a,f))),a=f+h[0].length),f+=h[0].length):f++;return f>a&&u.push(i(t.substring(a,f))),e[o]=u}}(),ot=function(){var e={};return function(t){var n,r=e[t];return r||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?r=e[t]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(r=e[t]=n[2])),r}}()}(window.kendo.jQuery,parseFloat,Math),function(e){var t=e.noop,n=window.kendo,r=n.Class,i=n.util,s=n.animationFrame,o=n.deepExtend,u=r.extend({init:function(e,t){var n=this;n.options=o({},n.options,t),n.element=e},options:{duration:500,easing:"swing"},setup:t,step:t,play:function(){var t=this,n=t.options,r=e.easing[n.easing],o=n.duration,u=n.delay||0,a=i.now()+u,f=a+o;0===o?(t.step(1),t.abort()):setTimeout(function(){var e=function(){var n,u,h,p;t._stopped||(n=i.now(),u=i.limitValue(n-a,0,o),h=u/o,p=r(h,u,0,1,o),t.step(p),f>n?s(e):t.abort())};e()},u)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}}),a=function(){this._items=[]};a.prototype={register:function(e,t){this._items.push({name:e,type:t})},create:function(e,t){var n,r,i,s=this._items;if(t&&t.type)for(r=t.type.toLowerCase(),i=0;s.length>i;i++)if(s[i].name.toLowerCase()===r){n=s[i];break}return n?new n.type(e,t):void 0}},a.current=new a,u.create=function(e,t,n){return a.current.create(e,t,n)},o(n.drawing,{Animation:u,AnimationFactory:a})}(window.kendo.jQuery,Math),function(e){function t(t){var n,r=u.ui.validator.ruleResolvers||{},i={};for(n in r)e.extend(!0,i,r[n].resolve(t));return i}function n(e){return e.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function r(e){return e=(e+"").split("."),e.length>1?e[1].length:0}function i(t){return e(e.parseHTML?e.parseHTML(t):t)}function s(t,n){var r,i,s,o,a=e();for(s=0,o=t.length;o>s;s++)r=t[s],c.test(r.className)&&(i=r.getAttribute(u.attr("for")),i===n&&(a=a.add(r)));return a}var o,u=window.kendo,a=u.ui.Widget,f=".kendoValidator",l="k-invalid-msg",c=RegExp(l,"i"),h="k-invalid",p="k-valid",d=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,v=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,m=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",g=":checkbox:not([disabled],[readonly])",y="[type=number],[type=range]",b="blur",w="name",E="form",S="novalidate",x=e.proxy,T=function(e,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(e)},N=function(e,t,n){var r=e.val();return e.filter(t).length&&""!==r?T(r,n):!0},C=function(e,t){return e.length?null!=e[0].attributes[t]:!1};u.ui.validator||(u.ui.validator={rules:{},messages:{}}),o=a.extend({init:function(n,r){var i=this,s=t(n),o="["+u.attr("validate")+"!=false]";r=r||{},r.rules=e.extend({},u.ui.validator.rules,s.rules,r.rules),r.messages=e.extend({},u.ui.validator.messages,s.messages,r.messages),a.fn.init.call(i,n,r),i._errorTemplate=u.template(i.options.errorTemplate),i.element.is(E)&&i.element.attr(S,S),i._inputSelector=m+o,i._checkboxSelector=g+o,i._errors={},i._attachEvents(),i._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(e){var t=e.filter("[type=checkbox]").length&&!e.is(":checked"),n=e.val();return!C(e,"required")||""!==n&&!!n&&!t},pattern:function(e){return e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==e.val()?T(e.val(),e.attr("pattern")):!0},min:function(e){if(e.filter(y+",["+u.attr("type")+"=number]").filter("[min]").length&&""!==e.val()){var t=parseFloat(e.attr("min"))||0,n=u.parseFloat(e.val());return n>=t}return!0},max:function(e){if(e.filter(y+",["+u.attr("type")+"=number]").filter("[max]").length&&""!==e.val()){var t=parseFloat(e.attr("max"))||0,n=u.parseFloat(e.val());return t>=n}return!0},step:function(e){if(e.filter(y+",["+u.attr("type")+"=number]").filter("[step]").length&&""!==e.val()){var t,n=parseFloat(e.attr("min"))||0,i=parseFloat(e.attr("step"))||1,s=parseFloat(e.val()),o=r(i);return o?(t=Math.pow(10,o),Math.floor((s-n)*t)%(i*t)/Math.pow(100,o)===0):(s-n)%i===0}return!0},email:function(e){return N(e,"[type=email],["+u.attr("type")+"=email]",d)},url:function(e){return N(e,"[type=url],["+u.attr("type")+"=url]",v)},date:function(e){return e.filter("[type^=date],["+u.attr("type")+"=date]").length&&""!==e.val()?null!==u.parseDate(e.val(),e.attr(u.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){a.fn.destroy.call(this),this.element.off(f)},value:function(){return this._isValidated?0===this.errors().length:!1},_submit:function(e){return this.validate()?!0:(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_checkElement:function(e){var t=this.value();this.validateInput(e),this.value()!==t&&this.trigger("change")},_attachEvents:function(){var t=this;t.element.is(E)&&t.element.on("submit"+f,x(t._submit,t)),t.options.validateOnBlur&&(t.element.is(m)?(t.element.on(b+f,function(){t._checkElement(t.element)}),t.element.is(g)&&t.element.on("click"+f,function(){t._checkElement(t.element)})):(t.element.on(b+f,t._inputSelector,function(){t._checkElement(e(this))}),t.element.on("click"+f,t._checkboxSelector,function(){t._checkElement(e(this))})))},validate:function(){var e,t,n,r,i=!1,s=this.value();if(this._errors={},this.element.is(m))i=this.validateInput(this.element);else{for(r=!1,e=this.element.find(this._inputSelector),t=0,n=e.length;n>t;t++)this.validateInput(e.eq(t))||(r=!0);i=!r}return this.trigger("validate",{valid:i}),s!==i&&this.trigger("change"),i},validateInput:function(t){var r,s,o,a,f,c,d,v,m,g;return t=e(t),this._isValidated=!0,r=this,s=r._errorTemplate,o=r._checkValidity(t),a=o.valid,f="."+l,c=t.attr(w)||"",d=r._findMessageContainer(c).add(t.next(f).filter(function(){var t=e(this);return t.filter("["+u.attr("for")+"]").length?t.attr(u.attr("for"))===c:!0})).hide(),t.removeAttr("aria-invalid"),a?delete r._errors[c]:(v=r._extractMessage(t,o.key),r._errors[c]=v,m=i(s({message:n(v)})),g=d.attr("id"),r._decorateMessageContainer(m,c),g&&m.attr("id",g),d.replaceWith(m).length||m.insertAfter(t),m.show(),t.attr("aria-invalid",!0)),t.toggleClass(h,!a),t.toggleClass(p,a),a},hideMessages:function(){var e=this,t="."+l,n=e.element;n.is(m)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(t){var n,r,i,o=u.ui.validator.messageLocators,a=e();for(r=0,i=this.element.length;i>r;r++)a=a.add(s(this.element[r].getElementsByTagName("*"),t));for(n in o)a=a.add(o[n].locate(this.element,t));return a},_decorateMessageContainer:function(e,t){var n,r=u.ui.validator.messageLocators;e.addClass(l).attr(u.attr("for"),t||"");for(n in r)r[n].decorate(e,t);e.attr("role","alert")},_extractMessage:function(e,t){var n=this,r=n.options.messages[t],i=e.attr(w);return r=u.isFunction(r)?r(e):r,u.format(e.attr(u.attr(t+"-msg"))||e.attr("validationMessage")||e.attr("title")||r||"",i,e.attr(t))},_checkValidity:function(e){var t,n=this.options.rules;for(t in n)if(!n[t].call(this,e))return{valid:!1,key:t};return{valid:!0}},errors:function(){var e,t=[],n=this._errors;for(e in n)t.push(n[e]);return t}}),u.ui.plugin(o)}(window.kendo.jQuery),function(e){function t(e,t){var n=e.x.location,r=e.y.location,i=t.x.location,s=t.y.location,o=n-i,u=r-s;return{center:{x:(n+i)/2,y:(r+s)/2},distance:Math.sqrt(o*o+u*u)}}function n(e){var t,n,r,i=[],o=e.originalEvent,u=e.currentTarget,a=0;if(e.api)i.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(n=o?o.changedTouches:[],t=n.length;t>a;a++)r=n[a],i.push({location:r,event:e,target:r.target,currentTarget:u,id:r.identifier,type:"touch"});else i.push(s.pointers||s.msPointers?{location:o,event:e,target:e.target,currentTarget:u,id:o.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:u,location:e,type:"mouse"});return i}function r(e){for(var t=i.eventMap.up.split(" "),n=0,r=t.length;r>n;n++)e(t[n])}var i=window.kendo,s=i.support,o=window.document,u=i.Class,a=i.Observable,f=e.now,l=e.extend,c=s.mobileOS,h=c&&c.android,p=800,d=s.browser.msie?5:0,v="press",m="hold",g="select",y="start",b="move",w="end",E="cancel",S="tap",x="release",T="gesturestart",N="gesturechange",C="gestureend",k="gesturetap",L={api:0,touch:0,mouse:9,pointer:9},A=!s.touch||s.mouseAndTouchPresent,O=u.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=f()},move:function(e){var t=this,n=e["page"+t.axis],r=f(),i=r-t.timeStamp||1;(n||!h)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/i,t.timeStamp=r)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),M=u.extend({init:function(e,t,n){l(this,{x:new O("X",n.location),y:new O("Y",n.location),type:n.type,threshold:e.threshold||L[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(v,this.pressEvent)},_hold:function(){this._trigger(m,this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(_.current&&_.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(b,e)}},end:function(e){var t=this;t.endTime=f(),t._finished||(t._finished=!0,t._trigger(x,e),t._moved?t._trigger(w,e):t._trigger(S,e),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=f(),this._moved=!0,this._trigger(y,e)},_trigger:function(e,t){var n=this,r=t.event,i={touch:n,x:n.x,y:n.y,target:n.target,event:r};n.userEvents.notify(e,i)&&r.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}),_=a.extend({init:function(t,n){var u,f,c,h=this,L=i.guid();n=n||{},u=h.filter=n.filter,h.threshold=n.threshold||d,h.minHold=n.minHold||p,h.touches=[],h._maxTouches=n.multiTouch?2:1,h.allowSelection=n.allowSelection,h.captureUpIfMoved=n.captureUpIfMoved,h.eventNS=L,t=e(t).handler(h),a.fn.init.call(h),l(h,{element:t,surface:e(n.global&&A?o.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),h.surface.handler(h).on(i.applyEventMap("move",L),"_move").on(i.applyEventMap("up cancel",L),"_end"),t.on(i.applyEventMap("down",L),u,"_start"),(s.pointers||s.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&t.on(i.applyEventMap("dragstart",L),i.preventDefault),t.on(i.applyEventMap("mousedown",L),u,{root:t},"_select"),h.captureUpIfMoved&&s.eventCapture&&(f=h.surface[0],c=e.proxy(h.preventIfMoving,h),r(function(e){f.addEventListener(e,c,!0)})),h.bind([v,m,S,y,b,w,x,E,T,N,C,k,g],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&s.eventCapture&&(e=t.surface[0],r(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capture:function(){_.current=this},cancel:function(){this._disposeAll(),this.trigger(E)},notify:function(e,n){var r=this,i=r.touches;if(this._isMultiTouch()){switch(e){case b:e=N;break;case w:e=C;break;case S:e=k}l(n,{touches:i},t(i[0],i[1]))}return this.trigger(e,l(n,{type:e}))},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(g,{event:e}))&&e.preventDefault()},_start:function(t){var r,i,s=this,o=0,u=s.filter,a=n(t),f=a.length,l=t.which;if(!(l&&l>1||s._maxTouchesReached()))for(_.current=null,s.currentTarget=t.currentTarget,s.stopPropagation&&t.stopPropagation();f>o&&!s._maxTouchesReached();o++)i=a[o],r=u?e(i.currentTarget):s.element,r.length&&(i=new M(s,r,i),s.touches.push(i),i.press(),s._isMultiTouch()&&s.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var r,i,s,o,u=this,a={},f=n(t),l=u.touches;for(r=0;l.length>r;r++)i=l[r],a[i.id]=i;for(r=0;f.length>r;r++)s=f[r],o=a[s.id],o&&o[e](s)},_apiCall:function(t,n,r,i){this[t]({api:!0,pageX:n,pageY:r,clientX:n,clientY:r,target:e(i||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});_.defaultThreshold=function(e){d=e},_.minHold=function(e){p=e},i.getTouches=n,i.touchDelta=t,i.UserEvents=_}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e,t){return parseInt(e.css(t),10)||0}function i(e,t){return Math.min(Math.max(e,t.min),t.max)}function s(e,t){var n=L(e),i=n.left+r(e,"borderLeftWidth")+r(e,"paddingLeft"),s=n.top+r(e,"borderTopWidth")+r(e,"paddingTop"),o=i+e.width()-t.outerWidth(!0),u=s+e.height()-t.outerHeight(!0);return{x:{min:i,max:o},y:{min:s,max:u}}}function o(n,r,i){for(var s,o,u=0,a=r&&r.length,f=i&&i.length;n&&n.parentNode;){for(u=0;a>u;u++)if(s=r[u],s.element[0]===n)return{target:s,targetElement:n};for(u=0;f>u;u++)if(o=i[u],e.contains(o.element[0],n)&&b.matchesSelector.call(n,o.options.filter))return{target:o,targetElement:n};n=n.parentNode}return t}function u(e,t){var n,r=t.options.group,i=e[r];if(x.fn.destroy.call(t),i.length>1){for(n=0;i.length>n;n++)if(i[n]==t){i.splice(n,1);break}}else i.length=0,delete e[r]}function a(e){var t,n,r,i=w.body;return e[0]===i?(n=i.scrollTop,r=i.scrollLeft,{top:n,left:r,bottom:n+E.height(),right:r+E.width()}):(t=e.offset(),t.bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function f(e){return e===w.body||e===w.documentElement||e===w}function l(t){if(!t||f(t))return e(w.body);for(var n=e(t)[0];!y.isScrollable(n)&&!f(n);)n=n.parentNode;return e(n)}function c(e,t,n){var r={x:0,y:0},i=50;return i>e-n.left?r.x=-(i-(e-n.left)):i>n.right-e&&(r.x=i-(n.right-e)),i>t-n.top?r.y=-(i-(t-n.top)):i>n.bottom-t&&(r.y=i-(n.bottom-t)),r}var h,p,d,v,m,g,y=window.kendo,b=y.support,w=window.document,E=e(window),S=y.Class,x=y.ui.Widget,T=y.Observable,N=y.UserEvents,C=e.proxy,k=e.extend,L=y.getOffset,A={},O={},M={},_=y.elementUnderCursor,D="keyup",P="change",H="dragstart",B="hold",j="drag",F="dragend",I="dragcancel",q="hintDestroyed",R="dragenter",U="dragleave",z="drop",W=T.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,i.addEventListener?(e.each(y.eventMap.down.split(" "),function(){i.addEventListener(this,C(r._press,r),!0)}),e.each(y.eventMap.up.split(" "),function(){i.addEventListener(this,C(r._release,r),!0)})):(e.each(y.eventMap.down.split(" "),function(){i.attachEvent(this,C(r._press,r))}),e.each(y.eventMap.up.split(" "),function(){i.attachEvent(this,C(r._release,r))})),T.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),X=T.extend({init:function(t){var n=this;T.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),r=n*t.scale,i=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/n,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,e||t.trigger(P,t))}}),V=T.extend({init:function(e){var t=this;T.fn.init.call(t),t.x=new X(k({horizontal:!0},e)),t.y=new X(k({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(P,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(P)}}),$=T.extend({init:function(e){var t=this;k(t,e),T.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,s=i[r]+e;n.enabled&&((n.min>s&&0>e||s>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(P,t))}}),J=S.extend({init:function(e){var t,n,r,i,s=this;k(s,{elastic:!0},e),r=s.elastic?.5:0,i=s.movable,s.x=t=new $({axis:"x",dimension:s.dimensions.x,resistance:r,movable:i}),s.y=n=new $({axis:"y",dimension:s.dimensions.y,resistance:r,movable:i}),s.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){s.gesture=e,s.offset=s.dimensions.container.offset()},gesturechange:function(e){var r,o,u,a=s.gesture,f=a.center,l=e.center,c=e.distance/a.distance,h=s.dimensions.minScale,p=s.dimensions.maxScale;h>=i.scale&&1>c&&(c+=.8*(1-c)),i.scale*c>=p&&(c=p/i.scale),o=i.x+s.offset.left,u=i.y+s.offset.top,r={x:(o-f.x)*c+l.x-o,y:(u-f.y)*c+l.y-u},i.scaleWith(c),t.dragMove(r.x),n.dragMove(r.y),s.dimensions.rescale(i.scale),s.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),K=b.transitions.prefix+"Transform";p=b.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},d=T.extend({init:function(t){var n=this;T.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(p(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){k(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,r=t.y;t.round&&(n=Math.round(n),r=Math.round(r)),e=p(n,r,t.scale),e!=t.coordinates&&(y.support.browser.msie&&10>y.support.browser.version?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[K]=e,t._saveCoordinates(e),t.trigger(P))},_saveCoordinates:function(e){this.coordinates=e}}),v=x.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in O?O[n].push(r):O[n]=[r]},events:[R,U,z],options:{name:"DropTarget",group:"default"},destroy:function(){u(O,this)},_trigger:function(e,n){var r=this,i=A[r.options.group];return i?r.trigger(e,k({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(R,e)},_out:function(e){this._trigger(U,e)},_drop:function(e){var t=this,n=A[t.options.group];n&&(n.dropped=!t._trigger(z,e))}}),v.destroyGroup=function(e){var t,n=O[e]||M[e];if(n){for(t=0;n.length>t;t++)x.fn.destroy.call(n[t]);n.length=0,delete O[e],delete M[e]}},v._cache=O,m=v.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in M?M[n].push(r):M[n]=[r]},destroy:function(){u(M,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),g=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new N(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:C(n._start,n),hold:C(n._hold,n),move:C(n._drag,n),end:C(n._end,n),cancel:C(n._cancel,n),select:C(n._select,n)}),n._afterEndHandler=C(n._afterEnd,n),n._captureEscape=C(n._captureEscape,n)},events:[B,H,j,F,I,q],options:{name:"Draggable",distance:y.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){var t=this;e.keyCode===y.keys.ESC&&(t._trigger(I,{event:e}),t.userEvents.cancel())},_updateHint:function(t){var n,r=this,s=r.options,o=r.boundaries,u=s.axis,a=r.options.cursorOffset;a?n={left:t.x.location+a.left,top:t.y.location+a.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=i(n.top,o.y),n.left=i(n.left,o.x)),"x"===u?delete n.top:"y"===u&&delete n.left,r.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(n){var r,i=this,o=i.options,u=o.container,a=o.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||o.holdToDrag&&!i._activated?(i.userEvents.cancel(),t):(i.currentTarget=n.target,i.currentTargetOffset=L(i.currentTarget),a&&(i.hint&&i.hint.stop(!0,!0).remove(),i.hint=y.isFunction(a)?e(a.call(i,i.currentTarget)):a,r=L(i.currentTarget),i.hintOffset=r,i.hint.css({position:"absolute",zIndex:2e4,left:r.left,top:r.top}).appendTo(w.body),i.angular("compile",function(){i.hint.removeAttr("ng-repeat");for(var t=e(n.target);!t.data("$$kendoScope")&&t.length;)t=t.parent();return{elements:i.hint.get(),scopeFrom:t.data("$$kendoScope")}})),A[o.group]=i,i.dropped=!1,u&&(i.boundaries=s(u,i.hint)),e(w).on(D,i._captureEscape),i._trigger(H,n)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture(),t)},_hold:function(e){this.currentTarget=e.target,this._trigger(B,e)?this.userEvents.cancel():this._activated=!0},_drag:function(n){var r,i,s=this;n.preventDefault(),r=this._elementUnderCursor(n),s._withDropTarget(r,function(r,i){if(!r)return h&&(h._trigger(U,k(n,{dropTarget:e(h.targetElement)})),h=null),t;if(h){if(i===h.targetElement)return;h._trigger(U,k(n,{dropTarget:e(h.targetElement)}))}r._trigger(R,k(n,{dropTarget:e(i)})),h=k(r,{targetElement:i})}),s._trigger(j,k(n,{dropTarget:h,elementUnderCursor:r})),this.options.autoScroll&&(this._cursorElement!==r&&(this._scrollableParent=l(r),this._cursorElement=r),this._scrollableParent[0]&&(i=c(n.x.location,n.y.location,a(this._scrollableParent)),this._scrollCompenstation=e.extend({},this.hintOffset),this._scrollVelocity=i,0===i.y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(e.proxy(this,"_autoScroll"),50)))),s.hint&&s._updateHint(n)},_autoScroll:function(){var e,t,n,r,i,s,o,u=this._scrollableParent[0],a=this._scrollVelocity,f=this._scrollCompenstation;u&&(n=u===w.body,n?(e=w.body.offsetHeight>E.height(),t=w.body.offsetWidth>E.width()):(e=u.scrollHeight>=u.offsetHeight,t=u.scrollWidth>=u.offsetWidth),r=u.scrollTop+a.y,i=e&&r>0&&u.scrollHeight>r,s=u.scrollLeft+a.x,o=t&&s>0&&u.scrollWidth>s,i&&(u.scrollTop+=a.y),o&&(u.scrollLeft+=a.x),n&&(o||i)&&(i&&(f.top+=a.y),o&&(f.left+=a.x),this.hint.css(f)))},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),function(n,r){n&&(n._drop(k({},t,{dropTarget:e(r)})),h=null)}),this._trigger(F,t),this._cancel(t.event)},_cancel:function(){var e=this;e._scrollableParent=null,clearInterval(this._scrollInterval),e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,k({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=_(e),r=this.hint;return r&&n(r[0],t)&&(r.hide(),t=_(e),t||(t=_(e)),r.show()),t},_withDropTarget:function(e,t){var n,r=this.options.group,i=O[r],s=M[r];(i&&i.length||s&&s.length)&&(n=o(e,i,s),n?t(n.target,n.targetElement):t())},destroy:function(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete A[t.options.group],t.trigger("destroy"),t.trigger(q),e(w).off(D,t._captureEscape)}}),y.ui.plugin(v),y.ui.plugin(m),y.ui.plugin(g),y.TapCapture=W,y.containerBoundaries=s,k(y.ui,{Pane:J,PaneDimensions:V,Movable:d}),y.ui.Draggable.utils={autoScrollVelocity:c,scrollableViewPort:a,findScrollableParent:l}}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.mobile,i=n.effects,s=r.ui,o=e.proxy,u=e.extend,a=s.Widget,f=n.Class,l=n.ui.Movable,c=n.ui.Pane,h=n.ui.PaneDimensions,p=i.Transition,d=i.Animation,v=Math.abs,m=500,g=.7,y=.96,b=10,w=55,E=.5,S=5,x="km-scroller-release",T="km-scroller-refresh",N="pull",C="change",k="resize",L="scroll",A=2,O=d.extend({init:function(e){var t=this;d.fn.init.call(t),u(t,e),t.userEvents.bind("gestureend",o(t.start,t)),t.tapCapture.bind("press",o(t.cancel,t))},enabled:function(){return this.dimensions.minScale>this.movable.scale},done:function(){return.01>this.dimensions.minScale-this.movable.scale},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),M=d.extend({init:function(e){var t=this;d.fn.init.call(t),u(t,e,{transition:new p({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",o(t.start,t)),t.userEvents.bind("gestureend",o(t.start,t)),t.userEvents.bind("tap",o(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){var t=this;t.cancel(),t._moveTo(e)},onEnd:function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},done:function(){return v(this.velocity)<1},start:function(e){var t,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()?n._snapBack():(t=e.touch.id===A?0:e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(t*n.velocityMultiplier,w),-w),n.tapCapture.captureNext(),d.fn.start.call(n)))},tick:function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?E:e.friction,r=e.velocity*=n,i=e.movable[e.axis]+r;!e.elastic&&t.outOfBounds(i)&&(i=Math.max(Math.min(i,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,i)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},_moveTo:function(e){this.transition.moveTo({location:e,duration:m,ease:p.easeOutExpo})}}),_=d.extend({init:function(e){var t=this;n.effects.Animation.fn.init.call(this),u(t,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return v(this.offset.y)<S&&v(this.offset.x)<S},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&n.isFunction(e)?this.callback=e:e=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),D=f.extend({init:function(t){var n=this,r="x"===t.axis,i=e('<div class="km-touch-scrollbar km-'+(r?"horizontal":"vertical")+'-scrollbar" />');u(n,t,{element:i,elementSize:0,movable:new l(i),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:r?"width":"height"}),n.scrollMovable.bind(C,o(n.refresh,n)),n.container.append(i),t.alwaysVisible&&n.show()},refresh:function(){var e=this,t=e.axis,n=e.dimension,r=n.size,i=e.scrollMovable,s=r/n.total,o=Math.round(-i[t]*s),u=Math.round(r*s);s>=1?this.element.css("display","none"):this.element.css("display",""),o+u>r?u=r-o:0>o&&(u+=o,o=0),e.elementSize!=u&&(e.element.css(e.size,u+"px"),e.elementSize=u),e.movable.moveAxis(t,o)},show:function(){this.element.css({opacity:g,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),P=a.extend({init:function(r,i){var s,f,p,d,m,g,y,b,w,E=this;return a.fn.init.call(E,r,i),r=E.element,(E._native=E.options.useNative&&n.support.hasNativeScrolling)?(r.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),u(E,{scrollElement:r,fixedContainer:r.children().first()}),t):(r.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),s=r.children().eq(1),f=new n.TapCapture(r),p=new l(s),d=new h({element:s,container:r,forcedEnabled:E.options.zoom}),m=this.options.avoidScrolling,g=new n.UserEvents(r,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:E.options.zoom,start:function(t){d.refresh();var n=v(t.x.velocity),r=v(t.y.velocity),i=2*n>=r,s=e.contains(E.fixedContainer[0],t.event.target),o=2*r>=n;!s&&!m(t)&&E.enabled&&(d.x.enabled&&i||d.y.enabled&&o)?g.capture():g.cancel()}}),y=new c({movable:p,dimensions:d,userEvents:g,elastic:E.options.elastic}),b=new O({movable:p,dimensions:d,userEvents:g,tapCapture:f}),w=new _({moveTo:function(e){E.scrollTo(e.x,e.y)}}),p.bind(C,function(){E.scrollTop=-p.y,E.scrollLeft=-p.x,E.trigger(L,{scrollTop:E.scrollTop,scrollLeft:E.scrollLeft})}),E.options.mousewheelScrolling&&r.on("DOMMouseScroll mousewheel",o(this,"_wheelScroll")),u(E,{movable:p,dimensions:d,zoomSnapBack:b,animatedScroller:w,userEvents:g,pane:y,tapCapture:f,pulled:!1,enabled:!0,scrollElement:s,scrollTop:0,scrollLeft:0,fixedContainer:r.children().first()}),E._initAxis("x"),E._initAxis("y"),E._wheelEnd=function(){E._wheel=!1,E.userEvents.end(0,E._wheelY)},d.refresh(),E.options.pullToRefresh&&E._initPullToRefresh(),t)},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[N,L,k],_resize:function(){this._native||this.contentResized()},setOptions:function(e){var t=this;a.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(v(e)),this.scrollElement.scrollTop(v(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,n){var r,i;this._native?this.scrollTo(e,t):(r={x:this.movable.x,y:this.movable.y},i={x:e,y:t},this.animatedScroller.setCoordinates(r,i),this.animatedScroller.setCallback(n),this.animatedScroller.start())},pullHandled:function(){var e=this;e.refreshHint.removeClass(T),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel()},destroy:function(){a.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.messages.pullTemplate),e.releaseTemplate=n.template(e.options.messages.releaseTemplate),e.refreshTemplate=n.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",o(e._paneChange,e)),e.userEvents.bind("end",o(e._dragEnd,e))},_dragEnd:function(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x).addClass(T),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/E>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(T).addClass(x),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,n=t.movable,r=t.dimensions[e],i=t.tapCapture,s=t.pane[e],o=new D({axis:e,movable:n,dimension:r,container:t.element,alwaysVisible:t.options.visibleScrollHints});r.bind(C,function(){o.refresh()}),s.bind(C,function(){o.show()}),t[e+"inertia"]=new M({axis:e,paneAxis:s,movable:n,tapCapture:i,userEvents:t.userEvents,dimension:r,elastic:t.options.elastic,friction:t.options.friction||y,velocityMultiplier:t.options.velocityMultiplier||b,end:function(){o.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});s.plugin(P)}(window.kendo.jQuery),function(e,t){function n(e){return e.position().top+3}var r=window.kendo,i=r.ui.Widget,s=e.proxy,o=!1,u=".kendoGroupable",a="change",f=r.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),l=function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(r.attr("title"))||t.attr(r.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},c=e('<div class="k-grouping-dropclue"/>'),h=i.extend({init:function(f,h){var p,v,m=this,g=r.guid(),y=s(m._intializePositions,m),b=m._dropCuePositions=[];i.fn.init.call(m,f,h),o=r.support.isRtl(f),v=o?"right":"left",m.draggable=p=m.options.draggable||new r.ui.Draggable(m.element,{filter:m.options.draggableElements,hint:l,group:g}),m.groupContainer=e(m.options.groupContainer,m.element).kendoDropTarget({group:p.options.group,dragenter:function(e){m._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),c.css("top",n(m.groupContainer)).css(v,0).appendTo(m.groupContainer))},dragleave:function(e){e.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),c.remove()},drop:function(t){var n,i=t.draggable.currentTarget,s=i.attr(r.attr("field")),u=i.attr(r.attr("title")),a=m.indicator(s),f=m._dropCuePositions,l=f[f.length-1];(i.hasClass("k-group-indicator")||m._canDrag(i))&&(l?(n=m._dropCuePosition(r.getOffset(c).left+parseInt(l.element.css("marginLeft"),10)*(o?-1:1)+parseInt(l.element.css("marginRight"),10)),n&&m._canDrop(e(a),n.element,n.left)&&(n.before?n.element.before(a||m.buildIndicator(s,u)):n.element.after(a||m.buildIndicator(s,u)),m._change())):(m.groupContainer.append(m.buildIndicator(s,u)),m._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:l,group:p.options.group,dragcancel:s(m._dragCancel,m),dragstart:function(e){var t=e.currentTarget,r=parseInt(t.css("marginLeft"),10),i=t.position(),s=o?i.left-r:i.left+t.outerWidth();y(),c.css({top:n(m.groupContainer),left:s}).appendTo(m.groupContainer),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){m._dragEnd(this)},drag:s(m._drag,m)}).on("click"+u,".k-button",function(t){t.preventDefault(),m._removeIndicator(e(this).parent())}).on("click"+u,".k-link",function(t){var n=e(this).parent(),i=m.buildIndicator(n.attr(r.attr("field")),n.attr(r.attr("title")),"asc"==n.attr(r.attr("dir"))?"desc":"asc");n.before(i).remove(),m._change(),t.preventDefault()}),p.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){m._dragEnd(this)},dragcancel:s(m._dragCancel,m),dragstart:function(e){var n,r,i;return m.options.allowDrag||m._canDrag(e.currentTarget)?(y(),b.length?(n=b[b.length-1].element,r=parseInt(n.css("marginRight"),10),i=n.position().left+n.outerWidth()+r):i=0,t):(e.preventDefault(),t)},drag:s(m._drag,m)}),m.dataSource=m.options.dataSource,m.dataSource&&m._refreshHandler?m.dataSource.unbind(a,m._refreshHandler):m._refreshHandler=s(m.refresh,m),m.dataSource&&(m.dataSource.bind("change",m._refreshHandler),m.refresh())},refresh:function(){var t=this,n=t.dataSource;t.groupContainer&&t.groupContainer.empty().append(e.map(n.group()||[],function(n){var i=n.field,s=r.attr("field"),o=t.element.find(t.options.filter).filter(function(){return e(this).attr(s)===i});return t.buildIndicator(n.field,o.attr(r.attr("title")),n.dir)}).join("")),t._invalidateGroupContainer()},destroy:function(){var e=this;i.fn.destroy.call(e),e.groupContainer.off(u),e.groupContainer.data("kendoDropTarget")&&e.groupContainer.data("kendoDropTarget").destroy(),e.groupContainer.data("kendoDraggable")&&e.groupContainer.data("kendoDraggable").destroy(),e.options.draggable||e.draggable.destroy(),e.dataSource&&e._refreshHandler&&(e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=null),e.groupContainer=e.element=e.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(t){var n=e(".k-group-indicator",this.groupContainer);return e.grep(n,function(n){return e(n).attr(r.attr("field"))===t})[0]},buildIndicator:function(e,t,n){return f({field:e.replace(/"/g,"'"),dir:n,title:t,ns:r.ns})},descriptors:function(){var t,n,i,s,o,u=this,a=e(".k-group-indicator",u.groupContainer);return t=u.element.find(u.options.filter).map(function(){var t=e(this),i=t.attr(r.attr("aggregates")),u=t.attr(r.attr("field"));if(i&&""!==i)for(n=i.split(","),i=[],s=0,o=n.length;o>s;s++)i.push({field:u,aggregate:n[s]});return i}).toArray(),e.map(a,function(n){return n=e(n),i=n.attr(r.attr("field")),{field:i,dir:n.attr(r.attr("dir")),aggregates:t||[]}})},_removeIndicator:function(e){var t=this;e.remove(),t._invalidateGroupContainer(),t._change()},_change:function(){var e=this;e.dataSource&&e.dataSource.group(e.descriptors())},_dropCuePosition:function(t){var n,r,i,s,u,a=this._dropCuePositions;if(c.is(":visible")&&0!==a.length)return t=Math.ceil(t),n=a[a.length-1],r=n.left,i=n.right,s=parseInt(n.element.css("marginLeft"),10),u=parseInt(n.element.css("marginRight"),10),t>=i&&!o||r>t&&o?t={left:n.element.position().left+(o?-s:n.element.outerWidth()+u),element:n.element,before:!1}:(t=e.grep(a,function(e){return t>=e.left&&e.right>=t||o&&t>e.right})[0],t&&(t={left:o?t.element.position().left+t.element.outerWidth()+u:t.element.position().left-s,element:t.element,before:!0})),t},_drag:function(e){var t=this._dropCuePosition(e.x.location);t&&c.css({left:t.left,right:"auto"})},_canDrag:function(e){var t=e.attr(r.attr("field"));return"false"!=e.attr(r.attr("groupable"))&&t&&(e.hasClass("k-group-indicator")||!this.indicator(t))},_canDrop:function(e,t,n){var r=e.next(),i=e[0]!==t[0]&&(!r[0]||t[0]!==r[0]||!o&&n>r.position().left||o&&n<r.position().left);return i},_dragEnd:function(t){var n=this,i=t.currentTarget.attr(r.attr("field")),s=n.indicator(i);t!==n.options.draggable&&!t.dropped&&s&&n._removeIndicator(e(s)),n._dragCancel()},_dragCancel:function(){c.remove(),this._dropCuePositions=[]},_intializePositions:function(){var t,n=this,i=e(".k-group-indicator",n.groupContainer);n._dropCuePositions=e.map(i,function(n){return n=e(n),t=r.getOffset(n).left,{left:parseInt(t,10),right:parseInt(t+n.outerWidth(),10),element:n}})},_invalidateGroupContainer:function(){var e=this.groupContainer;e&&e.is(":empty")&&e.html(this.options.messages.empty)}});r.ui.plugin(h)}(window.kendo.jQuery),function(e){function t(t,n){t=e(t),n?t.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):t.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var n=window.kendo,r=n.getOffset,i=n.ui.Widget,s="change",o="k-reorderable",u=i.extend({init:function(u,f){var l,c=this,h=n.guid()+"-reorderable";i.fn.init.call(c,u,f),u=c.element.addClass(o),f=c.options,c.draggable=l=f.draggable||new n.ui.Draggable(u,{group:h,filter:f.filter,hint:f.hint}),c.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),u.find(l.options.filter).kendoDropTarget({group:l.options.group,dragenter:function(e){var n,i,s,o;c._draggable&&(n=this.element,s=!c._dropTargetAllowed(n)||c._isLastDraggable(),t(e.draggable.hint,s),s||(i=r(n),o=i.left,f.inSameContainer&&!f.inSameContainer({source:n,target:c._draggable,sourceIndex:c._index(n),targetIndex:c._index(c._draggable)})?c._dropTarget=n:c._index(n)>c._index(c._draggable)&&(o+=n.outerWidth()),c.reorderDropCue.css({height:n.outerHeight(),top:i.top,left:o}).appendTo(document.body)))},dragleave:function(e){t(e.draggable.hint,!0),c.reorderDropCue.remove(),c._dropTarget=null},drop:function(){var e,t,n;c._dropTarget=null,c._draggable&&(e=this.element,t=c._draggable,n=!1,c._dropTargetAllowed(e)&&!c._isLastDraggable()&&c.trigger(s,{element:c._draggable,target:e,oldIndex:c._index(t),newIndex:c._index(e),position:r(c.reorderDropCue).left>r(e).left?"after":"before"}))}}),l.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){c.reorderDropCue.remove(),c._draggable=null,c._elements=null},dragend:function(){c.reorderDropCue.remove(),c._draggable=null,c._elements=null},dragstart:function(e){c._draggable=e.currentTarget,c._elements=c.element.find(c.draggable.options.filter)},drag:function(e){var t,n;c._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")&&(t=r(c._dropTarget).left,n=c._dropTarget.outerWidth(),c.reorderDropCue.css(e.pageX>t+n/2?{left:t+n}:{left:t}))}})},options:{name:"Reorderable",filter:"*"},events:[s],_isLastDraggable:function(){var e,t=this.options.inSameContainer,n=this._draggable[0],r=this._elements.get(),i=!1;if(!t)return!1;for(;!i&&r.length>0;)e=r.pop(),i=n!==e&&t({source:n,target:e,sourceIndex:this._index(n),targetIndex:this._index(e)});return!i},_dropTargetAllowed:function(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,r=this._draggable;return r[0]===e[0]?!1:t&&n?t({source:r,target:e,sourceIndex:this._index(r),targetIndex:this._index(e)})?!0:n(this._index(r),this._index(e)):!0},_index:function(e){return this._elements.index(e)},destroy:function(){var t=this;i.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data("kendoDropTarget")&&t.data("kendoDropTarget").destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});n.ui.plugin(u)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=r.Widget,s=e.proxy,o=n.isFunction,u=e.extend,a="horizontal",f="vertical",l="start",c="resize",h="resizeend",p=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=f?a:f,n._positionMouse=n.orientation==a?"x":"y",n._position=n.orientation==a?"left":"top",n._sizingDom=n.orientation==a?"outerWidth":"outerHeight",n.draggable=new r.Draggable(e,{distance:1,filter:t.handle,drag:s(n._resize,n),dragcancel:s(n._cancel,n),dragstart:s(n._start,n),dragend:s(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[c,h,l],options:{name:"Resizable",orientation:a},resize:function(){},_max:function(e){var n=this,r=n.hint?n.hint[n._sizingDom]():0,i=n.options.max;return o(i)?i(e):i!==t?n._initialElementPosition+i-r:i},_min:function(e){var n=this,r=n.options.min;return o(r)?r(e):r!==t?n._initialElementPosition+r:r},_start:function(t){var n=this,r=n.options.hint,i=e(t.currentTarget);n._initialElementPosition=i.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,r&&(n.hint=o(r)?e(r(i)):r,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(l,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css("cursor",i.css("cursor"))},_resize:function(e){var n,r=this,i=r._maxPosition,s=r._minPosition,o=r._initialElementPosition+(e[r._positionMouse].location-r._initialMousePosition);n=s!==t?Math.max(s,o):o,r.position=n=i!==t?Math.min(i,n):n,r.hint&&r.hint.toggleClass(r.options.invalidClass||"",n==i||n==s).css(r._position,n),r.resizing=!0,r.trigger(c,u(e,{position:n}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(h,u(t,{position:n.position})),e(document.body).css("cursor","")},_cancel:function(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e))},destroy:function(){var e=this;i.fn.destroy.call(e),e.draggable&&e.draggable.destroy()},press:function(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e}},move:function(e){var n=this,r=n._position,i=n.targetPosition,s=n.position;s===t&&(s=i[r]),i[r]=s+e,n.userEvents.move(i.left,i.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(p)}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e){return e.clone()}function i(e){return e.clone().removeAttr("id").css("visibility","hidden")}var s=window.kendo,o=s.ui.Widget,u="start",a="beforeMove",f="move",l="end",c="change",h="cancel",p="sort",d="remove",v="receive",m=">*",g=-1,y=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),n.options.placeholder||(n.options.placeholder=i),n.options.hint||(n.options.hint=r),n._draggable=n._createDraggable()},events:[u,a,f,l,c,h],options:{name:"Sortable",hint:null,placeholder:null,filter:m,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto"},destroy:function(){this._draggable.destroy(),o.fn.destroy.call(this)},_createDraggable:function(){var t=this,n=t.element,r=t.options;return new s.ui.Draggable(n,{filter:r.filter,hint:s.isFunction(r.hint)?r.hint:e(r.hint),holdToDrag:r.holdToDrag,container:r.container?e(r.container):null,cursorOffset:r.cursorOffset,axis:r.axis,ignore:r.ignore,autoScroll:r.autoScroll,dragstart:e.proxy(t._dragstart,t),dragcancel:e.proxy(t._dragcancel,t),drag:e.proxy(t._drag,t),dragend:e.proxy(t._dragend,t)})},_dragstart:function(t){var n=this.draggedElement=t.currentTarget,r=(t.target||s.elementUnderCursor(t),this.options.disabled),i=this.options.handler,o=this.options.placeholder,a=this.placeholder=e(s.isFunction(o)?o.call(this,n):o);r&&n.is(r)?t.preventDefault():i&&!e(t.initialTarget).is(i)?t.preventDefault():this.trigger(u,{item:n,draggableEvent:t})?t.preventDefault():(n.css("display","none"),n.before(a),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger(h,{item:this.draggedElement}),this._resetCursor()},_drag:function(n){var r,i,s,o,u,a=this.draggedElement,f=this._findTarget(n),l={left:n.x.location,top:n.y.location},c={x:n.x.delta,y:n.y.delta},h=this.options.axis,p={item:a,list:this,draggableEvent:n};if("x"===h||"y"===h)return this._movementByAxis(h,l,c[h],p),t;if(f){if(r=this._getElementCenter(f.element),i={left:Math.round(l.left-r.left),top:Math.round(l.top-r.top)},e.extend(p,{target:f.element}),f.appendToBottom)return this._movePlaceholder(f,null,p),t;if(f.appendAfterHidden&&this._movePlaceholder(f,"next",p),this._isFloating(f.element)?0>c.x&&0>i.left?s="prev":c.x>0&&i.left>0&&(s="next"):0>c.y&&0>i.top?s="prev":c.y>0&&i.top>0&&(s="next"),s){for(u="prev"===s?jQuery.fn.prev:jQuery.fn.next,o=u.call(f.element);o.length&&!o.is(":visible");)o=u.call(o);o[0]!=this.placeholder[0]&&this._movePlaceholder(f,s,p)}}},_dragend:function(n){var r,i,s,o,u=this.placeholder,a=this.draggedElement,f=this.indexOf(a),h=this.indexOf(u),m=this.options.connectWith;return this._resetCursor(),s={action:p,item:a,oldIndex:f,newIndex:h,draggableEvent:n},h>=0?i=this.trigger(l,s):(r=u.parents(m).getKendoSortable(),s.action=d,o=e.extend({},s,{action:v,oldIndex:g,newIndex:r.indexOf(u)}),i=!!this.trigger(l,s)||!!r.trigger(l,o)),i||h===f?(this._cancel(),t):(u.replaceWith(a),a.show(),this._draggable.dropped=!0,s={action:this.indexOf(a)!=g?p:d,item:a,oldIndex:f,newIndex:this.indexOf(a),draggableEvent:n},this.trigger(c,s),r&&(o=e.extend({},s,{action:v,oldIndex:g,newIndex:r.indexOf(a)}),r.trigger(c,o)),t)},_findTarget:function(n){var r,i,s=this._findElementUnderCursor(n),o=this.options.connectWith;return e.contains(this.element[0],s)?(r=this.items(),i=r.filter(s)[0]||r.has(s)[0],i?{element:e(i),sortable:this}:null):this.element[0]==s&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==s&&this._isLastHidden()?(i=this.items().eq(0),{element:i,sortable:this,appendAfterHidden:!0}):o?this._searchConnectedTargets(s,n):t},_findElementUnderCursor:function(e){var t=s.elementUnderCursor(e),r=e.sender;return this.items(),n(r.hint[0],t)&&(r.hint.hide(),t=s.elementUnderCursor(e),t||(t=s.elementUnderCursor(e)),r.hint.show()),t},_searchConnectedTargets:function(t,n){var r,i,s,o,u=e(this.options.connectWith);for(o=0;u.length>o;o++)if(r=u.eq(o).getKendoSortable(),e.contains(u[o],t)){if(r)return i=r.items(),s=i.filter(t)[0]||i.has(t)[0],s?(r.placeholder=this.placeholder,{element:e(s),sortable:r}):null}else if(u[o]==t){if(r&&r._isEmpty())return{element:u.eq(o),sortable:r,appendToBottom:!0};if(this._isCursorAfterLast(r,n))return s=r.items().last(),{element:s,sortable:r}}},_isCursorAfterLast:function(e,t){var n,r,i=e.items().last(),o={left:t.x.location,top:t.y.location};return n=s.getOffset(i),n.top+=i.outerHeight(),n.left+=i.outerWidth(),r=this._isFloating(i)?n.left-o.left:n.top-o.top,0>r?!0:!1},_movementByAxis:function(t,n,r,i){var s,o="x"===t?n.left:n.top,u=0>r?this.placeholder.prev():this.placeholder.next();u.length&&!u.is(":visible")&&(u=0>r?u.prev():u.next()),e.extend(i,{target:u}),s=this._getElementCenter(u),s&&(s="x"===t?s.left:s.top),u.length&&0>r&&0>o-s?this._movePlaceholder({element:u,sortable:this},"prev",i):u.length&&r>0&&o-s>0&&this._movePlaceholder({element:u,sortable:this},"next",i)},_movePlaceholder:function(e,t,n){var r=this.placeholder;e.sortable.trigger(a,n)||(t?"prev"===t?e.element.before(r):"next"===t&&e.element.after(r):e.element.append(r),e.sortable.trigger(f,n))},_setCursor:function(){var t,n=this.options.cursor;n&&"auto"!==n&&(t=e(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:n}),this._cursorStylesheet||(this._cursorStylesheet=e("<style>* { cursor: "+n+" !important; }</style>")),this._cursorStylesheet.appendTo(t))},_resetCursor:function(){this._originalCursorType&&(e(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(e){var t=e.length?s.getOffset(e):null;return t&&(t.top+=e.outerHeight()/2,t.left+=e.outerWidth()/2),t},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var e,t=this.options.filter;return e=t?this.element.find(t):this.element.children()},indexOf:function(e){var t=this._items(),n=this.placeholder,r=this.draggedElement;return n&&e[0]==n[0]?t.not(r).index(e):t.not(n).index(e)},items:function(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});s.ui.plugin(y)}(window.kendo.jQuery),function(e,t){function n(e,t){if(!e.is(":visible"))return!1;var n=i.getOffset(e),r=t.left+t.width,s=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>r||t.left>n.right||n.top>s||t.top>n.bottom)}var r,i=window.kendo,s=i.ui.Widget,o=e.proxy,u=Math.abs,a="aria-selected",f="k-state-selected",l="k-state-selecting",c="k-selectable",h="change",p=".kendoSelectable",d="k-state-unselecting",v="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",m=i.support.browser.msie,g=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){g=!0}).find("span").click().end().off()}()}(e),r=s.extend({init:function(t,n){var r,u=this;s.fn.init.call(u,t,n),u._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),u._lastActive=null,u.element.addClass(c),u.relatedTarget=u.options.relatedTarget,r=u.options.multiple,this.options.aria&&r&&u.element.attr("aria-multiselectable",!0),u.userEvents=new i.UserEvents(u.element,{global:!0,allowSelection:!0,filter:(g?"":"."+c+" ")+u.options.filter,tap:o(u._tap,u)}),r&&u.userEvents.bind("start",o(u._start,u)).bind("move",o(u._move,u)).bind("end",o(u._end,u)).bind("select",o(u._select,u))},events:[h],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:e.noop},_isElement:function(e){var t,n=this.element,r=n.length,i=!1;for(e=e[0],t=0;r>t;t++)if(n[t]===e){i=!0;break}return i},_tap:function(t){var n,r=e(t.target),i=this,s=t.event.ctrlKey||t.event.metaKey,o=i.options.multiple,u=o&&t.event.shiftKey,a=t.event.which,l=t.event.button;!i._isElement(r.closest("."+c))||a&&3==a||l&&2==l||this._allowSelection(t.event.target)&&(n=r.hasClass(f),o&&s||i.clear(),r=r.add(i.relatedTarget(r)),u?i.selectRange(i._firstSelectee(),r):(n&&s?(i._unselect(r),i._notify(h)):i.value(r),i._lastActive=i._downTarget=r))},_start:function(n){var r,i=this,s=e(n.target),o=s.hasClass(f),u=n.event.ctrlKey||n.event.metaKey;if(this._allowSelection(n.event.target)){if(i._downTarget=s,!i._isElement(s.closest("."+c)))return i.userEvents.cancel(),t;i.options.useAllItems?i._items=i.element.find(i.options.filter):(r=s.closest(i.element),i._items=r.find(i.options.filter)),n.sender.capture(),i._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),u||i.clear(),s=s.add(i.relatedTarget(s)),o&&(i._selectElement(s,!0),u&&s.addClass(d))}},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:u(e.x.initialDelta),height:u(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var e,t=this;t._marquee.remove(),t._unselect(t.element.find(t.options.filter+"."+d)).removeClass(d),e=t.element.find(t.options.filter+"."+l),e=e.add(t.relatedTarget(e)),t.value(e),t._lastActive=t._downTarget,t._items=null},_invalidateSelectables:function(e,t){var r,i,s,o,u=this._downTarget[0],a=this._items;for(r=0,i=a.length;i>r;r++)o=a.eq(r),s=o.add(this.relatedTarget(o)),n(o,e)?o.hasClass(f)?t&&u!==o[0]&&s.removeClass(f).addClass(d):o.hasClass(l)||o.hasClass(d)||s.addClass(l):o.hasClass(l)?s.removeClass(l):t&&o.hasClass(d)&&s.removeClass(d).addClass(f)},value:function(e){var n=this,r=o(n._selectElement,n);return e?(e.each(function(){r(this)}),n._notify(h),t):n.element.find(n.options.filter+"."+f)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter)[0])},_selectElement:function(t,n){var r=e(t),i=!n&&this._notify("select",{element:t});r.removeClass(l),i||(r.addClass(f),this.options.aria&&r.attr(a,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(f),this.options.aria&&e.attr(a,!1),e},_select:function(t){this._allowSelection(t.event.target)&&(!m||m&&!e(i._activeElement()).is(v))&&t.preventDefault()},_allowSelection:function(t){return e(t).is(v)?(this.userEvents.cancel(),this._downTarget=null,!1):!0},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+f);this._unselect(e)},selectRange:function(t,n){var r,i,s,o=this;for(o.clear(),o.element.length>1&&(s=o.options.continuousItems()),s&&s.length||(s=o.element.find(o.options.filter)),t=e.inArray(e(t)[0],s),n=e.inArray(e(n)[0],s),t>n&&(i=t,t=n,n=i),o.options.useAllItems||(n+=o.element.length-1),r=t;n>=r;r++)o._selectElement(s[r]);o._notify(h)},destroy:function(){var e=this;s.fn.destroy.call(e),e.element.off(p),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null}}),r.parseOptions=function(e){var t="string"==typeof e&&e.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}},i.ui.plugin(r)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=n.keys,o="click",u="k-button",a="k-button-icon",f="k-button-icontext",l=".kendoButton",c="disabled",h="k-state-disabled",p="k-state-focused",d="k-state-selected",v=r.extend({init:function(e,t){var s=this;r.fn.init.call(s,e,t),e=s.wrapper=s.element,t=s.options,e.addClass(u).attr("role","button"),t.enable=t.enable&&!e.attr(c),s.enable(t.enable),s._tabindex(),s._graphics(),e.on(o+l,i(s._click,s)).on("focus"+l,i(s._focus,s)).on("blur"+l,i(s._blur,s)).on("keydown"+l,i(s._keydown,s)).on("keyup"+l,i(s._keyup,s)),n.notify(s)},destroy:function(){var e=this;e.wrapper.off(l),r.fn.destroy.call(e)},events:[o],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(e){this.options.enable&&this.trigger(o,{event:e})&&e.preventDefault()},_focus:function(){this.options.enable&&this.element.addClass(p)},_blur:function(){this.element.removeClass(p)},_keydown:function(e){var t=this;t._isNativeButton()||(e.keyCode==s.ENTER||e.keyCode==s.SPACEBAR)&&(e.keyCode==s.SPACEBAR&&(e.preventDefault(),t.options.enable&&t.element.addClass(d)),t._click(e))},_keyup:function(){this.element.removeClass(d)},_graphics:function(){var t,n,r,i=this,s=i.element,o=i.options,u=o.icon,l=o.spriteCssClass,c=o.imageUrl;(l||c||u)&&(r=!0,s.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(t,n){(1==n.nodeType||3==n.nodeType&&e.trim(n.nodeValue).length>0)&&(r=!1)}),s.addClass(r?a:f)),u?(t=s.children("span.k-icon").first(),t[0]||(t=e('<span class="k-icon"></span>').prependTo(s)),t.addClass("k-i-"+u)):l?(t=s.children("span.k-sprite").first(),t[0]||(t=e('<span class="k-sprite"></span>').prependTo(s)),t.addClass(l)):c&&(n=s.children("img.k-image").first(),n[0]||(n=e('<img alt="icon" class="k-image" />').prependTo(s)),n.attr("src",c))},enable:function(e){var n=this,r=n.element;e===t&&(e=!0),e=!!e,n.options.enable=e,r.toggleClass(h,!e).attr("aria-disabled",!e).attr(c,!e);try{r.blur()}catch(i){}}});n.ui.plugin(v)}(window.kendo.jQuery),function(e,t){function n(e,t,n,r,i){return e({idx:t,text:n,ns:f.ns,numeric:r,title:i||""})}function r(e,t,n){return S({className:e.substring(1),text:t,wrapClassName:n||""})}function i(e,t,n,r){e.find(t).parent().attr(f.attr("page"),n).attr("tabindex",-1).toggleClass("k-state-disabled",r)}function s(e,t){i(e,p,1,1>=t)}function o(e,t){i(e,v,Math.max(1,t-1),1>=t)}function u(e,t,n){i(e,m,Math.min(n,t+1),t>=n)}function a(e,t,n){i(e,d,n,t>=n)}var f=window.kendo,l=f.ui,c=l.Widget,h=e.proxy,p=".k-i-seek-w",d=".k-i-seek-e",v=".k-i-arrow-w",m=".k-i-arrow-e",g="change",y=".kendoPager",b="click",w="keydown",E="disabled",S=f.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=c.extend({init:function(t,n){var i,l,E,S,x=this;c.fn.init.call(x,t,n),n=x.options,x.dataSource=f.data.DataSource.create(n.dataSource),x.linkTemplate=f.template(x.options.linkTemplate),x.selectTemplate=f.template(x.options.selectTemplate),x.currentPageTemplate=f.template(x.options.currentPageTemplate),i=x.page(),l=x.totalPages(),x._refreshHandler=h(x.refresh,x),x.dataSource.bind(g,x._refreshHandler),n.previousNext&&(x.element.find(p).length||(x.element.append(r(p,n.messages.first,"k-pager-first")),s(x.element,i,l)),x.element.find(v).length||(x.element.append(r(v,n.messages.previous)),o(x.element,i,l))),n.numeric&&(x.list=x.element.find(".k-pager-numbers"),x.list.length||(x.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(x.element))),n.input&&(x.element.find(".k-pager-input").length||x.element.append('<span class="k-pager-input k-label">'+n.messages.page+'<input class="k-textbox">'+f.format(n.messages.of,l)+"</span>"),x.element.on(w+y,".k-pager-input input",h(x._keydown,x))),n.previousNext&&(x.element.find(m).length||(x.element.append(r(m,n.messages.next)),u(x.element,i,l)),x.element.find(d).length||(x.element.append(r(d,n.messages.last,"k-pager-last")),a(x.element,i,l))),n.pageSizes&&(x.element.find(".k-pager-sizes").length||(E=n.pageSizes.length?n.pageSizes:["all",5,10,20],S=e.map(E,function(e){return e.toLowerCase&&"all"===e.toLowerCase()?"<option value='all'>"+n.messages.allPages+"</option>":"<option>"+e+"</option>"}),e('<span class="k-pager-sizes k-label"><select/>'+n.messages.itemsPerPage+"</span>").appendTo(x.element).find("select").html(S.join("")).end().appendTo(x.element)),x.element.find(".k-pager-sizes select").val(x.pageSize()),f.ui.DropDownList&&x.element.find(".k-pager-sizes select").show().kendoDropDownList(),x.element.on(g+y,".k-pager-sizes select",h(x._change,x))),n.refresh&&(x.element.find(".k-pager-refresh").length||x.element.append('<a href="#" class="k-pager-refresh k-link" title="'+n.messages.refresh+'"><span class="k-icon k-i-refresh">'+n.messages.refresh+"</span></a>"),x.element.on(b+y,".k-pager-refresh",h(x._refreshClick,x))),n.info&&(x.element.find(".k-pager-info").length||x.element.append('<span class="k-pager-info k-label" />')),x.element.on(b+y,"a",h(x._click,x)).addClass("k-pager-wrap k-widget k-floatwrap"),x.element.on(b+y,".k-current-page",h(x._toggleActive,x)),n.autoBind&&x.refresh(),f.notify(x)},destroy:function(){var e=this;c.fn.destroy.call(e),e.element.off(y),e.dataSource.unbind(g,e._refreshHandler),e._refreshHandler=null,f.destroy(e.element),e.element=e.list=null},events:[g],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(e){var t=this;t.dataSource.unbind(g,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(g,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(e){var t,r,i,l,c,h,p=this,d=1,v=p.page(),m="",g=p.options,y=p.pageSize(),b=p.dataSource.total(),w=p.totalPages(),S=p.linkTemplate,x=g.buttonCount;if(!e||"itemchange"!=e.action){if(g.numeric){for(v>x&&(i=v%x,d=0===i?v-x+1:v-i+1),r=Math.min(d+x-1,w),d>1&&(m+=n(S,d-1,"...",!1,g.messages.morePages)),t=d;r>=t;t++)m+=n(t==v?p.selectTemplate:S,t,t,!0);w>r&&(m+=n(S,t,"...",!1,g.messages.morePages)),""===m&&(m=p.selectTemplate({text:0})),m=this.currentPageTemplate({text:v})+m,p.list.removeClass("k-state-expanded").html(m)}g.info&&(m=b>0?f.format(g.messages.display,(v-1)*y+1,Math.min(v*y,b),b):g.messages.empty,p.element.find(".k-pager-info").html(m)),g.input&&p.element.find(".k-pager-input").html(p.options.messages.page+'<input class="k-textbox">'+f.format(g.messages.of,w)).find("input").val(v).attr(E,1>b).toggleClass("k-state-disabled",1>b),g.previousNext&&(s(p.element,v,w),o(p.element,v,w),u(p.element,v,w),a(p.element,v,w)),g.pageSizes&&(l=p.element.find(".k-pager-sizes option[value='all']").length>0,c=l&&y===this.dataSource.total(),h=y,c&&(y="all",h=g.messages.allPages),p.element.find(".k-pager-sizes select").val(y).filter("["+f.attr("role")+"=dropdownlist]").kendoDropDownList("value",y).kendoDropDownList("text",h))}},_keydown:function(e){if(e.keyCode===f.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),n=parseInt(t.val(),10);(isNaN(n)||1>n||n>this.totalPages())&&(n=this.page()),t.val(n),this.page(n)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=e.currentTarget.value,n=parseInt(t,10),r=this.dataSource;isNaN(n)?"all"==(t+"").toLowerCase()&&r.pageSize(r.total()):r.pageSize(n)},_toggleActive:function(){this.list.toggleClass("k-state-expanded")},_click:function(t){var n=e(t.currentTarget);t.preventDefault(),n.is(".k-state-disabled")||this.page(n.attr(f.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(g,{index:e}),t)}});l.plugin(x)}(window.kendo.jQuery),function(e){function t(t,n){return t===n||e.contains(t,n)}var n=window.kendo,r=n.ui,i=r.Widget,s=n.support,o=n.getOffset,u="open",a="close",f="deactivate",l="activate",c="center",h="left",p="right",d="top",v="bottom",m="absolute",g="hidden",y="body",b="location",w="position",E="visible",S="effects",x="k-state-active",T="k-state-border",N=/k-state-border-(\w+)/,C=".k-picker-wrap, .k-dropdown-wrap, .k-link",k="down",L=e(document.documentElement),A=e(window),O="scroll",M="resize scroll",_=s.transitions.css,D=_+"transform",P=e.extend,H=".kendoPopup",B=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],j=i.extend({init:function(t,r){var s,o=this;r=r||{},r.isRtl&&(r.origin=r.origin||v+" "+p,r.position=r.position||d+" "+p),i.fn.init.call(o,t,r),t=o.element,r=o.options,o.collisions=r.collision?r.collision.split(" "):[],o.downEvent=n.applyEventMap(k,n.guid()),1===o.collisions.length&&o.collisions.push(o.collisions[0]),s=e(o.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),r.appendTo=e(e(r.appendTo)[0]||s[0]||y),o.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!r.isRtl).css({position:m}).appendTo(r.appendTo).on("mouseenter"+H,function(){o._hovered=!0}).on("mouseleave"+H,function(){o._hovered=!1}),o.wrapper=e(),r.animation===!1&&(r.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),P(r.animation.open,{complete:function(){o.wrapper.css({overflow:E}),o._activated=!0,o._trigger(l)}}),P(r.animation.close,{complete:function(){o._animationClose()}}),o._mousedownProxy=function(e){o._mousedown(e)},o._resizeProxy=function(e){o._resize(e)},r.toggleTarget&&e(r.toggleTarget).on(r.toggleEvent+H,e.proxy(o.toggle,o))},events:[u,l,a,f],options:{name:"Popup",toggleEvent:"click",origin:v+" "+h,position:d+" "+h,anchor:y,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var t,r,i,s,o=this,u=o.options;o.wrapper.hide(),t=o.wrapper.data(b),r=e(u.anchor),t&&o.wrapper.css(t),u.anchor!=y&&(i=((r.attr("class")||"").match(N)||["","down"])[1],s=T+"-"+i,r.removeClass(s).children(C).removeClass(x).removeClass(s),o.element.removeClass(T+"-"+n.directions[i].reverse)),o._closing=!1,o._trigger(f)},destroy:function(){var t,r=this,s=r.options,o=r.element.off(H);i.fn.destroy.call(r),s.toggleTarget&&e(s.toggleTarget).off(H),s.modal||(L.unbind(r.downEvent,r._mousedownProxy),r._scrollableParents().unbind(O,r._resizeProxy),A.unbind(M,r._resizeProxy)),n.destroy(r.element.children()),o.removeData(),s.appendTo[0]===document.body&&(t=o.parent(".k-animation-container"),t[0]?t.remove():o.remove())},open:function(t,r){var i,o,a,f=this,l={isFixed:!isNaN(parseInt(r,10)),x:t,y:r},c=f.element,h=f.options,p="down",v=e(h.anchor),b=c[0]&&c.hasClass("km-widget");if(!f.visible()){if(h.copyAnchorStyles&&(b&&"font-size"==B[0]&&B.shift(),c.css(n.getComputedStyles(v[0],B))),c.data("animating")||f._trigger(u))return;f._activated=!1,h.modal||(L.unbind(f.downEvent,f._mousedownProxy).bind(f.downEvent,f._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||(f._scrollableParents().unbind(O,f._resizeProxy).bind(O,f._resizeProxy),A.unbind(M,f._resizeProxy).bind(M,f._resizeProxy))),f.wrapper=o=n.wrap(c,h.autosize).css({overflow:g,display:"block",position:m}),s.mobileOS.android&&o.css(D,"translatez(0)"),o.css(w),e(h.appendTo)[0]==document.body&&o.css(d,"-10000px"),i=P(!0,{},h.animation.open),f.flipped=f._position(l),i.effects=n.parseEffects(i.effects,f.flipped),p=i.effects.slideIn?i.effects.slideIn.direction:p,h.anchor!=y&&(a=T+"-"+p,c.addClass(T+"-"+n.directions[p].reverse),v.addClass(a).children(C).addClass(x).addClass(a)),c.data(S,i.effects).kendoStop(!0).kendoAnimate(i)}},position:function(){this.visible()&&this._position()},toggle:function(){var e=this;e[e.visible()?a:u]()},visible:function(){return this.element.is(":"+E)},close:function(t){var r,i,s,o,u=this,f=u.options;if(u.visible()){if(r=u.wrapper[0]?u.wrapper:n.wrap(u.element).hide(),u._closing||u._trigger(a))return;u.element.find(".k-popup").each(function(){var n=e(this),r=n.data("kendoPopup");r&&r.close(t)}),L.unbind(u.downEvent,u._mousedownProxy),u._scrollableParents().unbind(O,u._resizeProxy),A.unbind(M,u._resizeProxy),t?i={hide:!0,effects:{}}:(i=P(!0,{},f.animation.close),s=u.element.data(S),o=i.effects,!o&&!n.size(o)&&s&&n.size(s)&&(i.effects=s,i.reverse=!0),u._closing=!0),u.element.kendoStop(!0),r.css({overflow:g}),u.element.kendoAnimate(i)}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_mousedown:function(r){var i=this,s=i.element[0],o=i.options,u=e(o.anchor)[0],a=o.toggleTarget,f=n.eventTarget(r),l=e(f).closest(".k-popup"),c=l.parent().parent(".km-shim").length;l=l[0],(c||!l||l===i.element[0])&&"popover"!==e(r.target).closest("a").data("rel")&&(t(s,f)||t(u,f)||a&&t(e(a)[0],f)||i.close())},_fit:function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),0>e&&(r=-e),r},_flip:function(e,t,n,r,i,s,o){var u=0;return o=o||t,s!==i&&s!==c&&i!==c&&(e+o>r&&(u+=-(n+t)),0>e+u&&(u+=n+t)),u},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){return n.isScrollable(t)})},_position:function(t){var r,i,u,a,f,l,c,h,p,d,v,g=this,y=g.element,E=g.wrapper,S=g.options,x=e(S.viewport),T=x.offset(),N=e(S.anchor),C=S.origin.toLowerCase().split(" "),k=S.position.toLowerCase().split(" "),L=g.collisions,A=s.zoomLevel(),O=10002,M=!!(x[0]==window&&window.innerWidth&&1.02>=A),_=0,D=document.documentElement,H=M?window.innerWidth:x.width(),B=M?window.innerHeight:x.height();if(M&&D.scrollHeight-D.clientHeight>0&&(H-=n.support.scrollbar()),r=N.parents().filter(E.siblings()),r[0])if(u=Math.max(+r.css("zIndex"),0))O=u+10;else for(i=N.parentsUntil(r),a=i.length;a>_;_++)u=+e(i[_]).css("zIndex"),u&&u>O&&(O=u+10);return E.css("zIndex",O),E.css(t&&t.isFixed?{left:t.x,top:t.y}:g._align(C,k)),f=o(E,w,N[0]===E.offsetParent()[0]),l=o(E),c=N.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),c.length&&(f=o(E,w,!0),l=o(E)),x[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=T.top,l.left-=T.left),g.wrapper.data(b)||E.data(b,P({},f)),h=P({},l),p=P({},f),d=S.adjustSize,"fit"===L[0]&&(p.top+=g._fit(h.top,E.outerHeight()+d.height,B/A)),"fit"===L[1]&&(p.left+=g._fit(h.left,E.outerWidth()+d.width,H/A)),v=P({},p),"flip"===L[0]&&(p.top+=g._flip(h.top,y.outerHeight(),N.outerHeight(),B/A,C[0],k[0],E.outerHeight())),"flip"===L[1]&&(p.left+=g._flip(h.left,y.outerWidth(),N.outerWidth(),H/A,C[1],k[1],E.outerWidth())),y.css(w,m),E.css(p),p.left!=v.left||p.top!=v.top},_align:function(t,n){var r,i=this,s=i.wrapper,u=e(i.options.anchor),a=t[0],f=t[1],l=n[0],h=n[1],d=o(u),m=e(i.options.appendTo),g=s.outerWidth(),y=s.outerHeight(),b=u.outerWidth(),w=u.outerHeight(),E=d.top,S=d.left,x=Math.round;return m[0]!=document.body&&(r=o(m),E-=r.top,S-=r.left),a===v&&(E+=w),a===c&&(E+=x(w/2)),l===v&&(E-=y),l===c&&(E-=x(y/2)),f===p&&(S+=b),f===c&&(S+=x(b/2)),h===p&&(S-=g),h===c&&(S-=x(g/2)),{top:E,left:S}}});r.plugin(j)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui.Widget,i=e.proxy,s=e.extend,o=window.setTimeout,u="click",a="show",f="hide",l="k-notification",c=".k-notification-wrap .k-i-close",h="info",p="success",d="warning",v="error",m="top",g="left",y="bottom",b="right",w="up",E=".kendoNotification",S='<div class="k-widget k-notification"></div>',x='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>',T=r.extend({init:function(t,i){var s=this;r.fn.init.call(s,t,i),i=s.options,i.appendTo&&e(i.appendTo).is(t)||s.element.hide(),s._compileTemplates(i.templates),s._guid="_"+n.guid(),s._isRtl=n.support.isRtl(t),s._compileStacking(i.stacking,i.position.top,i.position.left),n.notify(s)},events:[a,f],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var r=this,i=n.template;r._compiled={},e.each(t,function(t,n){r._compiled[n.type]=i(n.template||e("#"+n.templateId).html())}),r._defaultCompiled=i(x)},_getCompiled:function(e){var t=this,n=t._defaultCompiled;return e?t._compiled[e]||n:n},_compileStacking:function(e,t,n){var r,i,s=this,o={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},u=null!==n?g:b;switch(e){case"down":r=y+" "+u,i=m+" "+u,delete o.paddingBottom;break;case b:r=m+" "+b,i=m+" "+g,delete o.paddingRight;break;case g:r=m+" "+g,i=m+" "+b,delete o.paddingLeft;break;case w:r=m+" "+u,i=y+" "+u,delete o.paddingTop;break;default:null!==t?(r=y+" "+u,i=m+" "+u,delete o.paddingBottom):(r=m+" "+u,i=y+" "+u,delete o.paddingTop)}s._popupOrigin=r,s._popupPosition=i,s._popupPaddings=o},_attachPopupEvents:function(e,t){function r(e){e.on(u+E,function(){s._hidePopup(t)})}var i,s=this,a=e.allowHideAfter,f=!isNaN(a)&&a>0;t.options.anchor!==document.body&&t.options.origin.indexOf(b)>0&&t.bind("open",function(){var e=n.getShadows(t.element);o(function(){t.wrapper.css("left",parseFloat(t.wrapper.css("left"))+e.left+e.right)})}),e.hideOnClick?t.bind("activate",function(){f?o(function(){r(t.element)},a):r(t.element)}):e.button&&(i=t.element.find(c),f?o(function(){r(i)},a):r(i))},_showPopup:function(t,r){var i,u,a=this,f=r.autoHideAfter,l=r.position.left,h=r.position.top;u=e("."+a._guid+":not(.k-hiding)").last(),i=new n.ui.Popup(t,{anchor:u[0]?u:document.body,origin:a._popupOrigin,position:a._popupPosition,animation:r.animation,modal:!0,collision:"",isRtl:a._isRtl,close:function(){a._triggerHide(this.element)},deactivate:function(e){e.sender.element.off(E),e.sender.element.find(c).off(E),e.sender.destroy()}}),a._attachPopupEvents(r,i),u[0]?i.open():(null===l&&(l=e(window).width()-t.width()-r.position.right),null===h&&(h=e(window).height()-t.height()-r.position.bottom),i.open(l,h)),i.wrapper.addClass(a._guid).css(s({margin:0},a._popupPaddings)),r.position.pinned?(i.wrapper.css("position","fixed"),u[0]&&a._togglePin(i.wrapper,!0)):u[0]||a._togglePin(i.wrapper,!1),f>0&&o(function(){a._hidePopup(i)},f)},_hidePopup:function(e){e.wrapper.addClass("k-hiding"),e.close()},_togglePin:function(t,n){var r=e(window),i=n?-1:1;t.css({top:parseInt(t.css(m),10)+i*r.scrollTop(),left:parseInt(t.css(g),10)+i*r.scrollLeft()})},_attachStaticEvents:function(e,t){function n(e){e.on(u+E,i(r._hideStatic,r,t))}var r=this,s=e.allowHideAfter,a=!isNaN(s)&&s>0;e.hideOnClick?a?o(function(){n(t)},s):n(t):e.button&&(a?o(function(){n(t.find(c))},s):n(t.find(c)))},_showStatic:function(e,t){var n=this,r=t.autoHideAfter,i=t.animation,s=t.stacking==w||t.stacking==g?"prependTo":"appendTo";e.addClass(n._guid)[s](t.appendTo).hide().kendoAnimate(i.open||!1),n._attachStaticEvents(t,e),r>0&&o(function(){n._hideStatic(e)},r)},_hideStatic:function(e){e.kendoAnimate(s(this.options.animation.close||!1,{complete:function(){e.off(E).find(c).off(E),e.remove()}})),this._triggerHide(e)},_triggerHide:function(e){this.trigger(f,{element:e}),this.angular("cleanup",function(){return{elements:e}})},show:function(r,i){var o,u,f=this,c=f.options,p=e(S);return i||(i=h),null!==r&&r!==t&&""!==r&&(n.isFunction(r)&&(r=r()),u={typeIcon:i,content:""},o=e.isPlainObject(r)?s(u,r):s(u,{content:r}),p.addClass(l+"-"+i).toggleClass(l+"-button",c.button).attr("data-role","alert").css({width:c.width,height:c.height}).append(f._getCompiled(i)(o)),f.angular("compile",function(){return{elements:p,data:[{dataItem:o}]}}),e(c.appendTo)[0]?f._showStatic(p,c):f._showPopup(p,c),f.trigger(a,{element:p})),f},info:function(e){return this.show(e,h)},success:function(e){return this.show(e,p)},warning:function(e){return this.show(e,d)},error:function(e){return this.show(e,v)},hide:function(){var t=this,n=t.getNotifications();return n.each(t.options.appendTo?function(n,r){t._hideStatic(e(r))}:function(n,r){var i=e(r).data("kendoPopup");i&&t._hidePopup(i)}),t},getNotifications:function(){var t=this,n=e("."+t._guid);return t.options.appendTo?n:n.children("."+l)},setOptions:function(e){var n,i=this;r.fn.setOptions.call(i,e),n=i.options,e.templates!==t&&i._compileTemplates(n.templates),(e.stacking!==t||e.position!==t)&&i._compileStacking(n.stacking,n.position.top,n.position.left)},destroy:function(){r.fn.destroy.call(this),this.getNotifications().off(E).find(c).off(E)}});n.ui.plugin(T)}(window.kendo.jQuery),function(e){function t(e){for(;e.length;)n(e),e=e.parent()}function n(e){var t=e.data(s.ns+"title");t&&(e.attr("title",t),e.removeData(s.ns+"title"))}function r(e){var t=e.attr("title");t&&(e.data(s.ns+"title",t),e.attr("title",""))}function i(e){for(;e.length&&!e.is("body");)r(e),e=e.parent()}var s=window.kendo,o=s.ui.Widget,u=s.ui.Popup,a=s.isFunction,f=e.isPlainObject,l=e.extend,c=e.proxy,h=e(document),p=s.isLocalUrl,d="_tt_active",v="aria-describedby",m="show",g="hide",y="error",b="contentLoad",w="requestStart",E="k-content-frame",S='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',x=s.template("<iframe frameborder='0' class='"+E+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),T=".kendoTooltip",N={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},C={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},k={bottom:"n",top:"s",left:"e",right:"w",center:"n"},L={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},A=function(e){return e.target.data(s.ns+"title")},O=o.extend({init:function(e,t){var n,r=this;o.fn.init.call(r,e,t),n=r.options.position.match(/left|right/)?"horizontal":"vertical",r.dimensions=L[n],r._documentKeyDownHandler=c(r._documentKeyDown,r),r.element.on(r.options.showOn+T,r.options.filter,c(r._showOn,r)).on("mouseenter"+T,r.options.filter,c(r._mouseenter,r)),this.options.autoHide&&r.element.on("mouseleave"+T,r.options.filter,c(r._mouseleave,r))},options:{name:"Tooltip",filter:"",content:A,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[m,g,b,y,w],_mouseenter:function(t){i(e(t.currentTarget))},_showOn:function(t){var n=this,r=e(t.currentTarget);n.options.showOn&&n.options.showOn.match(/click|focus/)?n._show(r):(clearTimeout(n.timeout),n.timeout=setTimeout(function(){n._show(r)},n.options.showAfter))},_appendContent:function(e){var t,n=this,r=n.options.content,i=n.content,o=n.options.iframe;f(r)&&r.url?("iframe"in n.options||(o=!p(r.url)),n.trigger(w,{options:r,target:e}),o?(i.hide(),t=i.find("."+E)[0],t?t.src=r.url||t.src:i.html(x({content:r})),i.find("."+E).off("load"+T).on("load"+T,function(){n.trigger(b),i.show()})):(i.empty(),s.ui.progress(i,!0),n._ajaxRequest(r))):r&&a(r)?(r=r({sender:this,target:e}),i.html(r||"")):i.html(r),n.angular("compile",function(){return{elements:i}})},_ajaxRequest:function(e){var t=this;jQuery.ajax(l({type:"GET",dataType:"html",cache:!1,error:function(e,n){s.ui.progress(t.content,!1),t.trigger(y,{status:n,xhr:e})},success:c(function(e){s.ui.progress(t.content,!1),t.content.html(e),t.trigger(b)},t)},e))},_documentKeyDown:function(e){e.keyCode===s.keys.ESC&&this.hide()},refresh:function(){var e=this,t=e.popup;t&&t.options.anchor&&e._appendContent(t.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(e){e=e||this.element,i(e),this._show(e)},_show:function(e){var n=this,r=n.target();n.popup||n._initPopup(),r&&r[0]!=e[0]&&(n.popup.close(),n.popup.element.kendoStop(!0,!0)),r&&r[0]==e[0]||(n._appendContent(e),n.popup.options.anchor=e),n.popup.one("deactivate",function(){t(e),e.removeAttr(v),this.element.removeAttr("id").attr("aria-hidden",!0),h.off("keydown"+T,n._documentKeyDownHandler)}),n.popup.open()},_initPopup:function(){var t=this,n=t.options,r=e(s.template(S)({callout:n.callout&&"center"!==n.position,dir:k[n.position],autoHide:n.autoHide}));t.popup=new u(r,l({activate:function(){var e=this.options.anchor,r=e[0].id||t.element[0].id;r&&(e.attr(v,r+d),this.element.attr("id",r+d)),n.callout&&t._positionCallout(),this.element.removeAttr("aria-hidden"),h.on("keydown"+T,t._documentKeyDownHandler),t.trigger(m)},close:function(){t.trigger(g)},copyAnchorStyles:!1,animation:n.animation},N[n.position])),r.css({width:n.width,height:n.height}),t.content=r.find(".k-tooltip-content"),t.arrow=r.find(".k-callout"),n.autoHide?r.on("mouseleave"+T,c(t._mouseleave,t)):r.on("click"+T,".k-tooltip-button",c(t._closeButtonClick,t))},_closeButtonClick:function(e){e.preventDefault(),this.hide()},_mouseleave:function(n){if(this.popup){var r=e(n.currentTarget),i=r.offset(),s=n.pageX,o=n.pageY;if(i.right=i.left+r.outerWidth(),i.bottom=i.top+r.outerHeight(),s>i.left&&i.right>s&&o>i.top&&i.bottom>o)return;this.popup.close()}else t(e(n.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var t=this,n=t.options.position,r=t.dimensions,i=r.offset,s=t.popup,o=s.options.anchor,u=e(o).offset(),a=parseInt(t.arrow.css("border-top-width"),10),f=e(s.element).offset(),l=k[s.flipped?C[n]:n],c=u[i]-f[i]+e(o)[r.size]()/2-a;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+l).css(i,c)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var e=this.popup;e&&(e.element.off(T),e.destroy()),this.element.off(T),h.off("keydown"+T,this._documentKeyDownHandler),o.fn.destroy.call(this)}});s.ui.plugin(O)}(window.kendo.jQuery),function(e,t){function n(e,t){var n,r,i,s=t.length,o=[];for(r=0;e.length>r;r++)for(n=e[r],i=0;s>i;i++)n===t[i]&&o.push({index:r,item:n});return o}function r(t,n){var i,s=!1;return t.filters&&(i=e.grep(t.filters,function(e){return s=r(e,n),e.filters?e.filters.length:e.field!=n}),s||t.filters.length===i.length||(s=!0),t.filters=i),s}var i,s,o=window.kendo,u=o.ui,a=u.Widget,f=o.keys,l=o.support,c=o.htmlEncode,h=o._activeElement,p=o.data.ObservableArray,d="id",v="change",m="k-state-focused",g="k-state-hover",y="k-loading",b="open",w="close",E="select",S="selected",x="requestStart",T="requestEnd",N="width",C=e.extend,k=e.proxy,L=e.isArray,A=l.browser,O=A.msie&&9>A.version,M=/"/g,_={ComboBox:"DropDownList",DropDownList:"ComboBox"},D=o.ui.DataBoundWidget.extend({init:function(t,n){var r,i=this,s=i.ns;a.fn.init.call(i,t,n),t=i.element,n=i.options,i._isSelect=t.is(E),i._isSelect&&i.element[0].length&&(n.dataSource||(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value")),i.ul=e('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),i.list=e("<div class='k-list-container'/>").append(i.ul).on("mousedown"+s,k(i._listMousedown,i)),r=t.attr(d),r&&(i.list.attr(d,r+"-list"),i.ul.attr(d,r+"_listbox")),i._header(),i._accessors(),i._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(e){a.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_listOptions:function(e){var t=this.options;return e=e||{},e={height:e.height||t.height,dataValueField:e.dataValueField||t.dataValueField,dataTextField:e.dataTextField||t.dataTextField,groupTemplate:e.groupTemplate||t.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate||t.fixedGroupTemplate,template:e.template||t.template},e.template||(e.template="#:"+o.expr(e.dataTextField,"data")+"#"),e},_initList:function(){var n=this,r=n.options,i=r.virtual,s=!!i,u=r.value,a=k(n._listBound,n),f={autoBind:!1,selectable:!0,dataSource:n.dataSource,click:k(n._click,n),change:k(n._listChange,n),activate:k(n._activateItem,n),deactivate:k(n._deactivateItem,n),dataBinding:function(){n.trigger("dataBinding"),n._angularItems("cleanup")},dataBound:a,listBound:a,selectedItemChange:k(n._listChange,n)};f=e.extend(n._listOptions(),f,"object"==typeof i?i:{}),n.listView=s?new o.ui.VirtualList(n.ul,f):new o.ui.StaticList(n.ul,f),u!==t&&n.listView.value(u).done(function(){var e=r.text;!n.listView.filter()&&n.input&&(-1===n.selectedIndex?((e===t||null===e)&&(e=u),n._accessor(u),n.input.val(e),n._placeholder()):-1===n._oldIndex&&(n._oldIndex=n.selectedIndex))})},_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_filterSource:function(e,t){var n=this,i=n.options,s=n.dataSource,o=C({},s.filter()||{}),u=r(o,i.dataTextField);(e||u)&&n.trigger("filtering",{filter:e})||(e&&(o=o.filters||[],o.push(e)),t?s.read(o):s.filter(o))},_header:function(){var t,n=this,r=n.options.headerTemplate;e.isFunction(r)&&(r=r({})),r&&(n.list.prepend(r),t=n.ul.prev(),n.header=t[0]?t:null,n.header&&n.angular("compile",function(){return{elements:n.header}}))},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},_focus:function(e){return this.listView.focus(e)},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this,t=e.ns;a.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(n){var r=this;return n===t?r.listView.selectedDataItems()[0]:("number"!=typeof n&&(n=e(r.items()).index(n)),r.dataSource.flatView()[n])},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this,t=e.element,n=e.options,r=o.getter,i=t.attr(o.attr("text-field")),s=t.attr(o.attr("value-field"));!n.dataTextField&&i&&(n.dataTextField=i),!n.dataValueField&&s&&(n.dataValueField=s),e._text=r(n.dataTextField),e._value=r(n.dataValueField)},_aria:function(e){var n=this,r=n.options,i=n._focused.add(n.filterInput);r.suggest!==t&&i.attr("aria-autocomplete",r.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,i.attr("aria-owns",e),n.ul.attr("aria-live",r.filter&&"none"!==r.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,n=this,r=n.selectedIndex,i=n.options.value,s=n.value();n._isSelect&&!n.listView.isBound()&&i&&(s=i),s!==n._old?e=!0:r!==t&&r!==n._oldIndex&&(e=!0),e&&(n._old=s,n._oldIndex=r,n._typing||n.element.trigger(v),n.trigger(v)),n.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,n=e.options,r=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||r?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_offsetHeight:function(){var t=0,n=this.listView.content.prevAll(":visible");return n.each(function(){var n=e(this);t+=n.hasClass("k-list-filter")?n.children().outerHeight():n.outerHeight()}),t},_height:function(e){var t,n,r=this,i=r.list,s=r.options.height,o=r.popup.visible();return e&&(n=i.add(i.parent(".k-animation-container")).show(),s=r.listView.content[0].scrollHeight>s?s:"auto",n.height(s),"auto"!==s&&(t=r._offsetHeight(),t&&(s-=t)),r.listView.content.height(s),o||n.hide()),s},_adjustListWidth:function(){var e,t,n=this.list,r=n[0].style.width,i=this.wrapper;if(n.data(N)||!r)return e=window.getComputedStyle?window.getComputedStyle(i[0],null):0,t=e?parseFloat(e.width):i.outerWidth(),e&&A.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),r="border-box"!==n.css("box-sizing")?t-(n.outerWidth()-n.width()):t,n.css({fontFamily:i.css("font-family"),width:r}).data(N,r),!0},_openHandler:function(e){this._adjustListWidth(),this.trigger(b)?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(e){this.trigger(w)?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,n=e.focus(),r=e.select();r=r[r.length-1],r===t&&this.options.highlightFirst&&!n&&(r=0),r!==t?e.focus(r):e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),n=this.listView.content.prev(".k-group-header"),r=0;n[0]&&"none"!==n[0].style.display&&("auto"!==e&&(r=o.support.scrollbar()),r+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("padding-right"),10),n.css("padding-right",r))},_firstOpen:function(){var e=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(e)},_popup:function(){var e=this;e.popup=new u.Popup(e.list,C({},e.options.popup,{anchor:e.wrapper,open:k(e._openHandler,e),close:k(e._closeHandler,e),animation:e.options.animation,isRtl:l.isRtl(e.wrapper)})),e.options.virtual||e.popup.one(b,k(e._firstOpen,e))},_makeUnselectable:function(){O&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(g,"mouseenter"===t.type)},_toggle:function(e,n){var r=this,i=l.mobileOS&&(l.touch||l.MSPointers||l.pointers);e=e!==t?e:!r.popup.visible(),n||i||r._focused[0]===h()||(r._prevent=!0,r._focused.focus(),r._prevent=!1),r[e?b:w]()},_triggerCascade:function(){var e=this;e._cascadeTriggered&&e._old===e.value()&&e._oldIndex===e.selectedIndex||(e._cascadeTriggered=!0,e.trigger("cascade",{userTriggered:e._userTriggered}))},_unbindDataSource:function(){var e=this;e.dataSource.unbind(x,e._requestStartHandler).unbind(T,e._requestEndHandler).unbind("error",e._errorHandler)}});C(D,{inArray:function(e,t){var n,r,i=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,r=i.length;r>n;n++)if(e===i[n])return n;return-1}}),o.ui.List=D,u.Select=D.extend({init:function(e,t){D.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,n=this;n.options.dataSource=e,n._dataSource(),n.listView.setDataSource(n.dataSource),n.options.autoBind&&n.dataSource.fetch(),t=n._parentWidget(),t&&n._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var n=this;return e===t?n.selectedIndex:(n._select(e),n._old=n._accessor(),n._oldIndex=n.selectedIndex,t)},search:function(e){var t,n,r,i,s,o;e="string"==typeof e?e:this.text(),t=this,n=e.length,r=t.options,i=r.ignoreCase,s=r.filter,o=r.dataTextField,clearTimeout(t._typingTimeout),(!n||n>=r.minLength)&&(t._state="filter",t.listView.filter(!0),"none"===s?t._filter(e):(t._open=!0,t._filterSource({value:i?e.toLowerCase():e,field:o,operator:s,ignoreCase:i})))},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var n=this.element[0];return e===t?n.value:(null===e&&(e=""),n.value=e,t)},_accessorSelect:function(e,n){var r,i=this.element[0],s=i.selectedIndex;return e===t?(s>-1&&(r=i.options[s]),r&&(e=r.value),e||""):(s>-1&&i.options[s].removeAttribute(S),n===t&&(n=-1),null!==e&&""!==e&&-1==n?this._custom(e):(e?i.value=e:i.selectedIndex=n,i.selectedIndex>-1&&(r=i.options[i.selectedIndex]),r&&r.setAttribute(S,S)),t)},_custom:function(t){var n=this,r=n.element,i=n._customOption;i||(i=e("<option/>"),n._customOption=i,r.append(i)),i.text(t),i[0].setAttribute(S,S),i[0].selected=!0},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(y),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._arrow&&(e._focused.attr("aria-busy",!0),e._arrow.addClass(y))},100))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var t,n=this,r=n.element,i=n.options,s=i.dataSource||{};s=e.isArray(s)?{data:s}:s,n._isSelect&&(t=r[0].selectedIndex,t>-1&&(i.index=t),s.select=r,s.fields=[{field:i.dataTextField},{field:i.dataValueField}]),n.dataSource?n._unbindDataSource():(n._requestStartHandler=k(n._showBusy,n),n._requestEndHandler=k(n._requestEnd,n),n._errorHandler=k(n._hideBusy,n)),n.dataSource=o.data.DataSource.create(s).bind(x,n._requestStartHandler).bind(T,n._requestEndHandler).bind("error",n._errorHandler)},_firstItem:function(){this.listView.first()},_lastItem:function(){this.listView.last()},_nextItem:function(){this.listView.next()},_prevItem:function(){this.listView.prev()},_move:function(e){var n,r,i,s,o=this,u=e.keyCode,a=u===f.DOWN;if(u===f.UP||a){if(e.altKey)o.toggle(a);else{if(!o.listView.isBound())return o._fetch||(o.dataSource.one(v,function(){o._fetch=!1,o._move(e)}),o._fetch=!0,o._filterSource()),e.preventDefault(),!0;if(i=o._focus(),o._fetch||i&&!i.hasClass("k-state-selected")||(a?(o._nextItem(),o._focus()||o._lastItem()):(o._prevItem(),o._focus()||o._firstItem())),o.trigger(E,{item:o.listView.focus()}))return o._focus(i),t;o._select(o._focus(),!0),o.popup.visible()||o._blur()}e.preventDefault(),r=!0}else if(u===f.ENTER||u===f.TAB){if(o.popup.visible()&&e.preventDefault(),i=o._focus(),n=o.dataItem(),o.popup.visible()||n&&o.text()===o._text(n)||(i=null),s=o.filterInput&&o.filterInput[0]===h(),i){if(o.trigger(E,{item:i}))return;o._select(i)}else o.input&&(o._accessor(o.input.val()),o.listView.value(o.input.val()));o._focusElement&&o._focusElement(o.wrapper),s&&u===f.TAB?o.wrapper.focusout():o._blur(),o.close(),r=!0}else u===f.ESC&&(o.popup.visible()&&e.preventDefault(),o.close(),r=!0);return r},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.isBound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,n,r){var i,s,o,u,a=this,f=a.element,l=e.length,h="",p=0;for(n&&(h=n);l>p;p++)i="<option",s=e[p],o=a._text(s),u=a._value(s),u!==t&&(u+="",-1!==u.indexOf('"')&&(u=u.replace(M,"&quot;")),i+=' value="'+u+'"'),i+=">",o!==t&&(i+=c(o)),i+="</option>",h+=i;f.html(h),r!==t&&(f[0].value=r)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=i.on("reset",t._resetHandler))},_parentWidget:function(){var t=this.options.name,n=e("#"+this.options.cascadeFrom),r=n.data("kendo"+t);return r||(r=n.data("kendo"+_[t])),r},_cascade:function(){var e,t=this,n=t.options,r=n.cascadeFrom;if(r){if(e=t._parentWidget(),!e)return;n.autoBind=!1,e.first("cascade",function(n){t._userTriggered=n.userTriggered,t.listView.isBound()&&t._clearSelection(e,!0),t._cascadeSelect(e)}),e.listView.isBound()?t._cascadeSelect(e):e.value()||t.enable(!1)}},_cascadeChange:function(e){var t=this,n=t._accessor();t._userTriggered?t._clearSelection(e,!0):n?(n!==t.listView.value()[0]&&t.value(n),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._userTriggered=!1},_cascadeSelect:function(e){var t,n,i,s=this,o=e.dataItem(),u=o?e._value(o):null,a=s.options.cascadeFromField||e.options.dataValueField;u||0===u?(t=s.dataSource.filter()||{},r(t,a),n=t.filters||[],n.push({field:a,operator:"eq",value:u}),i=function(){s.unbind("dataBound",i),s._cascadeChange(e)},s.first("dataBound",i),s.dataSource.filter(n)):(s.enable(!1),s._clearSelection(e),s._triggerCascade(),s._userTriggered=!1)}}),i=".StaticList",s=o.ui.DataBoundWidget.extend({init:function(t,n){a.fn.init.call(this,t,n),this.element.attr("role","listbox").on("click"+i,"li",k(this._click,this)).on("mouseenter"+i,"li",function(){e(this).addClass(g)}).on("mouseleave"+i,"li",function(){e(this).removeClass(g)}),this.content=this.element.wrap("<div unselectable='on'></div>").parent().css({overflow:"auto",position:"relative"}),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this._bound=!1,this._optionID=o.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var r=this.options.value;r&&(this._values=e.isArray(r)?r.slice(0):[r]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=k(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click","change","activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(t){var n,r=this,i=t||{};i=e.isArray(i)?{data:i}:i,i=o.data.DataSource.create(i),r.dataSource?(r.dataSource.unbind(v,r._refreshHandler),n=r.value(),r.value([]),r._bound=!1,r.value(n)):r._refreshHandler=k(r.refresh,r),r.dataSource=i.bind(v,r._refreshHandler),r._fixedHeader()},setOptions:function(e){a.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(i),this._refreshHandler&&this.dataSource.unbind(v,this._refreshHandler),a.fn.destroy.call(this)},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],n=e.offsetTop,r=e.offsetHeight,i=t.scrollTop,s=t.clientHeight,o=n+r;i>n?i=n:o>i+s&&(i=o-s),t.scrollTop=i}},selectedDataItems:function(n){var r=this._valueGetter;return n===t?this._dataItems.slice():(this._dataItems=n,this._values=e.map(n,function(e){return r(e)}),t)},next:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},prev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},first:function(){this.focus(this.element[0].children[0])},last:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(n){var r,i=this,s=i._optionID;return n===t?i._current:(n=i._get(n),n=n[n.length-1],n=e(this.element[0].children[n]),i._current&&(i._current.removeClass(m).removeAttr("aria-selected").removeAttr(d),i.trigger("deactivate")),r=!!n[0],r&&(n.addClass(m),i.scroll(n),n.attr("id",s)),i._current=r?n:null,i.trigger("activate"),t)},focusIndex:function(){return this.focus()?this.focus().index():t},filter:function(e){return e===t?this._filtered:(this._filtered=e,t)},skipUpdate:function(e){this._skipUpdate=e},select:function(n){var r,i=this,s=i.options.selectable,o="multiple"!==s&&s!==!1,u=i._selectedIndices,a=[],f=[];if(n===t)return u.slice();if(n=i._get(n),1===n.length&&-1===n[0]&&(n=[]),!i._filtered||o||!i._deselectFiltered(n)){if(o&&!i._filtered&&-1!==e.inArray(n[n.length-1],u))return i._dataItems.length&&i._view.length&&(i._dataItems=[i._view[u[0]].item]),t;r=i._deselect(n),f=r.removed,n=r.indices,n.length&&(o&&(n=[n[n.length-1]]),a=i._select(n)),(a.length||f.length)&&(i._valueComparer=null,i.trigger("change",{added:a,removed:f}))}},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(t){t=e.isArray(t)||t instanceof p?t.slice(0):[t],this._values=t,this._valueComparer=null},value:function(n){var r,i=this,s=i._valueDeferred;return n===t?i._values.slice():(i.setValue(n),s&&"resolved"!==s.state()||(i._valueDeferred=s=e.Deferred()),i.isBound()&&(r=i._valueIndices(i._values),"multiple"===i.options.selectable&&i.select(-1),i.select(r),s.resolve()),i._skipUpdate=!1,s)},_click:function(t){t.isDefaultPrevented()||this.trigger("click",{item:e(t.currentTarget)})},_valueExpr:function(e,n){var r,i,s,o=this,u=0,a=[];if(!o._valueComparer||o._valueType!==e){for(o._valueType=e;n.length>u;u++)r=n[u],r!==t&&""!==r&&null!==r&&("boolean"===e?r=!!r:"number"===e?r=+r:"string"===e&&(r=""+r)),a.push(r);i="for (var idx = 0; idx < "+a.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",s=Function(["current","values"],i),o._valueComparer=function(e){return s(e,a)}}return o._valueComparer},_dataItemPosition:function(e,t){var n=this._valueGetter(e),r=this._valueExpr(typeof n,t);return r(n)},_getter:function(){this._valueGetter=o.getter(this.options.dataValueField)},_deselect:function(t){var n,r,i,s=this,o=s.element[0].children,u=s.options.selectable,a=s._selectedIndices,f=s._dataItems,l=s._values,c=[],h=0,p=0;if(t=t.slice(),u!==!0&&t.length){if("multiple"===u)for(;t.length>h;h++)if(r=t[h],e(o[r]).hasClass("k-state-selected"))for(n=0;a.length>n;n++)if(i=a[n],i===r){e(o[i]).removeClass("k-state-selected"),c.push({position:n+p,dataItem:f.splice(n,1)[0]}),a.splice(n,1),t.splice(h,1),l.splice(n,1),p+=1,h-=1,n-=1;break}}else{for(;a.length>h;h++)e(o[a[h]]).removeClass("k-state-selected"),c.push({position:h,dataItem:f[h]});s._values=[],s._dataItems=[],s._selectedIndices=[]}return{indices:t,removed:c}},_deselectFiltered:function(t){for(var n,r,i,s=this.element[0].children,o=[],u=0;t.length>u;u++)r=t[u],n=this._view[r].item,i=this._dataItemPosition(n,this._values),i>-1&&(o.push(this.removeAt(i)),e(s[r]).removeClass("k-state-selected"));return o.length?(this.trigger("change",{added:[],removed:o}),!0):!1},_select:function(t){var n,r,i=this,s=i.element[0].children,o=i._view,u=[],a=0;for(-1!==t[t.length-1]&&i.focus(t);t.length>a;a++)r=t[a],n=o[r],-1!==r&&n&&(n=n.item,i._selectedIndices.push(r),i._dataItems.push(n),i._values.push(i._valueGetter(n)),e(s[r]).addClass("k-state-selected").attr("aria-selected",!0),u.push({dataItem:n}));return u},_get:function(n){return"number"==typeof n?n=[n]:L(n)||(n=e(n).data("offset-index"),n===t&&(n=-1),n=[n]),n},_template:function(){var e=this,t=e.options,n=t.template;return n?(n=o.template(n),n=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(e)+"</li>"}):n=o.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+o.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1}),n},_templates:function(){var e,t,n={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(t in n)e=n[t],e&&"function"!=typeof e&&(n[t]=o.template(e));this.templates=n},_normalizeIndices:function(e){for(var n=[],r=0;e.length>r;r++)e[r]!==t&&n.push(e[r]);return n},_valueIndices:function(e,t){var n,r=this._view,i=0;if(t=t?t.slice():[],!e.length)return[];for(;r.length>i;i++)n=this._dataItemPosition(r[i].item,e),-1!==n&&(t[n]=i);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var t=this.element[0],n=this.content[0],r=n.scrollTop,i=e(t.children[0]).height(),s=Math.floor(r/i)||0,o=t.children[s]||t.lastChild,u=r>o.offsetTop;o;)if(u){if(o.offsetTop+i>r||!o.nextSibling)break;o=o.nextSibling}else{if(r>=o.offsetTop||!o.previousSibling)break;o=o.previousSibling}return this._view[e(o).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem(),e&&this.header.html(t(e.group)))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',n=e.item,r=0!==e.index,i=e.selected;return r&&e.newGroup&&(t+=" k-first"),i&&(t+=" k-state-selected"),t+='"'+(i?' aria-selected="true"':"")+' data-offset-index="'+e.index+'">',t+=this.templates.template(n),r&&e.newGroup&&(t+='<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>"),t+"</li>"},_render:function(){var e,t,n,r,i="",s=0,o=0,u=[],a=this.dataSource.view(),f=this.value(),l=this.isGrouped();if(l)for(s=0;a.length>s;s++)for(t=a[s],n=!0,r=0;t.items.length>r;r++)e={selected:this._selected(t.items[r],f),item:t.items[r],group:t.value,newGroup:n,index:o},u[o]=e,o+=1,i+=this._renderItem(e),n=!1;else for(s=0;a.length>s;s++)e={selected:this._selected(a[s],f),item:a[s],index:s},u[s]=e,i+=this._renderItem(e);this._view=u,this.element[0].innerHTML=i,l&&u.length&&this._renderHeader()},_selected:function(e,t){var n=!this._filtered||"multiple"===this.options.selectable;return n&&-1!==this._dataItemPosition(e,t)},refresh:function(e){var t,r=this,i=e&&e.action;r.trigger("dataBinding"),r._fixedHeader(),r._render(),r._bound=!0,"itemchange"===i?(t=n(r._dataItems,e.items),t.length&&r.trigger("selectedItemChange",{items:t})):r._filtered||r._skipUpdate?(r.focus(0),r._skipUpdate&&(r._skipUpdate=!1,r._selectedIndices=r._valueIndices(r._values,r._selectedIndices))):i&&"add"!==i||r.value(r._values),r._valueDeferred&&r._valueDeferred.resolve(),r.trigger("dataBound")},isBound:function(){return this._bound},isGrouped:function(){return(this.dataSource.group()||[]).length}}),u.plugin(s)}(window.kendo.jQuery),function(e,t){function n(e,t,n,r){var i,s=e.getFullYear(),o=t.getFullYear(),u=n.getFullYear();return s-=s%r,i=s+(r-1),o>s&&(s=o),i>u&&(i=u),s+"-"+i}function r(e){for(var t,n=0,r=e.min,i=e.max,s=e.start,o=e.setter,a=e.build,f=e.cells||12,l=e.perRow||4,c=e.content||M,h=e.empty||_,p=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';f>n;n++)n>0&&n%l===0&&(p+='</tr><tr role="row">'),t=a(s,n),p+=u(s,r,i)?c(t):h(t),o(s,1);return p+"</tr></tbody></table>"}function i(e,t,n){var r=e.getFullYear(),i=t.getFullYear(),s=i,o=0;return n&&(i-=i%n,s=i-i%n+n-1),r>s?o=1:i>r&&(o=-1),o}function s(){var e=new dt;return new dt(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t,n){var r=s();return e&&(r=new dt(+e)),t>r?r=new dt(+t):r>n&&(r=new dt(+n)),r}function u(e,t,n){return+e>=+t&&+n>=+e}function a(e,t){return e.slice(t).concat(e.slice(0,t))}function f(e,t,n){t=t instanceof dt?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function l(t){e(this).toggleClass($,rt.indexOf(t.type)>-1||t.type==tt)}function c(e){e.preventDefault()}function h(e){return L(e).calendars.standard}function p(e){var n=vt[e.start],r=vt[e.depth],i=L(e.culture);e.format=C(e.format||i.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=U),(r===t||r>n)&&(e.depth=U),e.dates||(e.dates=[])}function d(e){P&&e.find("*").attr("unselectable","on")}function v(e,t){for(var n=0,r=t.length;r>n;n++)if(e===+t[n])return!0;return!1}function m(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1}function g(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1}var y,b=window.kendo,w=b.support,E=b.ui,S=E.Widget,x=b.keys,T=b.parseDate,N=b.date.adjustDST,C=b._extractFormat,k=b.template,L=b.getCulture,A=b.support.transitions,O=A?A.css+"transform-origin":"",M=k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),_=k('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),D=b.support.browser,P=D.msie&&9>D.version,H=".kendoCalendar",B="click"+H,j="keydown"+H,F="id",I="min",q="left",R="slideIn",U="month",z="century",W="change",X="navigate",V="value",$="k-state-hover",J="k-state-disabled",K="k-state-focused",Q="k-other-month",G=' class="'+Q+'"',Y="k-nav-today",Z="td:has(.k-link)",et="blur"+H,tt="focus",nt=tt+H,rt=w.touch?"touchstart":"mouseenter",it=w.touch?"touchstart"+H:"mouseenter"+H,st=w.touch?"touchend"+H+" touchmove"+H:"mouseleave"+H,ot=6e4,ut=864e5,at="_prevArrow",ft="_nextArrow",lt="aria-disabled",ct="aria-selected",ht=e.proxy,pt=e.extend,dt=Date,vt={month:0,year:1,decade:2,century:3},mt=S.extend({init:function(t,n){var r,i,s=this;S.fn.init.call(s,t,n),t=s.wrapper=s.element,n=s.options,n.url=window.unescape(n.url),s._templates(),s._header(),s._footer(s.footer),i=t.addClass("k-widget k-calendar").on(it+" "+st,Z,l).on(j,"table.k-content",ht(s._move,s)).on(B,Z,function(t){var n=t.currentTarget.firstChild;-1!=n.href.indexOf("#")&&t.preventDefault(),s._click(e(n))}).on("mouseup"+H,"table.k-content, .k-footer",function(){s._focusView(s.options.focusOnNav!==!1)}).attr(F),i&&(s._cellID=i+"_cell_selected"),p(n),r=T(n.value,n.format,n.culture),s._index=vt[n.start],s._current=new dt(+o(r,n.min,n.max)),s._addClassProxy=function(){s._active=!0,s._cell.addClass(K)},s._removeClassProxy=function(){s._active=!1,s._cell.removeClass(K)},s.value(r),b.notify(s)},options:{name:"Calendar",value:null,min:new dt(1900,0,1),max:new dt(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:U,depth:U,animation:{horizontal:{effects:R,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[W,X],setOptions:function(e){var t=this;p(e),e.dates[0]||(e.dates=t.options.dates),S.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=vt[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(H),e._title.off(H),e[at].off(H),e[ft].off(H),b.destroy(e._table),t&&b.destroy(t.off(H)),S.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option(I,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(at,-1)},navigateToFuture:function(){this._navigate(ft,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(J)||e.navigate(e._current,++t)},navigateDown:function(e){var n=this,r=n._index,i=n.options.depth;if(e)return r===vt[i]?(+n._value!=+e&&(n.value(e),n.trigger(W)),t):(n.navigate(e,--r),t)},navigate:function(n,r){r=isNaN(r)?vt[r]:r;var i,s,u,a,f=this,l=f.options,c=l.culture,h=l.min,p=l.max,v=f._title,m=f._table,g=f._oldTable,b=f._value,w=f._current,E=n&&+n>+w,S=r!==t&&r!==f._index;n||(n=w),f._current=n=new dt(+o(n,h,p)),r===t?r=f._index:f._index=r,f._view=s=y.views[r],u=s.compare,a=r===vt[z],v.toggleClass(J,a).attr(lt,a),a=u(n,h)<1,f[at].toggleClass(J,a).attr(lt,a),a=u(n,p)>-1,f[ft].toggleClass(J,a).attr(lt,a),m&&g&&g.data("animating")&&(g.kendoStop(!0,!0),m.kendoStop(!0,!0)),f._oldTable=m,(!m||f._changeView)&&(v.html(s.title(n,h,p,c)),f._table=i=e(s.content(pt({min:h,max:p,date:n,url:l.url,dates:l.dates,format:l.format,culture:c},f[s.name]))),d(i),f._animate({from:m,to:i,vertical:S,future:E}),f._focus(n),f.trigger(X)),r===vt[l.depth]&&b&&f._class("k-state-selected",s.toDateString(b)),f._class(K,s.toDateString(n)),!m&&f._cell&&f._cell.removeClass(K),f._changeView=!0},value:function(e){var n=this,r=n._view,i=n.options,s=n._view,o=i.min,a=i.max;return e===t?n._value:(e=T(e,i.format,i.culture),null!==e&&(e=new dt(+e),u(e,o,a)||(e=null)),n._value=e,s&&null===e&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||r&&0!==r.compare(e,n._current),n.navigate(e)),t)},_move:function(t){var n,r,i,s,u=this,a=u.options,f=t.keyCode,l=u._view,c=u._index,h=new dt(+u._current),p=b.support.isRtl(u.wrapper);return t.target===u._table[0]&&(u._active=!0),t.ctrlKey?f==x.RIGHT&&!p||f==x.LEFT&&p?(u.navigateToFuture(),r=!0):f==x.LEFT&&!p||f==x.RIGHT&&p?(u.navigateToPast(),r=!0):f==x.UP?(u.navigateUp(),r=!0):f==x.DOWN&&(u._click(e(u._cell[0].firstChild)),r=!0):(f==x.RIGHT&&!p||f==x.LEFT&&p?(n=1,r=!0):f==x.LEFT&&!p||f==x.RIGHT&&p?(n=-1,r=!0):f==x.UP?(n=0===c?-7:-4,r=!0):f==x.DOWN?(n=0===c?7:4,r=!0):f==x.ENTER?(u._click(e(u._cell[0].firstChild)),r=!0):f==x.HOME||f==x.END?(i=f==x.HOME?"first":"last",s=l[i](h),h=new dt(s.getFullYear(),s.getMonth(),s.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),r=!0):f==x.PAGEUP?(r=!0,u.navigateToPast()):f==x.PAGEDOWN&&(r=!0,u.navigateToFuture()),(n||i)&&(i||l.setDate(h,n),u._focus(o(h,a.min,a.max)))),r&&t.preventDefault(),u._current},_animate:function(e){var t=this,n=e.from,r=e.to,i=t._active;n?n.parent().data("animating")?(n.off(H),n.parent().kendoStop(!0,!0).remove(),n.remove(),r.insertAfter(t.element[0].firstChild),t._focusView(i)):n.is(":visible")&&t.options.animation!==!1?t[e.vertical?"_vertical":"_horizontal"](n,r,e.future):(r.insertAfter(n),n.off(H).remove(),t._focusView(i)):(r.insertAfter(t.element[0].firstChild),t._bindTable(r))},_horizontal:function(e,t,n){var r=this,i=r._active,s=r.options.animation.horizontal,o=s.effects,u=e.outerWidth();o&&-1!=o.indexOf(R)&&(e.add(t).css({width:u}),e.wrap("<div/>"),r._focusView(i,e),e.parent().css({position:"relative",width:2*u,"float":q,"margin-left":n?0:-u}),t[n?"insertAfter":"insertBefore"](e),pt(s,{effects:R+":"+(n?"right":q),complete:function(){e.off(H).remove(),r._oldTable=null,t.unwrap(),r._focusView(i)}}),e.parent().kendoStop(!0,!0).kendoAnimate(s))},_vertical:function(e,t){var n,r,i=this,s=i.options.animation.vertical,o=s.effects,u=i._active;o&&-1!=o.indexOf("zoom")&&(t.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),O&&(n=i._cellByDate(i._view.toDateString(i._current)),r=n.position(),r=r.left+parseInt(n.width()/2,10)+"px "+(r.top+parseInt(n.height()/2,10)+"px"),t.css(O,r)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(H).remove(),i._oldTable=null,t.css({position:"static",top:0,left:0}),i._focusView(u)}}),t.kendoStop(!0,!0).kendoAnimate(s))},_cellByDate:function(t){return this._table.find("td:not(."+Q+")").filter(function(){return e(this.firstChild).attr(b.attr(V))===t})},_class:function(t,n){var r=this,i=r._cellID,s=r._cell;s&&s.removeAttr(ct).removeAttr("aria-label").removeAttr(F),s=r._table.find("td:not(."+Q+")").removeClass(t).filter(function(){return e(this.firstChild).attr(b.attr(V))===n}).attr(ct,!0),t!==K||r._active||r.options.focusOnNav===!1||(t=""),s.addClass(t),s[0]&&(r._cell=s),i&&(s.attr(F,i),r._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",i))},_bindTable:function(e){e.on(nt,this._addClassProxy).on(et,this._removeClassProxy)},_click:function(e){var t=this,n=t.options,r=new Date(+t._current),i=e.attr(b.attr(V)).split("/");i=new dt(i[0],i[1],i[2]),N(i,0),t._view.setDate(r,i),t.navigateDown(o(r,n.min,n.max))},_focus:function(e){var t=this,n=t._view;0!==n.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(K,n.toDateString(e)))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(n){var r=this,i=s(),o=r.element,u=o.find(".k-footer");return n?(u[0]||(u=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),r._today=u.show().find(".k-link").html(n(i)).attr("title",b.toString(i,"D",r.options.culture)),r._toggle(),t):(r._toggle(!1),u.hide(),t)},_header:function(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),e=n.find(".k-link").on(it+" "+st+" "+nt+" "+et,l).click(!1),t._title=e.eq(1).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateUp()}),t[at]=e.eq(0).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateToPast()}),t[ft]=e.eq(2).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateToFuture()})},_navigate:function(e,t){var n=this,r=n._index+1,i=new dt(+n._current);e=n[e],e.hasClass(J)||(r>3?i.setFullYear(i.getFullYear()+100*t):y.views[r].setDate(i,t),n.navigate(i))},_option:function(e,n){var r,i=this,s=i.options,o=i._value||i._current;return n===t?s[e]:(n=T(n,s.format,s.culture),n&&(s[e]=new dt(+n),r=e===I?n>o:o>n,(r||g(o,n))&&(r&&(i._value=null),i._changeView=!0),i._changeView||(i._changeView=!!s.month.content||!!s.month.empty),i.navigate(i._value),i._toggle()),t)},_toggle:function(e){var n=this,r=n.options,i=n._today;e===t&&(e=u(s(),r.min,r.max)),i&&(i.off(B),e?i.addClass(Y).removeClass(J).on(B,ht(n._todayClick,n)):i.removeClass(Y).addClass(J).on(B,c))},_todayClick:function(e){var t=this,n=vt[t.options.depth],r=s();e.preventDefault(),0===t._view.compare(t._current,r)&&t._index==n&&(t._changeView=!1),t._value=r,t.navigate(r,n),t.trigger(W)},_templates:function(){var e=this,t=e.options,n=t.footer,r=t.month,i=r.content,s=r.empty;e.month={content:k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+b.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(i||"#=data.value#")+"</a></td>",{useWithBlock:!!i}),empty:k('<td role="gridcell">'+(s||"&nbsp;")+"</td>",{useWithBlock:!!s})},e.footer=n!==!1?k(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});E.plugin(mt),y={firstDayOfMonth:function(e){return new dt(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||b.culture().calendar;for(var n=t.firstDay,r=new dt(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());r.getDay()!=n;)y.setTime(r,-1*ut);return r},setTime:function(e,t){var n=e.getTimezoneOffset(),r=new dt(e.getTime()+t),i=r.getTimezoneOffset()-n;e.setTime(r.getTime()+i*ot)},views:[{name:U,title:function(e,t,n,r){return h(r).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){for(var t=this,n=0,i=e.min,s=e.max,o=e.date,u=e.dates,f=e.format,l=e.culture,c=e.url,p=c&&u[0],d=h(l),m=d.firstDay,g=d.days,w=a(g.names,m),E=a(g.namesShort,m),S=y.firstVisibleDay(o,d),x=t.first(o),T=t.last(o),C=t.toDateString,k=new dt,L='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)L+='<th scope="col" title="'+w[n]+'">'+E[n]+"</th>";return k=new dt(k.getFullYear(),k.getMonth(),k.getDate()),N(k,0),k=+k,S=new dt(S.getFullYear(),S.getMonth(),S.getDate()),N(S,0),r({cells:42,perRow:7,html:L+='</tr></thead><tbody><tr role="row">',start:S,min:new dt(i.getFullYear(),i.getMonth(),i.getDate()),max:new dt(s.getFullYear(),s.getMonth(),s.getDate()),content:e.content,empty:e.empty,setter:t.setDate,build:function(e){var t=[],n=e.getDay(),r="",i="#";return(x>e||e>T)&&t.push(Q),+e===k&&t.push("k-today"),(0===n||6===n)&&t.push("k-weekend"),p&&v(+e,u)&&(i=c.replace("{0}",b.toString(e,f,l)),r=" k-action-link"),{date:e,dates:u,ns:b.ns,title:b.toString(e,"D",l),value:e.getDate(),dateString:C(e),cssClass:t[0]?' class="'+t.join(" ")+'"':"",linkClass:r,url:i}}})},first:function(e){return y.firstDayOfMonth(e)},last:function(e){var t=new dt(e.getFullYear(),e.getMonth()+1,0),n=y.firstDayOfMonth(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t},compare:function(e,t){var n,r=e.getMonth(),i=e.getFullYear(),s=t.getMonth(),o=t.getFullYear();return n=i>o?1:o>i?-1:r==s?0:r>s?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof dt?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):y.setTime(e,t*ut),N(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=h(e.culture).months.namesAbbr,n=this.toDateString,i=e.min,s=e.max;return r({min:new dt(i.getFullYear(),i.getMonth(),1),max:new dt(s.getFullYear(),s.getMonth(),1),start:new dt(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:b.ns,dateString:n(e),cssClass:""}}})},first:function(e){return new dt(e.getFullYear(),0,e.getDate())},last:function(e){return new dt(e.getFullYear(),11,e.getDate())},compare:function(e,t){return i(e,t)},setDate:function(e,t){var n,r=e.getHours();t instanceof dt?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),N(e,r)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,r){return n(e,t,r,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString;return r({start:new dt(t-t%10-1,0,1),min:new dt(e.min.getFullYear(),0,1),max:new dt(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:b.ns,dateString:n(e),cssClass:0===t||11==t?G:""}}})},first:function(e){var t=e.getFullYear();return new dt(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new dt(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return i(e,t,10)},setDate:function(e,t){f(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:z,title:function(e,t,r){return n(e,t,r,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),i=e.max.getFullYear(),s=this.toDateString,o=n,u=i;return o-=o%10,u-=u%10,10>u-o&&(u=o+9),r({start:new dt(t-t%100-10,0,1),min:new dt(o,0,1),max:new dt(u,0,1),setter:this.setDate,build:function(e,t){var r=e.getFullYear(),o=r+9;return n>r&&(r=n),o>i&&(o=i),{ns:b.ns,value:r+" - "+o,dateString:s(e),cssClass:0===t||11==t?G:""}}})},first:function(e){var t=e.getFullYear();return new dt(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new dt(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return i(e,t,100)},setDate:function(e,t){f(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]},y.isEqualDatePart=m,y.makeUnselectable=d,y.restrictValue=o,y.isInRange=u,y.normalize=p,y.viewsEnum=vt,b.calendar=y}(window.kendo.jQuery),function(e,t){function n(t){var n=t.parseFormats,r=t.format;B.normalize(t),n=e.isArray(n)?n:[n],n.length||n.push("yyyy-MM-dd"),-1===e.inArray(r,n)&&n.splice(0,0,t.format),t.parseFormats=n}function r(e){e.preventDefault()}var i,s=window.kendo,o=s.ui,u=o.Widget,a=s.parseDate,f=s.keys,l=s.template,c=s._activeElement,h="<div />",p="<span />",d=".kendoDatePicker",v="click"+d,m="open",g="close",y="change",b="disabled",w="readonly",E="k-state-default",S="k-state-focused",x="k-state-selected",T="k-state-disabled",N="k-state-hover",C="mouseenter"+d+" mouseleave"+d,k="mousedown"+d,L="id",A="min",O="max",M="month",_="aria-disabled",D="aria-expanded",P="aria-hidden",H="aria-readonly",B=s.calendar,j=B.isInRange,F=B.restrictValue,I=B.isEqualDatePart,q=e.extend,R=e.proxy,U=Date,z=function(t){var n,r=this,i=document.body,u=e(h).attr(P,"true").addClass("k-calendar-container").appendTo(i);r.options=t=t||{},n=t.id,n&&(n+="_dateview",u.attr(L,n),r._dateViewID=n),r.popup=new o.Popup(u,q(t.popup,t,{name:"Popup",isRtl:s.support.isRtl(t.anchor)})),r.div=u,r.value(t.value)};z.prototype={_calendar:function(){var t,n=this,i=n.calendar,u=n.options;i||(t=e(h).attr(L,s.guid()).appendTo(n.popup.element).on(k,r).on(v,"td:has(.k-link)",R(n._click,n)),n.calendar=i=new o.Calendar(t),n._setOptions(u),s.calendar.makeUnselectable(i.element),i.navigate(n._value||n._current,u.start),n.value(n._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,start:e.start})},setOptions:function(e){var t=this.options;this.options=q(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(A,e)},max:function(e){this._option(O,e)},toggle:function(){var e=this;e[e.popup.visible()?g:m]()},move:function(e){var t=this,n=e.keyCode,r=t.calendar,i=e.ctrlKey&&n==f.DOWN||n==f.ENTER,s=!1;if(e.altKey)n==f.DOWN?(t.open(),e.preventDefault(),s=!0):n==f.UP&&(t.close(),e.preventDefault(),s=!0);else if(t.popup.visible()){if(n==f.ESC||i&&r._cell.hasClass(x))return t.close(),e.preventDefault(),!0;t._current=r._move(e),s=!0}return s},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this,n=t.calendar,r=t.options;t._value=e,t._current=new U(+F(e,r.min,r.max)),n&&n.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(x)&&this.close()},_option:function(e,t){var n=this,r=n.calendar;n.options[e]=t,r&&r[e](t)}},z.normalize=n,s.DateView=z,i=u.extend({init:function(t,r){var i,o,f=this;u.fn.init.call(f,t,r),t=f.element,r=f.options,r.min=a(t.attr("min"))||a(r.min),r.max=a(t.attr("max"))||a(r.max),n(r),f._initialOptions=q({},r),f._wrapper(),f.dateView=new z(q({},r,{id:t.attr(L),anchor:f.wrapper,change:function(){f._change(this.value()),f.close()},close:function(e){f.trigger(g)?e.preventDefault():(t.attr(D,!1),o.attr(P,!0))},open:function(e){var n,r=f.options;f.trigger(m)?e.preventDefault():(f.element.val()!==f._oldText&&(n=a(t.val(),r.parseFormats,r.culture),f.dateView[n?"current":"value"](n)),t.attr(D,!0),o.attr(P,!1),f._updateARIA(n))}})),o=f.dateView.div,f._icon();try{t[0].setAttribute("type","text")}catch(l){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":f.dateView._dateViewID}),f._reset(),f._template(),i=t.is("[disabled]")||e(f.element).parents("fieldset").is(":disabled"),i?f.enable(!1):f.readonly(t.is("[readonly]")),f._old=f._update(r.value||f.element.val()),f._oldText=t.val(),s.notify(f)},events:[m,g,y],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:M,depth:M,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,r=t._value;u.fn.setOptions.call(t,e),e=t.options,e.min=a(e.min),e.max=a(e.max),n(e),t.dateView.setOptions(e),r&&(t.element.val(s.toString(r,e.format,e.culture)),t._updateARIA(r))},_editable:function(e){var t=this,n=t._dateIcon.off(d),i=t.element.off(d),s=t._inputWrapper.off(d),o=e.readonly,u=e.disable;o||u?(s.addClass(u?T:E).removeClass(u?E:T),i.attr(b,u).attr(w,o).attr(_,u).attr(H,o)):(s.addClass(E).removeClass(T).on(C,t._toggleHover),i.removeAttr(b).removeAttr(w).attr(_,!1).attr(H,!1).on("keydown"+d,R(t._keydown,t)).on("focusout"+d,R(t._blur,t)).on("focus"+d,function(){t._inputWrapper.addClass(S)}),n.on(v,R(t._click,t)).on(k,r))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;u.fn.destroy.call(e),e.dateView.destroy(),e.element.off(d),e._dateIcon.off(d),e._inputWrapper.off(d),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(A,e)},max:function(e){return this._option(O,e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(N,"mouseenter"===t.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(S)},_click:function(){var e=this,t=e.element;e.dateView.toggle(),s.support.touch||t[0]===c()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t._typing||t.element.trigger(y),t.trigger(y)),t._typing=!1},_keydown:function(e){var t=this,n=t.dateView,r=t.element.val(),i=!1;n.popup.visible()||e.keyCode!=f.ENTER||r===t._oldText?(i=n.move(e),t._updateARIA(n._current),i||(t._typing=!0)):t._change(r)},_icon:function(){var t,n=this,r=n.element;t=r.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(r)),n._dateIcon=t.attr({role:"button","aria-controls":n.dateView._dateViewID})},_option:function(e,n){var r=this,i=r.options;return n===t?i[e]:(n=a(n,i.parseFormats,i.culture),n&&(i[e]=new U(+n),r.dateView[e](n)),t)},_update:function(e){var t,n=this,r=n.options,i=r.min,o=r.max,u=n._value,f=a(e,r.parseFormats,r.culture),l=null===f&&null===u||f instanceof Date&&u instanceof Date;return+f===+u&&l?(t=s.toString(f,r.format,r.culture),t!==e&&n.element.val(null===f?e:t),f):(null!==f&&I(f,i)?f=F(f,i,o):j(f,i,o)||(f=null),n._value=f,n.dateView.value(f),n.element.val(f?s.toString(f,r.format,r.culture):e),n._updateARIA(f),f)},_wrapper:function(){var t,n=this,r=n.element;t=r.parents(".k-datepicker"),t[0]||(t=r.wrap(p).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(p).parent()),t[0].style.cssText=r[0].style.cssText,r.css({width:"100%",height:r[0].style.height}),n.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(r[0].className),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=i.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=l(this.options.ARIATemplate)},_updateARIA:function(e){var t,n=this,r=n.dateView.calendar;n.element.removeAttr("aria-activedescendant"),r&&(t=r._cell,t.attr("aria-label",n._ariaTemplate({current:e||r.current()})),n.element.attr("aria-activedescendant",t.attr("id")))}}),o.plugin(i)}(window.kendo.jQuery),function(e,t){function n(e,t,n){return n?t.substring(0,e).split(n).length-1:0}function r(e,t,r){return t.split(r)[n(e,t,r)]}function i(e,t,r,i){var s=t.split(i);return s.splice(n(e,t,i),1,r),i&&""!==s[s.length-1]&&s.push(""),s.join(i)}var s=window.kendo,o=s.support,u=s.caret,a=s._activeElement,f=o.placeholder,l=s.ui,c=l.List,h=s.keys,p=s.data.DataSource,d="aria-disabled",v="aria-readonly",m="k-state-default",g="disabled",y="readonly",b="k-state-focused",w="k-state-selected",E="k-state-disabled",S="k-state-hover",x=".kendoAutoComplete",T="mouseenter"+x+" mouseleave"+x,N=e.proxy,C=c.extend({init:function(t,n){var r,i,o=this;o.ns=x,n=e.isArray(n)?{dataSource:n}:n,c.fn.init.call(o,t,n),t=o.element,n=o.options,n.placeholder=n.placeholder||t.attr("placeholder"),f&&t.attr("placeholder",n.placeholder),o._wrapper(),o._loader(),o._dataSource(),o._ignoreCase(),t[0].type="text",r=o.wrapper,o._popup(),t.addClass("k-input").on("keydown"+x,N(o._keydown,o)).on("paste"+x,N(o._search,o)).on("focus"+x,function(){o._prev=o._accessor(),o._placeholder(!1),r.addClass(b)}).on("focusout"+x,function(){o._change(),o._placeholder(),r.removeClass(b)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),o._enable(),o._old=o._accessor(),t[0].id&&t.attr("aria-owns",o.ul[0].id),o._aria(),o._placeholder(),o._initList(),i=e(o.element).parents("fieldset").is(":disabled"),i&&o.enable(!1),s.notify(o)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():e._progressHandler=N(e._showBusy,e),e.dataSource=p.create(e.options.dataSource).bind("progress",e._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);c.fn.setOptions.call(this,e),t.dataValueField=t.dataTextField,this.listView.setOptions(t),this._accessors(),this._aria()},_editable:function(e){var t=this,n=t.element,r=t.wrapper.off(x),i=e.readonly,s=e.disable;i||s?(r.addClass(s?E:m).removeClass(s?m:E),n.attr(g,s).attr(y,i).attr(d,s).attr(v,i)):(r.addClass(m).removeClass(E).on(T,t._toggleHover),n.removeAttr(g).removeAttr(y).attr(d,!1).attr(v,!1))},close:function(){var e=this,t=e.listView.focus();t&&t.removeClass(w),e.popup.close()},destroy:function(){var e=this;e.element.off(x),e.wrapper.off(x),c.fn.destroy.call(e)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){var t,n=this,i=n.options,s=i.ignoreCase,o=i.separator;e=e||n._accessor(),clearTimeout(n._typingTimeout),o&&(e=r(u(n.element)[0],e,o)),t=e.length,(!t||t>=i.minLength)&&(n._open=!0,n.listView.filter(!0),n._filterSource({value:s?e.toLowerCase():e,operator:i.filter,field:i.dataTextField,ignoreCase:s}))},suggest:function(e){var r,i=this,s=i._last,o=i._accessor(),f=i.element[0],l=u(f)[0],p=i.options.separator,d=o.split(p),v=n(l,o,p),m=l;return s==h.BACKSPACE||s==h.DELETE?(i._last=t,t):(e=e||"","string"!=typeof e&&(e[0]&&(e=i.dataSource.view()[c.inArray(e[0],i.ul[0])]),e=e?i._text(e):""),0>=l&&(l=o.toLowerCase().indexOf(e.toLowerCase())+1),r=o.substring(0,l).lastIndexOf(p),r=r>-1?l-(r+p.length):l,o=d[v].substring(0,r),e&&(e=""+e,r=e.toLowerCase().indexOf(o.toLowerCase()),r>-1&&(e=e.substring(r+o.length),m=l+e.length,o+=e),p&&""!==d[d.length-1]&&d.push("")),d[v]=o,i._accessor(d.join(p||"")),f===a()&&u(f,l,m),t)},value:function(e){return e===t?this._accessor():(this.listView.value(e),this._accessor(e),this._old=this._accessor(),t)},_click:function(e){var n=e.item,r=this.element;return this.trigger("select",{item:n})?(this.close(),t):(this._select(n),this._blur(),u(r,r.val().length),t)},_initList:function(){var t=this,n=t.options.virtual,r=!!n,i=N(t._listBound,t),o={autoBind:!1,selectable:!0,dataSource:t.dataSource,click:e.proxy(t._click,this),change:e.proxy(t._listChange,this),activate:N(t._activateItem,t),deactivate:N(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding"),t._angularItems("cleanup")},dataBound:i,listBound:i};o=e.extend(t._listOptions(),o,"object"==typeof n?n:{}),o.dataValueField=o.dataTextField,t.listView=r?new s.ui.VirtualList(t.ul,o):new s.ui.StaticList(t.ul,o),t.listView.value(t.options.value)},_listBound:function(){var e,n,r=this,i=r.popup,s=r.options,o=r.dataSource.flatView(),u=o.length,f=r.element[0]===a();r._angularItems("compile"),r.listView.value([]),r.listView.focus(-1),r.listView.filter(!1),r._calculateGroupPadding(r._height(u)),i.position(),u&&(n=this.listView.focus(),s.highlightFirst&&!n&&r.listView.first(),s.suggest&&f&&r.suggest(o[0])),r._open&&(r._open=!1,e=u?"open":"close",r._typingTimeout&&!f&&(e="close"),i[e](),r._typingTimeout=t),r._touchScroller&&r._touchScroller.reset(),r._hideBusy(),r._makeUnselectable(),r.trigger("dataBound")},_listChange:function(){this.listView.filter()||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this.options.separator,n="";e&&(n=this._text(e)),null===n&&(n=""),t&&(n=i(u(this.element)[0],this._accessor(),n,t)),this._prev=n,this._accessor(n),this._placeholder()},_accessor:function(e){var n=this,r=n.element[0];return e===t?(e=r.value,r.className.indexOf("k-readonly")>-1&&e===n.options.placeholder?"":e):(r.value=null===e?"":e,n._placeholder(),t)},_keydown:function(e){var t=this,n=e.keyCode,r=t.popup.visible(),i=this.listView.focus();if(t._last=n,n===h.DOWN)r&&this._move(i?"next":"first"),e.preventDefault();else if(n===h.UP)r&&this._move(i?"prev":"last"),e.preventDefault();else if(n===h.ENTER||n===h.TAB){if(n===h.ENTER&&r&&e.preventDefault(),r&&i){if(t.trigger("select",{item:i}))return;this._select(i)}this._blur()}else n===h.ESC?(r&&e.preventDefault(),t.close()):(t._search(),t._typing=!0)},_move:function(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show()},100))},_placeholder:function(e){if(!f){var n,r=this,i=r.element,s=r.options.placeholder;if(s){if(n=i.val(),e===t&&(e=!n),e||(s=n!==s?n:""),n===r._old&&!e)return;i.toggleClass("k-readonly",e).val(s),s||i[0]!==document.activeElement||u(i[0],0,0)}}},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(e){this.listView.select(e)},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(t){e(t.currentTarget).toggleClass(S,"mouseenter"===t.type)},_wrapper:function(){var e,t=this,n=t.element,r=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=r.style.cssText,n.css({width:"100%",height:r.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});l.plugin(C)}(window.kendo.jQuery),function(e,t){function n(e,t,n){for(var r,i=0,s=t.length-1;s>i;++i)r=t[i],r in e||(e[r]={}),e=e[r];e[t[s]]=n}var r=window.kendo,i=r.ui,s=i.Select,o=r.support,u=r._activeElement,a=r.data.ObservableObject,f=r.keys,l=".kendoDropDownList",c="disabled",h="readonly",p="change",d="k-state-focused",v="k-state-default",m="k-state-disabled",g="aria-disabled",y="aria-readonly",b="mouseenter"+l+" mouseleave"+l,w="tabindex",E="filter",S="accept",x=e.proxy,T=s.extend({init:function(n,i){var o,u,a,f=this,c=i&&i.index;f.ns=l,i=e.isArray(i)?{dataSource:i}:i,s.fn.init.call(f,n,i),i=f.options,n=f.element.on("focus"+l,x(f._focusHandler,f)),f._focusInputHandler=e.proxy(f._focusInput,f),f._inputTemplate(),f._reset(),f._prev="",f._word="",f.optionLabel=e(),f._wrapper(),f._tabindex(),f.wrapper.data(w,f.wrapper.attr(w)),f._span(),f._popup(),f._mobile(),f._dataSource(),f._ignoreCase(),f._filterHeader(),f._aria(),f._enable(),f._oldIndex=f.selectedIndex=-1,c!==t&&(i.index=c),f._initialIndex=i.index,f._optionLabel(),f._initList(),f._cascade(),i.autoBind?f.dataSource.fetch():-1===f.selectedIndex&&(u=i.text||"",u||(o=i.optionLabel,o&&0===i.index?u=o:f._isSelect&&(u=n.children(":selected").text())),f._textAccessor(u)),a=e(f.element).parents("fieldset").is(":disabled"),a&&f.enable(!1),r.notify(f)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",p,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.optionLabel[0]&&this.select(0)},destroy:function(){var e=this;e.wrapper.off(l),e.element.off(l),e._inputWrapper.off(l),e._arrow.off(),e._arrow=null,e.optionLabel.off(),s.fn.destroy.call(e)},open:function(){var e=this;e.popup.visible()||(e.listView.isBound()&&e._state!==S?e._allowOpening()&&(e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_allowOpening:function(){return this.optionLabel[0]||this.filterInput||this.dataSource.view().length},toggle:function(e){this._toggle(e,!0)},current:function(e){var n;return e===t?(n=this.listView.focus(),!n&&0===this.selectedIndex&&this.optionLabel[0]?this.optionLabel:n):(this._focus(e),t)},dataItem:function(n){var r=this,i=null,s=!!r.optionLabel[0],o=r.options.optionLabel;return n===t?i=r.listView.selectedDataItems()[0]:("number"!=typeof n?n=n.hasClass("k-list-optionlabel")?-1:e(r.items()).index(n):s&&(n-=1),i=r.dataSource.flatView()[n]),!i&&s&&(i=e.isPlainObject(o)?new a(o):r._assignInstance(r._optionLabelText(),"")),i},refresh:function(){this.listView.refresh()},text:function(e){var n,r,i=this,s=i.options.ignoreCase;return e=null===e?"":e,e===t?i._textAccessor():("string"==typeof e&&(r=s?e.toLowerCase():e,i._select(function(e){return e=i._text(e),s&&(e=(e+"").toLowerCase()),e===r}),n=i.dataItem(),n&&(e=n)),i._textAccessor(e),t)},value:function(e){var n=this,r=n.dataSource;return e===t?(e=n._accessor()||n.listView.value()[0],e===t||null===e?"":e):(e&&(n._initialIndex=null),n._request&&n.options.cascadeFrom&&n.listView.isBound()?(n._valueSetter&&r.unbind(p,n._valueSetter),n._valueSetter=x(function(){n.value(e)},n),r.one(p,n._valueSetter),t):(n.listView.value(e).done(function(){-1===n.selectedIndex&&n.text()&&(n.text(""),n._accessor("",-1)),n._old=n._accessor(),n._oldIndex=n.selectedIndex}),n._fetchData(),t))},_optionLabel:function(){var n=this,i=n.options,s=i.optionLabel,o=i.optionLabelTemplate;return s?(o||(o="#:",o+="string"==typeof s?"data":r.expr(i.dataTextField,"data"),o+="#"),"function"!=typeof o&&(o=r.template(o)),n.optionLabelTemplate=o,n.optionLabel[0]||(n.optionLabel=e('<div class="k-list-optionlabel"></div>').prependTo(n.list)),n.optionLabel.html(o(s)).off().click(x(n._click,n)).on(b,n._toggleHover),n.angular("compile",function(){return{elements:n.optionLabel}}),t):(n.optionLabel.off().remove(),n.optionLabel=e(),t)},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_listBound:function(){var e,t,n,r=this,i=r._initialIndex,s=r.options.optionLabel,o=r._state===E,u=r.dataSource.flatView(),a=u.length;r._angularItems("compile"),r._presetValue=!1,r.options.virtual||(t=r._height(o?a||1:a),r._calculateGroupPadding(t)),r.popup.position(),r._isSelect&&(n=r.value(),a?s&&(s=r._option("",r._optionLabelText())):n&&(s=r._option(n,r.text())),r._options(u,s,n)),r._makeUnselectable(),o||(r._open&&r.toggle(r._allowOpening()),r._open=!1,r._fetch||(a?(!r.listView.value().length&&i>-1&&null!==i&&r.select(i),r._initialIndex=null,e=r.listView.selectedDataItems()[0],e&&r.text()!==r._text(e)&&r._selectValue(e)):r._textAccessor()!==r._optionLabelText()&&(r.listView.value(""),r._selectValue(null),r._oldIndex=r.selectedIndex))),r._hideBusy(),r.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(d),this._prevent=!1},_focusoutHandler:function(){var e=this,t=e._state===E,n=window.self!==window.top,r=e._focus();e._prevent||(clearTimeout(e._typingTimeout),t&&r&&!e.trigger("select",{item:r})&&e._select(r,!e.dataSource.view().length),o.mobileOS.ios&&n?e._change():e._blur(),e._inputWrapper.removeClass(d),e._prevent=!0,e._open=!1,e.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._toggle()},_editable:function(e){var t=this,n=t.element,r=e.disable,i=e.readonly,s=t.wrapper.add(t.filterInput).off(l),o=t._inputWrapper.off(b);i||r?r?(s.removeAttr(w),o.addClass(m).removeClass(v)):(o.addClass(v).removeClass(m),s.on("focusin"+l,x(t._focusinHandler,t)).on("focusout"+l,x(t._focusoutHandler,t))):(n.removeAttr(c).removeAttr(h),o.addClass(v).removeClass(m).on(b,t._toggleHover),s.attr(w,s.data(w)).attr(g,!1).attr(y,!1).on("keydown"+l,x(t._keydown,t)).on("focusin"+l,x(t._focusinHandler,t)).on("focusout"+l,x(t._focusoutHandler,t)).on("mousedown"+l,x(t._wrapperMousedown,t)),t.wrapper.on("click"+l,x(t._wrapperClick,t)),t.filterInput||s.on("keypress"+l,x(t._keypress,t))),n.attr(c,r).attr(h,i),s.attr(g,r).attr(y,i)},_option:function(e,t){return'<option value="'+e+'">'+t+"</option>"},_keydown:function(e){var n,r,i=this,s=e.keyCode,o=e.altKey,a=i.popup.visible();if(i.filterInput&&(n=i.filterInput[0]===u()),s===f.LEFT?(s=f.UP,r=!0):s===f.RIGHT&&(s=f.DOWN,r=!0),!r||!n){if(e.keyCode=s,o&&s===f.UP&&i._focusElement(i.wrapper),s===f.ENTER&&i._typingTimeout&&i.filterInput&&a)return e.preventDefault(),t;r=i._move(e),r||(a&&i.filterInput||(s===f.HOME?(r=!0,i._firstItem()):s===f.END&&(r=!0,i._lastItem()),r&&(i._select(i._focus()),e.preventDefault())),o||r||!i.filterInput||i._search())}},_matchText:function(e,t){var n=this,r=n.options.ignoreCase,i=!1;return e+="",r&&(e=e.toLowerCase()),0===e.indexOf(n._word)&&(n.optionLabel[0]&&(t+=1),n._select(t),n.popup.visible()||n._change(),i=!0),i},_selectNext:function(e){for(var t,n=this,r=e,i=n.dataSource.flatView(),s=i.length;s>e;e++)if(t=n._text(i[e]),t&&n._matchText(t,e)&&(1!==n._word.length||r!==n.selectedIndex))return!0;if(r>0&&s>r)for(e=0;r>=e;e++)if(t=n._text(i[e]),t&&n._matchText(t,e))return!0;return!1},_keypress:function(e){var t,n,i,s=this;0!==e.which&&e.keyCode!==r.keys.ENTER&&(t=String.fromCharCode(e.charCode||e.keyCode),n=s.selectedIndex,i=s._word.length,s.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),i||(s._word=t),s._last===t&&1>=i&&n>-1&&s._selectNext(n)||(i&&(s._word+=t),s._last=t,s._search()))},_popupOpen:function(){var e=this.popup;e.wrapper=r.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){s.fn._popup.call(this),this.popup.one("open",x(this._popupOpen,this))},_click:function(n){var r=n.item||e(n.currentTarget);return this.trigger("select",{item:r})?(this.close(),t):(this._userTriggered=!0,this._select(r),this._focusElement(this.wrapper),this._blur(),t)},_focusElement:function(e){var t=u(),n=this.wrapper,r=this.filterInput,i=e===r?n:r,s=o.mobileOS&&(o.touch||o.MSPointers||o.pointers);r&&r[0]===e[0]&&s||r&&i[0]===t&&(this._prevent=!0,this._focused=e.focus())},_filter:function(e){var n,r;e&&(n=this,r=n.options.ignoreCase,r&&(e=e.toLowerCase()),n._select(function(i){var s=n._text(i);return s!==t?(s+="",r&&(s=s.toLowerCase()),0===s.indexOf(e)):t}))},_search:function(){var e=this,n=e.dataSource,r=e.selectedIndex;if(clearTimeout(e._typingTimeout),"none"!==e.options.filter)e._typingTimeout=setTimeout(function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t)),e._typingTimeout=null},e.options.delay);else{if(e._typingTimeout=setTimeout(function(){e._word=""},e.options.delay),-1===r&&(r=0),!e.ul[0].firstChild)return n.fetch().done(function(){n.data()[0]&&r>-1&&e._selectNext(r)}),t;e._selectNext(r)}},_get:function(t){var n,r,i,s="function"==typeof t,o=s?e():e(t);if(this.optionLabel[0]&&("number"==typeof t?t>-1&&(t-=1):o.hasClass("k-list-optionlabel")&&(t=-1)),s){for(n=this.dataSource.flatView(),i=0;n.length>i;i++)if(t(n[i])){t=i,r=!0;break}r||(t=-1)}return t},_firstItem:function(){this.optionLabel[0]?this._focus(this.optionLabel):this.listView.first()},_lastItem:function(){this.optionLabel.removeClass("k-state-focused"),this.listView.last()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this.optionLabel.removeClass("k-state-focused"),this.listView.first()):this.listView.next()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.prev(),this.listView.focus()||this.optionLabel.addClass("k-state-focused"))},_focusItem:function(){var e=this.listView,n=e.focus(),r=e.select();r=r[r.length-1],r===t&&this.options.highlightFirst&&!n&&(r=0),r!==t?e.focus(r):this.options.optionLabel?(this._focus(this.optionLabel),this._select(this.optionLabel)):e.scrollToIndex(0)},_focus:function(e){var n=this.listView,r=this.optionLabel;return e===t?(e=n.focus(),!e&&r.hasClass("k-state-focused")&&(e=r),e):(r.removeClass("k-state-focused"),e=this._get(e),n.focus(e),-1===e&&r.addClass("k-state-focused"),t)},_select:function(e,t){var n=this;e=n._get(e),n.listView.select(e),t||n._state!==E||(n.listView.filter(!1),n._state=S),-1===e&&n._selectValue(null)},_selectValue:function(e){var n=this,r=n.options.optionLabel,i=n.optionLabel,s=n.listView.select(),o="",u="";s=s[s.length-1],s===t&&(s=-1),i.removeClass("k-state-focused k-state-selected"),e?(u=e,o=n._dataValue(e),r&&(s+=1)):r&&(n._focus(i.addClass("k-state-selected")),u=n._optionLabelText(),o="string"==typeof r?"":n._value(r),s=0),n.selectedIndex=s,null===o&&(o=""),n._textAccessor(u),n._accessor(o,s),n._triggerCascade()},_mobile:function(){var e=this,t=e.popup,n=o.mobileOS,r=t.element.parents(".km-root").eq(0);r.length&&n&&(t.options.animation.open.effects=n.android||n.meego?"fadeIn":n.ios||n.wp?"slideIn:up":t.options.animation.open.effects)},_filterHeader:function(){var t,n=this.options,r="none"!==n.filter;this.filterInput&&(this.filterInput.off(l).parent().remove(),this.filterInput=null),r&&(t='<span unselectable="on" class="k-icon k-i-search">select</span>',this.filterInput=e('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(e('<span class="k-list-filter" />').append(this.filterInput.add(t))))},_span:function(){var t,n=this,r=n.wrapper,i="span.k-input";t=r.find(i),t[0]||(r.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=r.find(i)),n.span=t,n._inputWrapper=e(r[0].firstChild),n._arrow=r.find(".k-icon")},_wrapper:function(){var e,t=this,n=t.element,r=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=r.style.cssText,e[0].title=r.title),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(r.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var t=this,n=t.options.valueTemplate;n=n?r.template(n):e.proxy(r.template("#:this._text(data)#",{useWithBlock:!1}),t),t.valueTemplate=n},_textAccessor:function(n){var r,i=null,s=this.valueTemplate,o=this.options,u=o.optionLabel,f=this.span;return n===t?f.text():(e.isPlainObject(n)||n instanceof a?i=n:u&&this._optionLabelText()===n&&(i=u,s=this.optionLabelTemplate),i||(i=this._assignInstance(n,this._accessor())),r=function(){return{elements:f.get(),data:[{dataItem:i}]}},this.angular("cleanup",r),f.html(s(i)),this.angular("compile",r),t)},_preselect:function(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(e,t){var r=this.options.dataTextField,i={};return r?(n(i,r.split("."),e),n(i,this.options.dataValueField.split("."),t),i=new a(i)):i=e,i}});i.plugin(T)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=r.List,s=r.Select,o=n.caret,u=n.support,a=u.placeholder,f=n._activeElement,l=n.keys,c=".kendoComboBox",h="click"+c,p="mousedown"+c,d="disabled",v="readonly",m="change",g="k-state-default",y="k-state-focused",b="k-state-disabled",w="aria-disabled",E="aria-readonly",S="filter",x="accept",T="rebind",N="mouseenter"+c+" mouseleave"+c,C=e.proxy,k=s.extend({init:function(t,r){var i,o,u=this;u.ns=c,r=e.isArray(r)?{dataSource:r}:r,s.fn.init.call(u,t,r),r=u.options,t=u.element.on("focus"+c,C(u._focusHandler,u)),r.placeholder=r.placeholder||t.attr("placeholder"),u._reset(),u._wrapper(),u._input(),u._tabindex(u.input),u._popup(),u._dataSource(),u._ignoreCase(),u._enable(),u._oldIndex=u.selectedIndex=-1,u._aria(),u._initialIndex=r.index,u._initList(),u._cascade(),r.autoBind?u._filterSource():(i=r.text,!i&&u._isSelect&&(i=t.children(":selected").text()),i&&(u.input.val(i),u._prev=i)),i||u._placeholder(),o=e(u.element).parents("fieldset").is(":disabled"),o&&u.enable(!1),n.notify(u)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",m,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this.listView.setOptions(e),this._accessors(),this._aria()},destroy:function(){var e=this;e.input.off(c),e.element.off(c),e._inputWrapper.off(c),s.fn.destroy.call(e)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(y),this._placeholder(!1)},_inputFocusout:function(){var e=this;e._inputWrapper.removeClass(y),clearTimeout(e._typingTimeout),e._typingTimeout=null,e.options.text!==e.input.val()&&e.text(e.text()),e._placeholder(),e._blur(),e.element.blur()},_editable:function(e){var t=this,n=e.disable,r=e.readonly,i=t._inputWrapper.off(c),s=t.element.add(t.input.off(c)),o=t._arrow.parent().off(h+" "+p);r||n?(i.addClass(n?b:g).removeClass(n?g:b),s.attr(d,n).attr(v,r).attr(w,n).attr(E,r)):(i.addClass(g).removeClass(b).on(N,t._toggleHover),s.removeAttr(d).removeAttr(v).attr(w,!1).attr(E,!1),o.on(h,C(t._arrowClick,t)).on(p,function(e){e.preventDefault()}),t.input.on("keydown"+c,C(t._keydown,t)).on("focus"+c,C(t._inputFocus,t)).on("focusout"+c,C(t._inputFocusout,t)))},open:function(){var e=this,t=e._state;e.popup.visible()||(!e.listView.isBound()&&t!==S||t===x?(e._open=!0,e._state=T,e.listView.filter(!1),e._filterSource()):(e.popup.open(),e._focusItem()))},_listBound:function(){var e,n,r,i,s=this,o=s.options,u=s._initialIndex,a=s._state===S,l=s.input[0]===f(),c=s.listView,h=c.focus(),p=this.dataSource.flatView(),d=this.dataSource.page(),v=p.length;s._angularItems("compile"),s._presetValue=!1,o.virtual||s._calculateGroupPadding(s._height(v)),s.popup.position(),s._isSelect&&(n=s.element[0].children[0],s._state===T&&(s._state=""),r=!0,i=s._customOption,s._customOption=t,s._options(p,"",s.value()),i&&i[0].selected?s._custom(i.val(),r):n||s._custom("",r)),s._makeUnselectable(),a||s._fetch?a&&h&&h.removeClass("k-state-selected"):(c.value().length||(null!==u&&u>-1?(s.select(u),h=c.focus()):s._accessor()&&c.value(s._accessor())),s._initialIndex=null,e=s.listView.selectedDataItems()[0],e&&s.text()&&s.text()!==s._text(e)&&s._selectValue(e)),!v||d!==t&&1!==d||(o.highlightFirst?h||c.focusIndex()||c.focus(0):c.focus(-1),o.suggest&&l&&s.input.val()&&s.suggest(p[0])),s._open&&(s._open=!1,s._typingTimeout&&!l?s.popup.close():s.toggle(!!v),s._typingTimeout=null),s._touchScroller&&s._touchScroller.reset(),s._hideBusy(),s.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(e){var t,n,r;if("function"==typeof e){for(t=this.dataSource.flatView(),r=0;t.length>r;r++)if(e(t[r])){e=r,n=!0;break}n||(e=-1)}return e},_select:function(e,t){e=this._get(e),-1===e&&(this.input[0].value="",this._accessor("")),this.listView.select(e),t||this._state!==S||(this.listView.filter(!1),this._state=x)},_selectValue:function(e){var n=this.listView.select(),r="",i="";n=n[n.length-1],n===t&&(n=-1),this.selectedIndex=n,-1===n?(r=i=this.input[0].value,this.listView.focus(-1)):(e&&(r=this._dataValue(e),i=this._text(e)),null===r&&(r="")),this._prev=this.input[0].value=i,this._accessor(r!==t?r:i,n),this._placeholder(),this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(e){var n,r=this,s=r.input[0],u=r.text(),a=o(s)[0],c=r._last;return c==l.BACKSPACE||c==l.DELETE?(r._last=t,t):(e=e||"","string"!=typeof e&&(e[0]&&(e=r.dataSource.view()[i.inArray(e[0],r.ul[0])]),e=e?r._text(e):""),0>=a&&(a=u.toLowerCase().indexOf(e.toLowerCase())+1),e?(e=""+e,n=e.toLowerCase().indexOf(u.toLowerCase()),n>-1&&(u+=e.substring(n+u.length))):u=u.substring(0,a),u.length===a&&e||(s.value=u,s===f()&&o(s,a,u.length)),t)},text:function(e){var n,r,i,s,o,u;if(e=null===e?"":e,n=this,r=n.input[0],i=n.options.ignoreCase,s=e,e===t)return r.value;if(o=n.dataItem(),n.options.autoBind!==!1||n.listView.isBound()){if(o&&n._text(o)===e&&(u=n._value(o),null===u?u="":u+="",u===n._old))return n._triggerCascade(),t;i&&(s=s.toLowerCase()),n._select(function(e){return e=n._text(e),i&&(e=(e+"").toLowerCase()),e===s}),0>n.selectedIndex&&(n._accessor(e),r.value=e,n._triggerCascade()),n._prev=r.value}},toggle:function(e){this._toggle(e,!0)},value:function(e){var n=this,r=n.options;return e===t?(e=n._accessor()||n.listView.value()[0],e===t||null===e?"":e):((e!==r.value||n.input.val()!==r.text)&&(n._accessor(e),n.listView.value(e).done(function(){n._selectValue(n.listView.selectedDataItems()[0]),-1===n.selectedIndex&&(n._accessor(e),n.input.val(e),n._placeholder(!0)),n._old=n._accessor(),n._oldIndex=n.selectedIndex,n._prev=n.input.val(),n._state===S&&(n._state=x)}),n._fetchData()),t)},_click:function(e){var n=e.item;return this.trigger("select",{item:n})?(this.close(),t):(this._userTriggered=!0,this._select(n),this._blur(),t)},_filter:function(e){var n,r=this,i=r.options,s=r.dataSource,o=i.ignoreCase,u=function(n){var i=r._text(n);return i!==t?(i+="",""!==i&&""===e?!1:(o&&(i=i.toLowerCase()),0===i.indexOf(e))):t};return o&&(e=e.toLowerCase()),r.ul[0].firstChild?(this.listView.focus(this._get(u)),n=this.listView.focus(),n&&(i.suggest&&r.suggest(n),this.open()),this.options.highlightFirst&&!e&&this.listView.first(),t):(s.one(m,function(){s.view()[0]&&r.search(e)}).fetch(),t)},_input:function(){var t,n=this,r=n.element.removeClass("k-input")[0],i=r.accessKey,s=n.wrapper,o="input.k-input",u=r.name||"";u&&(u='name="'+u+'_input" '),t=s.find(o),t[0]||(s.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+u+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=s.find(o)),t[0].style.cssText=r.style.cssText,t[0].title=r.title,r.maxLength>-1&&(t[0].maxLength=r.maxLength),t.addClass(r.className).val(this.options.text||r.value).css({width:"100%",height:r.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),a&&t.attr("placeholder",n.options.placeholder),i&&(r.accessKey="",t[0].accessKey=i),n._focused=n.input=t,n._inputWrapper=e(s[0].firstChild),n._arrow=s.find(".k-icon").attr({role:"button",tabIndex:-1}),r.id&&n._arrow.attr("aria-controls",n.ul[0].id)},_keydown:function(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typingTimeout),t._typingTimeout=null,n==l.TAB||t._move(e)||t._search()},_placeholder:function(e){if(!a){var n,r=this,i=r.input,s=r.options.placeholder;if(s){if(n=r.value(),e===t&&(e=!n),i.toggleClass("k-readonly",e),!e){if(n)return;s=""}i.val(s),s||i[0]!==f()||o(i[0],0,0)}}},_search:function(){var e=this;e._typingTimeout=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t)),e._typingTimeout=null},e.options.delay)},_wrapper:function(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(e,t){var n=this,r=e.value(),i=r&&-1===e.selectedIndex;(t||!r||i)&&(n.options.value="",n.value(""))},_preselect:function(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0}});r.plugin(k)}(window.kendo.jQuery),function(e,t){function n(e,t){var n;if(null===e&&null!==t||null!==e&&null===t)return!1;if(n=e.length,n!==t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0}var r=window.kendo,i=r.ui,s=i.List,o=r.keys,u=r._activeElement,a=r.data.ObservableArray,f=e.proxy,l="id",c="li",h="accept",p="filter",d="rebind",v="open",m="close",g="change",y="progress",b="select",w="aria-disabled",E="aria-readonly",S="k-state-focused",x="k-loading-hidden",T="k-state-hover",N="k-state-disabled",C="disabled",k="readonly",L=".kendoMultiSelect",A="click"+L,O="keydown"+L,M="mouseenter"+L,_="mouseleave"+L,D=M+" "+_,P=/"/g,H=e.isArray,B=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],j=s.extend({init:function(t,n){var i,o,u=this;u.ns=L,s.fn.init.call(u,t,n),u._optionsMap={},u._customOptions={},u._wrapper(),u._tagList(),u._input(),u._textContainer(),u._loader(),u._tabindex(u.input),t=u.element.attr("multiple","multiple").hide(),n=u.options,n.placeholder||(n.placeholder=t.data("placeholder")),i=t.attr(l),i&&(u._tagID=i+"_tag_active",i+="_taglist",u.tagList.attr(l,i)),u._aria(i),u._dataSource(),u._ignoreCase(),u._popup(),u._tagTemplate(),u._initList(),u._reset(),u._enable(),u._placeholder(),n.autoBind?u.dataSource.fetch():n.value&&u._preselect(n.value),o=e(u.element).parents("fieldset").is(":disabled"),o&&u.enable(!1),r.notify(u)},_preselect:function(t,n){var i=this;H(t)||t instanceof r.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof r.data.ObservableObject||!i.options.dataValueField)&&(i.dataSource.data(t),i.value(n||i._initialValues),i._retrieveData=!0)},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:[v,m,g,b,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e),this._normalizeOptions(t),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr(l)),this._tagTemplate()},currentTag:function(e){var n=this;return e===t?n._currentTag:(n._currentTag&&(n._currentTag.removeClass(S).removeAttr(l),n.input.removeAttr("aria-activedescendant")),e&&(e.addClass(S).attr(l,n._tagID),n.input.attr("aria-activedescendant",n._tagID)),n._currentTag=e,t)},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),s.fn.destroy.call(e)},_activateItem:function(){s.fn._activateItem.call(this),this.currentTag(null)},_normalizeOptions:function(e){var t=this.options.itemTemplate||this.options.template,n=e.itemTemplate||t||e.template;n||(n="#:"+r.expr(e.dataTextField,"data")+"#"),e.template=n},_initList:function(){var t=this,n=t.options.virtual,i=!!n,s=f(t._listBound,t),o={autoBind:!1,selectable:"multiple",dataSource:t.dataSource,click:f(t._click,t),change:f(t._listChange,t),activate:f(t._activateItem,t),deactivate:f(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding"),t._angularItems("cleanup")},dataBound:s,listBound:s,selectedItemChange:f(t._selectedItemChange,t)};o=e.extend(t._listOptions(),o,"object"==typeof n?n:{}),t._normalizeOptions(o),t.listView=i?new r.ui.VirtualList(t.ul,o):new r.ui.StaticList(t.ul,o),t.listView.value(t._initialValues||t.options.value)},_listChange:function(e){this._state===d&&(this._state="",e.added=[]),this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,n,r=e.items;for(n=0;r.length>n;n++)t=r[n],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(t){var n=this,i="input"!==t.target.nodeName.toLowerCase(),s=e(t.target),o=s.hasClass("k-select")||s.hasClass("k-icon");o&&(o=!s.closest(".k-select").children(".k-i-arrow-s").length),!i||o&&r.support.mobileOS||t.preventDefault(),o||(n.input[0]!==u()&&i&&n.input.focus(),0===n.options.minLength&&n.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(S)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(S),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===p&&(e._state=h,e.listView.filter(!1),e.listView.skipUpdate(!0)),e.element.blur()},_removeTag:function(e){var n,r=this,i=r._state,s=e.index(),o=r.listView,u=o.value()[s],a=r._customOptions[u];a!==t||i!==h&&i!==p||(a=r._optionsMap[u]),a!==t?(n=r.element[0].children[a],n.removeAttribute("selected"),n.selected=!1,o.removeAt(s),e.remove()):o.select(o.select()[s]),r.currentTag(null),r._change(),r._close()},_tagListClick:function(t){var n=e(t.currentTarget);n.children(".k-i-arrow-s").length||this._removeTag(n.closest(c))},_editable:function(t){var n=this,r=t.disable,i=t.readonly,s=n.wrapper.off(L),o=n.tagList.off(L),u=n.element.add(n.input.off(L));i||r?(r?s.addClass(N):s.removeClass(N),u.attr(C,r).attr(k,i).attr(w,r).attr(E,i)):(s.removeClass(N).on(D,n._toggleHover).on("mousedown"+L+" touchend"+L,f(n._wrapperMousedown,n)),n.input.on(O,f(n._keydown,n)).on("paste"+L,f(n._search,n)).on("focus"+L,f(n._inputFocus,n)).on("focusout"+L,f(n._inputFocusout,n)),u.removeAttr(C).removeAttr(k).attr(w,!1).attr(E,!1),o.on(M,c,function(){e(this).addClass(T)}).on(_,c,function(){e(this).removeClass(T)}).on(A,"li.k-button .k-select",f(n._tagListClick,n)))},_close:function(){var e=this;e.options.autoClose?e.close():e.popup.position()},close:function(){this.popup.close()},open:function(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData||!e.listView.isBound()||e._state===h?(e._open=!0,e._state=d,e._retrieveData=!1,e.listView.filter(!1),e.listView.skipUpdate(!0),e._filterSource()):e._allowSelection()&&(e.popup.open(),e._focusItem())},toggle:function(e){e=e!==t?e:!this.popup.visible(),this[e?v:m]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this,n=e.dataSource.flatView(),r=e.dataSource.page(),i=n.length;e._angularItems("compile"),e._render(n),e._calculateGroupPadding(e._height(i)),e._open&&(e._open=!1,e.toggle(i)),e.popup.position(),!e.options.highlightFirst||r!==t&&1!==r||e.listView.first(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e.trigger("dataBound")},search:function(e){var t,n,r=this,i=r.options,s=i.ignoreCase,o=i.filter,u=i.dataTextField,a=r.input.val();i.placeholder===a&&(a=""),clearTimeout(r._typingTimeout),e="string"==typeof e?e:a,n=e.length,(!n||n>=i.minLength)&&(r.listView.filter(!0),r._state=p,r._open=!0,t={value:s?e.toLowerCase():e,field:u,operator:o,ignoreCase:s},r._filterSource(t,r._retrieveData),r._retrieveData=!1)},value:function(e){var n=this,r=n.listView.value().slice(),i=n.options.maxSelectedItems;return e===t?r:(e=n._normalizeValues(e),null!==i&&e.length>i&&(e=e.slice(0,i)),n.listView.value(e),n._old=e,n._fetchData(),t)},_setOption:function(e,t){var n=this.element[0].children[this._optionsMap[e]];n&&(t?n.setAttribute("selected","selected"):n.removeAttribute("selected"),n.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length,n=0===e.listView.value().length;n||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1}))},_dataSource:function(){var e=this,t=e.element,n=e.options,i=n.dataSource||{};i=H(i)?{data:i}:i,i.select=t,i.fields=[{field:n.dataTextField},{field:n.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():e._progressHandler=f(e._showBusy,e),e.dataSource=r.data.DataSource.create(i).bind(y,e._progressHandler)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues),t._placeholder()})},t._form=i.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var n=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[n._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,function(e){return n._value(e)}):H(t)||t instanceof a||(t=[t]),t},_change:function(){var e=this,t=e.value();n(t,e._old)||(e._old=t.slice(),e.trigger(g),e.element.trigger(g))},_click:function(e){var n=e.item;return this.trigger(b,{item:n})?(this._close(),t):(this._select(n),this._change(),this._close(),t)},_keydown:function(n){var i=this,s=n.keyCode,u=i._currentTag,a=i.listView.focus(),f=i.input.val(),l=r.support.isRtl(i.wrapper),c=i.popup.visible();if(s===o.DOWN){if(n.preventDefault(),!c)return i.open(),a||this.listView.first(),t;a?(this.listView.next(),this.listView.focus()||this.listView.last()):this.listView.first()}else if(s===o.UP)c&&(a&&this.listView.prev(),this.listView.focus()||i.close()),n.preventDefault();else if(s===o.LEFT&&!l||s===o.RIGHT&&l)f||(u=u?u.prev():e(i.tagList[0].lastChild),u[0]&&i.currentTag(u));else if(s===o.RIGHT&&!l||s===o.LEFT&&l)!f&&u&&(u=u.next(),i.currentTag(u[0]?u:null));else if(s===o.ENTER&&c){if(a){if(i.trigger(b,{item:a}))return i._close(),t;i._select(a)}i._change(),i._close(),n.preventDefault()}else s===o.ESC?(c?n.preventDefault():i.currentTag(null),i.close()):s===o.HOME?c?this.listView.first():f||(u=i.tagList[0].firstChild,u&&i.currentTag(e(u))):s===o.END?c?this.listView.last():f||(u=i.tagList[0].lastChild,u&&i.currentTag(e(u))):s!==o.DELETE&&s!==o.BACKSPACE||f?(clearTimeout(i._typingTimeout),setTimeout(function(){i._scale()}),i._search()):(s!==o.BACKSPACE||u||(u=e(i.tagList[0].lastChild)),u&&u[0]&&i._removeTag(u))},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(x),e._request=!1,e._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(x)},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(f(e._showBusyHandler,e),100))},_placeholder:function(e,n){var i=this,s=i.input,o=u();e===t&&(e=!1,s[0]!==o&&(e=!i.listView.selectedDataItems()[0])),i._prev="",s.toggleClass("k-readonly",e).val(e?i.options.placeholder:""),s[0]!==o||n||r.caret(s[0],0,0),i._scale()},_scale:function(){var e,t=this,n=t.wrapper,r=n.width(),i=t._span.text(t.input.val());n.is(":visible")?e=i.width()+25:(i.appendTo(document.documentElement),r=e=i.width()+25,i.appendTo(n)),t.input.width(e>r?r:e)},_option:function(e,n,i){var s="<option";return e!==t&&(e+="",-1!==e.indexOf('"')&&(e=e.replace(P,"&quot;")),s+=' value="'+e+'"'),i&&(s+=" selected"),s+=">",n!==t&&(s+=r.htmlEncode(n)),s+="</option>"},_render:function(e){var t,n,r,i,s,o,u=this.listView.selectedDataItems(),a=this.listView.value(),f=e.length,l="";for(a.length!==u.length&&(u=this._buildSelectedItems(a)),s={},o={},i=0;f>i;i++)n=e[i],r=this._value(n),t=this._selectedItemIndex(r,u),-1!==t&&u.splice(t,1),o[r]=i,l+=this._option(r,this._text(n),-1!==t);if(u.length)for(i=0;u.length>i;i++)n=u[i],r=this._value(n),s[r]=f,o[r]=f,f+=1,l+=this._option(r,this._text(n),!0);this._customOptions=s,this._optionsMap=o,this.element.html(l)},_buildSelectedItems:function(e){var t,n,r=this.options.dataValueField,i=this.options.dataTextField,s=[];for(n=0;e.length>n;n++)t={},t[r]=e[n],t[i]=e[n],s.push(t);return s},_selectedItemIndex:function(e,t){for(var n=this._value,r=0;t.length>r;r++)if(e===n(t[r]))return r;return-1},_search:function(){var e=this;e._typingTimeout=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(t){var n=this;n.angular(t,function(){return{elements:n.tagList[0].children,data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})},_selectValue:function(e,t){var n,r,i,s=this,o=s.value(),u=s.dataSource.total(),a=s.tagList,f=s._value;if(s._angularTagItems("cleanup"),"multiple"===s.options.tagMode){for(i=t.length-1;i>-1;i--)n=t[i],a[0].removeChild(a[0].children[n.position]),s._setOption(f(n.dataItem),!1);for(i=0;e.length>i;i++)r=e[i],a.append(s.tagTemplate(r.dataItem)),s._setOption(f(r.dataItem),!0)}else{for((!s._maxTotal||u>s._maxTotal)&&(s._maxTotal=u),a.html(""),o.length&&a.append(s.tagTemplate({values:o,dataItems:s.dataItems(),maxTotal:s._maxTotal,currentTotal:u})),i=t.length-1;i>-1;i--)s._setOption(f(t[i].dataItem),!1);for(i=0;e.length>i;i++)s._setOption(f(e[i].dataItem),!0)}s._angularTagItems("compile"),s._placeholder()},_select:function(e){var t=this;t._state===d&&(t._state=""),t._allowSelection()&&(this.listView.select(e),t._placeholder(),t._state===p&&(t._state=h,t.listView.filter(!1),t.listView.skipUpdate(!0)))},_input:function(){var t=this,n=t.element[0].accessKey,r=t._innerWrapper.children("input.k-input");r[0]||(r=e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)),t.element.removeAttr("accesskey"),t._focused=t.input=r.attr({accesskey:n,autocomplete:"off",role:"listbox","aria-expanded":!1})},_tagList:function(){var t=this,n=t._innerWrapper.children("ul");n[0]||(n=e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)),t.tagList=n},_tagTemplate:function(){var e,t=this,n=t.options,i=n.tagTemplate,s=n.dataSource,o="multiple"===n.tagMode;t.element[0].length&&!s&&(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value"),e=o?r.template("#:"+r.expr(n.dataTextField,"data")+"#",{useWithBlock:!1}):r.template("#:values.length# item(s) selected"),t.tagTextTemplate=i=i?r.template(i):e,t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+i(e)+'</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon '+(o?"k-i-close":"k-i-arrow-s")+'">'+(o?"delete":"open")+"</span></span></li>"}},_loader:function(){this._loading=e('<span class="k-icon k-loading '+x+'"></span>').insertAfter(this.input)},_textContainer:function(){var t=r.getComputedStyles(this.input[0],B);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var t=this,n=t.element,r=n.parent("span.k-multiselect");r[0]||(r=n.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),r[0].style.cssText=n[0].style.cssText,r[0].title=n[0].title,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(n)),t.wrapper=r.addClass(n[0].className).css("display",""),t._innerWrapper=e(r[0].firstChild)}});i.plugin(j)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var r=n?" k-slider-horizontal":" k-slider-vertical",i=e.style?e.style:t.attr("style"),s=t.attr("class")?" "+t.attr("class"):"",o="";return"bottomRight"==e.tickPlacement?o=" k-slider-bottomright":"topLeft"==e.tickPlacement&&(o=" k-slider-topleft"),i=i?" style='"+i+"'":"","<div class='k-widget k-slider"+r+s+"'"+i+"><div class='k-slider-wrap"+(e.showButtons?" k-slider-buttons":"")+o+"'></div></div>"}function r(e,t,n){var r="";return r="increase"==t?n?"k-i-arrow-e":"k-i-arrow-n":n?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+t+"'><span class='k-icon "+r+"' title='"+e[t+"ButtonTitle"]+"'>"+e[t+"ButtonTitle"]+"</span></a>"}function i(e,t){var n,r="<ul class='k-reset k-slider-items'>",i=S.floor(f(t/e.smallStep))+1;for(n=0;i>n;n++)r+="<li class='k-tick' role='presentation'>&nbsp;</li>";return r+="</ul>"}function s(e,t){var n=t.is("input")?1:2,r=2==n?e.leftDragHandleTitle:e.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+r+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(n>1?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(n>1?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>"}function o(e){return function(t){return t+e}}function u(e){return function(){return e}}function a(e){return(e+"").replace(".",d.cultures.current.numberFormat["."])}function f(e){e=parseFloat(e,10);var t=S.pow(10,V||0);return S.round(e*t)/t}function l(e,n){var r=b(e.getAttribute(n));return null===r&&(r=t),r}function c(e){return typeof e!==J}function h(e){return 1e4*e}var p,d=window.kendo,v=d.ui.Widget,m=d.ui.Draggable,g=e.extend,y=d.format,b=d.parseFloat,w=e.proxy,E=e.isArray,S=Math,x=d.support,T=x.pointers,N=x.msPointers,C="change",k="slide",L=".slider",A="touchstart"+L+" mousedown"+L,O=T?"pointerdown"+L:N?"MSPointerDown"+L:A,M="touchend"+L+" mouseup"+L,_=T?"pointerup":N?"MSPointerUp"+L:M,D="moveSelection",P="keydown"+L,H="click"+L,B="mouseover"+L,j="focus"+L,F="blur"+L,I=".k-draghandle",q=".k-slider-track",R=".k-tick",U="k-state-selected",z="k-state-focused",W="k-state-default",X="k-state-disabled",V=3,$="disabled",J="undefined",K="tabindex",Q=d.getTouches,G=v.extend({init:function(e,t){var n,r=this;if(v.fn.init.call(r,e,t),t=r.options,r._distance=f(t.max-t.min),r._isHorizontal="horizontal"==t.orientation,r._isRtl=r._isHorizontal&&d.support.isRtl(e),r._position=r._isHorizontal?"left":"bottom",r._sizeFn=r._isHorizontal?"width":"height",r._outerSize=r._isHorizontal?"outerWidth":"outerHeight",t.tooltip.format=t.tooltip.enabled?t.tooltip.format||"{0}":"{0}",0>=t.smallStep)throw Error("Kendo UI Slider smallStep must be a positive number.");r._createHtml(),r.wrapper=r.element.closest(".k-slider"),r._trackDiv=r.wrapper.find(q),r._setTrackDivWidth(),r._maxSelection=r._trackDiv[r._sizeFn](),r._sliderItemsInit(),r._reset(),r._tabindex(r.wrapper.find(I)),r[t.enabled?"enable":"disable"](),n=d.support.isRtl(r.wrapper)?-1:1,r._keyMap={37:o(-1*n*t.smallStep),40:o(-t.smallStep),39:o(1*n*t.smallStep),38:o(+t.smallStep),35:u(t.max),36:u(t.min),33:o(+t.largeStep),34:o(-t.largeStep)},d.notify(r)},events:[C,k],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()},_sliderItemsInit:function(){var e=this,t=e.options,n=e._maxSelection/((t.max-t.min)/t.smallStep),r=e._calculateItemsWidth(S.floor(e._distance/t.smallStep));"none"!=t.tickPlacement&&n>=2&&(e._trackDiv.before(i(t,e._distance)),e._setItemsWidth(r),e._setItemsTitle()),e._calculateSteps(r),"none"!=t.tickPlacement&&n>=2&&t.largeStep>=t.smallStep&&e._setItemsLargeTick()},getSize:function(){return d.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=this,t=2*parseFloat(e._trackDiv.css(e._isRtl?"right":e._position),10);e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]()-2-t)},_setItemsWidth:function(t){var n,r=this,i=r.options,s=0,o=t.length-1,u=r.wrapper.find(R),a=0,f=2,l=u.length,c=0;for(n=0;l-2>n;n++)e(u[n+1])[r._sizeFn](t[n]);if(r._isHorizontal?(e(u[s]).addClass("k-first")[r._sizeFn](t[o-1]),e(u[o]).addClass("k-last")[r._sizeFn](t[o])):(e(u[o]).addClass("k-first")[r._sizeFn](t[o]),e(u[s]).addClass("k-last")[r._sizeFn](t[o-1])),r._distance%i.smallStep!==0&&!r._isHorizontal){for(n=0;t.length>n;n++)c+=t[n];a=r._maxSelection-c,a+=parseFloat(r._trackDiv.css(r._position),10)+f,r.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){for(var t=this,n=t.options,r=t.wrapper.find(R),i=n.min,s=r.length,o=t._isHorizontal&&!t._isRtl?0:s-1,u=t._isHorizontal&&!t._isRtl?s:-1,a=t._isHorizontal&&!t._isRtl?1:-1;o-u!==0;o+=a)e(r[o]).attr("title",y(n.tooltip.format,f(i))),i+=n.smallStep},_setItemsLargeTick:function(){var t,n,r,i=this,s=i.options,o=i.wrapper.find(R),u=0;if(h(s.largeStep)%h(s.smallStep)===0||i._distance/s.largeStep>=3)for(i._isHorizontal||i._isRtl||(o=e.makeArray(o).reverse()),u=0;o.length>u;u++)t=e(o[u]),n=i._values[u],r=f(h(n-this.options.min)),r%h(s.smallStep)===0&&r%h(s.largeStep)===0&&(t.addClass("k-tick-large").html("<span class='k-label'>"+t.attr("title")+"</span>"),0!==u&&u!==o.length-1&&t.css("line-height",t[i._sizeFn]()+"px"))},_calculateItemsWidth:function(e){var t,n,r,i=this,s=i.options,o=parseFloat(i._trackDiv.css(i._sizeFn))+1,u=o/i._distance;for(i._distance/s.smallStep-S.floor(i._distance/s.smallStep)>0&&(o-=i._distance%s.smallStep*u),t=o/e,n=[],r=0;e-1>r;r++)n[r]=t;return n[e-1]=n[e]=t/2,i._roundWidths(n)},_roundWidths:function(e){var t,n=0,r=e.length;for(t=0;r>t;t++)n+=e[t]-S.floor(e[t]),e[t]=S.floor(e[t]);return n=S.round(n),this._addAdditionalSize(n,e)},_addAdditionalSize:function(e,t){if(0===e)return t;var n,r=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(n=0;e>n;n++)t[parseInt(S.round(r*n),10)]+=1;return t},_calculateSteps:function(e){var t,n=this,r=n.options,i=r.min,s=0,o=S.ceil(n._distance/r.smallStep),u=1;if(o+=n._distance/r.smallStep%1===0?1:0,e.splice(0,0,2*e[o-2]),e.splice(o-1,1,2*e.pop()),n._pixelSteps=[s],n._values=[i],0!==o){for(;o>u;)s+=(e[u-1]+e[u])/2,n._pixelSteps[u]=s,i+=r.smallStep,n._values[u]=f(i),u++;t=n._distance%r.smallStep===0?o-1:o,n._pixelSteps[t]=n._maxSelection,n._values[t]=r.max,n._isRtl&&(n._pixelSteps.reverse(),n._values.reverse())}},_getValueFromPosition:function(e,t){var n,r=this,i=r.options,s=S.max(i.smallStep*(r._maxSelection/r._distance),0),o=0,u=s/2;if(r._isHorizontal?(o=e-t.startPoint,r._isRtl&&(o=r._maxSelection-o)):o=t.startPoint-e,r._maxSelection-(parseInt(r._maxSelection%s,10)-3)/2<o)return i.max;for(n=0;r._pixelSteps.length>n;n++)if(S.abs(r._pixelSteps[n]-o)-1<=u)return f(r._values[n])},_getFormattedValue:function(e,t){var n,r,i,s=this,o="",u=s.options.tooltip;return E(e)?(r=e[0],i=e[1]):t&&t.type&&(r=t.selectionStart,i=t.selectionEnd),t&&(n=t.tooltipTemplate),!n&&u.template&&(n=d.template(u.template)),E(e)||t&&t.type?n?o=n({selectionStart:r,selectionEnd:i}):(r=y(u.format,r),i=y(u.format,i),o=r+" - "+i):(t&&(t.val=e),o=n?n({value:e}):y(u.format,e)),o},_getDraggableArea:function(){var e=this,t=d.getOffset(e._trackDiv);return{startPoint:e._isHorizontal?t.left:t.top+e._maxSelection,endPoint:e._isHorizontal?t.left+e._maxSelection:t.top}},_createHtml:function(){var e=this,t=e.element,i=e.options,o=t.find("input");2==o.length?(o.eq(0).prop("value",a(i.selectionStart)),o.eq(1).prop("value",a(i.selectionEnd))):t.prop("value",a(i.value)),t.wrap(n(i,t,e._isHorizontal)).hide(),i.showButtons&&t.before(r(i,"increase",e._isHorizontal)).before(r(i,"decrease",e._isHorizontal)),t.before(s(i,t))},_focus:function(t){var n=this,r=t.target,i=n.value(),s=n._drag;s||(r==n.wrapper.find(I).eq(0)[0]?(s=n._firstHandleDrag,n._activeHandle=0):(s=n._lastHandleDrag,n._activeHandle=1),i=i[n._activeHandle]),e(r).addClass(z+" "+U),s&&(n._activeHandleDrag=s,s.selectionStart=n.options.selectionStart,s.selectionEnd=n.options.selectionEnd,s._updateTooltip(i))},_focusWithMouse:function(t){t=e(t);var n=this,r=t.is(I)?t.index():0;window.setTimeout(function(){n.wrapper.find(I)[2==r?1:0].focus()},1),n._setTooltipTimeout()},_blur:function(t){var n=this,r=n._activeHandleDrag;e(t.target).removeClass(z+" "+U),r&&(r._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle)},_setTooltipTimeout:function(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drag||e._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeout:function(){var e,t=this;window.clearTimeout(this._tooltipTimeout),e=t._drag||t._activeHandleDrag,e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._form=i.on("reset",w(t._formResetHandler,t)))},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),v.fn.destroy.call(this)}}),Y=G.extend({init:function(n,r){var i,s=this;n.type="text",r=g({},{value:l(n,"value"),min:l(n,"min"),max:l(n,"max"),smallStep:l(n,"step")},r),n=e(n),r&&r.enabled===t&&(r.enabled=!n.is("[disabled]")),G.fn.init.call(s,n,r),r=s.options,c(r.value)&&null!==r.value||(r.value=r.min,n.prop("value",a(r.min))),r.value=S.max(S.min(r.value,r.max),r.min),i=s.wrapper.find(I),new Y.Selection(i,s,r),s._drag=new Y.Drag(i,"",s,r)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(n){var r,i,s,o=this,u=o.options;o.disable(),n!==!1&&(o.wrapper.removeClass(X).addClass(W),o.wrapper.find("input").removeAttr($),r=function(n){var r,i,s,u=Q(n)[0];if(u){if(r=o._isHorizontal?u.location.pageX:u.location.pageY,i=o._getDraggableArea(),s=e(n.target),s.hasClass("k-draghandle"))return s.addClass(z+" "+U),t;o._update(o._getValueFromPosition(r,i)),o._focusWithMouse(n.target),o._drag.dragstart(n),n.preventDefault()}},o.wrapper.find(R+", "+q).on(O,r).end().on(O,function(){e(document.documentElement).one("selectstart",d.preventDefault)}).on(_,function(){o._drag._end()}),o.wrapper.find(I).attr(K,0).on(M,function(){o._setTooltipTimeout()}).on(H,function(e){o._focusWithMouse(e.target),e.preventDefault()}).on(j,w(o._focus,o)).on(F,w(o._blur,o)),i=w(function(e){var t=o._nextValueByIndex(o._valueIndex+1*e);o._setValueInRange(t),o._drag._updateTooltip(t)},o),u.showButtons&&(s=w(function(e,t){this._clearTooltipTimeout(),(1===e.which||x.touch&&0===e.which)&&(i(t),this.timeout=setTimeout(w(function(){this.timer=setInterval(function(){i(t)},60)},this),200))},o),o.wrapper.find(".k-button").on(M,w(function(e){this._clearTimer(),o._focusWithMouse(e.target)},o)).on(B,function(t){e(t.currentTarget).addClass("k-state-hover")}).on("mouseout"+L,w(function(t){e(t.currentTarget).removeClass("k-state-hover"),this._clearTimer()},o)).eq(0).on(A,w(function(e){s(e,1)},o)).click(!1).end().eq(1).on(A,w(function(e){s(e,-1)},o)).click(d.preventDefault)),o.wrapper.find(I).off(P,!1).on(P,w(this._keydown,o)),u.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(W).addClass(X),e(t.element).prop($,$),t.wrapper.find(".k-button").off(A).on(A,d.preventDefault).off(M).on(M,d.preventDefault).off("mouseleave"+L).on("mouseleave"+L,d.preventDefault).off(B).on(B,d.preventDefault),t.wrapper.find(R+", "+q).off(O).off(_),t.wrapper.find(I).attr(K,-1).off(M).off(P).off(H).off(j).off(F),t.options.enabled=!1},_update:function(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(C,{value:t.options.value})},value:function(e){var n=this,r=n.options;return e=f(e),isNaN(e)?r.value:(e>=r.min&&r.max>=e&&r.value!=e&&(n.element.prop("value",a(e)),r.value=e,n._refreshAriaAttr(e),n._refresh()),t)},_refresh:function(){this.trigger(D,{value:this.options.value})},_refreshAriaAttr:function(e){var t,n=this,r=n._drag;t=r&&r._tooltipDiv?r._tooltipDiv.text():n._getFormattedValue(e,null),this.wrapper.find(I).attr("aria-valuenow",e).attr("aria-valuetext",t)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault())},_setValueInRange:function(e){var n=this,r=n.options;return e=f(e),isNaN(e)?(n._update(r.min),t):(e=S.max(S.min(e,r.max),r.min),n._update(e),t)},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[S.max(0,S.min(e,t-1))]},_formResetHandler:function(){var e=this,t=e.options.min;setTimeout(function(){var n=e.element[0].value;e.value(""===n||isNaN(n)?t:n)})},destroy:function(){var e=this;G.fn.destroy.call(e),e.wrapper.off(L).find(".k-button").off(L).end().find(I).off(L).end().find(R+", "+q).off(L).end(),e._drag.draggable.destroy(),e._drag._removeTooltip(!0)}});Y.Selection=function(e,t,n){function r(r){var i=r-n.min,s=t._valueIndex=S.ceil(f(i/n.smallStep)),o=parseInt(t._pixelSteps[s],10),u=t._trackDiv.find(".k-slider-selection"),a=parseInt(e[t._outerSize]()/2,10),l=t._isRtl?2:0;u[t._sizeFn](t._isRtl?t._maxSelection-o:o),e.css(t._position,o-a-l)}r(n.value),t.bind([C,k,D],function(e){r(parseFloat(e.value,10))})},Y.Drag=function(e,t,n,r){var i=this;i.owner=n,i.options=r,i.element=e,i.type=t,i.draggable=new m(e,{distance:0,dragstart:w(i._dragstart,i),drag:w(i.drag,i),dragend:w(i.dragend,i),dragcancel:w(i.dragcancel,i)}),e.click(!1)},Y.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(e)},_dragstart:function(n){var r=this,i=r.owner,s=r.options;return s.enabled?(this.owner._activeDragHandle=this,i.element.off(B),i.wrapper.find("."+z).removeClass(z+" "+U),r.element.addClass(z+" "+U),e(document.documentElement).css("cursor","pointer"),r.dragableArea=i._getDraggableArea(),r.step=S.max(s.smallStep*(i._maxSelection/i._distance),0),r.type?(r.selectionStart=s.selectionStart,r.selectionEnd=s.selectionEnd,i._setZIndex(r.type)):r.oldVal=r.val=s.value,r._removeTooltip(!0),r._createTooltip(),t):(n.preventDefault(),t)},_createTooltip:function(){var t,n,r=this,i=r.owner,s=r.options.tooltip,o="",u=e(window);s.enabled&&(s.template&&(t=r.tooltipTemplate=d.template(s.template)),e(".k-slider-tooltip").remove(),r.tooltipDiv=e("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),o=i._getFormattedValue(r.val||i.value(),r),r.type||(n="k-callout-"+(i._isHorizontal?"s":"e"),r.tooltipInnerDiv="<div class='k-callout "+n+"'><!-- --></div>",o+=r.tooltipInnerDiv),r.tooltipDiv.html(o),r._scrollOffset={top:u.scrollTop(),left:u.scrollLeft()},r.moveTooltip())},drag:function(e){var t,n=this,r=n.owner,i=e.x.location,s=e.y.location,o=n.dragableArea.startPoint,u=n.dragableArea.endPoint;e.preventDefault(),n.val=r._isHorizontal?r._isRtl?n.constrainValue(i,o,u,u>i):n.constrainValue(i,o,u,i>=u):n.constrainValue(s,u,o,u>=s),n.oldVal!=n.val&&(n.oldVal=n.val,n.type?("firstHandle"==n.type?n.selectionStart=n.selectionEnd>n.val?n.val:n.selectionEnd=n.val:n.val>n.selectionStart?n.selectionEnd=n.val:n.selectionStart=n.selectionEnd=n.val,t={values:[n.selectionStart,n.selectionEnd],value:[n.selectionStart,n.selectionEnd]}):t={value:n.val},r.trigger(k,t)),n._updateTooltip(n.val)},_updateTooltip:function(e){var t=this,n=t.options,r=n.tooltip,i="";r.enabled&&(t.tooltipDiv||t._createTooltip(),i=t.owner._getFormattedValue(f(e),t),t.type||(i+=t.tooltipInnerDiv),t.tooltipDiv.html(i),t.moveTooltip())},dragcancel:function(){return this.owner._refresh(),e(document.documentElement).css("cursor",""),this._end()},dragend:function(){var t=this,n=t.owner;return e(document.documentElement).css("cursor",""),t.type?n._update(t.selectionStart,t.selectionEnd):(n._update(t.val),t.draggable.userEvents._disposeAll()),t._end()},_end:function(){var e=this,t=e.owner;return t._focusWithMouse(e.element),t.element.on(B),!1},_removeTooltip:function(t){var n=this,r=n.owner;n.tooltipDiv&&r.options.tooltip.enabled&&r.options.enabled&&(t?(n.tooltipDiv.remove(),n.tooltipDiv=null):n.tooltipDiv.fadeOut("slow",function(){e(this).remove(),n.tooltipDiv=null}))},moveTooltip:function(){var t,n,r,i,s=this,o=s.owner,u=0,a=0,f=s.element,l=d.getOffset(f),c=8,h=e(window),p=s.tooltipDiv.find(".k-callout"),v=s.tooltipDiv.outerWidth(),m=s.tooltipDiv.outerHeight();s.type?(t=o.wrapper.find(I),l=d.getOffset(t.eq(0)),n=d.getOffset(t.eq(1)),o._isHorizontal?(u=n.top,a=l.left+(n.left-l.left)/2):(u=l.top+(n.top-l.top)/2,a=n.left),i=t.eq(0).outerWidth()+2*c):(u=l.top,a=l.left,i=f.outerWidth()+2*c),o._isHorizontal?(a-=parseInt((v-f[o._outerSize]())/2,10),u-=m+p.height()+c):(u-=parseInt((m-f[o._outerSize]())/2,10),a-=v+p.width()+c),o._isHorizontal?(r=s._flip(u,m,i,h.outerHeight()+s._scrollOffset.top),u+=r,a+=s._fit(a,v,h.outerWidth()+s._scrollOffset.left)):(r=s._flip(a,v,i,h.outerWidth()+s._scrollOffset.left),u+=s._fit(u,m,h.outerHeight()+s._scrollOffset.top),a+=r),r>0&&p&&(p.removeClass(),p.addClass("k-callout k-callout-"+(o._isHorizontal?"n":"w"))),s.tooltipDiv.css({top:u,left:a})},_fit:function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),0>e&&(r=-e),r},_flip:function(e,t,n,r){var i=0;return e+t>r&&(i+=-(n+t)),0>e+i&&(i+=n+t),i},constrainValue:function(e,t,n,r){var i=this,s=0;return s=e>t&&n>e?i.owner._getValueFromPosition(e,i.dragableArea):r?i.options.max:i.options.min}},d.ui.plugin(Y),p=G.extend({init:function(n,r){var i,s=this,o=e(n).find("input"),u=o.eq(0)[0],f=o.eq(1)[0];u.type="text",f.type="text",r&&r.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),r.showButtons=!1),r=g({},{selectionStart:l(u,"value"),min:l(u,"min"),max:l(u,"max"),smallStep:l(u,"step")},{selectionEnd:l(f,"value"),min:l(f,"min"),max:l(f,"max"),smallStep:l(f,"step")},r),r&&r.enabled===t&&(r.enabled=!o.is("[disabled]")),G.fn.init.call(s,n,r),r=s.options,c(r.selectionStart)&&null!==r.selectionStart||(r.selectionStart=r.min,o.eq(0).prop("value",a(r.min))),c(r.selectionEnd)&&null!==r.selectionEnd||(r.selectionEnd=r.max,o.eq(1).prop("value",a(r.max))),i=s.wrapper.find(I),new p.Selection(i,s,r),s._firstHandleDrag=new Y.Drag(i.eq(0),"firstHandle",s,r),s._lastHandleDrag=new Y.Drag(i.eq(1),"lastHandle",s,r)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(n){var r,i=this,s=i.options;i.disable(),n!==!1&&(i.wrapper.removeClass(X).addClass(W),i.wrapper.find("input").removeAttr($),r=function(n){var r,o,u,a,f,l,c,h=Q(n)[0];if(h){if(r=i._isHorizontal?h.location.pageX:h.location.pageY,o=i._getDraggableArea(),u=i._getValueFromPosition(r,o),a=e(n.target),a.hasClass("k-draghandle"))return i.wrapper.find("."+z).removeClass(z+" "+U),a.addClass(z+" "+U),t;s.selectionStart>u?(f=u,l=s.selectionEnd,c=i._firstHandleDrag):u>i.selectionEnd?(f=s.selectionStart,l=u,c=i._lastHandleDrag):s.selectionEnd-u>=u-s.selectionStart?(f=u,l=s.selectionEnd,c=i._firstHandleDrag):(f=s.selectionStart,l=u,c=i._lastHandleDrag),c.dragstart(n),i._setValueInRange(f,l),i._focusWithMouse(c.element)}},i.wrapper.find(R+", "+q).on(O,r).end().on(O,function(){e(document.documentElement).one("selectstart",d.preventDefault)}).on(_,function(){i._activeDragHandle&&i._activeDragHandle._end()}),i.wrapper.find(I).attr(K,0).on(M,function(){i._setTooltipTimeout()}).on(H,function(e){i._focusWithMouse(e.target),e.preventDefault()}).on(j,w(i._focus,i)).on(F,w(i._blur,i)),i.wrapper.find(I).off(P,d.preventDefault).eq(0).on(P,w(function(e){this._keydown(e,"firstHandle")},i)).end().eq(1).on(P,w(function(e){this._keydown(e,"lastHandle")},i)),i.options.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(W).addClass(X),e.wrapper.find("input").prop($,$),e.wrapper.find(R+", "+q).off(O).off(_),e.wrapper.find(I).attr(K,-1).off(M).off(P).off(H).off(j).off(F),e.options.enabled=!1},_keydown:function(e,t){var n,r,i,s=this,o=s.options.selectionStart,u=s.options.selectionEnd;e.keyCode in s._keyMap&&(s._clearTooltipTimeout(),"firstHandle"==t?(i=s._activeHandleDrag=s._firstHandleDrag,o=s._keyMap[e.keyCode](o),o>u&&(u=o)):(i=s._activeHandleDrag=s._lastHandleDrag,u=s._keyMap[e.keyCode](u),o>u&&(o=u)),s._setValueInRange(f(o),f(u)),n=Math.max(o,s.options.selectionStart),r=Math.min(u,s.options.selectionEnd),i.selectionEnd=Math.max(r,s.options.selectionStart),i.selectionStart=Math.min(n,s.options.selectionEnd),i._updateTooltip(s.value()[s._activeHandle]),e.preventDefault())},_update:function(e,t){var n=this,r=n.value(),i=r[0]!=e||r[1]!=t;n.value([e,t]),i&&n.trigger(C,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,n){var r=this,i=r.options,s=i.selectionStart,o=i.selectionEnd;return isNaN(e)&&isNaN(n)?[s,o]:(e=f(e),n=f(n),e>=i.min&&i.max>=e&&n>=i.min&&i.max>=n&&n>=e&&(s!=e||o!=n)&&(r.element.find("input").eq(0).prop("value",a(e)).end().eq(1).prop("value",a(n)),i.selectionStart=e,i.selectionEnd=n,r._refresh(),r._refreshAriaAttr(e,n)),t)},values:function(e,t){return E(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this,t=e.options;e.trigger(D,{values:[t.selectionStart,t.selectionEnd],value:[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var n,r=this,i=r.wrapper.find(I),s=r._activeHandleDrag;n=r._getFormattedValue([e,t],s),i.eq(0).attr("aria-valuenow",e),i.eq(1).attr("aria-valuenow",t),i.attr("aria-valuetext",n)},_setValueInRange:function(e,t){var n=this.options;e=S.max(S.min(e,n.max),n.min),t=S.max(S.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex("firstHandle"),this._update(S.min(e,t),S.max(e,t))},_setZIndex:function(t){this.wrapper.find(I).each(function(n){e(this).css("z-index","firstHandle"==t?1-n:n)})},_formResetHandler:function(){var e=this,t=e.options;setTimeout(function(){var n=e.element.find("input"),r=n[0].value,i=n[1].value;e.values(""===r||isNaN(r)?t.min:r,""===i||isNaN(i)?t.max:i)})},destroy:function(){var e=this;G.fn.destroy.call(e),e.wrapper.off(L).find(R+", "+q).off(L).end().find(I).off(L),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy()}}),p.Selection=function(e,t,n){function r(r){r=r||[];var s=r[0]-n.min,o=r[1]-n.min,u=S.ceil(f(s/n.smallStep)),a=S.ceil(f(o/n.smallStep)),l=t._pixelSteps[u],c=t._pixelSteps[a],h=parseInt(e.eq(0)[t._outerSize]()/2,10),p=t._isRtl?2:0;e.eq(0).css(t._position,l-h-p).end().eq(1).css(t._position,c-h-p),i(l,c)}function i(e,n){var r,i,s=t._trackDiv.find(".k-slider-selection");r=S.abs(e-n),s[t._sizeFn](r),t._isRtl?(i=S.max(e,n),s.css("right",t._maxSelection-i-1)):(i=S.min(e,n),s.css(t._position,i-1))}r(t.value()),t.bind([C,k,D],function(e){r(e.values)})},d.ui.plugin(p)}(window.kendo.jQuery),function(e,t,n){function r(e,t,n){n=l(n),n&&!n.equals(e.color())&&("change"==t&&(e._value=n),n=1!=n.a?n.toCssRgba():n.toCss(),e.trigger(t,{value:n}))}function i(e,t,n){var r,i;return e=Array.prototype.slice.call(e),r=e.length,i=e.indexOf(t),0>i?0>n?e[r-1]:e[0]:(i+=n,0>i?i+=r:i%=r,e[i])}function s(e){e.preventDefault()}function o(e,t){return function(){return e.apply(t,arguments)}}var u=window.kendo,a=u.ui,f=a.Widget,l=u.parseColor,c=u.Color,h=u.keys,p="background-color",d="k-state-selected",v="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",m="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",g={apply:"Apply",cancel:"Cancel"},y=".kendoColorTools",b="click"+y,w="keydown"+y,E=u.support.browser,S=E.msie&&9>E.version,x=f.extend({init:function(e,t){var n,r=this;f.fn.init.call(r,e,t),e=r.element,t=r.options,r._value=t.value=l(t.value),r._tabIndex=e.attr("tabIndex")||0,n=r._ariaId=t.ariaId,n&&e.attr("aria-labelledby",n),t._standalone&&(r._triggerSelect=r._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return e!==n&&(this._value=l(e),this._updateUI(this._value)),this._value},value:function(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(t){0===arguments.length&&(t=!0),e(".k-disabled-overlay",this.wrapper).remove(),t||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var n=this._value;e=this.color(e),t||(this.element.trigger("change"),e.equals(n)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){r(this,"select",e)},_triggerChange:function(e){r(this,"change",e)},destroy:function(){this.element&&this.element.off(y),this.wrapper&&this.wrapper.off(y).find("*").off(y),this.wrapper=null,f.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),T=x.extend({init:function(t,n){var r,i,s,a,f=this;if(x.fn.init.call(f,t,n),t=f.wrapper=f.element,n=f.options,r=n.palette,"websafe"==r?(r=m,n.columns=18):"basic"==r&&(r=v),"string"==typeof r&&(r=r.split(",")),e.isArray(r)&&(r=e.map(r,function(e){return l(e)})),f._selectedID=(n.ariaId||u.guid())+"_selected",t.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(f._template({colors:r,columns:n.columns,tileSize:n.tileSize,value:f._value,id:n.ariaId}))).on(b,".k-item",function(t){f._select(e(t.currentTarget).css(p))}).attr("tabIndex",f._tabIndex).on(w,o(f._keydown,f)),i=n.tileSize){if(/number|string/.test(typeof i))s=a=parseFloat(i);else{if("object"!=typeof i)throw Error("Unsupported value for the 'tileSize' argument");s=parseFloat(i.width),a=parseFloat(i.height)}t.find(".k-item").css({width:s,height:a})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(t){var n,r,o=this.wrapper,u=o.find(".k-item"),a=u.filter("."+d).get(0),f=t.keyCode;if(f==h.LEFT?n=i(u,a,-1):f==h.RIGHT?n=i(u,a,1):f==h.DOWN?n=i(u,a,this.options.columns):f==h.UP?n=i(u,a,-this.options.columns):f==h.ENTER?(s(t),a&&this._select(e(a).css(p))):f==h.ESC&&this._cancel(),n){s(t),this._current(n);try{r=l(n.css(p)),this._triggerSelect(r)}catch(c){}}},_current:function(t){this.wrapper.find("."+d).removeClass(d).attr("aria-selected",!1).removeAttr("id"),e(t).addClass(d).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var r=null;this.wrapper.find(".k-item").each(function(){var i=l(e(this).css(p));return i&&i.equals(t)?(r=this,!1):n}),this._current(r)},_template:u.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+d+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),N=x.extend({init:function(t,n){var r=this;x.fn.init.call(r,t,n),n=r.options,t=r.element,r.wrapper=t.addClass("k-widget k-flatcolorpicker").append(r._template(n)),r._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),r._selectedColor=e(".k-selected-color-display",t),r._colorAsText=e("input.k-color-value",t),r._sliders(),r._hsvArea(),r._updateUI(r._value||l("#f00")),t.find("input.k-color-value").on(w,function(t){var n,i,s=this;if(t.keyCode==h.ENTER)try{n=l(s.value),i=r.color(),r._select(n,n.equals(i))}catch(o){e(s).addClass("k-state-error")}else r.options.autoupdate&&setTimeout(function(){var e=l(s.value,!0);e&&r._updateUI(e,!0)},10)}).end().on(b,".k-controls button.apply",function(){r._select(r._getHSV())}).on(b,".k-controls button.cancel",function(){r._updateUI(r.color()),r._cancel()}),S&&r._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,x.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:g},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){function e(e){n._updateUI(n._getHSV(e.value,null,null,null))}function t(e){n._updateUI(n._getHSV(null,null,null,e.value/100))}var n=this,r=n.element;n._hueSlider=r.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),n._opacitySlider=r.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:t,change:t}).data("kendoSlider")},_hsvArea:function(){function e(e,n){var r=this.offset,i=e-r.left,s=n-r.top,o=this.width,u=this.height;i=0>i?0:i>o?o:i,s=0>s?0:s>u?u:s,t._svChange(i/o,1-s/u)}var t=this,n=t.element,r=n.find(".k-hsv-rectangle"),i=r.find(".k-draghandle").attr("tabIndex",0).on(w,o(t._keydown,t));t._hsvEvents=new u.UserEvents(r,{global:!0,press:function(t){this.offset=u.getOffset(r),this.width=r.width(),this.height=r.height(),i.focus(),e.call(this,t.x.location,t.y.location)},start:function(){r.addClass("k-dragging"),i.focus()},move:function(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},end:function(){r.removeClass("k-dragging")}}),t._hsvRect=r,t._hsvHandle=i},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(e){function t(t,n){var i=r._getHSV();i[t]+=n*(e.shiftKey?.01:.05),0>i[t]&&(i[t]=0),i[t]>1&&(i[t]=1),r._updateUI(i),s(e)}function n(t){var n=r._getHSV();n.h+=t*(e.shiftKey?1:5),0>n.h&&(n.h=0),n.h>359&&(n.h=359),r._updateUI(n),s(e)}var r=this;switch(e.keyCode){case h.LEFT:e.ctrlKey?n(-1):t("s",-1);break;case h.RIGHT:e.ctrlKey?n(1):t("s",1);break;case h.UP:t(e.ctrlKey&&r._opacitySlider?"a":"v",1);break;case h.DOWN:t(e.ctrlKey&&r._opacitySlider?"a":"v",-1);break;case h.ENTER:r._select(r._getHSV());break;case h.F2:r.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:r._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,n,r){var i=this._hsvRect,s=i.width(),o=i.height(),u=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=u.left/s),null==n&&(n=1-u.top/o),null==r&&(r=this._opacitySlider?this._opacitySlider.value()/100:1),c.fromHSV(e,t,n,r)},_svChange:function(e,t){var n=this._getHSV(null,e,t,null);this._updateUI(n)},_updateUI:function(e,t){var n=this,r=n._hsvRect;e&&(this._colorAsText.removeClass("k-state-error"),n._selectedColor.css(p,e.toDisplay()),t||n._colorAsText.val(n._opacitySlider?e.toCssRgba():e.toCss()),n._triggerSelect(e),e=e.toHSV(),n._hsvHandle.css({left:e.s*r.width()+"px",top:(1-e.v)*r.height()+"px"}),n._hueElements.css(p,c.fromHSV(e.h,1,1,1).toCss()),n._hueSlider.value(e.h),n._opacitySlider&&n._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:u.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),C=f.extend({init:function(t,n){var r,i,s,o,u,a=this;f.fn.init.call(a,t,n),n=a.options,t=a.element,r=t.attr("value")||t.val(),r=r?l(r,!0):l(n.value,!0),a._value=n.value=r,i=a.wrapper=e(a._template(n)),t.hide().after(i),t.is("input")&&(t.appendTo(i),s=t.closest("label"),o=t.attr("id"),o&&(s=s.add('label[for="'+o+'"]')),s.click(function(e){a.open(),e.preventDefault()})),a._tabIndex=t.attr("tabIndex")||0,a.enable(!t.attr("disabled")),u=t.attr("accesskey"),u&&(t.attr("accesskey",null),i.attr("accesskey",u)),a.bind("activate",function(e){e.isDefaultPrevented()||a.toggle()}),a._updateUI(r)},destroy:function(){this.wrapper.off(y).find("*").off(y),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,f.fn.destroy.call(this)},enable:function(e){var t=this,n=t.wrapper,r=n.children(".k-picker-wrap"),i=r.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),n.attr("aria-disabled",!e),i.off(y).on("mousedown"+y,s),n.addClass("k-state-disabled").removeAttr("tabIndex").add("*",n).off(y),e&&n.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+y,function(){r.addClass("k-state-hover")}).on("mouseleave"+y,function(){r.removeClass("k-state-hover")}).on("focus"+y,function(){r.addClass("k-state-focused")}).on("blur"+y,function(){r.removeClass("k-state-focused")}).on(w,o(t._keydown,t)).on(b,".k-select",o(t.toggle,t)).on(b,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")})},_template:u.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:g,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:x.fn.color,value:x.fn.value,_select:x.fn._select,_triggerSelect:x.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=u.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(p,e?e.toDisplay():"transparent")},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==h.ESC?this._selector._cancel():this._selector._keydown(e),s(e)):(t==h.ENTER||t==h.DOWN)&&(this.open(),s(e))},_getPopup:function(){var t,r,i,s,o=this,a=o._popup;return a||(t=o.options,r=t.palette?T:N,t._standalone=!1,delete t.select,delete t.change,delete t.cancel,i=u.guid(),s=o._selector=new r(e('<div id="'+i+'"/>').appendTo(document.body),t),o.wrapper.attr("aria-owns",i),o._popup=a=s.wrapper.kendoPopup({anchor:o.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),s.bind({select:function(e){o._updateUI(l(e.value))},change:function(){o._select(s.color()),o.close()},cancel:function(){o.close()}}),a.bind({close:function(e){if(o.trigger("close"))return e.preventDefault(),n;o.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=s._selectOnHide();t?o._select(t):(o.wrapper.focus(),o._updateUI(o.color()))},open:function(e){o.trigger("open")?e.preventDefault():o.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){s._select(o.color(),!0),s.focus(),o.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})),a}});a.plugin(T),a.plugin(N),a.plugin(C)}(jQuery,parseInt),function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}var r=window.kendo,i=r.caret,s=r.keys,o=r.ui,u=o.Widget,a=r._activeElement,f=r._extractFormat,l=r.parseFloat,c=r.support.placeholder,h=r.getCulture,p=r._round,d="change",v="disabled",m="readonly",g="k-input",y="spin",b=".kendoNumericTextBox",w="touchend",E="mouseleave"+b,S="mouseenter"+b+" "+E,x="k-state-default",T="k-state-focused",N="k-state-hover",C="focus",k=".",L="k-state-selected",A="k-state-disabled",O="aria-disabled",M="aria-readonly",_=/^(-)?(\d*)$/,D=null,P=e.proxy,H=e.extend,B=u.extend({init:function(n,i){var s,o,a,l,c,h=this,p=i&&i.step!==t;u.fn.init.call(h,n,i),i=h.options,n=h.element.on("focusout"+b,P(h._focusout,h)).attr("role","spinbutton"),i.placeholder=i.placeholder||n.attr("placeholder"),h._initialOptions=H({},i),h._reset(),h._wrapper(),h._arrows(),h._input(),r.support.mobileOS?h._text.on(w+b+" "+C+b,function(){h._toggleText(!1),n.focus()}):h._text.on(C+b,P(h._click,h)),s=h.min(n.attr("min")),o=h.max(n.attr("max")),a=h._parse(n.attr("step")),i.min===D&&s!==D&&(i.min=s),i.max===D&&o!==D&&(i.max=o),p||a===D||(i.step=a),n.attr("aria-valuemin",i.min).attr("aria-valuemax",i.max),i.format=f(i.format),l=i.value,h.value(l!==D?l:n.val()),c=n.is("[disabled]")||e(h.element).parents("fieldset").is(":disabled"),c?h.enable(!1):h.readonly(n.is("[readonly]")),r.notify(h)},options:{name:"NumericTextBox",decimals:D,min:D,max:D,value:D,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[d,y],_editable:function(e){var t=this,n=t.element,r=e.disable,i=e.readonly,s=t._text.add(n),o=t._inputWrapper.off(S);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+b).off("keypress"+b).off("paste"+b),i||r?(o.addClass(r?A:x).removeClass(r?x:A),s.attr(v,r).attr(m,i).attr(O,r).attr(M,i)):(o.addClass(x).removeClass(A).on(S,t._toggleHover),s.removeAttr(v).removeAttr(m).attr(O,!1).attr(M,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(L)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(L)}),t.element.on("keydown"+b,P(t._keydown,t)).on("keypress"+b,P(t._keypress,t)).on("paste"+b,P(t._paste,t)))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(b),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),u.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,r=this;return e===t?r._value:(e=r._parse(e),n=r._adjust(e),e===n&&(r._update(e),r._old=r._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,r=n.min,i=n.max;return e===D?e:(r!==D&&r>e?e=r:i!==D&&e>i&&(e=i),e)},_arrows:function(){var t,i=this,s=function(){clearTimeout(i._spinning),t.removeClass(L)},o=i.options,u=o.spinners,a=i.element;t=a.siblings(".k-icon"),t[0]||(t=e(n("n",o.upArrowText)+n("s",o.downArrowText)).insertAfter(a),t.wrapAll('<span class="k-select"/>')),u||(t.parent().toggle(u),i._inputWrapper.addClass("k-expand-padding")),i._upArrow=t.eq(0),i._upArrowEventHandler=new r.UserEvents(i._upArrow,{release:s}),i._downArrow=t.eq(1),i._downArrowEventHandler=new r.UserEvents(i._downArrow,{release:s})},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,r,s,o=e.target,u=i(o)[0],a=o.value.substring(0,u),f=t._format(t.options.format),l=f[","],c=0;l&&(r=RegExp("\\"+l,"g"),s=RegExp("([\\d\\"+l+"]+)(\\"+f[k]+")?(\\d+)?")),s&&(n=s.exec(a)),n&&(c=n[0].replace(r,"").length,-1!=a.indexOf("(")&&0>t._value&&c++),t._focusin(),i(t.element[0],c)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t._typing||t.element.trigger(d),t.trigger(d)),t._typing=!1},_culture:function(e){return e||h(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(T),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(T).removeClass(N),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n=this,r="k-formatted-value",i=n.element.addClass(g).show()[0],s=i.accessKey,o=n.wrapper;t=o.find(k+r),t[0]||(t=e('<input type="text"/>').insertBefore(i).addClass(r));try{i.setAttribute("type","text")}catch(u){i.type="text"}t[0].tabIndex=i.tabIndex,t[0].style.cssText=i.style.cssText,t[0].title=i.title,t.prop("placeholder",n.options.placeholder),s&&(t.attr("accesskey",s),i.accessKey=""),n._text=t.addClass(i.className)},_keydown:function(e){var t=this,n=e.keyCode;t._key=n,n==s.DOWN?t._step(-1):n==s.UP?t._step(1):n==s.ENTER?t._change(t.element.val()):t._typing=!0},_keypress:function(e){var t,n,r,o,u,a,f,l,c,h,p;0===e.which||e.metaKey||e.ctrlKey||e.keyCode===s.BACKSPACE||e.keyCode===s.ENTER||(t=this,n=t.options.min,r=t.element,o=i(r),u=o[0],a=o[1],f=String.fromCharCode(e.which),l=t._format(t.options.format),c=t._key===s.NUMPAD_DOT,h=r.val(),c&&(f=l[k]),h=h.substring(0,u)+f+h.substring(a),p=t._numericRegex(l).test(h),p&&c?(r.val(h),i(r,u+f.length),e.preventDefault()):(null!==n&&n>=0&&"-"===h.charAt(0)||!p)&&e.preventDefault(),t._key=0)},_numericRegex:function(e){var t=this,n=e[k],r=t.options.decimals;return n===k&&(n="\\"+n),r===D&&(r=e.decimals),0===r?_:(t._separator!==n&&(t._separator=n,t._floatRegExp=RegExp("^(-)?(((\\d+("+n+"\\d*)?)|("+n+"\\d*)))?$")),t._floatRegExp)},_paste:function(e){var t=this,n=e.target,r=n.value;setTimeout(function(){t._parse(n.value)===D&&t._update(r)})},_option:function(e,n){var r=this,i=r.options;return n===t?i[e]:(n=r._parse(n),(n||"step"!==e)&&(i[e]=n,r.element.attr("aria-value"+e,n).attr(e,n)),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,r=t._parse(n.val())||0;a()!=n[0]&&t._focusin(),r+=t.options.step*e,t._update(t._adjust(r)),t._typing=!1,t.trigger(y)},_toggleHover:function(t){e(t.currentTarget).toggleClass(N,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return l(e,this._culture(t),this.options.format)},_update:function(e){var t,n=this,i=n.options,s=i.format,o=i.decimals,u=n._culture(),a=n._format(s,u);o===D&&(o=a.decimals),e=n._parse(e,u),t=e!==D,t&&(e=parseFloat(p(e,o))),n._value=e=n._adjust(e),n._placeholder(r.toString(e,s,u)),t?(e=""+e,-1!==e.indexOf("e")&&(e=p(+e,o)),e=e.replace(k,a[k])):e="",n.element.val(e).attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),c||e||this._text.val(this.options.placeholder)},_wrapper:function(){var t,n=this,r=n.element,i=r[0];t=r.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=i.style.cssText,i.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(i.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value),t.max(t._initialOptions.max),t.min(t._initialOptions.min)})},t._form=i.on("reset",t._resetHandler))}});o.plugin(B)}(window.kendo.jQuery),function(e,t){function n(t,r){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,r),e.filters?e.filters.length:e.field!=r}))}function r(e){var t,n,r,i,s,o;if(e&&e.length)for(o=[],t=0,n=e.length;n>t;t++)r=e[t],s=r.text||r.value||r,i=null==r.value?r.text||r:r.value,o[t]={text:s,value:i};return o}function i(t,n){return e.grep(t,function(t){return t.filters?(t.filters=e.grep(t.filters,function(e){return e.field!=n}),t.filters.length):t.field!=n})}function s(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return s(e,n),e.filters?e.filters.length:e.field==n&&"eq"==e.operator}))}function o(n){return"and"==n.logic&&n.filters.length>1?[]:n.filters?e.map(n.filters,function(e){return o(e)}):null!==n.value&&n.value!==t?[n.value]:[]}function u(e,n){for(var r,i,s=f.getter(n,!0),o=[],u=0,a={};e.length>u;)r=e[u++],i=s(r),i===t||null===i||a.hasOwnProperty(i)||(o.push(r),a[i]=!0);return o}function a(e,t){return function(n){var r=e(n);return u(r,t)}}var f=window.kendo,l=f.ui,c=e.proxy,h="kendoPopup",p="init",d="refresh",v="change",m=".kendoFilterMenu",g="Is equal to",y="Is not equal to",b={number:"numerictextbox",date:"datepicker"},w={string:"text",number:"number",date:"date"},E=f.isFunction,S=l.Widget,x='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',T='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button k-primary">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',N='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',C='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=title#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',k=S.extend({init:function(t,n){var r,i,s,o,u=this,a="string";S.fn.init.call(u,t,n),r=u.operators=n.operators||{},t=u.element,n=u.options,n.appendToElement||(s=t.addClass("k-with-icon k-filterable").find(".k-grid-filter"),s[0]||(s=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),s.attr("tabindex",-1).on("click"+m,c(u._click,u))),u.link=s||e(),u.dataSource=n.dataSource,u.field=n.field||t.attr(f.attr("field")),u.model=u.dataSource.reader.model,u._parse=function(e){return e+""},u.model&&u.model.fields&&(o=u.model.fields[u.field],o&&(a=o.type||"string",o.parse&&(u._parse=c(o.parse,o)))),n.values&&(a="enums"),u.type=a,r=r[a]||n.operators[a];for(i in r)break;u._defaultFilter=function(){return{field:u.field,operator:i||"eq",value:""}},u._refreshHandler=c(u.refresh,u),u.dataSource.bind(v,u._refreshHandler),n.appendToElement?u._init():u.refresh()},_init:function(){var t,n=this,r=n.options.ui,i=E(r);n.pane=n.options.pane,n.pane&&(n._isMobile=!0),i||(t=r||b[n.type]),n._isMobile?n._createMobileForm(t):n._createForm(t),n.form.on("submit"+m,c(n._submit,n)).on("reset"+m,c(n._reset,n)),i&&n.form.find(".k-textbox").removeClass("k-textbox").each(function(){r(e(this))}),n.form.find("["+f.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+f.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+f.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+f.attr("role")+"=datepicker]").removeClass("k-textbox"),n.refresh(),n.trigger(p,{field:n.field,container:n.form}),f.cycleForm(n.form)},_createForm:function(t){var n=this,i=n.options,s=n.operators||{},o=n.type;s=s[o]||i.operators[o],n.form=e('<form class="k-filter-menu"/>').html(f.template("boolean"===o?x:T)({field:n.field,format:i.format,ns:f.ns,messages:i.messages,extra:i.extra,operators:s,type:o,role:t,values:r(i.values)})),i.appendToElement?(n.element.append(n.form),n.popup=n.element.closest(".k-popup").data(h)):n.popup=n.form[h]({anchor:n.link,open:c(n._open,n),activate:c(n._activate,n),close:function(){n.options.closeCallback&&n.options.closeCallback(n.element)}}).data(h),n.form.on("keydown"+m,c(n._keydown,n))},_createMobileForm:function(t){var n=this,i=n.options,s=n.operators||{},o=n.type;s=s[o]||i.operators[o],n.form=e("<div />").html(f.template("boolean"===o?C:N)({field:n.field,title:i.title||n.field,format:i.format,ns:f.ns,messages:i.messages,extra:i.extra,operators:s,type:o,role:t,useRole:!f.support.input.date&&"date"===o||"number"===o,inputType:w[o],values:r(i.values)})),n.view=n.pane.append(n.form.html()),n.form=n.view.element.find("form"),n.view.element.on("click",".k-submit",function(e){n.form.submit(),e.preventDefault()}).on("click",".k-cancel",function(e){n._closeForm(),e.preventDefault()})},refresh:function(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"};e.filterModel=f.observable({logic:"and",filters:[e._defaultFilter(),e._defaultFilter()]}),e.form&&f.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active")},destroy:function(){var e=this;S.fn.destroy.call(e),e.form&&(f.unbind(e.form),f.destroy(e.form),e.form.unbind(m),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null),e.view&&(e.view.purge(),e.view=null),e.link.unbind(m),e._refreshHandler&&(e.dataSource.unbind(v,e._refreshHandler),e.dataSource=null),e.element=e.link=e._refreshHandler=e.filterModel=null},_bind:function(e){var t,n,r,i,s=this,o=e.filters,u=!1,a=0,f=s.filterModel;for(t=0,n=o.length;n>t;t++)i=o[t],i.field==s.field?(f.set("logic",e.logic),r=f.filters[a],r||(f.filters.push({field:s.field}),r=f.filters[a]),r.set("value",s._parse(i.value)),r.set("operator",i.operator),a++,u=!0):i.filters&&(u=u||s._bind(i));return u},_stripFilters:function(t){return e.grep(t,function(e){return""!==e.value&&null!=e.value})},_merge:function(e){var t,r,i,s=this,o=e.logic||"and",u=this._stripFilters(e.filters),a=s.dataSource.filter()||{filters:[],logic:"and"};for(n(a,s.field),r=0,i=u.length;i>r;r++)t=u[r],t.value=s._parse(t.value);return u.length&&(a.filters.length?(e.filters=u,"and"!==a.logic&&(a.filters=[{logic:a.logic,filters:a.filters}],a.logic="and"),a.filters.push(u.length>1?e:u[0])):(a.filters=u,a.logic=o)),a},filter:function(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e)},clear:function(){var t=this,n=t.dataSource.filter()||{filters:[]};n.filters=e.grep(n.filters,function(e){return e.filters?(e.filters=i(e.filters,t.field),e.filters.length):e.field!=t.field}),n.filters.length||(n=null),t.dataSource.filter(n)},_submit:function(e){e.preventDefault(),e.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm()},_reset:function(){this.clear(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each(function(){t=e(this).data(h),t&&t.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(e){e.keyCode==f.keys.ESC&&this.popup.close()},events:[p],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:g,neq:y,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:g,neq:y,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:g,neq:y,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:g,neq:y}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),L=".kendoFilterMultiCheck",A=f.data.DataSource,O=S.extend({init:function(t,n){var r,i;S.fn.init.call(this,t,n),n=this.options,this.element=e(t),r=this.field=this.options.field||this.element.attr(f.attr("field")),i=n.checkSource,n.forceUnique?(i=n.dataSource.options,delete i.pageSize,this.checkSource=A.create(i),this.checkSource.reader.data=a(this.checkSource.reader.data,this.field)):this.checkSource=A.create(i),this.dataSource=n.dataSource,this.model=this.dataSource.reader.model,this._parse=function(e){return e+""},this.model&&this.model.fields&&(r=this.model.fields[this.field],r&&(r.parse&&(this._parse=c(r.parse,r)),this.type=r.type||"string")),n.appendToElement?this._init():this._createLink(),this._refreshHandler=c(this.refresh,this),this.dataSource.bind(v,this._refreshHandler)},_createLink:function(){var e=this.element,t=e.addClass("k-with-icon k-filterable").find(".k-grid-filter");t[0]||(t=e.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),this._link=t.attr("tabindex",-1).on("click"+m,c(this._click,this))},_init:function(){var e=this,t=this.options.forceUnique,n=this.options;this.pane=n.pane,this.pane&&(this._isMobile=!0),this._createForm(),t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(u(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){e.refresh.call(e)})),this.options.forceUnique||(this.checkChangeHandler=function(){e.container.empty(),e.refresh()},this.checkSource.bind(v,this.checkChangeHandler)),this.form.on("keydown"+L,c(this._keydown,this)).on("submit"+L,c(this._filter,this)).on("reset"+L,c(this._reset,this)),this.trigger(p,{field:this.field,container:this.form})},_attachProgress:function(){var e=this;this._progressHandler=function(){l.progress(e.container,!0)},this._progressHideHandler=function(){l.progress(e.container,!1)},this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_createForm:function(){var t,n,r=this.options,i="<ul class='k-reset k-multicheck-wrap'></ul><button type='submit' class='k-button k-primary'>"+r.messages.filter+"</button>";i+="<button type='reset' class='k-button'>"+r.messages.clear+"</button>",this.form=e('<form class="k-filter-menu"/>').html(i),this.container=this.form.find(".k-multicheck-wrap"),this._isMobile?(this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("<div/>").parent().html()),t=this.view.element,this.form=t.find("form"),this.container=t.find(".k-multicheck-wrap"),n=this,t.on("click",".k-primary",function(e){n.form.submit(),e.preventDefault()}).on("click","[type=reset]",function(e){n._reset(),e.preventDefault()})):r.appendToElement?(this.popup=this.element.closest(".k-popup").data(h),this.element.append(this.form)):this.popup=this.form.kendoPopup({anchor:this._link}).data(h)},createCheckAllItem:function(){var t=this.options,n=f.template(t.itemTemplate({field:"all",mobile:this._isMobile})),r=e(n({all:t.messages.checkAll}));this.container.prepend(r),this.checkBoxAll=r.find(":checkbox").eq(0).addClass("k-check-all"),this.checkAllHandler=c(this.checkAll,this),this.checkBoxAll.on(v+L,this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var e=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",e)}},refresh:function(e){var t=this.options.forceUnique,n=this.dataSource,r=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==r.length),this.form&&(!e||!t||e.sender!==n||n.options.serverPaging||"itemchange"!=e.action&&"add"!=e.action&&"remove"!=e.action||(this.checkSource.data(u(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(r),this.trigger(d))},getFilterArray:function(){var t,n=e.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());return s(n,this.field),t=o(n)},createCheckBoxes:function(){var e,t,n,r=this.options,i={field:this.field,format:r.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?r.values?(e=r.values,i.valueField="value",i.field="text"):e=this.checkSource.data():e=this.checkSource.view(),t=f.template(r.itemTemplate(i)),n=f.render(t,e),r.checkAll&&(this.createCheckAllItem(),this.container.on(v+L,":checkbox",c(this.updateCheckAllState,this))),this.container.append(n)},checkAll:function(){var e=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",e)},checkValues:function(t){var n=this;e(e.grep(this.container.find(":checkbox").prop("checked",!1),function(r){var i,s,o=!1;if(!e(r).is(".k-check-all"))for(i=n._parse(e(r).val()),s=0;t.length>s;s++)if(o="date"==n.type?t[s].getTime()==i.getTime():t[s]==i)return o})).prop("checked",!0),this.updateCheckAllState()},_filter:function(t){var n,r;t.preventDefault(),t.stopPropagation(),n={logic:"or"},r=this,n.filters=e.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(t){return{value:e(t).val(),operator:"eq",field:r.field}}),n=this._merge(n),n.filters.length&&this.dataSource.filter(n),this._closeForm()},_stripFilters:function(t){return e.grep(t,function(e){return null!=e.value})},destroy:function(){var e=this;S.fn.destroy.call(e),e.form&&(f.unbind(e.form),f.destroy(e.form),e.form.unbind(L),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null,e.container&&(e.container.unbind(L),e.container=null),e.checkBoxAll&&e.checkBoxAll.unbind(L)),e.view&&(e.view.purge(),e.view=null),e._link&&e._link.unbind(m),e._refreshHandler&&(e.dataSource.unbind(v,e._refreshHandler),e.dataSource=null),e.checkChangeHandler&&e.checkSource.unbind(v,e.checkChangeHandler),e._progressHandler&&e.checkSource.unbind("progress",e._progressHandler),e._progressHideHandler&&e.checkSource.unbind("change",e._progressHideHandler),e.element=e.checkSource=e.container=e.checkBoxAll=e._link=e._refreshHandler=e.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(e){var n=e.field,r=e.format,i=e.valueField,s=e.mobile,o="";return i===t&&(i=n),"date"==e.type&&(o=":yyyy-MM-ddTHH:mm:sszzz"),"<li class='k-item'><label class='k-label'><input type='checkbox' class='"+(s?"k-check":"")+"'  value='#:kendo.format('{0"+o+"}',"+i+")#'/>#:kendo.format('"+(r?r:"{0}")+"', "+n+")#</label></li>"},checkAll:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:[p,d]});e.extend(O.fn,{_click:k.fn._click,_keydown:k.fn._keydown,_reset:k.fn._reset,_closeForm:k.fn._closeForm,clear:k.fn.clear,_merge:k.fn._merge}),l.plugin(k),l.plugin(O)}(window.kendo.jQuery),function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function r(e,t,n){e=e.split(" ")[!t+0]||e;var r={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},i=/left|right/.test(e);return i?(r.origin=["top",e],r.position[1]=f.directions[e].reverse):(r.origin[0]=e,r.position[0]=f.directions[e].reverse),r.origin=r.origin.join(" "),r.position=r.position.join(" "),r}function i(t,n){try{return e.contains(t,n)}catch(r){return!1}}function s(t){t=e(t),t.addClass("k-item").children(x).addClass(M),t.children("a").addClass(C).children(x).addClass(M),t.filter(":not([disabled])").addClass(X),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass(J).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+C).length||t.contents().filter(function(){return!(this.nodeName.match(E)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+C+"'/>"),o(t),u(t)}function o(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(N+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function u(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(O),t.filter(".k-last:not(:last-child)").removeClass(k),t.filter(":first-child").addClass(O),t.filter(":last-child").addClass(k)}var a,f=window.kendo,l=f.ui,c=f._activeElement,h=f.support.touch&&f.support.mobileOS,p="mousedown",d="click",v=e.extend,m=e.proxy,g=e.each,y=f.template,b=f.keys,w=l.Widget,E=/^(ul|a|div)$/i,S=".kendoMenu",x="img",T="open",N="k-menu",C="k-link",k="k-last",L="close",A="timer",O="k-first",M="k-image",_="select",D="zIndex",P="activate",H="deactivate",B="touchstart"+S+" MSPointerDown"+S+" pointerdown"+S,j=f.support.pointers,F=f.support.msPointers,I=F||j,q=j?"pointerover":F?"MSPointerOver":"mouseenter",R=j?"pointerout":F?"MSPointerOut":"mouseleave",U=h||I,z=e(document.documentElement),W="kendoPopup",X="k-state-default",V="k-state-hover",$="k-state-focused",J="k-state-disabled",K=".k-menu",Q=".k-menu-group",G=Q+",.k-animation-container",Y=":not(.k-list) > .k-item",Z=".k-item.k-state-disabled",et=".k-item:not(.k-state-disabled)",tt=".k-item:not(.k-state-disabled) > .k-link",nt=":not(.k-item.k-separator)",rt=nt+":eq(0)",it=nt+":last",st="> div:not(.k-animation-container,.k-list-container)",ot={2:1,touch:1},ut={content:y("<div class='k-content #= groupCssClass() #' tabindex='-1'>#= content(item) #</div>"),group:y("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:y("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:y("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:y("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:y("<span class='#= arrowClass(item, group) #'></span>"),sprite:y("<span class='k-sprite #= spriteCssClass #'></span>"),empty:y("")},at={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(){return C},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(e){return e.encoded===!1?e.text:f.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}},ft=w.extend({init:function(t,n){var r=this;w.fn.init.call(r,t,n),t=r.wrapper=r.element,n=r.options,r._initData(n),r._updateClasses(),r._animations(n),r.nextItemZIndex=100,r._tabindex(),r._focusProxy=m(r._focusHandler,r),t.on(B,et,r._focusProxy).on(d+S,Z,!1).on(d+S,et,m(r._click,r)).on("keydown"+S,m(r._keydown,r)).on("focus"+S,m(r._focus,r)).on("focus"+S,".k-content",m(r._focus,r)).on(B+" "+p+S,".k-content",m(r._preventClose,r)).on("blur"+S,m(r._removeHoverItem,r)).on("blur"+S,"[tabindex]",m(r._checkActiveElement,r)).on(q+S,et,m(r._mouseenter,r)).on(R+S,et,m(r._mouseleave,r)).on(q+S+" "+R+S+" "+p+S+" "+d+S,tt,m(r._toggleHover,r)),n.openOnClick&&(r.clicked=!1,r._documentClickHandler=m(r._documentClick,r),e(document).click(r._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(r._ariaId=f.format("{0}_mn_active",t[0].id)),f.notify(r)},events:[T,L,P,H,_],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,popupCollision:t},_initData:function(e){var t=this;e.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(e.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=v(!0,t,e.animation),"dataSource"in e&&this._initData(e),this._updateClasses(),w.fn.setOptions.call(this,e)},destroy:function(){var t=this;w.fn.destroy.call(t),t.element.off(S),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler),f.destroy(t.element)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return g(n.items,function(){n.group.append(this),o(this)}),o(t),u(n.group.find(".k-first, .k-last").add(n.items)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return g(n.items,function(){t.before(this),o(this),u(this)}),u(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return g(n.items,function(){t.after(this),o(this),u(this)}),u(t),this},_insert:function(t,n,r){var i,o,u,a,f=this;return n&&n.length||(r=f.element),u=e.isPlainObject(t),a={firstLevel:r.hasClass(N),horizontal:r.hasClass(N+"-horizontal"),expanded:!0,length:r.children().length},n&&!r.length&&(r=e(ft.renderGroup({group:a})).appendTo(n)),u||e.isArray(t)?i=e(e.map(u?[t]:t,function(t,n){return"string"==typeof t?e(t).get():e(ft.renderItem({group:a,item:v(t,{index:n})})).get()})):(i="string"==typeof t&&"<"!=t.charAt(0)?f.element.find(t):e(t),o=i.find("> ul").addClass("k-menu-group").attr("role","menu"),i=i.filter("li"),i.add(o.find("> li")).each(function(){s(this)})),{items:i,group:r}},remove:function(e){var t,n,r,i;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,Y),r=e.parent("ul:not(.k-menu)"),e.remove(),r&&!r.children(Y).length&&(i=r.parent(".k-animation-container"),i.length?i.remove():r.remove()),n.length&&(n=n.eq(0),o(n),u(n)),t},open:function(i){var s=this,o=s.options,u="horizontal"==o.orientation,a=o.direction,l=f.support.isRtl(s.wrapper);return i=s.element.find(i),/^(top|bottom|default)$/.test(a)&&(a=l?u?(a+" left").replace("default","bottom"):"left":u?(a+" right").replace("default","bottom"):"right"),i.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close()}),i.each(function(){var i=e(this);clearTimeout(i.data(A)),i.data(A,setTimeout(function(){var c,p,d,m,g,y,b,w,E=i.find(".k-menu-group:first:hidden");E[0]&&s._triggerEvent({item:i[0],type:T})===!1&&(!E.find(".k-menu-group")[0]&&E.children(".k-item").length>1?(p=e(window).height(),d=function(){E.css({maxHeight:p-(E.outerHeight()-E.height())-f.getShadows(E).bottom,overflow:"auto"})},f.support.browser.msie&&7>=f.support.browser.version?setTimeout(d,0):d()):E.css({maxHeight:"",overflow:""}),i.data(D,i.css(D)),i.css(D,s.nextItemZIndex++),c=E.data(W),m=i.parent().hasClass(N),g=m&&u,y=r(a,m,l),b=o.animation.open.effects,w=b!==t?b:"slideIn:"+n(a,m),c?(c=E.data(W),c.options.origin=y.origin,c.options.position=y.position,c.options.animation.open.effects=w):c=E.kendoPopup({activate:function(){s._triggerEvent({item:this.wrapper.parent(),type:P})},deactivate:function(e){e.sender.element.removeData("targetTransform").css({opacity:""}),s._triggerEvent({item:this.wrapper.parent(),type:H})},origin:y.origin,position:y.position,collision:o.popupCollision!==t?o.popupCollision:g?"fit":"fit flip",anchor:i,appendTo:i,animation:{open:v(!0,{effects:w},o.animation.open),close:o.animation.close},close:function(e){var t=e.sender.wrapper.parent();s._triggerEvent({item:t[0],type:L})?e.preventDefault():(t.css(D,t.data(D)),t.removeData(D),h&&(t.removeClass(V),s._removeHoverItem()))}}).data(W),E.removeAttr("aria-hidden"),c.open())},s.options.hoverDelay))}),s},close:function(t,n){var r=this,i=r.element;return t=i.find(t),t.length||(t=i.find(">.k-item")),t.each(function(){var t=e(this);!n&&r._isRootItem(t)&&(r.clicked=!1),clearTimeout(t.data(A)),t.data(A,setTimeout(function(){var e=t.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(W);e&&(e.close(),e.element.attr("aria-hidden",!0))},r.options.hoverDelay))}),r},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(X,n).toggleClass(J,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(f.eventTarget(t)||t.target).closest(Y),r=t.type==q||-1!==p.indexOf(t.type);n.parents("li."+J).length||n.toggleClass(V,r||"mousedown"==t.type||"click"==t.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var n=this,r=e(t?t.currentTarget:this._hoverItem()),s=n._findRootParent(r)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!i(s,f._activeElement())&&t&&!i(s,t.currentTarget))&&n.close(s)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass($)&&(e.removeClass($),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element,n=".k-menu-init div ul";t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+N).addClass(N+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!f.support.matchesSelector.call(this,n)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){s(this)})},_mouseenter:function(t){var n=this,r=e(t.currentTarget),s=r.children(".k-animation-container").length||r.children(Q).length;t.delegateTarget==r.parents(K)[0]&&(n.options.openOnClick&&!n.clicked||h||(j||F)&&t.originalEvent.pointerType in ot&&n._isRootItem(r.closest(Y))||!i(t.currentTarget,t.relatedTarget)&&s&&n.open(r),(n.options.openOnClick&&n.clicked||U)&&r.siblings().each(m(function(e,t){n.close(t,!0)},n)))},_mouseleave:function(n){var r=this,s=e(n.currentTarget),o=s.children(".k-animation-container").length||s.children(Q).length;return s.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(r.options.openOnClick||h||(j||F)&&n.originalEvent.pointerType in ot||i(n.currentTarget,n.relatedTarget||n.target)||!o||i(n.currentTarget,f._activeElement())||r.close(s),t)},_click:function(n){var r,i,s,o=this,u=o.options,a=e(f.eventTarget(n)),l=a[0]?a[0].nodeName.toUpperCase():"",c="INPUT"==l||"SELECT"==l||"BUTTON"==l||"LABEL"==l,h=a.closest("."+C),p=a.closest(Y),d=h.attr("href"),v=a.attr("href"),m=e("<a href='#' />").attr("href"),g=!!d&&d!==m,y=g&&!!d.match(/^#/),b=!!v&&v!==m,w=u.openOnClick&&s&&o._isRootItem(p);if(!a.closest(st,p[0]).length){if(p.hasClass(J))return n.preventDefault(),t;if(n.handled||!o._triggerEvent({item:p[0],type:_})||c||n.preventDefault(),n.handled=!0,i=p.children(G),s=i.is(":visible"),u.closeOnClick&&(!g||y)&&(!i.length||w))return p.removeClass(V).css("height"),o._oldHoverItem=o._findRootParent(p),o.close(h.parentsUntil(o.element,Y)),o.clicked=!1,-1!="MSPointerUp".indexOf(n.type)&&n.preventDefault(),t;g&&n.enterKey&&h[0].click(),(o._isRootItem(p)&&u.openOnClick||f.support.touch||(j||F)&&o._isRootItem(p.closest(Y)))&&(g||c||b||n.preventDefault(),o.clicked=!0,r=i.is(":visible")?L:T,(u.closeOnClick||r!=L)&&o[r](p))}},_documentClick:function(e){i(this.element[0],e.target)||(this.clicked=!1)},_focus:function(n){var r=this,i=n.target,s=r._hoverItem(),o=c();return i==r.wrapper[0]||e(i).is(":kendoFocusable")?(o===n.currentTarget&&(s.length?r._moveHover([],s):r._oldHoverItem||r._moveHover([],r.wrapper.children().first())),t):(n.stopPropagation(),e(i).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass($),r.wrapper.focus(),t)},_keydown:function(e){var n,r,i,s=this,o=e.keyCode,u=s._oldHoverItem,a=f.support.isRtl(s.wrapper);if(e.target==e.currentTarget||o==b.ESC){if(u||(u=s._oldHoverItem=s._hoverItem()),r=s._itemBelongsToVertival(u),i=s._itemHasChildren(u),o==b.RIGHT)n=s[a?"_itemLeft":"_itemRight"](u,r,i);else if(o==b.LEFT)n=s[a?"_itemRight":"_itemLeft"](u,r,i);else if(o==b.DOWN)n=s._itemDown(u,r,i);else if(o==b.UP)n=s._itemUp(u,r,i);else if(o==b.ESC)n=s._itemEsc(u,r);else if(o==b.ENTER||o==b.SPACEBAR)n=u.children(".k-link"),n.length>0&&(s._click({target:n[0],preventDefault:function(){},enterKey:!0}),s._moveHover(u,s._findRootParent(u)));else if(o==b.TAB)return n=s._findRootParent(u),s._moveHover(u,n),s._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-menu-group")||t:t},_itemHasChildren:function(e){return e.length?e.children("ul.k-menu-group, div.k-animation-container").length>0:!1},_moveHover:function(t,n){var r=this,i=r._ariaId;t.length&&n.length&&t.removeClass($),n.length&&(n[0].id&&(i=n[0].id),n.addClass($),r._oldHoverItem=n,i&&(r.element.removeAttr("aria-activedescendant"),e("#"+i).removeAttr("id"),n.attr("id",i),r.element.attr("aria-activedescendant",i)))},_findRootParent:function(e){return this._isRootItem(e)?e:e.parentsUntil(K,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(N)},_itemRight:function(e,t,n){var r,i,s=this;if(!e.hasClass(J))return t?n?(s.open(e),r=e.find(".k-menu-group").children().first()):"horizontal"==s.options.orientation&&(i=s._findRootParent(e),s.close(i),r=i.nextAll(rt)):(r=e.nextAll(rt),r.length||(r=e.prevAll(it))),r&&!r.length?r=s.wrapper.children(".k-item").first():r||(r=[]),s._moveHover(e,r),r},_itemLeft:function(e,t){var n,r=this;return t?(n=e.parent().closest(".k-item"),r.close(n),r._isRootItem(n)&&"horizontal"==r.options.orientation&&(n=n.prevAll(rt))):(n=e.prevAll(rt),n.length||(n=e.nextAll(it))),n.length||(n=r.wrapper.children(".k-item").last()),r._moveHover(e,n),n},_itemDown:function(e,t,n){var r,i=this;if(t)r=e.nextAll(rt);else{if(!n||e.hasClass(J))return;i.open(e),r=e.find(".k-menu-group").children().first()}return!r.length&&e.length?r=e.parent().children().first():e.length||(r=i.wrapper.children(".k-item").first()),i._moveHover(e,r),r},_itemUp:function(e,t){var n,r=this;if(t)return n=e.prevAll(rt),!n.length&&e.length?n=e.parent().children().last():e.length||(n=r.wrapper.children(".k-item").last()),r._moveHover(e,n),n},_itemEsc:function(e,t){var n,r=this;return t?(n=e.parent().closest(".k-item"),r.close(n),r._moveHover(e,n),n):e},_triggerEvent:function(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(t){var n=this,r=e(f.eventTarget(t)).closest(Y);setTimeout(function(){n._moveHover([],r),r.children(".k-content")[0]&&r.parent().closest(".k-item").removeClass($)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});v(ft,{renderItem:function(e){e=v({menu:{},group:{}},e);var t=ut.empty,n=e.item;return ut.item(v(e,{image:n.imageUrl?ut.image:t,sprite:n.spriteCssClass?ut.sprite:t,itemWrapper:ut.itemWrapper,renderContent:ft.renderContent,arrow:n.items||n.content?ut.arrow:t,subGroup:ft.renderGroup},at))},renderGroup:function(e){return ut.group(v({renderItems:function(e){for(var t="",n=0,r=e.items,i=r?r.length:0,s=v({length:i},e.group);i>n;n++)t+=ft.renderItem(v(e,{group:s,item:v({index:n},r[n])}));return t}},e,at))},renderContent:function(e){return ut.content(v(e,at))}}),a=ft.extend({init:function(t,n){var r=this;ft.fn.init.call(r,t,n),r.target=e(r.options.target),r._popup(),r._wire()},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[T,L,P,H,_],setOptions:function(t){var n=this;ft.fn.setOptions.call(n,t),n.target.off(n.showOn+S,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),ft.fn.setOptions.call(this,t)},destroy:function(){var e=this;e.target.off(e.options.showOn+S),z.off(f.support.mousedown+S,e._closeProxy),e.userEvents&&e.userEvents.destroy(),ft.fn.destroy.call(e)},open:function(n,r){var s=this;return n=e(n)[0],i(s.element[0],e(n)[0])?ft.fn.open.call(s,n):s._triggerEvent({item:s.element,type:T})===!1&&(s.popup.visible()&&s.options.filter&&s.popup.close(!0),r!==t?(s.popup.wrapper.hide(),s.popup.open(n,r)):(s.popup.options.anchor=(n?n:s.popup.anchor)||s.target,s.popup.open()),z.off(s.popup.downEvent,s.popup._mousedownProxy),z.on(f.support.mousedown+S,s._closeProxy)),s},close:function(){var t=this;i(t.element[0],e(arguments[0])[0])?ft.fn.close.call(t,arguments[0]):t.popup.visible()&&t._triggerEvent({item:t.element,type:L})===!1&&(t.popup.close(),z.off(f.support.mousedown+S,t._closeProxy),t.unbind(_,t._closeTimeoutProxy))},_showHandler:function(e){var t,n=e,r=this,s=r.options;e.event&&(n=e.event,n.pageX=e.x.location,n.pageY=e.y.location),i(r.element[0],e.relatedTarget||e.target)||(r._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),r.element.find("."+$).removeClass($),(s.filter&&f.support.matchesSelector.call(n.currentTarget,s.filter)||!s.filter)&&(s.alignToAnchor?r.open(n.currentTarget):(r.popup.options.anchor=n.currentTarget,r._targetChild?(t=r.target.offset(),r.open(n.pageX-t.left,n.pageY-t.top)):r.open(n.pageX,n.pageY))))},_closeHandler:function(t){var n,r=this,s=e(t.relatedTarget||t.target),o=s.closest(r.target.selector)[0]==r.target[0],u=s.closest(et).children(G),a=i(r.element[0],s[0]);r._eventOrigin=t,n=3!==t.which,r.popup.visible()&&(n&&o||!o)&&(r.options.closeOnClick&&!u[0]&&a||!a)&&(a?(this.unbind(_,this._closeTimeoutProxy),r.bind(_,r._closeTimeoutProxy)):r.close())},_wire:function(){var e=this,t=e.options,n=e.target;e._showProxy=m(e._showHandler,e),e._closeProxy=m(e._closeHandler,e),e._closeTimeoutProxy=m(e.close,e),n[0]&&(f.support.mobileOS&&"contextmenu"==t.showOn?(e.userEvents=new f.UserEvents(n,{filter:t.filter,allowSelection:!1}),n.on(t.showOn+S,!1),e.userEvents.bind("hold",e._showProxy)):t.filter?n.on(t.showOn+S,t.filter,e._showProxy):n.on(t.showOn+S,e._showProxy))},_triggerEvent:function(n){var r=this,i=e(r.popup.options.anchor)[0],s=r._eventOrigin;return r._eventOrigin=t,r.trigger(n.type,v({type:n.type,item:n.item||this.element[0],target:i},s?{event:s}:{}))},_popup:function(){var e=this;e._triggerProxy=m(e._triggerEvent,e),e.popup=e.element.addClass("k-context-menu").kendoPopup({anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy}).data("kendoPopup"),e._targetChild=i(e.target[0],e.popup.element[0])}}),l.plugin(ft),l.plugin(a)}(window.kendo.jQuery),function(e,t){function n(t){return e.trim(t).replace(/&nbsp;/gi,"")}function r(e,t){var n,r,i,s={};for(n=0,r=e.length;r>n;n++)i=e[n],s[i[t]]=i;return s}function i(e){var t,n=[];for(t=0;e.length>t;t++)e[t].columns?n=n.concat(i(e[t].columns)):n.push(e[t]);return n}var s=window.kendo,o=s.ui,u=e.proxy,a=e.extend,f=e.grep,l=e.map,c=e.inArray,h="k-state-selected",p="asc",d="desc",v="change",m="init",g="select",y="kendoPopup",b="kendoFilterMenu",w="kendoMenu",E=".kendoColumnMenu",S=o.Widget,x=S.extend({init:function(t,n){var r,i=this;S.fn.init.call(i,t,n),t=i.element,n=i.options,i.owner=n.owner,i.dataSource=n.dataSource,i.field=t.attr(s.attr("field")),i.title=t.attr(s.attr("title")),r=t.find(".k-header-column-menu"),r[0]||(r=t.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),i.link=r.attr("tabindex",-1).on("click"+E,u(i._click,i)),i.wrapper=e('<div class="k-column-menu"/>')},_init:function(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobile?e._createMobileMenu():e._createMenu(),e._angularItems("compile"),e._refreshHandler=u(e.refresh,e),e.dataSource.bind(v,e._refreshHandler),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger(m,{field:e.field,container:e.wrapper})},events:[m],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var e=this,t=e.options;e.wrapper.html(s.template(T)({ns:s.ns,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns})),e.popup=e.wrapper[y]({anchor:e.link,open:u(e._open,e),activate:u(e._activate,e),close:function(){e.options.closeCallback&&e.options.closeCallback(e.element)}}).data(y),e.menu=e.wrapper.children()[w]({orientation:"vertical",closeOnClick:!1}).data(w)},_createMobileMenu:function(){var e=this,t=e.options,n=s.template(N)({ns:s.ns,field:e.field,title:e.title||e.field,messages:t.messages,sortable:t.sortable,filterable:t.filterable,columns:e._ownerColumns(),showColumns:t.columns,lockedColumns:t.lockedColumns});e.view=e.pane.append(n),e.wrapper=e.view.element.find(".k-column-menu"),e.menu=new C(e.wrapper.children(),{pane:e.pane}),e.view.element.on("click",".k-done",function(t){e.close(),t.preventDefault()}),e.options.lockedColumns&&e.view.bind("show",function(){e._updateLockedColumns()})},_angularItems:function(t){var n=this;n.angular(t,function(){var t=n.wrapper.find(".k-columns-item input["+s.attr("field")+"]").map(function(){return e(this).closest("li")}),r=l(n._ownerColumns(),function(e){return{column:e._originalObject}});return{elements:t,data:r}})},destroy:function(){var e=this;e._angularItems("cleanup"),S.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(v,e._refreshHandler),e.options.columns&&e.owner&&(e._updateColumnsMenuHandler&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e._updateColumnsLockedStateHandler&&(e.owner.unbind("columnLock",e._updateColumnsLockedStateHandler),e.owner.unbind("columnUnlock",e._updateColumnsLockedStateHandler))),e.menu&&(e.menu.element.off(E),e.menu.destroy()),e.wrapper.off(E),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(E),e.owner=null,e.wrapper=null,e.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+E))},_click:function(e){e.preventDefault(),e.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var t=this;e(".k-column-menu").not(t.wrapper).each(function(){e(this).data(y).close()}),t.popup.element.on("keydown"+E,function(e){e.keyCode==s.keys.ESC&&t.close()}),t.options.lockedColumns&&t._updateLockedColumns()},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var e=i(this.owner.columns),t=f(e,function(e){var t=!0,r=n(e.title||"");return(e.menu===!1||!e.field&&!r.length)&&(t=!1),t});return l(t,function(t){return{originalField:t.field,field:t.field||t.title,title:t.title||t.field,hidden:t.hidden,index:c(t,e),locked:!!t.locked,_originalObject:t}})},_sort:function(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(g,function(n){var r,i=e(n.item);i.hasClass("k-sort-asc")?r=p:i.hasClass("k-sort-desc")&&(r=d),r&&(i.parent().find(".k-sort-"+(r==p?d:p)).removeClass(h),t._sortDataSource(i,r),t.close())}))},_sortDataSource:function(e,n){var r,i,s=this,o=s.options.sortable,u=null===o.compare?t:o.compare,a=s.dataSource,f=a.sort()||[];if(e.hasClass(h)&&o&&o.allowUnsort!==!1?(e.removeClass(h),n=t):e.addClass(h),"multiple"===o.mode){for(r=0,i=f.length;i>r;r++)if(f[r].field===s.field){f.splice(r,1);break}f.push({field:s.field,dir:n,compare:u})}else f=[{field:s.field,dir:n,compare:u}];a.sort(f)},_columns:function(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=u(t._updateColumnsMenu,t),t.owner.bind(["columnHide","columnShow"],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=u(t._updateColumnsLockedState,t),t.owner.bind(["columnUnlock","columnLock"],t._updateColumnsLockedStateHandler),t.menu.bind(g,function(n){var r,o,u,a=e(n.item),l=i(t.owner.columns);t._isMobile&&n.preventDefault(),a.parent().closest("li.k-columns-item")[0]&&(r=a.find(":checkbox"),r.attr("disabled")||(u=r.attr(s.attr("field")),o=f(l,function(e){return e.field==u||e.title==u})[0],o.hidden===!0?t.owner.showColumn(o):t.owner.hideColumn(o)))}))},_updateColumnsMenu:function(){var e,t,n,r,i,o,u=s.attr("field"),a=s.attr("locked"),h=f(this._ownerColumns(),function(e){return!e.hidden}),p=f(h,function(e){return e.originalField}),d=f(p,function(e){return e.locked===!0}).length,v=f(p,function(e){return e.locked!==!0}).length;for(h=l(h,function(e){return e.field}),o=this.wrapper.find(".k-columns-item input["+u+"]").prop("disabled",!1).prop("checked",!1),e=0,t=o.length;t>e;e++)n=o.eq(e),i="true"===n.attr(a),r=!1,c(n.attr(u),h)>-1&&(r=!0,n.prop("checked",r)),r&&(1==d&&i&&n.prop("disabled",!0),1!=v||i||n.prop("disabled",!0))},_updateColumnsLockedState:function(){var e,t,n,i,o=s.attr("field"),u=s.attr("locked"),a=r(this._ownerColumns(),"field"),f=this.wrapper.find(".k-columns-item input[type=checkbox]");for(e=0,t=f.length;t>e;e++)n=f.eq(e),i=a[n.attr(o)],i&&n.attr(u,i.locked);this._updateColumnsMenu()},_filter:function(){var t=this,n=b,r=t.options;r.filterable!==!1&&(r.filterable.multi&&(n="kendoFilterMultiCheck",r.filterable.dataSource&&(r.filterable.checkSource=r.filterable.dataSource,delete r.filterable.dataSource)),t.filterMenu=t.wrapper.find(".k-filterable")[n](a(!0,{},{appendToElement:!0,dataSource:r.dataSource,values:r.values,field:t.field,title:t.title},r.filterable)).data(n),t._isMobile&&t.menu.bind(g,function(n){var r=e(n.item);r.hasClass("k-filter-item")&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)}))},_lockColumns:function(){var t=this;t.menu.bind(g,function(n){var r=e(n.item);r.hasClass("k-lock")?(t.owner.lockColumn(t.field),t.close()):r.hasClass("k-unlock")&&(t.owner.unlockColumn(t.field),t.close())})},_updateLockedColumns:function(){var e,t,n,r,i=this.field,s=this.owner.columns,o=f(s,function(e){return e.field==i||e.title==i})[0];o&&(e=o.locked===!0,t=f(s,function(t){return!t.hidden&&(t.locked&&e||!t.locked&&!e)}).length,n=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),r=this.wrapper.find(".k-unlock").removeClass("k-state-disabled"),(e||1==t)&&n.addClass("k-state-disabled"),e&&1!=t||r.addClass("k-state-disabled"),this._updateColumnsLockedState())},refresh:function(){var e,t,n,r=this,i=r.options.dataSource.sort()||[],s=r.field;for(r.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(h),t=0,n=i.length;n>t;t++)e=i[t],s==e.field&&r.wrapper.find(".k-sort-"+e.dir).addClass(h);r.link[r._filterExist(r.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(e){var t,n,r,i=!1;if(e){for(e=e.filters,n=0,r=e.length;r>n;n++)t=e[n],t.field==this.field?i=!0:t.filters&&(i=i||this._filterExist(t));return i}}}),T='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',N='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${title}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',C=S.extend({init:function(e,t){S.fn.init.call(this,e,t),this.element.on("click"+E,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[g],_click:function(t){e(t.target).is("[type=checkbox]")||t.preventDefault(),this.trigger(g,{item:t.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){S.fn.destroy.call(this),this.element.off(E)}});o.plugin(x)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=r.Widget,s="dir",o="asc",u="single",a="field",f="desc",l=".kendoColumnSorter",c=".k-link",h="aria-sort",p=e.proxy,d=i.extend({init:function(e,t){var n,r=this;i.fn.init.call(r,e,t),r._refreshHandler=p(r.refresh,r),r.dataSource=r.options.dataSource.bind("change",r._refreshHandler),n=r.element.find(c),n[0]||(n=r.element.wrapInner('<a class="k-link" href="#"/>').find(c)),r.link=n,r.element.on("click"+l,p(r._click,r))},options:{name:"ColumnSorter",mode:u,allowUnsort:!0,compare:null,filter:""},destroy:function(){var e=this;i.fn.destroy.call(e),e.element.off(l),e.dataSource.unbind("change",e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refresh:function(){var t,r,i,u,l=this,c=l.dataSource.sort()||[],p=l.element,d=p.attr(n.attr(a));for(p.removeAttr(n.attr(s)),p.removeAttr(h),t=0,r=c.length;r>t;t++)i=c[t],d==i.field&&p.attr(n.attr(s),i.dir);u=p.attr(n.attr(s)),p.find(".k-i-arrow-n,.k-i-arrow-s").remove(),u===o?(e('<span class="k-icon k-i-arrow-n" />').appendTo(l.link),p.attr(h,"ascending")):u===f&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(l.link),p.attr(h,"descending"))},_click:function(e){var r,i,l=this,c=l.element,h=c.attr(n.attr(a)),p=c.attr(n.attr(s)),d=l.options,v=null===l.options.compare?t:l.options.compare,m=l.dataSource.sort()||[];if(e.preventDefault(),!d.filter||c.is(d.filter)){if(p=p===o?f:p===f&&d.allowUnsort?t:o,d.mode===u)m=[{field:h,dir:p,compare:v}];else if("multiple"===d.mode){for(r=0,i=m.length;i>r;r++)if(m[r].field===h){m.splice(r,1);break}m.push({field:h,dir:p,compare:v})}this.dataSource.sort(m)}}});r.plugin(d)}(window.kendo.jQuery),function(e,t){function n(t){return t=null!=t?t:"",t.type||e.type(t)||"string"}function r(t){t.find(":input:not(:button, ["+u.attr("role")+"=upload], ["+u.attr("skip")+"], [type=file]), select").each(function(){var t=u.attr("bind"),n=this.getAttribute(t)||"",r="checkbox"===this.type||"radio"===this.type?"checked:":"value:",i=this.name;-1===n.indexOf(r)&&i&&(n+=(n.length?",":"")+r+i,e(this).attr(t,n))})}function i(e){var t,r,i=(e.model.fields||e.model)[e.field],s=n(i),o=i?i.validation:{},a=u.attr("type"),f=u.attr("bind"),l={name:e.field};for(t in o)r=o[t],d(t,y)>=0?l[a]=t:h(r)||(l[t]=p(r)?r.value||t:r),l[u.attr(t+"-msg")]=r.message;return d(s,y)>=0&&(l[a]=s),l[f]=("boolean"===s?"checked:":"value:")+e.field,l}function s(e){var t,n,r,i,s,o;if(e&&e.length)for(o=[],t=0,n=e.length;n>t;t++)r=e[t],s=r.text||r.value||r,i=null==r.value?r.text||r:r.value,o[t]={text:s,value:i};return o}function o(e,t){var n,r,i=e?e.validation||{}:{};for(n in i)r=i[n],p(r)&&r.value&&(r=r.value),h(r)&&(t[n]=r)}var u=window.kendo,a=u.ui,f=a.Widget,l=e.extend,c=u.support.browser.msie&&9>u.support.browser.version,h=u.isFunction,p=e.isPlainObject,d=e.inArray,v=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,m='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',g="change",y=["url","email","number","date","boolean"],b={number:function(t,n){var r=i(n);e('<input type="text"/>').attr(r).appendTo(t).kendoNumericTextBox({format:n.format}),e("<span "+u.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,n){var r=i(n),s=n.format;s&&(s=u._extractFormat(s)),r[u.attr("format")]=s,e('<input type="text"/>').attr(r).appendTo(t).kendoDatePicker({format:n.format}),e("<span "+u.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,n){var r=i(n);e('<input type="text" class="k-input k-textbox"/>').attr(r).appendTo(t)},"boolean":function(t,n){var r=i(n);e('<input type="checkbox" />').attr(r).appendTo(t)},values:function(t,n){var r=i(n);e("<select "+u.attr("text-field")+'="text"'+u.attr("value-field")+'="value"'+u.attr("source")+"='"+u.stringify(s(n.values)).replace(/\'/g,"&apos;")+"'"+u.attr("role")+'="dropdownlist"/>').attr(r).appendTo(t),e("<span "+u.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},w=f.extend({init:function(t,n){var r=this;n.target&&(n.$angular=n.target.options.$angular),f.fn.init.call(r,t,n),r._validateProxy=e.proxy(r._validate,r),r.refresh()},events:[g],options:{name:"Editable",editors:b,clearContainer:!0,errorTemplate:m},editor:function(e,t){var r=this,i=r.options.editors,s=p(e),o=s?e.field:e,a=r.options.model||{},f=s&&e.values,c=f?"values":n(t),h=s&&e.editor,d=h?e.editor:i[c],m=r.element.find("["+u.attr("container-for")+"="+o.replace(v,"\\$1")+"]");d=d?d:i.string,h&&"string"==typeof e.editor&&(d=function(t){t.append(e.editor)}),m=m.length?m:r.element,d(m,l(!0,{},s?e:{field:o},{model:a}))},_validate:function(t){var n,r=this,i=t.value,s=r._validationEventInProgress,o={},a=u.attr("bind"),f=t.field.replace(v,"\\$1"),l=RegExp("(value|checked)\\s*:\\s*"+f+"\\s*(,|$)");o[t.field]=t.value,n=e(":input["+a+'*="'+f+'"]',r.element).filter("["+u.attr("validate")+"!='false']").filter(function(){return l.test(e(this).attr(a))}),n.length>1&&(n=n.filter(function(){var t=e(this);return!t.is(":radio")||t.val()==i}));try{r._validationEventInProgress=!0,(!r.validatable.validateInput(n)||!s&&r.trigger(g,{values:o}))&&t.preventDefault()}finally{r._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element}}),f.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),u.unbind(e.element),e.validatable&&e.validatable.destroy(),u.destroy(e.element),e.element.removeData("kendoValidator")},refresh:function(){var n,i,s,a,f,l,h,d,v=this,m=v.options.fields||[],g=v.options.clearContainer?v.element.empty():v.element,y=v.options.model||{},b={};for(e.isArray(m)||(m=[m]),n=0,i=m.length;i>n;n++)s=m[n],a=p(s),f=a?s.field:s,l=(y.fields||y)[f],o(l,b),v.editor(s,l);if(v.options.target&&v.angular("compile",function(){return{elements:g,data:[{dataItem:y}]}}),!i){h=y.fields||y;for(f in h)o(h[f],b)}r(g),v.validatable&&v.validatable.destroy(),u.bind(g,v.options.model),v.options.model.unbind("set",v._validateProxy),v.options.model.bind("set",v._validateProxy),v.validatable=new u.ui.Validator(g,{validateOnBlur:!1,errorTemplate:v.options.errorTemplate||t,rules:b}),d=g.find(":kendoFocusable").eq(0).focus(),c&&d.focus()}});a.plugin(w)}(window.kendo.jQuery),function(e,t){function n(e){return t!==e}function r(e,t,n){return Math.max(Math.min(parseInt(e,10),1/0===n?n:parseInt(n,10)),parseInt(t,10))}function i(e,t){return function(){var n=this,r=n.wrapper,i=r[0].style,s=n.options;return s.isMaximized||s.isMinimized?n:(n.restoreOptions={width:i.width,height:i.height},r.children(x).hide().end().children(E).find(X).parent().hide().eq(0).before(Z.action({name:"Restore"})),t.call(n),"maximize"==e?n.wrapper.children(E).find(J).parent().hide():n.wrapper.children(E).find(J).parent().show(),n)}}function s(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function o(e){var t=this;t.owner=e,t._draggable=new l(e.wrapper,{filter:">"+x,group:e.wrapper.id+"-resizing",dragstart:p(t.dragstart,t),drag:p(t.drag,t),dragend:p(t.dragend,t)}),t._draggable.userEvents.bind("press",p(t.addOverlay,t)),t._draggable.userEvents.bind("release",p(t.removeOverlay,t))}function u(e,t){var n=this;n.owner=e,n._draggable=new l(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:p(n.dragstart,n),drag:p(n.drag,n),dragend:p(n.dragend,n),dragcancel:p(n.dragcancel,n)}),n._draggable.userEvents.stopPropagation=!1}var a=window.kendo,f=a.ui.Widget,l=a.ui.Draggable,c=e.isPlainObject,h=a._activeElement,p=e.proxy,d=e.extend,v=e.each,m=a.template,g="body",y=".kendoWindow",b=".k-window",w=".k-window-title",E=w+"bar",S=".k-window-content",x=".k-resize-handle",T=".k-overlay",N="k-content-frame",C="k-loading",k="k-state-hover",L="k-state-focused",A="k-window-maximized",O=":visible",M="hidden",_="cursor",D="open",P="activate",H="deactivate",B="close",j="refresh",F="resize",I="resizeEnd",q="dragstart",R="dragend",U="error",z="overflow",W="zIndex",X=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",V=".k-i-pin",$=".k-i-unpin",J=V+","+$,K=".k-window-titlebar .k-window-action",Q=".k-window-titlebar .k-i-refresh",G=a.isLocalUrl,Y=f.extend({init:function(r,i){var o,u,l,h,d,v,m,g=this,x={},T=!1,N=i&&i.actions&&!i.actions.length;f.fn.init.call(g,r,i),i=g.options,h=i.position,r=g.element,d=i.content,N&&(i.actions=[]),g.appendTo=e(i.appendTo),g._animations(),d&&!c(d)&&(d=i.content={url:d}),r.find("script").filter(s).remove(),r.parent().is(g.appendTo)||h.top!==t&&h.left!==t||(r.is(O)?(x=r.offset(),T=!0):(u=r.css("visibility"),l=r.css("display"),r.css({visibility:M,display:""}),x=r.offset(),r.css({visibility:u,display:l})),h.top===t&&(h.top=x.top),h.left===t&&(h.left=x.left)),n(i.visible)&&null!==i.visible||(i.visible=r.is(O)),o=g.wrapper=r.closest(b),r.is(".k-content")&&o[0]||(r.addClass("k-window-content k-content"),g._createWindow(r,i),o=g.wrapper=r.closest(b),g._dimensions()),g._position(),i.pinned&&g.pin(!0),d&&g.refresh(d),i.visible&&g.toFront(),v=o.children(S),g._tabindex(v),i.visible&&i.modal&&g._overlay(o.is(O)).css({opacity:.5}),o.on("mouseenter"+y,K,p(g._buttonEnter,g)).on("mouseleave"+y,K,p(g._buttonLeave,g)).on("click"+y,"> "+K,p(g._windowActionHandler,g)),v.on("keydown"+y,p(g._keydown,g)).on("focus"+y,p(g._focus,g)).on("blur"+y,p(g._blur,g)),this._resizable(),this._draggable(),m=r.attr("id"),m&&(m+="_wnd_title",o.children(E).children(w).attr("id",m),v.attr({role:"dialog","aria-labelledby":m})),o.add(o.children(".k-resize-handle,"+E)).on("mousedown"+y,p(g.toFront,g)),g.touchScroller=a.touchScroller(r),g._resizeHandler=p(g._onDocumentResize,g),g._marker=a.guid().substring(0,8),e(window).on("resize"+y+g._marker,g._resizeHandler),i.visible&&(g.trigger(D),g.trigger(P)),a.notify(g)},_buttonEnter:function(t){e(t.currentTarget).addClass(k)},_buttonLeave:function(t){e(t.currentTarget).removeClass(k)},_focus:function(){this.wrapper.addClass(L)},_blur:function(){this.wrapper.removeClass(L)},_dimensions:function(){var e,t,n=this.wrapper,i=this.options,s=i.width,o=i.height,u=i.maxHeight,a=["minWidth","minHeight","maxWidth","maxHeight"];for(this.title(i.title),e=0;a.length>e;e++)t=i[a[e]],t&&1/0!=t&&n.css(a[e],t);u&&1/0!=u&&this.element.css("maxHeight",u),s&&n.width((""+s).indexOf("%")>0?s:r(s,i.minWidth,i.maxWidth)),o&&n.height((""+o).indexOf("%")>0?o:r(o,i.minHeight,i.maxHeight)),i.visible||n.hide()},_position:function(){var e=this.wrapper,t=this.options.position;0===t.top&&(t.top=""+t.top),0===t.left&&(t.left=""+t.left),e.css({top:t.top||"",left:t.left||""})},_animations:function(){var e=this.options;e.animation===!1&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){a.resize(this.element.children())},_resizable:function(){var t=this.options.resizable,n=this.wrapper;this.resizing&&(n.off("dblclick"+y).children(x).remove(),this.resizing.destroy(),this.resizing=null),t&&(n.on("dblclick"+y,E,p(function(t){e(t.target).closest(".k-window-action").length||this.toggleMaximization()},this)),v("n e s w se sw ne nw".split(" "),function(e,t){n.append(Z.resizeHandle(t))}),this.resizing=new o(this)),n=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new u(this,e.dragHandle||E))},_actions:function(){var t=this.options.actions,n=this.wrapper.children(E),r=n.find(".k-window-actions");t=e.map(t,function(e){return{name:e}}),r.html(a.render(Z.action,t))},setOptions:function(e){f.fn.setOptions.call(this,e),this.restore(),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions()},events:[D,P,H,B,j,F,I,q,R,U],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(e){return e.toLowerCase()}))>-1},_keydown:function(e){var t,n,i,s,o,u,f=this,l=f.options,c=a.keys,h=e.keyCode,p=f.wrapper,d=10,v=f.options.isMaximized;e.target!=e.currentTarget||f._closing||(h==c.ESC&&f._closable()&&f._close(!1),!l.draggable||e.ctrlKey||v||(t=a.getOffset(p),h==c.UP?n=p.css("top",t.top-d):h==c.DOWN?n=p.css("top",t.top+d):h==c.LEFT?n=p.css("left",t.left-d):h==c.RIGHT&&(n=p.css("left",t.left+d))),l.resizable&&e.ctrlKey&&!v&&(h==c.UP?(n=!0,s=p.height()-d):h==c.DOWN&&(n=!0,s=p.height()+d),h==c.LEFT?(n=!0,i=p.width()-d):h==c.RIGHT&&(n=!0,i=p.width()+d),n&&(o=r(i,l.minWidth,l.maxWidth),u=r(s,l.minHeight,l.maxHeight),isNaN(o)||(p.width(o),f.options.width=o+"px"),isNaN(u)||(p.height(u),f.options.height=u+"px"),f.resize())),n&&e.preventDefault())},_overlay:function(t){var n=this.appendTo.children(T),r=this.wrapper;return n.length||(n=e("<div class='k-overlay' />")),n.insertBefore(r[0]).toggle(t).css(W,parseInt(r.css(W),10)-1),n},_actionForIcon:function(e){var t=/\bk-i-\w+\b/.exec(e[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(n){var r,i;if(!this._closing)return r=e(n.target).closest(".k-window-action").find(".k-icon"),i=this._actionForIcon(r),i?(n.preventDefault(),this[i](),!1):t},_modals:function(){var t=this,n=e(b).filter(function(){var n=e(this),r=t._object(n),i=r&&r.options;return i&&i.modal&&i.visible&&n.is(O)}).sort(function(t,n){return+e(t).css("zIndex")- +e(n).css("zIndex")});return t=null,n},_object:function(e){var n=e.children(S),r=a.widgetInstance(n);return r instanceof Y?r:t},center:function(){var t,n,r=this,i=r.options.position,s=r.wrapper,o=e(window),u=0,a=0;return r.options.isMaximized?r:(r.options.pinned||(u=o.scrollTop(),a=o.scrollLeft()),n=a+Math.max(0,(o.width()-s.width())/2),t=u+Math.max(0,(o.height()-s.height()-parseInt(s.css("paddingTop"),10))/2),s.css({left:n,top:t}),i.top=t,i.left=n,r)},title:function(e){var t,n=this,r=n.wrapper,i=n.options,s=r.children(E),o=s.children(w);return arguments.length?(e===!1?(r.addClass("k-window-titleless"),s.remove()):(s.length?o.html(e):(r.prepend(Z.titlebar(i)),n._actions(),s=r.children(E)),t=s.outerHeight(),r.css("padding-top",t),s.css("margin-top",-t)),n.options.title=e,n):o.text()},content:function(e,t){var r=this.wrapper.children(S),i=r.children(".km-scroll-container");return r=i[0]?i:r,n(e)?(this.angular("cleanup",function(){return{elements:r.children()}}),a.destroy(this.element.children()),r.empty().html(e),this.angular("compile",function(){var e,n=[];for(e=r.length;--e>=0;)n.push({dataItem:t});return{elements:r.children(),data:n}}),this):r.html()},open:function(){var t,n,r=this,i=r.wrapper,s=r.options,o=s.animation.open,u=i.children(S),f=e(document);return r.trigger(D)||(r._closing&&i.kendoStop(!0,!0),r._closing=!1,r.toFront(),s.autoFocus&&r.element.focus(),s.visible=!0,s.modal&&(t=r._overlay(!1),t.kendoStop(!0,!0),o.duration&&a.effects.Fade?(n=a.fx(t).fadeIn(),n.duration(o.duration||0),n.endValue(.5),n.play()):t.css("opacity",.5),t.show()),i.is(O)||(u.css(z,M),i.show().kendoStop().kendoAnimate({effects:o.effects,duration:o.duration,complete:p(this._activate,this)}))),s.isMaximized&&(r._documentScrollTop=f.scrollTop(),r._documentScrollLeft=f.scrollLeft(),e("html, body").css(z,M)),r},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(P),this.wrapper.children(S).css(z,"")},_removeOverlay:function(n){var r,i=this._modals(),s=this.options,o=s.modal&&!i.length,u=s.modal?this._overlay(!0):e(t),f=s.animation.close;o?!n&&f.duration&&a.effects.Fade?(r=a.fx(u).fadeOut(),r.duration(f.duration||0),r.startValue(.5),r.play()):this._overlay(!1).remove():i.length&&this._object(i.last())._overlay(!0)},_close:function(t){var n=this,r=n.wrapper,i=n.options,s=i.animation.open,o=i.animation.close,u=e(document);if(r.is(O)&&!n.trigger(B,{userTriggered:!t})){if(n._closing)return;n._closing=!0,i.visible=!1,e(b).each(function(t,n){var i=e(n).children(S);n!=r&&i.find("> ."+N).length>0&&i.children(T).remove()}),this._removeOverlay(),r.kendoStop().kendoAnimate({effects:o.effects||s.effects,reverse:o.reverse===!0,duration:o.duration,complete:p(this._deactivate,this)})}n.options.isMaximized&&(e("html, body").css(z,""),n._documentScrollTop&&n._documentScrollTop>0&&u.scrollTop(n._documentScrollTop),n._documentScrollLeft&&n._documentScrollLeft>0&&u.scrollLeft(n._documentScrollLeft))},_deactivate:function(){var e,t=this;t.wrapper.hide().css("opacity",""),t.trigger(H),t.options.modal&&(e=t._object(t._modals().last()),e&&e.toFront())},close:function(){return this._close(!0),this},_actionable:function(t){return e(t).is(K+","+K+" .k-icon,:input,a")},_shouldFocus:function(t){var n=h(),r=this.element;return!(!this.options.autoFocus||e(n).is(r)||this._actionable(t)||r.find(n).length&&r.find(t).length)},toFront:function(t){var n,r,i=this,s=i.wrapper,o=s[0],u=+s.css(W),a=u,f=t&&t.target||null;return e(b).each(function(t,n){var r=e(n),i=r.css(W),s=r.children(S);isNaN(i)||(u=Math.max(+i,u)),n!=o&&s.find("> ."+N).length>0&&s.append(Z.overlay)}),(!s[0].style.zIndex||u>a)&&s.css(W,u+2),i.element.find("> .k-overlay").remove(),i._shouldFocus(f)&&(i.element.focus(),n=e(window).scrollTop(),r=parseInt(s.position().top,10),r>0&&n>r&&(n>0?e(window).scrollTop(r):s.css("top",n))),s=null,i},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,n=t.options,r=n.minHeight,i=t.restoreOptions,s=e(document);return n.isMaximized||n.isMinimized?(r&&1/0!=r&&t.wrapper.css("min-height",r),t.wrapper.css({position:n.pinned?"fixed":"absolute",left:i.left,top:i.top,width:i.width,height:i.height}).removeClass(A).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(X).parent().show().end().end().find(J).parent().show(),t.options.width=i.width,t.options.height=i.height,e("html, body").css(z,""),this._documentScrollTop&&this._documentScrollTop>0&&s.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&s.scrollLeft(this._documentScrollLeft),n.isMaximized=n.isMinimized=!1,t.resize(),t):t},maximize:i("maximize",function(){var t=this,n=t.wrapper,r=n.position(),i=e(document);d(t.restoreOptions,{left:r.left,top:r.top}),n.css({left:0,top:0,position:"fixed"}).addClass(A),this._documentScrollTop=i.scrollTop(),this._documentScrollLeft=i.scrollLeft(),e("html, body").css(z,M),t.options.isMaximized=!0,t._onDocumentResize()}),minimize:i("minimize",function(){var e=this;e.wrapper.css({height:"",minHeight:""}),e.element.hide(),e.options.isMinimized=!0}),pin:function(t){var n=this,r=e(window),i=n.wrapper,s=parseInt(i.css("top"),10),o=parseInt(i.css("left"),10);(t||!n.options.pinned&&!n.options.isMaximized)&&(i.css({position:"fixed",top:s-r.scrollTop(),left:o-r.scrollLeft()}),i.children(E).find(V).addClass("k-i-unpin").removeClass("k-i-pin"),n.options.pinned=!0)},unpin:function(){var t=this,n=e(window),r=t.wrapper,i=parseInt(r.css("top"),10),s=parseInt(r.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(r.css({position:"",top:i+n.scrollTop(),left:s+n.scrollLeft()}),r.children(E).find($).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var t,n,r=this,i=r.wrapper,s=e(window),o=a.support.zoomLevel();r.options.isMaximized&&(t=s.width()/o,n=s.height()/o-parseInt(i.css("padding-top"),10),i.css({width:t,height:n}),r.options.width=t,r.options.height=n,r.resize())},refresh:function(t){var r,i,s,o=this,u=o.options,a=e(o.element);return c(t)||(t={url:t}),t=d({},u.content,t),i=n(u.iframe)?u.iframe:t.iframe,s=t.url,s?(n(i)||(i=!G(s)),i?(r=a.find("."+N)[0],r?r.src=s||r.src:a.html(Z.contentFrame(d({},u,{content:t}))),a.find("."+N).unbind("load"+y).on("load"+y,p(this._triggerRefresh,this))):o._ajaxRequest(t)):(t.template&&o.content(m(t.template)({})),o.trigger(j)),a.toggleClass("k-window-iframecontent",!!i),o},_triggerRefresh:function(){this.trigger(j)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(Q).removeClass(C)},_ajaxError:function(e,t){this.trigger(U,{status:t,xhr:e})},_ajaxSuccess:function(e){return function(t){var n=t;e&&(n=m(e)(t||{})),this.content(n,t),this.element.prop("scrollTop",0),this.trigger(j)}},_showLoading:function(){this.wrapper.find(Q).addClass(C)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(p(this._showLoading,this),100),e.ajax(d({type:"GET",dataType:"html",cache:!1,error:p(this._ajaxError,this),complete:p(this._ajaxComplete,this),success:p(this._ajaxSuccess(t.template),this)},t))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(y).children(S).off(y).end().find(".k-resize-handle,.k-window-titlebar").off(y),e(window).off("resize"+y+this._marker),clearTimeout(this._loadingIconTimeout),f.fn.destroy.call(this),this.unbind(t),a.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=e()},_createWindow:function(){var t,n,r=this.element,i=this.options,s=a.support.isRtl(r);i.scrollable===!1&&r.attr("style","overflow:hidden;"),n=e(Z.wrapper(i)),t=r.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),n.toggleClass("k-rtl",s).appendTo(this.appendTo).append(r).find("iframe:not(.k-content)").each(function(e){this.src=t[e]}),n.find(".k-window-title").css(s?"left":"right",n.find(".k-window-actions").outerWidth()+10),r.css("visibility","").show(),r.find("[data-role=editor]").each(function(){var t=e(this).data("kendoEditor");t&&t.refresh()}),n=r=null}}),Z={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='"+N+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};o.prototype={addOverlay:function(){this.owner.wrapper.append(Z.overlay)},removeOverlay:function(){this.owner.wrapper.find(T).remove()},dragstart:function(t){var n=this,r=n.owner,i=r.wrapper;n.elementPadding=parseInt(i.css("padding-top"),10),n.initialPosition=a.getOffset(i,"position"),n.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),n.initialSize={width:i.width(),height:i.height()},n.containerOffset=a.getOffset(r.appendTo,"position"),i.children(x).not(t.currentTarget).hide(),e(g).css(_,t.currentTarget.css(_))},drag:function(e){var t,n,i,s,o=this,u=o.owner,a=u.wrapper,f=u.options,l=o.resizeDirection,c=o.containerOffset,h=o.initialPosition,p=o.initialSize,d=Math.max(e.x.location,c.left),v=Math.max(e.y.location,c.top);l.indexOf("e")>=0?(t=d-h.left,a.width(r(t,f.minWidth,f.maxWidth))):l.indexOf("w")>=0&&(s=h.left+p.width,t=r(s-d,f.minWidth,f.maxWidth),a.css({left:s-t-c.left,width:t})),l.indexOf("s")>=0?(n=v-h.top-o.elementPadding,a.height(r(n,f.minHeight,f.maxHeight))):l.indexOf("n")>=0&&(i=h.top+p.height,n=r(i-v,f.minHeight,f.maxHeight),a.css({top:i-n-c.top,height:n})),t&&(u.options.width=t+"px"),n&&(u.options.height=n+"px"),u.resize()},dragend:function(t){var n=this,r=n.owner,i=r.wrapper;return i.children(x).not(t.currentTarget).show(),e(g).css(_,""),r.touchScroller&&r.touchScroller.reset(),27==t.keyCode&&i.css(n.initialPosition).css(n.initialSize),r.trigger(I),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},u.prototype={dragstart:function(t){var n=this.owner,r=n.element,i=r.find(".k-window-actions"),s=a.getOffset(n.appendTo);n.trigger(q),n.initialWindowPosition=a.getOffset(n.wrapper,"position"),n.startPosition={left:t.x.client-n.initialWindowPosition.left,top:t.y.client-n.initialWindowPosition.top},n.minLeftPosition=i.length>0?i.outerWidth()+parseInt(i.css("right"),10)-r.outerWidth():20-r.outerWidth(),n.minLeftPosition-=s.left,n.minTopPosition=-s.top,n.wrapper.append(Z.overlay).children(x).hide(),e(g).css(_,t.currentTarget.css(_))},drag:function(t){var n=this.owner,r=n.options.position,i=Math.max(t.y.client-n.startPosition.top,n.minTopPosition),s=Math.max(t.x.client-n.startPosition.left,n.minLeftPosition),o={left:s,top:i};e(n.wrapper).css(o),r.top=i,r.left=s},_finishDrag:function(){var t=this.owner;t.wrapper.children(x).toggle(!t.options.isMinimized).end().find(T).remove(),e(g).css(_,"")},dragcancel:function(e){this._finishDrag(),e.currentTarget.closest(b).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(R),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},a.ui.plugin(Y)}(window.kendo.jQuery),function(e,t){function n(e){var t,n,r=e.find(S("popover")),i=u.roles;for(t=0,n=r.length;n>t;t++)s.initWidget(r[t],{},i)}function r(e){s.triggeredByInput(e)||e.preventDefault()}function i(t){t.each(function(){s.initWidget(e(this),{},u.roles)})}var s=window.kendo,o=s.mobile,u=o.ui,a=s.attr,f=u.Widget,l=s.ViewClone,c="init",h='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',p="beforeShow",d="show",v="afterShow",m="beforeHide",g="transitionEnd",y="transitionStart",b="hide",w="destroy",E=s.attrValue,S=s.roleSelector,x=s.directiveSelector,T=s.compileMobileDirective,N=f.extend({init:function(t,n){f.fn.init.call(this,t,n),this.params={},e.extend(this,n),this.transition=this.transition||this.defaultTransition,this._id(),this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:[c,p,d,v,m,b,w,y,g],options:{name:"View",title:"",layout:null,getLayout:e.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(e){t===e&&(e=!0),e?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),this.trigger(w),f.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),s.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return this.trigger(p,{view:this})?!1:!0},triggerBeforeHide:function(){return this.trigger(m,{view:this})?!1:!0},showStart:function(){var e=this.element;e.css("display",""),this.inited?this._invokeNgController():(this.inited=!0,this.trigger(c,{view:this})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(d,{view:this}),s.resize(e)},showEnd:function(){this.trigger(v,{view:this}),this._padIfNativeScrolling()},hideEnd:function(){var e=this;e.element.hide(),e.trigger(b,{view:e}),e.layout&&e.layout.trigger(b,{view:e,layout:e.layout})},beforeTransition:function(e){this.trigger(y,{type:e})},afterTransition:function(e){this.trigger(g,{type:e})},_padIfNativeScrolling:function(){if(o.appLevelNativeScrolling()){var e=s.support.mobileOS&&s.support.mobileOS.android,t=o.application.skin()||"",n=o.application.os.android||t.indexOf("android")>-1,r="flat"===t||t.indexOf("material")>-1,i=!e&&!n||r?"header":"footer",u=!e&&!n||r?"footer":"header";this.content.css({paddingTop:this[i].height(),paddingBottom:this[u].height()})}},contentElement:function(){var e=this;return e.options.stretch?e.content:e.scrollerContent},clone:function(){return new l(this)},_scroller:function(){var t=this;o.appLevelNativeScrolling()||(t.options.stretch?t.content.addClass("km-stretched-view"):(t.content.kendoMobileScroller(e.extend(t.options.scroller,{zoom:t.options.zoom,useNative:t.options.useNativeScrolling})),t.scroller=t.content.data("kendoMobileScroller"),t.scrollerContent=t.scroller.scrollElement),s.support.kineticScrollNeeded&&(e(t.element).on("touchmove",".km-header",r),t.options.useNativeScrolling||e(t.element).on("touchmove",".km-content",r)))},_model:function(){var e=this,t=e.element,r=e.options.model;"string"==typeof r&&(r=s.getter(r)(e.options.modelScope)),e.model=r,n(t),e.element.css("display",""),e.options.initWidgets&&(r?s.bind(t,r,u,s.ui,s.dataviz.ui):o.init(t.children())),e.element.css("display","none")},_id:function(){var e=this.element,t=e.attr("id")||"";this.id=E(e,"url")||"#"+t,"#"==this.id&&(this.id=s.guid(),e.attr("id",this.id))},_layout:function(){var e=S("content"),t=this.element;t.addClass("km-view"),this.header=t.children(S("header")).addClass("km-header"),this.footer=t.children(S("footer")).addClass("km-footer"),t.children(e)[0]||t.wrapInner("<div "+a("role")+'="content"></div>'),this.content=t.children(S("content")).addClass("km-content"),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=e(h).appendTo(this.element)},_invokeNgController:function(){var t,n,r;this.options.$angular&&(t=this.element.controller(),n=this.element.scope(),t&&(r=e.proxy(this,"_callController",t,n),/^\$(digest|apply)$/.test(n.$$phase)?r():n.$apply(r)))},_callController:function(e,t){this.element.injector().invoke(e.constructor,e,{$scope:t})}}),C=f.extend({init:function(e,t){f.fn.init.call(this,e,t),e=this.element,this.header=e.children(this._locate("header")).addClass("km-header"),this.footer=e.children(this._locate("footer")).addClass("km-footer"),this.elements=this.header.add(this.footer),n(e),this.options.$angular||s.mobile.init(this.element.children()),this.element.detach(),this.trigger(c,{layout:this})},_locate:function(e){return this.options.$angular?x(e):S(e)},options:{name:"Layout",id:null,platform:null},events:[c,d,b],setup:function(e){e.header[0]||(e.header=this.header),e.footer[0]||(e.footer=this.footer)},detach:function(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0))},attach:function(e){var t=this,n=t.currentView;n&&t.detach(n),e.header===t.header&&(t.header.detach(),e.element.children(S("header")).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(S("footer")).remove(),e.element.append(t.footer)),t.trigger(d,{layout:t,view:e}),t.currentView=e}}),k=s.Observable,L=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,A="loadStart",O="loadComplete",M="showStart",_="sameViewRequested",D="viewShow",P="viewTypeDetermined",H="after",B=k.extend({init:function(t){var n,r,o,u,a=this;if(k.fn.init.call(a),e.extend(a,t),a.sandbox=e("<div />"),o=a.container,n=a._hideViews(o),a.rootView=n.first(),!a.rootView[0]&&t.rootNeeded)throw r=o[0]==s.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(r);a.layouts={},a.viewContainer=new s.ViewContainer(a.container),a.viewContainer.bind("accepted",function(e){e.view.params=a.params}),a.viewContainer.bind("complete",function(e){a.trigger(D,{view:e.view})}),a.viewContainer.bind(H,function(){a.trigger(H)}),this.getLayoutProxy=e.proxy(this,"_getLayout"),a._setupLayouts(o),u=o.children(a._locate("modalview drawer")),a.$angular?(a.$angular[0].viewOptions={defaultTransition:a.transition,loader:a.loader,container:a.container,getLayout:a.getLayoutProxy},u.each(function(n,r){T(e(r),t.$angular[0])})):i(u),this.bind(this.events,t)},events:[M,H,D,A,O,_,P],destroy:function(){s.destroy(this.container);for(var e in this.layouts)this.layouts[e].destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,n){if(e=e.replace(RegExp("^"+this.remoteViewURLPrefix),""),""===e&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger(_),!1;this.trigger(M);var r=this,i=function(n){return r.viewContainer.show(n,t,e)},o=r._findViewElement(e),u=s.widgetInstance(o);return r.url=e.replace(/^#/,""),r.params=n,u&&u.reload&&(u.purge(),o=[]),this.trigger(P,{remote:0===o.length,url:e}),o[0]?(u||(u=r._createView(o)),i(u)):(this.serverNavigation?location.href=e:r._loadView(e,i),!0)},append:function(e,t){var n,r,s,o=this.sandbox,u=(t||"").split("?")[0],f=this.container;return L.test(e)&&(e=RegExp.$1),o[0].innerHTML=e,f.append(o.children("script, style")),n=this._hideViews(o),s=n.first(),s.length||(n=s=o.wrapInner("<div data-role=view />").children()),u&&s.hide().attr(a("url"),u),this._setupLayouts(o),r=o.children(this._locate("modalview drawer")),f.append(o.children(this._locate("layout modalview drawer")).add(n)),i(r),this._createView(s)},_locate:function(e){return this.$angular?x(e):S(e)},_findViewElement:function(e){var t,n=e.split("?")[0];return n?(t=this.container.children("["+a("url")+"='"+n+"']"),t[0]||-1!==n.indexOf("/")||(t=this.container.children("#"===n.charAt(0)?n:"#"+n)),t):this.rootView},_createView:function(e){return this.$angular?T(e,this.$angular[0]):s.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:E(e,"reload")},u.roles)},_getLayout:function(e){return""===e?null:e?this.layouts[e]:this.layouts[this.layout]},_loadView:function(t,n){this._xhr&&this._xhr.abort(),this.trigger(A),this._xhr=e.get(s.absoluteURL(t,this.remoteViewURLPrefix),"html").always(e.proxy(this,"_xhrComplete",n,t))},_xhrComplete:function(e,t,n){var r=!0;if("object"==typeof n&&0===n.status){if(!(n.responseText&&n.responseText.length>0))return;r=!0,n=n.responseText}this.trigger(O),r&&e(this.append(n,t))},_hideViews:function(e){return e.children(this._locate("view splitview")).hide()},_setupLayouts:function(t){var n,r=this;t.children(r._locate("layout")).each(function(){n=r.$angular?T(e(this),r.$angular[0]):s.initWidget(e(this),{},u.roles);var t=n.options.platform;t&&t!==o.application.os.name?n.destroy():r.layouts[n.options.id]=n})}});s.mobile.ViewEngine=B,u.plugin(N),u.plugin(C)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,r=n.Widget,i=e.map(t.eventMap,function(e){return e}).join(" ").split(" "),s=r.extend({init:function(t,n){var i=this,s=e('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');r.fn.init.call(i,s,n),i.container=t,i.captureEvents=!1,i._attachCapture(),s.append(i.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var e=this;clearTimeout(e._loading),e.options.loading!==!1&&(e.captureEvents=!0,e._loading=setTimeout(function(){e.element.show()},e.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(e){this.options.loading=e,this.element.find(">h1").html(e)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function e(e){n.captureEvents&&e.preventDefault()}var t,n=this;for(n.captureEvents=!1,t=0;i.length>t;t++)n.container[0].addEventListener(i[t],e,!0)}});n.plugin(s)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.mobile,i=n.roleSelector,s=r.ui,o=s.Widget,u=r.ViewEngine,a=s.View,f=r.ui.Loader,l="external",c="href",h="#!",p="navigate",d="viewShow",v="sameViewRequested",m=n.support.mobileOS,g=m.ios&&!m.appMode&&m.flatVersion>=700,y=/popover|actionsheet|modalview|drawer/,b="#:back",w=n.attrValue,E=o.extend({init:function(e,t){var r=this;o.fn.init.call(r,e,t),t=r.options,e=r.element,e.addClass("km-pane"),r.options.collapsible&&e.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,t,n){var i=r.transition;return r.transition=null,g&&n&&(i="none"),r.viewEngine.showView(e,i,t)},this._historyNavigate=function(e){if(e===b){if(1===r.history.length)return;r.history.pop(),e=r.history[r.history.length-1]}else r.history.push(e);r.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var t=n.parseQueryStringParams(e);r.history[r.history.length-1]=e,r.historyCallback(e,t)},r.loader=new f(e,{loading:r.options.loading}),r.viewEngine=new u({container:e,transition:t.transition,modelScope:t.modelScope,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,$angular:t.$angular,loader:r.loader,showStart:function(){r.loader.transition(),r.closeActiveDialogs()},after:function(){r.loader.transitionDone()},viewShow:function(e){r.trigger(d,e)},loadStart:function(){r.loader.show()},loadComplete:function(){r.loader.hide()},sameViewRequested:function(){r.trigger(v)},viewTypeDetermined:function(e){e.remote&&r.options.serverNavigation||r.trigger(p,{url:e.url})}}),this._setPortraitWidth(),n.onResize(function(){r._setPortraitWidth()}),r._setupAppLinks()},closeActiveDialogs:function(){var t=this.element.find(i("actionsheet popover modalview")).filter(":visible");t.each(function(){n.widgetInstance(e(this),s).close()})},navigateToInitial:function(){var e=this.options.initial;e&&this.navigate(e)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[p,d,v],append:function(e){return this.viewEngine.append(e)},destroy:function(){o.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(e,t){e instanceof a&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof a&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouter:function(e){var t=this,r=this.history,i=this.viewEngine;e.bind("init",function(t){var s,o=t.url,u=e.pushState?o:"/";i.rootView.attr(n.attr("url"),u),s=r.length,"/"===o&&s&&(e.navigate(r[s-1],!0),t.preventDefault())}),e.bind("routeMissing",function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)||e.preventDefault()}),e.bind("same",function(){t.trigger(v)}),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(e){this.loader.changeMessage(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e))},_setupAppLinks:function(){var t=this,r="tab",s="[data-"+n.ns+"navigate-on-press]",o=e.map(["button","backbutton","detailbutton","listview-link"],function(e){return i(e)+":not("+s+")"}).join(",");this.element.handler(this).on("down",i(r)+","+s,"_mouseup").on("click",i(r)+","+o+","+s,"_appLinkClick"),this.userEvents=new n.UserEvents(this.element,{filter:o,tap:function(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(t){var n=e(t.currentTarget).attr("href"),r=n&&"#"!==n[0]&&this.options.serverNavigation;r||w(e(t.currentTarget),"rel")==l||t.preventDefault()},_mouseup:function(i){if(!(i.which>1||i.isDefaultPrevented())){var o=this,u=e(i.currentTarget),a=w(u,"transition"),f=w(u,"rel")||"",p=w(u,"target"),d=u.attr(c),v=g&&0===u[0].offsetHeight,m=d&&"#"!==d[0]&&this.options.serverNavigation;v||m||f===l||t===d||d===h||(u.attr(c,h),setTimeout(function(){u.attr(c,d)}),f.match(y)?(n.widgetInstance(e(d),s).openFor(u),("actionsheet"===f||"drawer"===f)&&i.stopPropagation()):("_top"===p?o=r.application.pane:p&&(o=e("#"+p).data("kendoMobilePane")),o.navigate(d,a)),i.preventDefault())}}});E.wrap=function(e){e.is(i("view"))||(e=e.wrap("<div data-"+n.ns+'role="view" data-stretch="true"></div>').parent());var t=e.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),r=new E(t);return r.navigate(""),r},s.plugin(E)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile,r=n.ui,i="hide",s="open",o="close",u='<div class="km-popup-wrapper" />',a='<div class="km-popup-arrow" />',f='<div class="km-popup-overlay" />',l="km-up km-down km-left km-right",c=r.Widget,h={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},p={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},d={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},v={up:"down",down:"up",left:"right",right:"left"},m=c.extend({init:function(n,r){var s,o,l=this,v=n.closest(".km-modalview-wrapper"),m=n.closest(".km-root").children(".km-pane").first(),g=v[0]?v:m;r.viewport?m=r.viewport:m[0]||(m=window),r.container?g=r.container:g[0]||(g=document.body),s={viewport:m,copyAnchorStyles:!1,autosize:!0,open:function(){l.overlay.show()},activate:e.proxy(l._activate,l),deactivate:function(){l.overlay.hide(),l._apiCall||l.trigger(i),l._apiCall=!1}},c.fn.init.call(l,n,r),n=l.element,r=l.options,n.wrap(u).addClass("km-popup").show(),o=l.options.direction.match(/left|right/)?"horizontal":"vertical",l.dimensions=d[o],l.wrapper=n.parent().css({width:r.width,height:r.height}).addClass("km-popup-wrapper km-"+r.direction).hide(),l.arrow=e(a).prependTo(l.wrapper).hide(),l.overlay=e(f).appendTo(g).hide(),s.appendTo=l.overlay,r.className&&l.overlay.addClass(r.className),l.popup=new t.ui.Popup(l.wrapper,e.extend(!0,s,p,h[r.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[i],show:function(t){this.popup.options.anchor=e(t),this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){c.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var t=this,n=t.options.direction,r=t.dimensions,i=r.offset,s=t.popup,o=s.options.anchor,u=e(o).offset(),a=e(s.element).offset(),f=s.flipped?v[n]:n,c=2*t.arrow[r.size](),h=t.element[r.size]()-t.arrow[r.size](),p=e(o)[r.size](),d=u[i]-a[i]+p/2;c>d&&(d=c),d>h&&(d=h),t.wrapper.removeClass(l).addClass("km-"+f),t.arrow.css(i,d).show()}}),g=c.extend({init:function(n,i){var s,u=this;u.initialOpen=!1,c.fn.init.call(u,n,i),s=e.extend({className:"km-popover-root",hide:function(){u.trigger(o)}},this.options.popup),u.popup=new m(u.element,s),u.popup.overlay.on("move",function(e){e.target==u.popup.overlay[0]&&e.preventDefault()}),u.pane=new r.Pane(u.element,e.extend(this.options.pane,{$angular:this.options.$angular})),u.pane.navigateToInitial(),t.notify(u,r)},options:{name:"PopOver",popup:{},pane:{}},events:[s,o],open:function(e){this.popup.show(e),this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(e){this.open(e),this.trigger(s,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){c.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),t.destroy(this.element)}});r.plugin(m),r.plugin(g)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.mobile.ui,i=n.ui.Popup,s='<div class="km-shim"/>',o="hide",u=r.Widget,a=u.extend({init:function(t,r){var a=this,f=n.mobile.application,l=n.support.mobileOS,c=f?f.os.name:l?l.name:"ios",h="ios"===c||"wp"===c||(f?f.os.skin:!1),p="blackberry"===c,d=r.align||(h?"bottom center":p?"center right":"center center"),v=r.position||(h?"bottom center":p?"center right":"center center"),m=r.effect||(h?"slideIn:up":p?"slideIn:left":"fade:in"),g=e(s).handler(a).hide();u.fn.init.call(a,t,r),a.shim=g,t=a.element,r=a.options,r.className&&a.shim.addClass(r.className),r.modal||a.shim.on("up","_hide"),(f?f.element:e(document.body)).append(g),a.popup=new i(a.element,{anchor:g,modal:!0,appendTo:g,origin:d,position:v,animation:{open:{effects:m,duration:r.duration},close:{duration:r.duration}},close:function(e){var t=!1;a._apiCall||(t=a.trigger(o)),t&&e.preventDefault(),a._apiCall=!1},deactivate:function(){g.hide()},open:function(){g.show()}}),n.notify(a)},events:[o],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0,this.popup.close()},destroy:function(){u.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hide:function(t){t&&e.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close()}});r.plugin(a)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.support,r=t.mobile.ui,i=r.Shim,s=r.Popup,o=r.Widget,u="open",a="close",f="command",l="li>a",c="actionsheetContext",h='<div class="km-actionsheet-wrapper" />',p=t.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),d=o.extend({init:function(u,a){var f,c,d,v=this,m=n.mobileOS;o.fn.init.call(v,u,a),a=v.options,d=a.type,u=v.element,c="auto"===d?m&&m.tablet:"tablet"===d,f=c?s:i,a.cancelTemplate&&(p=t.template(a.cancelTemplate)),u.addClass("km-actionsheet").append(p({cancel:v.options.cancel})).wrap(h).on("up",l,"_click").on("click",l,t.preventDefault),v.view().bind("destroy",function(){v.destroy()}),v.wrapper=u.parent().addClass(d?" km-actionsheet-"+d:""),v.shim=new f(v.wrapper,e.extend({modal:m.ios&&7>m.majorVersion,className:"km-actionsheet-root"},v.options.popup)),v._closeProxy=e.proxy(v,"_close"),v.shim.bind("hide",v._closeProxy),c&&t.onResize(v._closeProxy),t.notify(v,r)},events:[u,a,f],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,n){var r=this;r.target=e(t),r.context=n,r.shim.show(t)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(e){var t=this,n=e.data(c);t.open(e,n),t.trigger(u,{target:e,context:n})},destroy:function(){o.fn.destroy.call(this),t.unbindResize(this._closeProxy),this.shim.destroy()},_click:function(n){var r,i,s,o;n.isDefaultPrevented()||(r=e(n.currentTarget),i=r.data("action"),i&&(s={target:this.target,context:this.context},o=this.options.$angular,o?this.element.injector().get("$parse")(i)(o[0])(s):t.getter(i)(window)(s)),this.trigger(f,{target:this.target,context:this.context,currentTarget:r}),n.preventDefault(),this._close())},_close:function(e){this.trigger(a)?e.preventDefault():this.close()}});r.plugin(d)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=r.Widget,s="horizontal",o="vertical",u=0,a=100,f=0,l=5,c="k-progressbar",h="k-progressbar-reverse",p="k-progressbar-indeterminate",d="k-complete",v="k-state-selected",m="k-progress-status",g="k-state-selected",y="k-state-default",b="k-state-disabled",w={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},E="change",S="complete",x="boolean",T=Math,N=e.extend,C=e.proxy,k=100,L=400,A=3,O={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},M=i.extend({init:function(e,t){var n=this;i.fn.init.call(this,e,t),t=n.options,n._progressProperty=t.orientation===s?"width":"height",n._fields(),t.value=n._validateValue(t.value),n._validateType(t.type),n._wrapper(),n._progressAnimation(),t.value!==t.min&&t.value!==!1&&n._updateProgress()},setOptions:function(e){var t=this;i.fn.setOptions.call(t,e),e.hasOwnProperty("reverse")&&t.wrapper.toggleClass("k-progressbar-reverse",e.reverse),e.hasOwnProperty("enable")&&t.enable(e.enable),t._progressAnimation(),t._validateValue(),t._updateProgress()},events:[E,S],options:{name:"ProgressBar",orientation:s,reverse:!1,min:u,max:a,value:f,enable:!0,type:w.VALUE,chunkCount:l,showStatus:!0,animation:{}},_fields:function(){var t=this;t._isStarted=!1,t.progressWrapper=t.progressStatus=e()},_validateType:function(r){var i=!1;if(e.each(w,function(e,n){return n===r?(i=!0,!1):t}),!i)throw Error(n.format("Invalid ProgressBar type '{0}'",r))},_wrapper:function(){var e,t=this,n=t.wrapper=t.element,r=t.options,i=r.orientation;n.addClass("k-widget "+c),n.addClass(c+"-"+(i===s?s:o)),r.enable===!1&&n.addClass(b),r.reverse&&n.addClass(h),r.value===!1&&n.addClass(p),r.type===w.CHUNK?t._addChunkProgressWrapper():r.showStatus&&(t.progressStatus=t.wrapper.prepend(O.progressStatus).find("."+m),e=r.value!==!1?r.value:r.min,t.progressStatus.text(r.type===w.VALUE?e:t._calculatePercentage(e).toFixed()+"%"))},value:function(e){return this._value(e)},_value:function(e){var n,r=this,i=r.options;return e===t?i.value:(typeof e!==x?(e=r._roundValue(e),isNaN(e)||(n=r._validateValue(e),n!==i.value&&(r.wrapper.removeClass(p),i.value=n,r._isStarted=!0,r._updateProgress()))):e||(r.wrapper.addClass(p),i.value=!1),t)},_roundValue:function(e){e=parseFloat(e);var t=T.pow(10,A);return T.floor(e*t)/t},_validateValue:function(e){var t=this,n=t.options;if(e!==!1){if(n.min>=e||e===!0)return n.min;if(e>=n.max)return n.max}else if(e===!1)return!1;return isNaN(t._roundValue(e))?n.min:e},_updateProgress:function(){var e=this,t=e.options,n=e._calculatePercentage();t.type===w.CHUNK?(e._updateChunks(n),e._onProgressUpdateAlways(t.value)):e._updateProgressWrapper(n)},_updateChunks:function(e){var t,n=this,r=n.options,i=r.chunkCount,u=parseInt(k/i*100,10)/100,a=parseInt(100*e,10)/100,f=T.floor(a/u);t=n.wrapper.find(r.orientation===s&&!r.reverse||r.orientation===o&&r.reverse?"li.k-item:lt("+f+")":"li.k-item:gt(-"+(f+1)+")"),n.wrapper.find("."+g).removeClass(g).addClass(y),t.removeClass(y).addClass(g)},_updateProgressWrapper:function(e){var t=this,n=t.options,r=t.wrapper.find("."+v),i=t._isStarted?t._animation.duration:0,s={};0===r.length&&t._addRegularProgressWrapper(),s[t._progressProperty]=e+"%",t.progressWrapper.animate(s,{duration:i,start:C(t._onProgressAnimateStart,t),progress:C(t._onProgressAnimate,t),complete:C(t._onProgressAnimateComplete,t,n.value),always:C(t._onProgressUpdateAlways,t,n.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(e){var t,n=this,r=n.options,i=parseFloat(e.elem.style[n._progressProperty],10);r.showStatus&&(t=1e4/parseFloat(n.progressWrapper[0].style[n._progressProperty]),n.progressWrapper.find(".k-progress-status-wrap").css(n._progressProperty,t+"%")),r.type!==w.CHUNK&&98>=i&&n.progressWrapper.removeClass(d)},_onProgressAnimateComplete:function(e){var t,n=this,r=n.options,i=parseFloat(n.progressWrapper[0].style[n._progressProperty]);r.type!==w.CHUNK&&i>98&&n.progressWrapper.addClass(d),r.showStatus&&(t=r.type===w.VALUE?e:r.type==w.PERCENT?n._calculatePercentage(e).toFixed()+"%":T.floor(n._calculatePercentage(e))+"%",n.progressStatus.text(t)),e===r.min&&n.progressWrapper.hide()},_onProgressUpdateAlways:function(e){var t=this,n=t.options;t._isStarted&&t.trigger(E,{value:e}),e===n.max&&t._isStarted&&t.trigger(S,{value:n.max})},enable:function(e){var n=this,r=n.options;r.enable=t===e?!0:e,n.wrapper.toggleClass(b,!r.enable)},destroy:function(){var e=this;i.fn.destroy.call(e)},_addChunkProgressWrapper:function(){var e,t=this,n=t.options,r=t.wrapper,i=k/n.chunkCount,s="";for(1>=n.chunkCount&&(n.chunkCount=l),s+="<ul class='k-reset'>",e=n.chunkCount-1;e>=0;e--)s+="<li class='k-item k-state-default'></li>";s+="</ul>",r.append(s).find(".k-item").css(t._progressProperty,i+"%").first().addClass("k-first").end().last().addClass("k-last"),t._normalizeChunkSize()},_normalizeChunkSize:function(){var e=this,t=e.options,n=e.wrapper.find(".k-item:last"),r=parseFloat(n[0].style[e._progressProperty]),i=k-t.chunkCount*r;i>0&&n.css(e._progressProperty,r+i+"%")},_addRegularProgressWrapper:function(){var t=this;t.progressWrapper=e("<div class='"+v+"'></div>").appendTo(t.wrapper),t.options.showStatus&&(t.progressWrapper.append(O.progressStatus),t.progressStatus=t.wrapper.find("."+m))},_calculateChunkSize:function(){var e=this,t=e.options.chunkCount,n=e.wrapper.find("ul.k-reset");return(parseInt(n.css(e._progressProperty),10)-(t-1))/t},_calculatePercentage:function(e){var n=this,r=n.options,i=e!==t?e:r.value,s=r.min,o=r.max;return n._onePercent=T.abs((o-s)/100),T.abs((i-s)/n._onePercent)},_progressAnimation:function(){var e=this,t=e.options,n=t.animation;e._animation=n===!1?{duration:0}:N({duration:L},t.animation)}});n.ui.plugin(M)}(window.kendo.jQuery),function(e,t,n){"use strict";function r(){function e(){var t,i,s;for(t=0;arguments.length>t;++t){if(i=arguments[t],i===n)throw Error("Cannot output undefined to PDF");if(i instanceof E)i.beforeRender(e),i.render(e);else if(R(i))v(i,e);else if(d(i))m(i,e);else if("number"==typeof i){if(isNaN(i))throw Error("Cannot output NaN to PDF");s=i.toFixed(7),s.indexOf(".")>=0&&(s=s.replace(/\.?0+$/,"")),"-0"==s&&(s="0"),r.writeString(s)}else/string|boolean/.test(typeof i)?r.writeString(i+""):"function"==typeof i.get?r.write(i.get()):"object"==typeof i&&(i?e(new V(i)):r.writeString("null"))}}var t=0,r=D();return e.writeData=function(e){r.write(e)},e.withIndent=function(n){++t,n(e),--t},e.indent=function(){e(rt,c("",2*t,"  ")),e.apply(null,arguments)},e.offset=function(){return r.offset()},e.toString=function(){throw Error("FIX CALLER")},e.get=function(){return r.get()},e.stream=function(){return r},e}function i(e,t){var n=e.beforeRender,r=e.render;e.beforeRender=function(){},e.render=function(e){e(t," 0 R")},e.renderFull=function(i){e._offset=i.offset(),i(t," 0 obj "),n.call(e,i),r.call(e,i),i(" endobj")}}function s(e){var t,n=e("paperSize",ot.a4);if(!n)return{};if("string"==typeof n&&(n=ot[n.toLowerCase()],null==n))throw Error("Unknown paper size");return n[0]=w(n[0]),n[1]=w(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]),t=e("margin"),t&&("string"==typeof t||"number"==typeof t?(t=w(t,0),t={left:t,top:t,right:t,bottom:t}):t={left:w(t.left,0),top:w(t.top,0),right:w(t.right,0),bottom:w(t.bottom,0)},e("addMargin")&&(n[0]+=t.left+t.right,n[1]+=t.top+t.bottom)),{paperSize:n,margin:t}}function o(e){function t(t,n){return e&&null!=e[t]?e[t]:n}var n,o,u=this,a=r(),f=0,l=[];u.getOption=t,u.attach=function(e){return l.indexOf(e)<0&&(i(e,++f),l.push(e)),e},u.pages=[],u.FONTS={},u.IMAGES={},u.GRAD_COL_FUNCTIONS={},u.GRAD_OPC_FUNCTIONS={},u.GRAD_COL={},u.GRAD_OPC={},n=u.attach(new J),o=u.attach(new K),n.setPages(o),u.addPage=function(e){var t,n,i,a=s(function(t,n){return e&&null!=e[t]?e[t]:n}),f=a.paperSize,l=a.margin,c=f[0],h=f[1];return l&&(c-=l.left+l.right,h-=l.top+l.bottom),t=new $(r(),null,!0),n={Contents:u.attach(t),Parent:o,MediaBox:[0,0,f[0],f[1]]},i=new Z(u,n),i._content=t,o.addPage(u.attach(i)),i.transform(1,0,0,-1,0,f[1]),l&&(i.translate(l.left,l.top),i.rect(0,0,c,h),i.clip()),u.pages.push(i),i},u.render=function(){var e,r;for(a("%PDF-1.4",rt,"%ÂÁÚÏÎ",rt,rt),e=0;l.length>e;++e)l[e].renderFull(a),a(rt,rt);for(r=a.offset(),a("xref",rt,0," ",l.length+1,rt),a("0000000000 65535 f ",rt),e=0;l.length>e;++e)a(h(l[e]._offset,10)," 00000 n ",rt);return a(rt),a("trailer",rt),a(new V({Size:l.length+1,Root:n,Info:new V({Producer:new U(t("producer","Kendo UI PDF Generator")),Title:new U(t("title","")),Author:new U(t("author","")),Subject:new U(t("subject","")),Keywords:new U(t("keywords","")),Creator:new U(t("creator","Kendo UI PDF Generator")),CreationDate:t("date",new Date)})}),rt,rt),a("startxref",rt,r,rt),a("%%EOF",rt),a.stream().offset(0)}}function u(t,n){function r(){e.console&&(e.console.error?e.console.error("Cannot load URL: %s",t):e.console.log("Cannot load URL: %s",t)),n(null)}var i=new XMLHttpRequest;i.open("GET",t,!0),nt&&(i.responseType="arraybuffer"),i.onload=function(){200==i.status||304==i.status?n(nt?new Uint8Array(i.response):(new VBArray(i.responseBody)).toArray()):r()},i.onerror=r,i.send(null)}function a(e,t){var n=ut[e];n?t(n):u(e,function(n){if(null==n)throw Error("Cannot load font from "+e);var r=new tt.pdf.TTFFont(n);ut[e]=r,t(r)})}function f(e,t){function r(e){f.src=e,f.complete&&!tt.support.browser.msie?s():(f.onload=s,f.onerror=i)}function i(){t(at[e]="TAINTED")}function s(){var r,s,a,l,c,h,p,d,v,m,g,y;if(u&&/^image\/jpe?g$/i.test(u.type))return r=new FileReader,r.onload=function(){f=new T(f.width,f.height,D(new Uint8Array(this.result))),URL.revokeObjectURL(o),t(at[e]=f)},r.readAsArrayBuffer(u),n;s=document.createElement("canvas"),s.width=f.width,s.height=f.height,a=s.getContext("2d"),a.drawImage(f,0,0);try{l=a.getImageData(0,0,f.width,f.height)}catch(b){return i()}finally{o&&URL.revokeObjectURL(o)}for(c=!1,h=D(),p=D(),d=l.data,v=0;d.length>v;)h.writeByte(d[v++]),h.writeByte(d[v++]),h.writeByte(d[v++]),m=d[v++],255>m&&(c=!0),p.writeByte(m);c?f=new N(f.width,f.height,h,p):(g=s.toDataURL("image/jpeg"),g=g.substr(g.indexOf(";base64,")+8),y=D(),y.writeBase64(g),y.offset(0),f=new T(f.width,f.height,y)),t(at[e]=f)}var o,u,a,f=at[e];f?t(f):(f=new Image,/^data:/i.test(e)||(f.crossOrigin="Anonymous"),nt&&!/^data:/i.test(e)?(a=new XMLHttpRequest,a.onload=function(){u=a.response,o=URL.createObjectURL(u),r(o)},a.onerror=i,a.open("GET",e,!0),a.responseType="blob",a.send()):r(e))}function l(e){return function(t,n){var r=t.length,i=r;if(0===r)return n();for(;i-->0;)e(t[i],function(){0===--r&&n()})}}function c(e,t,n){for(;t>e.length;)e=n+e;return e}function h(e,t){return c(e+"",t,"0")}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e){return e instanceof Date}function v(e,t){t("["),e.length>0&&t.withIndent(function(){for(var n=0;e.length>n;++n)n>0&&n%8===0?t.indent(e[n]):t(" ",e[n])}),t(" ]")}function m(e,t){t("(D:",h(e.getUTCFullYear(),4),h(e.getUTCMonth()+1,2),h(e.getUTCDate(),2),h(e.getUTCHours(),2),h(e.getUTCMinutes(),2),h(e.getUTCSeconds(),2),"Z)")}function g(e){return e*(72/25.4)}function y(e){return g(10*e)}function b(e){return 72*e}function w(e,n){var r,i;if("number"==typeof e)return e;if("string"==typeof e&&(r=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e),r&&(i=t(r[1]),!isNaN(i))))return"pt"==r[2]?i:{mm:g,cm:y,"in":b}[r[2]](i);if(null!=n)return n;throw Error("Can't parse unit: "+e)}function E(){}function S(e,t,n){n||(n=E),e.prototype=new n;for(var r in t)p(t,r)&&(e.prototype[r]=t[r]);return e}function x(e){return p(X,e)?X[e]:X[e]=new W(e)}function T(e,t,n){this.asStream=function(){var r=new $(n,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),Filter:x("DCTDecode")});return r._resourceName=x("I"+ ++it),r}}function N(e,t,n,r){this.asStream=function(i){var s=new $(r,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceGray")},!0),o=new $(n,{Type:x("XObject"),Subtype:x("Image"),Width:e,Height:t,BitsPerComponent:8,ColorSpace:x("DeviceRGB"),SMask:i.attach(s)},!0);return o._resourceName=x("I"+ ++it),o}}function C(e){return e.map(function(e){return R(e)?C(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e}).join(" ")}function k(e,t,n,r,i,s,o){var u=C([t,n,r,i,s,o]),a=e.GRAD_COL_FUNCTIONS[u];return a||(a=e.GRAD_COL_FUNCTIONS[u]=e.attach(new V({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,r],C1:[i,s,o]}))),a}function L(e,t,n){var r=C([t,n]),i=e.GRAD_OPC_FUNCTIONS[r];return i||(i=e.GRAD_OPC_FUNCTIONS[r]=e.attach(new V({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),i}function A(e,t){function n(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:c,Encode:h}}var r,i,s,o,u,a=!1,f=[],l=[],c=[],h=[];for(r=1;t.length>r;++r)i=t[r-1],s=t[r],o=i.color,u=s.color,l.push(k(e,o.r,o.g,o.b,u.r,u.g,u.b)),(1>o.a||1>u.a)&&(a=!0),c.push(s.offset),h.push(0,1);if(a)for(r=1;t.length>r;++r)i=t[r-1],s=t[r],o=i.color,u=s.color,f.push(L(e,o.a,u.a));return c.pop(),{hasAlpha:a,colors:n(l),opacities:a?n(f):null}}function O(e,t,n,r,i,s){var o,u,a;return s||(a=[t].concat(r),n.forEach(function(e){a.push(e.offset,e.color.r,e.color.g,e.color.b)}),u=C(a),o=e.GRAD_COL[u]),o||(o=new V({Type:x("Shading"),ShadingType:t?3:2,ColorSpace:x("DeviceRGB"),Coords:r,Domain:[0,1],Function:i,Extend:[!0,!0]}),e.attach(o),o._resourceName="S"+ ++it,u&&(e.GRAD_COL[u]=o)),o}function M(e,t,n,r,i,s){var o,u,a;return s||(a=[t].concat(r),n.forEach(function(e){a.push(e.offset,e.color.a)}),u=C(a),o=e.GRAD_OPC[u]),o||(o=new V({Type:x("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:x("Mask"),S:x("Luminosity"),G:e.attach(new $("/a0 gs /s0 sh",{Type:x("XObject"),Subtype:x("Form"),FormType:1,BBox:s?[s.left,s.top+s.height,s.left+s.width,s.top]:[0,1,1,0],Group:{Type:x("Group"),S:x("Transparency"),CS:x("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:x("DeviceGray"),Coords:r,Domain:[0,1],ShadingType:t?3:2,Function:i,Extend:[!0,!0]}}}}))}}),e.attach(o),o._resourceName="O"+ ++it,u&&(e.GRAD_OPC[u]=o)),o}function _(e,t,n){var r="radial"==t.type,i=A(e,t.stops),s=r?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],o=O(e,r,t.stops,s,i.colors,t.userSpace&&n),u=i.hasAlpha?M(e,r,t.stops,s,i.opacities,t.userSpace&&n):null;return{hasAlpha:i.hasAlpha,shading:o,opacity:u}}function D(t){function n(){return C>=k}function r(){return k>C?t[C++]:0}function i(e){E(C),t[C++]=255&e,C>k&&(k=C)}function s(){return r()<<8|r()}function o(e){i(e>>8),i(e)}function u(){var e=s();return e>=32768?e-65536:e}function a(e){o(0>e?e+65536:e)}function f(){return 65536*s()+s()}function l(e){o(e>>>16&65535),o(65535&e)}function c(){var e=f();return e>=2147483648?e-4294967296:e}function h(e){l(0>e?e+4294967296:e)}function p(){return f()/65536}function d(e){l(Math.round(65536*e))}function v(){return c()/65536}function m(e){h(Math.round(65536*e))}function g(e){return w(e,r)}function y(e){return String.fromCharCode.apply(String,g(e))}function b(e){for(var t=0;e.length>t;++t)i(e.charCodeAt(t))}function w(e,t){for(var n=Array(e),r=0;e>r;++r)n[r]=t();return n}var E,S,x,T,N,C=0,k=0;return null==t?t=nt?new Uint8Array(256):[]:k=t.length,E=nt?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n}}:function(){},S=nt?function(){return new Uint8Array(t.buffer,0,k)}:function(){return t},x=nt?function(e){if("string"==typeof e)return b(e);var n=e.length;E(C+n),t.set(e,C),C+=n,C>k&&(k=C)}:function(e){if("string"==typeof e)return b(e);for(var t=0;e.length>t;++t)i(e[t])},T=nt?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var r=new Uint8Array(n);return r.set(new Uint8Array(t.buffer,e,n)),r}:function(e,n){return t.slice(e,e+n)},N={eof:n,readByte:r,writeByte:i,readShort:s,writeShort:o,readLong:f,writeLong:l,readFixed:p,writeFixed:d,readShort_:u,writeShort_:a,readLong_:c,writeLong_:h,readFixed_:v,writeFixed_:m,read:g,write:x,readString:y,writeString:b,times:w,get:S,slice:T,offset:function(e){return null!=e?(C=e,N):C},skip:function(e){C+=e},toString:function(){throw Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return k},saveExcursion:function(e){var t=C;try{return e()}finally{C=t}},writeBase64:function(t){e.atob?b(e.atob(t)):x(st.decode(t))},base64:function(){return st.encode(S())}}}function P(e){return e.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function H(e){var t,n=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i,r=n.exec(e);return r?(t=r[8]?parseInt(r[8],10):12,{italic:r[2]&&"italic"==r[2].toLowerCase(),variant:r[4],bold:r[6]&&/bold|700/i.test(r[6]),fontSize:t,lineHeight:r[12]?"normal"==r[12]?t:parseInt(r[12],10):null,fontFamily:r[14].split(/\s*,\s*/g).map(P)}):{fontSize:12,fontFamily:"sans-serif"}}function B(e){function t(t){return e.bold&&(t+="|bold"),e.italic&&(t+="|italic"),t.toLowerCase()}var n,r,i,s=e.fontFamily;if(s instanceof Array)for(i=0;s.length>i&&(n=t(s[i]),!(r=et[n]));++i);else r=et[s.toLowerCase()];for(;"function"==typeof r;)r=r();return r||(r="Times-Roman"),r}function j(e,t){e=e.toLowerCase(),et[e]=function(){return et[t]},et[e+"|bold"]=function(){return et[t+"|bold"]},et[e+"|italic"]=function(){return et[t+"|italic"]},et[e+"|bold|italic"]=function(){return et[t+"|bold|italic"]}}function F(e,t){if(1==arguments.length)for(var n in e)p(e,n)&&F(n,e[n]);else switch(e=e.toLowerCase(),et[e]=t,e){case"dejavu sans":et["sans-serif"]=t;break;case"dejavu sans|bold":et["sans-serif|bold"]=t;break;case"dejavu sans|italic":et["sans-serif|italic"]=t;break;case"dejavu sans|bold|italic":et["sans-serif|bold|italic"]=t;break;case"dejavu serif":et.serif=t;break;case"dejavu serif|bold":et["serif|bold"]=t;break;case"dejavu serif|italic":et["serif|italic"]=t;break;case"dejavu serif|bold|italic":et["serif|bold|italic"]=t;break;case"dejavu mono":et.monospace=t;break;case"dejavu mono|bold":et["monospace|bold"]=t;break;case"dejavu mono|italic":et["monospace|italic"]=t;break;case"dejavu mono|bold|italic":et["monospace|bold|italic"]=t}}function I(e,t){var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],a=t[0],f=t[1],l=t[2],c=t[3],h=t[4],p=t[5];return[n*a+r*l,n*f+r*c,i*a+s*l,i*f+s*c,o*a+u*l+h,o*f+u*c+p]}function q(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}var R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt=e.kendo,nt=!!e.Uint8Array,rt="\n",it=0,st=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(t){for(var n,r,i,s,o,u,a,f=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),l=0,c=f.length,h=[];c>l;)n=e.indexOf(f.charAt(l++)),r=e.indexOf(f.charAt(l++)),i=e.indexOf(f.charAt(l++)),s=e.indexOf(f.charAt(l++)),o=n<<2|r>>>4,u=(15&r)<<4|i>>>2,a=(3&i)<<6|s,h.push(o),64!=i&&h.push(u),64!=s&&h.push(a);return h},encode:function(t){for(var n,r,i,s,o,u,a,f=0,l=t.length,c="";l>f;)n=t[f++],r=t[f++],i=t[f++],s=n>>>2,o=(3&n)<<4|r>>>4,u=(15&r)<<2|i>>>6,a=63&i,f-l==2?u=a=64:f-l==1&&(a=64),c+=e.charAt(s)+e.charAt(o)+e.charAt(u)+e.charAt(a);return c}}}(),ot={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},ut={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},at={},ft=l(a),lt=l(f);o.prototype={loadFonts:ft,loadImages:lt,getFont:function(e){var t=this.FONTS[e];if(!t){if(t=ut[e],!t)throw Error("Font "+e+" has not been loaded");t=this.attach(t===!0?new Q(e):new G(this,t)),this.FONTS[e]=t}return t},getImage:function(e){var t=this.IMAGES[e];if(!t){if(t=at[e],!t)throw Error("Image "+e+" has not been loaded");if("TAINTED"===t)return null;t=this.IMAGES[e]=this.attach(t.asStream(this))}return t},getOpacityGS:function(e,n){var r,i,s,o=t(e).toFixed(3);return e=t(o),o+=n?"S":"F",r=this._opacityGSCache||(this._opacityGSCache={}),i=r[o],i||(s={Type:x("ExtGState")},n?s.CA=e:s.ca=e,i=this.attach(new V(s)),i._resourceName=x("GS"+ ++it),r[o]=i),i},dict:function(e){return new V(e)},name:function(e){return x(e)},stream:function(e,t){return new $(t,e)}},R=Array.isArray||function(e){return e instanceof Array},E.prototype.beforeRender=function(){},U=S(function(e){this.value=e},{render:function(e){var t,n="",r=this.escape();for(t=0;r.length>t;++t)n+=String.fromCharCode(255&r.charCodeAt(t));e("(",n,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}}),z=S(function(e){this.value=e},{render:function(e){e("<");for(var t=0;this.value.length>t;++t)e(h(this.value.charCodeAt(t).toString(16),4));e(">")}},U),W=S(function(e){this.name=e},{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(e){return"#"+h(e.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),X={},W.get=x,V=S(function(e){this.props=e},{render:function(e){var t=this.props,n=!0;e("<<"),e.withIndent(function(){for(var r in t)p(t,r)&&!/^_/.test(r)&&(n=!1,e.indent(x(r)," ",t[r]))}),n||e.indent(),e(">>")}}),$=S(function(e,t,n){if("string"==typeof e){var r=D();r.write(e),e=r}this.data=e,this.props=t||{},this.compress=n},{render:function(t){var n=this.data.get(),r=this.props;this.compress&&e.pako&&"function"==typeof e.pako.deflate&&(r.Filter?r.Filter instanceof Array||(r.Filter=[r.Filter]):r.Filter=[],r.Filter.unshift(x("FlateDecode")),n=e.pako.deflate(n)),r.Length=n.length,t(new V(r)," stream",rt),t.writeData(n),t(rt,"endstream")}}),J=S(function(e){e=this.props=e||{},e.Type=x("Catalog")},{setPages:function(e){this.props.Pages=e}},V),K=S(function(){this.props={Type:x("Pages"),Kids:[],Count:0}},{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},V),Q=S(function(e){this.props={Type:x("Font"),Subtype:x("Type1"),BaseFont:x(e)},this._resourceName=x("F"+ ++it)},{encodeText:function(e){return new U(e+"")}},V),G=S(function(e,t,n){var r,i;n=this.props=n||{},n.Type=x("Font"),n.Subtype=x("Type0"),n.Encoding=x("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=x("F"+ ++it),r=t.head,this.name=t.psName,i=this.scale=t.scale,this.bbox=[r.xMin*i,r.yMin*i,r.xMax*i,r.yMax*i],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*i,this.descent=t.descent*i,this.lineGap=t.lineGap*i,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&7>=this.familyClass,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32},{encodeText:function(e){return new z(this._sub.encodeText(e+""))},getTextWidth:function(e,t){var n,r,i=0,s=this._font.cmap.getUnicodeEntry().codeMap;for(n=0;t.length>n;++n)r=s[t.charCodeAt(n)],i+=this._font.widthOfGlyph(r||0);return i*e/1e3},beforeRender:function(){var e,t,n,i,s=this,o=s._sub,u=o.render(),a=new $(D(u),{Length1:u.length},!0),f=s._pdf.attach(new V({Type:x("FontDescriptor"),FontName:x(s._sub.psName),FontBBox:s.bbox,Flags:s.flags,StemV:s.stemV,ItalicAngle:s.italicAngle,Ascent:s.ascent,Descent:s.descent,CapHeight:s.capHeight,XHeight:s.xHeight,FontFile2:s._pdf.attach(a)})),l=o.ncid2ogid,c=o.firstChar,h=o.lastChar,p=[];!function d(e,t){if(h>=e){var n=l[e];null==n?d(e+1):(t||p.push(e,t=[]),t.push(s._font.widthOfGlyph(n)),d(e+1,t))}}(c),e=new V({Type:x("Font"),Subtype:x("CIDFontType2"),BaseFont:x(s._sub.psName),CIDSystemInfo:new V({Registry:new U("Adobe"),Ordering:new U("Identity"),Supplement:0}),FontDescriptor:f,FirstChar:c,LastChar:h,DW:Math.round(s._font.widthOfGlyph(0)),W:p,CIDToGIDMap:s._pdf.attach(s._makeCidToGidMap())}),t=s.props,t.BaseFont=x(s._sub.psName),t.DescendantFonts=[s._pdf.attach(e)],n=new Y(c,h,o.subset),i=new $(r(),null,!0),i.data(n),t.ToUnicode=s._pdf.attach(i)},_makeCidToGidMap:function(){return new $(D(this._sub.cidToGidMap()),null,!0)}},V),Y=S(function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n},{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent(function(){var n,r;for(n=t.firstChar;t.lastChar>=n;++n)r=t.map[n],e.indent("<",h(n.toString(16),4),">","<",h(r.toString(16),4),">")}),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}}),Z=S(function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],t=this.props=t||{},t.Type=x("Page"),t.ProcSet=[x("PDF"),x("Text"),x("ImageB"),x("ImageC"),x("ImageI")],t.Resources=new V({Font:new V(this._fontResources),ExtGState:new V(this._gsResources),XObject:new V(this._xResources),Pattern:new V(this._patResources),Shading:new V(this._shResources)}),t.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(e,t,n,r,i,s){q(arguments)||(this._matrix=I(arguments,this._matrix),this._out(e," ",t," ",n," ",r," ",i," ",s," cm"),this._out(rt))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",rt)},endText:function(){this._textMode=!1,this._out("ET",rt)},_requireTextMode:function(){if(!this._textMode)throw Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof G||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",rt)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",rt)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",rt)},showText:function(e,t){var n,r;this._requireFont(),e.length>1&&t&&this._font instanceof G&&(n=this._font.getTextWidth(this._fontSize,e),r=t/n*100,this._out(r," Tz ")),this._out(this._font.encodeText(e)," Tj",rt)},showTextNL:function(e){this._requireFont(),this._out(this._font.encodeText(e)," '",rt)},addLink:function(e,t){var n=this._toPage({x:t.left,y:t.bottom}),r=this._toPage({x:t.right,y:t.top});this._annotations.push(new V({Type:x("Annot"),Subtype:x("Link"),Rect:[n.x,n.y,r.x,r.y],Border:[0,0,0],A:new V({Type:x("Action"),S:x("URI"),URI:new U(e)})}))},setStrokeColor:function(e,t,n){this._out(e," ",t," ",n," RG",rt)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(1>e){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",rt)}},setFillColor:function(e,t,n){this._out(e," ",t," ",n," rg",rt)},setFillOpacity:function(e){if(1>e){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",rt)}},gradient:function(e,t){var n,r,i;this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top),n=_(this._pdf,e,t),r=n.shading._resourceName,this._shResources[r]=n.shading,n.hasAlpha&&(i=n.opacity._resourceName,this._gsResources[i]=n.opacity,this._out("/"+i+" gs ")),this._out("/"+r+" sh",rt),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",rt)},setLineWidth:function(e){this._out(e," w",rt)},setLineCap:function(e){this._out(e," J",rt)},setLineJoin:function(e){this._out(e," j",rt)},setMitterLimit:function(e){this._out(e," M",rt)},save:function(){this._contextStack.push(this._context()),this._out("q",rt)},restore:function(){this._out("Q",rt),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",rt)},lineTo:function(e,t){this._out(e," ",t," l",rt)},bezier:function(e,t,n,r,i,s){this._out(e," ",t," ",n," ",r," ",i," ",s," c",rt)},bezier1:function(e,t,n,r){this._out(e," ",t," ",n," ",r," y",rt)},bezier2:function(e,t,n,r){this._out(e," ",t," ",n," ",r," v",rt)},close:function(){this._out("h",rt)},rect:function(e,t,n,r){this._out(e," ",t," ",n," ",r," re",rt)},ellipse:function(e,t,n,r){function i(t){return e+t}function s(e){return t+e}var o=.5522847498307936;this.moveTo(i(0),s(r)),this.bezier(i(n*o),s(r),i(n),s(r*o),i(n),s(0)),this.bezier(i(n),s(-r*o),i(n*o),s(-r),i(0),s(-r)),this.bezier(i(-n*o),s(-r),i(-n),s(-r*o),i(-n),s(0)),this.bezier(i(-n),s(r*o),i(-n*o),s(r),i(0),s(r))},circle:function(e,t,n){this.ellipse(e,t,n,n)},stroke:function(){this._out("S",rt)},nop:function(){this._out("n",rt)},clip:function(){this._out("W n",rt)},clipStroke:function(){this._out("W S",rt)},closeStroke:function(){this._out("s",rt)},fill:function(){this._out("f",rt)},fillStroke:function(){this._out("B",rt)},drawImage:function(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",rt))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach(function(e){t._out("% ",e,rt)})},_context:function(e){return null==e?{opacity:this._opacity,matrix:this._matrix}:(this._opacity=e.opacity,this._matrix=e.matrix,n)},_toPage:function(e){var t=this._matrix,n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],u=t[5];return{x:n*e.x+i*e.y+o,y:r*e.x+s*e.y+u}}},V),et={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"},j("Times New Roman","serif"),j("Courier New","monospace"),j("Arial","sans-serif"),j("Helvetica","sans-serif"),j("Verdana","sans-serif"),j("Tahoma","sans-serif"),j("Georgia","sans-serif"),j("Monaco","monospace"),j("Andale Mono","monospace"),tt.pdf={Document:o,BinaryStream:D,defineFont:F,parseFontDef:H,getFontURL:B,loadFonts:ft,loadImages:lt,getPaperOptions:s,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}}}(window,parseFloat),function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e){return Object.keys(e).sort(function(e,t){return e-t}).map(parseFloat)}function r(e){var t,n,r;for(this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),t=this.tables={},n=0;this.tableCount>n;++n)r={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()},t[r.tag]=r}function i(e){function n(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}n.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var r in e)t(e,r)&&(n[r]=n.prototype[r]=e[r]);return n}function s(){var e,t="",n=y+"";for(e=0;n.length>e;++e)t+=String.fromCharCode(n.charCodeAt(e)-48+65);return++y,t}function o(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=s()+"+"+this.font.psName}function u(e,t){var n,r,i,s,o=this,u=o.contents=w(e);if("ttcf"==u.readString(4)){if(!t)throw Error("Must specify a name for TTC files");for(n=u.readLong(),r=u.readLong(),i=0;r>i;++i)if(s=u.readLong(),u.saveExcursion(function(){u.offset(s),o.parse()}),o.psName==t)return;throw Error("Font "+t+" not found in collection")}u.offset(0),o.parse()}var a,f,l,c,h,p,d,v,m,g,y,b=e.kendo.pdf,w=b.BinaryStream;r.prototype={readTable:function(e,t){var n=this.tables[e];if(!n)throw Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n)},render:function(e){var n,r,i,s,o,u,a,f,l=Object.keys(e).length,c=Math.pow(2,Math.floor(Math.log(l)/Math.LN2)),h=16*c,p=Math.floor(Math.log(c)/Math.LN2),d=16*l-h,v=w();v.writeLong(this.scalerType),v.writeShort(l),v.writeShort(h),v.writeShort(p),v.writeShort(d),n=16*l,r=v.offset()+n,i=null,s=w();for(o in e)if(t(e,o))for(u=e[o],v.writeString(o),v.writeLong(this.checksum(u)),v.writeLong(r),v.writeLong(u.length),s.write(u),"head"==o&&(i=r),r+=u.length;r%4;)s.writeByte(0),r++;return v.write(s.get()),a=this.checksum(v.get()),f=2981146554-a,v.offset(i+8),v.writeLong(f),v.get()},checksum:function(e){e=w(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}},a=i({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},render:function(e){var t=w();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),f=i({parse:function(e){e.offset(this.offset);var t=this.file.head.indexToLocFormat;this.offsets=0===t?e.times(this.length/2,function(){return 2*e.readShort()}):e.times(this.length/4,e.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){var t,n=w(),r=e[e.length-1]>65535;for(t=0;e.length>t;++t)r?n.writeLong(e[t]):n.writeShort(e[t]/2);return{format:r?1:0,table:n.get()}}}),l=i({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},render:function(e){var t=w();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),c=i({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},render:function(e){var t=w();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),h=i({parse:function(e){var t,n,r;e.offset(this.offset),t=this.file,n=t.hhea,this.metrics=e.times(n.numOfLongHorMetrics,function(){return{advance:e.readShort(),lsb:e.readShort_()}}),r=t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,this.leftSideBearings=e.times(r,e.readShort_)},forGlyph:function(e){var t=this.metrics,n=t.length;return n>e?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]}},render:function(e){var t,n,r=w();for(t=0;e.length>t;++t)n=this.forGlyph(e[t]),r.writeShort(n.advance),r.writeShort_(n.lsb);return r.get()}}),p=function(){function e(e){this.raw=e}function n(e){var t,n,i;for(this.raw=e,t=this.glyphIds=[],n=this.idOffsets=[];;){if(i=e.readShort(),n.push(e.offset()),t.push(e.readShort()),!(i&o))break;e.skip(i&r?4:2),i&a?e.skip(8):i&u?e.skip(4):i&s&&e.skip(2)}}var r,s,o,u,a,f;return e.prototype={compound:!1,render:function(){return this.raw.get()}},r=1,s=8,o=32,u=64,a=128,f=256,n.prototype={compound:!0,render:function(e){var t,n,r=w(this.raw.get());for(t=0;this.glyphIds.length>t;++t)n=this.glyphIds[t],r.offset(this.idOffsets[t]),r.writeShort(e[n]);return r.get()}},i({parse:function(){this.cache={}},glyphFor:function(r){var i,s,o,u,a,f,l,c,h,p,d,v=this.cache;return t(v,r)?v[r]:(i=this.file.loca,s=i.lengthOf(r),0===s?v[r]=null:(o=this.rawData,u=this.offset+i.offsetOf(r),a=w(o.slice(u,s)),f=a.readShort_(),l=a.readShort_(),c=a.readShort_(),h=a.readShort_(),p=a.readShort_(),d=v[r]=-1==f?new n(a):new e(a),d.numberOfContours=f,d.xMin=l,d.yMin=c,d.xMax=h,d.yMax=p,d))},render:function(e,t,n){var r,i,s,o=w(),u=[];for(r=0;t.length>r;++r)i=t[r],s=e[i],u.push(o.offset()),s&&o.write(s.render(n));return u.push(o.offset()),{table:o.get(),offsets:u}}})}(),d=function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}return i({parse:function(t){var n,r,i,s,o,u,a,f;for(t.offset(this.offset),n=t.readShort(),r=t.readShort(),i=this.offset+t.readShort(),s=t.times(r,function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+i}}),o=this.strings={},u=0;s.length>u;++u)a=s[u],t.offset(a.offset),f=t.readString(a.length),o[a.nameID]||(o[a.nameID]=[]),o[a.nameID].push(new e(f,a));this.postscriptEntry=o[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(n){var r,i,s,o,u,a,f=this.strings,l=0;for(r in f)t(f,r)&&(l+=f[r].length);i=w(),s=w(),i.writeShort(0),i.writeShort(l),i.writeShort(6+12*l);for(r in f)if(t(f,r))for(o=6==r?[new e(n,this.postscriptEntry)]:f[r],u=0;o.length>u;++u)a=o[u],i.writeShort(a.platformID),i.writeShort(a.platformSpecificID),i.writeShort(a.languageID),i.writeShort(a.nameID),i.writeShort(a.length),i.writeShort(s.offset()),s.writeString(a.text);return i.write(s.get()),i.get()}})}(),v=function(){var e=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return i({parse:function(e){var t,n;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:for(t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[],n=this.offset+this.length;e.offset()<n;)this.names.push(e.readString(e.readByte()));break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphFor:function(t){switch(this.format){case 65536:return e[t]||".notdef";case 131072:var n=this.glyphNameIndex[t];return e.length>n?e[n]:this.names[n-e.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535}},render:function(t){var n,r,i,s,o,u,a;if(196608==this.format)return this.raw();for(n=w(this.rawData.slice(this.offset,32)),n.writeLong(131072),n.offset(32),r=[],i=[],s=0;t.length>s;++s)o=t[s],u=this.glyphFor(o),a=e.indexOf(u),a>=0?r.push(a):(r.push(e.length+i.length),i.push(u));for(n.writeShort(t.length),s=0;r.length>s;++s)n.writeShort(r[s]);for(s=0;i.length>s;++s)n.writeByte(i[s].length),n.writeString(i[s]);return n.get()}})}(),m=function(){function e(e,t){var n=this;n.platformID=e.readShort(),n.platformSpecificID=e.readShort(),n.offset=t+e.readLong(),e.saveExcursion(function(){var t,r,i,s,o,u,a,f,l,c,h,p,d;switch(e.offset(n.offset),n.format=e.readShort(),n.length=e.readShort(),n.language=e.readShort(),n.isUnicode=3==n.platformID&&1==n.platformSpecificID&&4==n.format||0===n.platformID&&4==n.format,n.codeMap={},n.format){case 0:for(t=0;256>t;++t)n.codeMap[t]=e.readByte();break;case 4:for(r=e.readShort()/2,e.skip(6),i=e.times(r,e.readShort),e.skip(2),s=e.times(r,e.readShort),o=e.times(r,e.readShort_),u=e.times(r,e.readShort),a=(n.length+n.offset-e.offset())/2,f=e.times(a,e.readShort),t=0;r>t;++t)for(l=s[t],c=i[t],h=l;c>=h;++h)0===u[t]?p=h+o[t]:(d=u[t]/2-(r-t)+(h-l),p=f[d]||0,0!==p&&(p+=o[t])),n.codeMap[h]=65535&p}})}function t(e,t){function r(n){return t[e[n]]}var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,E,S=n(e),x=[],T=[],N=null,C=null;for(i=0;S.length>i;++i)s=S[i],o=r(s),u=o-s,(null==N||u!==C)&&(N&&T.push(N),x.push(s),C=u),N=s;for(N&&T.push(N),T.push(65535),x.push(65535),a=x.length,f=2*a,l=2*Math.pow(2,Math.floor(Math.log(a)/Math.LN2)),c=Math.log(l/2)/Math.LN2,h=f-l,p=[],d=[],v=[],i=0;a>i;++i){if(m=x[i],g=T[i],65535==m){p.push(0),d.push(0);break}if(y=r(m),m-y>=32768)for(p.push(0),d.push(2*(v.length+a-i)),b=m;g>=b;++b)v.push(r(b));else p.push(y-m),d.push(0)}return E=w(),E.writeShort(3),E.writeShort(1),E.writeLong(12),E.writeShort(4),E.writeShort(16+8*a+2*v.length),E.writeShort(0),E.writeShort(f),E.writeShort(l),E.writeShort(c),E.writeShort(h),T.forEach(E.writeShort),E.writeShort(0),x.forEach(E.writeShort),p.forEach(E.writeShort_),d.forEach(E.writeShort),v.forEach(E.writeShort),E.get()}return i({parse:function(t){var n,r=this,i=r.offset;t.offset(i),r.version=t.readShort(),n=t.readShort(),r.unicodeEntry=null,r.tables=t.times(n,function(){var n=new e(t,i);return n.isUnicode&&(r.unicodeEntry=n),n})},render:function(e,n){var r=w();return r.writeShort(0),r.writeShort(1),r.write(t(e,n)),r.get()},getUnicodeEntry:function(){if(!this.unicodeEntry)throw Error("Font doesn't have an Unicode encoding");return this.unicodeEntry}})}(),g=i({parse:function(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},render:function(){return this.raw()}}),y=1e5,o.prototype={use:function(e){var t,n,r,i,s;if("string"==typeof e){for(n="",r=0;e.length>r;++r)t=this.use(e.charCodeAt(r)),n+=String.fromCharCode(t);return n}return t=this.unicodes[e],t||(t=this.next++,this.subset[t]=e,this.unicodes[e]=t,i=this.font.cmap.getUnicodeEntry().codeMap[e],i&&(this.ncid2ogid[t]=i,null==this.ogid2ngid[i]&&(s=this.nextGid++,this.ogid2ngid[i]=s,this.ngid2ogid[s]=i))),t},encodeText:function(e){return this.use(e)},glyphIds:function(){return n(this.ogid2ngid)},glyphsFor:function(e,t){var n,r,i;for(t||(t={}),n=0;e.length>n;++n)r=e[n],t[r]||(i=t[r]=this.font.glyf.glyphFor(r),i&&i.compound&&this.glyphsFor(i.glyphIds,t));return t},render:function(){var e,r,i,s,o,u,a,f,l=this.glyphsFor(this.glyphIds());for(e in l)t(l,e)&&(e=parseInt(e,10),null==this.ogid2ngid[e]&&(r=this.nextGid++,this.ogid2ngid[e]=r,this.ngid2ogid[r]=e));return i=n(this.ngid2ogid),s=i.map(function(e){return this.ngid2ogid[e]},this),o=this.font,u=o.glyf.render(l,s,this.ogid2ngid),a=o.loca.render(u.offsets),this.lastChar=this.next-1,f={cmap:m.render(this.ncid2ogid,this.ogid2ngid),glyf:u.table,loca:a.table,hmtx:o.hmtx.render(s),hhea:o.hhea.render(s),maxp:o.maxp.render(s),post:o.post.render(s),name:o.name.render(this.psName),head:o.head.render(a.format),"OS/2":o.os2.render()},this.font.directory.render(f)},cidToGidMap:function(){var e,t,n,r=w(),i=0;for(e=this.firstChar;this.next>e;++e){for(;e>i;)r.writeShort(0),i++;t=this.ncid2ogid[e],t?(n=this.ogid2ngid[t],r.writeShort(n)):r.writeShort(0),i++}return r.get()}},u.prototype={parse:function(){var e=this.directory=new r(this.contents);this.head=e.readTable("head",a),this.loca=e.readTable("loca",f),this.hhea=e.readTable("hhea",l),this.maxp=e.readTable("maxp",c),this.hmtx=e.readTable("hmtx",h),this.glyf=e.readTable("glyf",p),this.name=e.readTable("name",d),this.post=e.readTable("post",v),this.cmap=e.readTable("cmap",m),this.os2=e.readTable("OS/2",g),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(e){return this.hmtx.forGlyph(e).advance*this.scale},makeSubset:function(){return new o(this)}},b.TTFFont=u}(window),function(e,t){"use strict";function n(t,n){function r(e,t,n){return n||(n=l),n.pdf&&null!=n.pdf[e]?n.pdf[e]:t}function i(){function i(e){var t,n,i,s,a,f=e.options,l=N(e),c=l.bbox;e=l.root,t=r("paperSize",r("paperSize","auto"),f),n=!1,"auto"==t&&(c?(i=c.getSize(),t=[i.width,i.height],n=!0,s=c.getOrigin(),l=new C.Group,l.transform(new k.Matrix(1,0,0,1,-s.x,-s.y)),l.append(e),e=l):t="A4"),a=o.addPage({paperSize:t,margin:r("margin",r("margin"),f),addMargin:n,landscape:r("landscape",r("landscape",!1),f)}),u(e,a,o)}if(!(--s>0)){var o=new e.pdf.Document({producer:r("producer"),title:r("title"),author:r("author"),subject:r("subject"),keywords:r("keywords"),creator:r("creator"),date:r("date")});c?t.children.forEach(i):i(t),n(o.render(),o)}}var s,a=[],f=[],l=t.options,c=r("multiPage");t.traverse(function(t){o({Image:function(e){f.indexOf(e.src())<0&&f.push(e.src())},Text:function(t){var n=e.pdf.parseFontDef(t.options.font),r=e.pdf.getFontURL(n);a.indexOf(r)<0&&a.push(r)}},t)}),s=2,e.pdf.loadFonts(a,i),e.pdf.loadImages(f,i)}function r(e,t){n(e,function(e){t("data:application/pdf;base64,"+e.base64())})}function i(e,t){n(e,function(e){t(new Blob([e.get()],{type:"application/pdf"}))})}function s(t,n,s,o){window.Blob&&!e.support.browser.safari?i(t,function(t){e.saveAs({dataURI:t,fileName:n}),o&&o(t)}):r(t,function(t){e.saveAs({dataURI:t,fileName:n,proxyURL:s}),o&&o(t)})}function o(e,t){var n=e[t.nodeType];return n?n.call.apply(n,arguments):t}function u(e,t,n){var r,i,s;e.options._pdfDebug&&t.comment("BEGIN: "+e.options._pdfDebug),r=e.transform(),i=e.opacity(),t.save(),null!=i&&1>i&&t.setOpacity(i),a(e,t,n),f(e,t,n),l(e,t,n),r&&(s=r.matrix(),t.transform(s.a,s.b,s.c,s.d,s.e,s.f)),o({Path:m,MultiPath:g,Circle:y,Arc:b,Text:w,Image:S,Group:E},e,t,n),t.restore(),e.options._pdfDebug&&t.comment("END: "+e.options._pdfDebug)}function a(e,t){var n,r,i,s,o,u,a=e.stroke&&e.stroke();if(a){if(n=a.color){if(n=T(n),null==n)return;t.setStrokeColor(n.r,n.g,n.b),1!=n.a&&t.setStrokeOpacity(n.a)}if(r=a.width,null!=r){if(0===r)return;t.setLineWidth(r)}i=a.dashType,i&&t.setDashPattern(A[i],0),s=a.lineCap,s&&t.setLineCap(O[s]),o=a.lineJoin,o&&t.setLineJoin(M[o]),u=a.opacity,null!=u&&t.setStrokeOpacity(u)}}function f(e,t){var n,r,i=e.fill&&e.fill();if(i&&!(i instanceof C.Gradient)){if(n=i.color){if(n=T(n),null==n)return;t.setFillColor(n.r,n.g,n.b),1!=n.a&&t.setFillOpacity(n.a)}r=i.opacity,null!=r&&t.setFillOpacity(r)}}function l(e,t,n){var r=e.clip();r&&(v(r,t,n),t.clip())}function c(e){return e&&(e instanceof C.Gradient||e.color&&!/^(none|transparent)$/i.test(e.color)&&(null==e.width||e.width>0)&&(null==e.opacity||e.opacity>0))}function h(e,t,n,r){var i,s,o,u,a,f,l,c=e.fill();return c instanceof C.Gradient?(r?t.clipStroke():t.clip(),i=c instanceof C.RadialGradient,i?(s={x:c.center().x,y:c.center().y,r:0},o={x:c.center().x,y:c.center().y,r:c.radius()}):(s={x:c.start().x,y:c.start().y},o={x:c.end().x,y:c.end().y}),u={type:i?"radial":"linear",start:s,end:o,userSpace:c.userSpace(),stops:c.stops.elements().map(function(e){var t,n=e.offset();return n=/%$/.test(n)?parseFloat(n)/100:parseFloat(n),t=T(e.color()),t.a*=e.opacity(),{offset:n,color:t}})},a=e.rawBBox(),f=a.topLeft(),l=a.getSize(),a={left:f.x,top:f.y,width:l.width,height:l.height},t.gradient(u,a),!0):void 0}function p(e,t,n){c(e.fill())&&c(e.stroke())?h(e,t,n,!0)||t.fillStroke():c(e.fill())?h(e,t,n,!1)||t.fill():c(e.stroke())?t.stroke():t.nop()}function d(e,t){var n,r,i,s=e.segments;if(4==s.length&&e.options.closed){for(n=[],r=0;s.length>r;++r){if(s[r].controlIn())return!1;n[r]=s[r].anchor()}if(i=n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].x||n[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y)return t.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),!0}}function v(e,t,n){var r,i,s,o,u,a,f=e.segments;if(0!==f.length&&!d(e,t,n)){for(i=0;f.length>i;++i)s=f[i],o=s.anchor(),r?(u=r.controlOut(),a=s.controlIn(),u&&a?t.bezier(u.x,u.y,a.x,a.y,o.x,o.y):t.lineTo(o.x,o.y)):t.moveTo(o.x,o.y),r=s;e.options.closed&&t.close()}}function m(e,t,n){v(e,t,n),p(e,t,n)}function g(e,t,n){var r,i=e.paths;for(r=0;i.length>r;++r)v(i[r],t,n);p(e,t,n)}function y(e,t,n){var r=e.geometry();t.circle(r.center.x,r.center.y,r.radius),p(e,t,n)}function b(e,t,n){var r,i=e.geometry().curvePoints();for(t.moveTo(i[0].x,i[0].y),r=1;i.length>r;)t.bezier(i[r].x,i[r++].y,i[r].x,i[r++].y,i[r].x,i[r++].y);p(e,t,n)}function w(t,n){var r,i=e.pdf.parseFontDef(t.options.font),s=t._position;t.fill()&&t.stroke()?r=L.fillAndStroke:t.fill()?r=L.fill:t.stroke()&&(r=L.stroke),n.transform(1,0,0,-1,s.x,s.y+i.fontSize),n.beginText(),n.setFont(e.pdf.getFontURL(i),i.fontSize),n.setTextRenderingMode(r),n.showText(t.content(),t._pdfRect?t._pdfRect.width():null),n.endText()}function E(e,t,n){var r,i;for(e._pdfLink&&t.addLink(e._pdfLink.url,e._pdfLink),r=e.children,i=0;r.length>i;++i)u(r[i],t,n)}function S(e,t){var n,r,i,s=e.src();s&&(n=e.rect(),r=n.getOrigin(),i=n.getSize(),t.transform(i.width,0,0,-i.height,r.x,r.y+i.height),t.drawImage(s))}function x(e,n){var r,i=t.Deferred();for(r in n)e.options.set("pdf."+r,n[r]);return C.pdf.toDataURL(e,i.resolve),i.promise()}function T(t){var n=e.parseColor(t,!0);return n?n.toRGB():null}function N(e){function t(e){return a=!0,e}function n(e){return e.visible()&&e.opacity()>0&&(c(e.fill())||c(e.stroke()))}function r(e){var t,n,r=[];for(t=0;e.length>t;++t)n=u(e[t]),null!=n&&r.push(n);return r}function i(e,t){var n,r=f,i=l;e.transform()&&(l=l.multiplyCopy(e.transform().matrix())),n=e.clip(),n&&(n=n.bbox(),n&&(n=n.bbox(l),f=f?k.Rect.intersect(f,n):n));try{return t()}finally{f=r,l=i}}function s(e){if(null==f)return!1;var t=e.rawBBox().bbox(l);return f&&t&&(t=k.Rect.intersect(t,f)),t}function u(u){return i(u,function(){if(!(u instanceof C.Group||u instanceof C.MultiPath)){var i=s(u);if(!i)return t(null);h=h?k.Rect.union(h,i):i}return o({Path:function(e){return 0!==e.segments.length&&n(e)?e:t(null)},MultiPath:function(e){if(!n(e))return t(null);var i=new C.MultiPath(e.options);return i.paths=r(e.paths),0===i.paths.length?t(null):i},Circle:function(e){return n(e)?e:t(null)},Arc:function(e){return n(e)?e:t(null)},Text:function(e){return/\S/.test(e.content())&&n(e)?e:t(null)},Image:function(e){return e.visible()&&e.opacity()>0?e:t(null)},Group:function(n){var i=new C.Group(n.options);return i.children=r(n.children),i._pdfLink=n._pdfLink,n===e||0!==i.children.length||n._pdfLink?i:t(null)}},u)})}var a,f=!1,l=k.Matrix.unit(),h=null;do a=!1,e=u(e);while(e&&a);return{root:e,bbox:h}}var C=e.drawing,k=e.geometry,L=e.pdf.TEXT_RENDERING_MODE,A={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},O={butt:0,round:1,square:2},M={miter:0,round:1,bevel:2};e.deepExtend(C,{exportPDF:x,pdf:{toDataURL:r,toBlob:i,saveAs:s,toStream:n}})}(window.kendo,window.kendo.jQuery),function(e,t){e.PDFMixin={extend:function(e){e.events.push("pdfExport"),e.options.pdf=this.options,e.saveAsPDF=this.saveAsPDF,e._drawPDF=this._drawPDF,e._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:!1,landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){var n,r=new t.Deferred,i=r.promise(),s={promise:i};if(!this.trigger("pdfExport",s))return n=this.options.pdf,n.multiPage=n.allPages,this._drawPDF(r).then(function(t){return e.drawing.exportPDF(t,n)}).done(function(t){e.saveAs({dataURI:t,fileName:n.fileName,proxyURL:n.proxyURL,forceProxy:n.forceProxy,proxyTarget:n.proxyTarget}),r.resolve()}).fail(function(e){r.reject(e)}),i},_drawPDF:function(){return e.drawing.drawDOM(this.wrapper)},_drawPDFShadow:function(n){var r,i,s;return n=n||{},r=this.wrapper,i=t("<div class='k-pdf-export-shadow'>"),n.width&&i.css({width:n.width,overflow:"visible"}),r.before(i),i.append(n.content||r.clone(!0,!0)),s=e.drawing.drawDOM(i),s.always(function(){i.remove()}),s}}}(kendo,window.kendo.jQuery),function(e,t){function n(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function r(e){var t,n=" ";if(e){if(typeof e===an)return e;for(t in e)n+=t+'="'+e[t]+'"'}return n}function i(t,n){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",n)}function s(t,n,r,i,s){var o,u=n;for(n=e(),s=s||1,o=0;s>o;o++)n=n.add(t.eq(u+o));"number"==typeof r?n[i?"insertBefore":"insertAfter"](t.eq(r)):n.appendTo(r)}function o(t,n,r){return e(t).add(n).find(r)}function u(e,t,n){var r,i,s,o;for(n=Et(n)?n:[n],r=0,i=n.length;i>r;r++)s=n[r],gt(s)&&s.click&&(o=s.name||s.text,t.on(rn+Bt,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},Tt(s.click,e)))}function a(e,t,n){return bt(e,function(e){var r,i;return e=typeof e===an?{field:e}:e,(!p(e)||n)&&(e.attributes=z(e.attributes),e.footerAttributes=z(e.footerAttributes),e.headerAttributes=z(e.headerAttributes),r=!0),e.columns&&(e.columns=a(e.columns,t,r)),i=lt.guid(),e.headerAttributes=yt({id:i},e.headerAttributes),yt({encoded:t,hidden:r},e)})}function f(e,t){var n=[];return l(e,t,n),n[n.length-1]}function l(e,t,n){var r,i;for(n=n||[],r=0;t.length>r;r++){if(e===t[r])return!0;if(t[r].columns){if(i=n.length,n.push(t[r]),l(e,t[r].columns,n))return!0;n.splice(i,n.length-i)}}return!1}function c(e,t){var n=t?W:z;e.hidden=!t,e.attributes=n(e.attributes),e.footerAttributes=n(e.footerAttributes),e.headerAttributes=n(e.headerAttributes)}function h(){return"none"!==this.style.display}function p(e){return d([e]).length>0}function d(e){return wt(e,function(e){var t=!e.hidden;return t&&e.columns&&(t=d(e.columns).length>0),t})}function v(t){return e(t).map(function(){return this.toArray()})}function m(e,t,n){var r=b(D(t)),i=b(P(t)),s=e.rowSpan;e.rowSpan=n?r>i?s-(r-i)||1:s+(i-r):r>i?s+(r-i):s-(i-r)||1}function g(t,n,r,i,s,o,u){var a,f,l=b(t),c=b([n]);l>c&&(a=Array(u+1).join('<th class="k-group-cell k-header">&nbsp;</th>'),f=o.children(":not(.k-filter-row)"),e(Array(l-c+1).join("<tr>"+a+"</tr>")).insertAfter(f.last())),O(o,l-c),w(r,i,s,o)}function y(t,n,r){var i,s,o,u,a,f,l,c;for(r=r||0,o=n,n=F(n),u={},a=t.find(">tr:not(.k-filter-row)"),f=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},l=0,c=n.length;c>l;l++)i=E(n[l],o),u[i.row]||(u[i.row]=a.eq(i.row).find(".k-header").filter(f)),s=u[i.row].eq(i.cell),s.attr(lt.attr("index"),r+l);return n.length}function b(e){var t,n,r=1,i=0;for(t=0;e.length>t;t++)e[t].columns&&(n=b(e[t].columns),n>i&&(i=n));return r+i}function w(t,n,r,i){var s,o,u=T(t[0],n),a=r.find(">tr:not(.k-filter-row):eq("+u.row+")>th.k-header"),f=e(),l=u.cell;for(s=0;t.length>s;s++)f=f.add(a.eq(l+s));for(i.find(">tr:not(.k-filter-row)").eq(u.row).append(f),o=[],s=0;t.length>s;s++)t[s].columns&&(o=o.concat(t[s].columns));o.length&&w(o,n,r,i)}function E(e,t,n,r){var i,s;for(n=n||0,r=r||{},r[n]=r[n]||0,s=0;t.length>s;s++){if(t[s]==e){i={cell:r[n],row:n};break}if(t[s].columns&&(i=E(e,t[s].columns,n+1,r)))break;r[n]++}return i}function S(e,t,n,r){var i,s=n.locked;do i=e[t],t+=r?1:-1;while(i&&t>-1&&e.length>t&&i!=n&&!i.columns&&i.locked==s);return i}function x(e,t,n,r){var i,s,o,u;return t.columns?(t=t.columns,t[r?0:t.length-1]):(i=f(t,e),s=i?i.columns:e,o=St(t,s),0===o&&r?o++:o!=s.length-1||r?(o>0||0===o&&!r)&&(o+=r?-1:1):o--,u=St(n,s),t=S(s,o,n,u>o),t&&t!=n&&t.columns?x(e,t,n,r):null)}function T(e,t,n,r){var i,s;for(n=n||0,r=r||{},r[n]=r[n]||0,s=0;t.length>s;s++){if(t[s]==e){i={cell:r[n],row:n};break}if(t[s].columns&&(i=T(e,t[s].columns,n+1,r)))break;t[s].hidden||r[n]++}return i}function N(e){var t=C(D(e));return t.concat(C(P(e)))}function C(e){var t,n=[],r=[];for(t=0;e.length>t;t++)n.push(e[t]),e[t].columns&&(r=r.concat(e[t].columns));return r.length&&(n=n.concat(C(r))),n}function k(e){var t,n,r=0;for(n=0;e.length>n;n++)t=e[n],t.columns?r+=k(t.columns):t.hidden&&r++;return r}function L(e){var t,n,r,i=0;for(n=0,r=e.length;r>n;n++)t=e[n].style.width,t&&-1==t.indexOf("%")&&(i+=parseInt(t,10));return i}function A(e,t){var n,r,i=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(r=0;i.length>r;r++)n=i[r].rowSpan,n>1&&(i[r].rowSpan=n-t||1)}function O(e,t){var n,r=e.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;r.length>n;n++)r[n].rowSpan+=t}function M(t){var n,r=t.find("tr:not(.k-filter-row)"),i=r.filter(function(){return!e(this).children().length}).remove().length,s=r.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(n=0;s.length>n;n++)s[n].rowSpan>1&&(s[n].rowSpan-=i);return r.length-i}function _(e,t,n,r,i){var s,o,u,a=[];for(s=0,u=e.length;u>s;s++)o=n[r]||[],o.push(t.eq(i+s)),n[r]=o,e[s].columns&&(a=a.concat(e[s].columns));a.length&&_(a,t,n,r+1,i+e.length)}function D(e){return wt(e,function(e){return e.locked})}function P(e){return wt(e,function(e){return!e.locked})}function H(e){return wt(e,function(e){return!e.locked&&p(e)})}function B(e){return wt(e,function(e){return e.locked&&p(e)})}function j(e){var t,n=[];for(t=0;e.length>t;t++)e[t].hidden||(e[t].columns?n=n.concat(j(e[t].columns)):n.push(e[t]));return n}function F(e){var t,n=[];for(t=0;e.length>t;t++)e[t].columns?n=n.concat(F(e[t].columns)):n.push(e[t]);return n}function I(n){var r,i=n.find(">tr:not(.k-filter-row)"),s=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},o=e();return i.length>1&&(o=i.find("th").filter(s).filter(function(){return this.rowSpan>1})),o=o.add(i.last().find("th").filter(s)),r=lt.attr("index"),o.sort(function(n,i){var s,o;return n=e(n),i=e(i),s=n.attr(r),o=i.attr(r),s===t&&(s=e(n).index()),o===t&&(o=e(i).index()),s=parseInt(s,10),o=parseInt(o,10),s>o?1:o>s?-1:0}),o}function q(t){var n,r,i,s,o,u,a,f=t.closest("table"),l=e().add(t),c=t.closest("tr"),h=f.find("tr:not(.k-filter-row)"),p=h.index(c);if(p>0){for(n=h.eq(p-1),r=n.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!e(this).attr("rowspan")}),i=0,s=c.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),o=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1}),u=0;o.length>u;u++)i+=o[u].colSpan||1;for(s+=Math.max(i-1,0),i=0,u=0;r.length>u;u++)if(a=r.eq(u),i+=a.attr("colSpan")?a[0].colSpan:1,s>=u&&i>s){l=q(a).add(l);break}}return l}function R(t){var n,r,i,s,o,u,a,f,l=t.closest("thead"),c=e().add(t),h=t.closest("tr"),p=l.find("tr:not(.k-filter-row)"),d=p.index(h)+t[0].rowSpan,v=lt.attr("colspan");if(p.length-1>=d){for(n=h.next(),r=h.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),i=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),i=i.filter(function(){return!this.rowSpan||1===this.rowSpan}),o=0,s=0;i.length>s;s++)o+=parseInt(i.eq(s).attr(v),10)||1;for(u=n.find("th:not(.k-group-cell,.k-hierarchy-cell)"),a=parseInt(t.attr(v),10)||1,s=0;a>s;)n=u.eq(s+o),c=c.add(R(n)),f=parseInt(n.attr(v),10),f>1&&(a-=f-1),s++}return c}function U(t,n,r,i){var s,o=t;return i&&t.empty(),pt?t[0].innerHTML=r:(s=document.createElement("div"),s.innerHTML="<table><tbody>"+r+"</tbody></table>",t=s.firstChild.firstChild,n[0].replaceChild(t,o[0]),t=e(t)),t}function z(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",yt({},e,{style:t})}function W(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function X(t,n,r,i){var s,o=t.find(">colgroup"),u=bt(n,function(e){return s=e.width,s&&0!==parseInt(s,10)?lt.format('<col style="width:{0}"/>',typeof s===an?s:s+"px"):"<col />"});(r||o.find(".k-hierarchy-col").length)&&u.splice(0,0,'<col class="k-hierarchy-col" />'),o.length&&o.remove(),o=e(Array(i+1).join('<col class="k-group-col">')+u.join("")),o.is("colgroup")||(o=e("<colgroup/>").append(o)),t.prepend(o),wn.msie&&8==wn.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function V(e,t){var n,r,i=0,s=e.find("th:not(.k-group-cell)");for(n=0,r=t.length;r>n;n++)t[n].locked&&(s.eq(n).insertBefore(s.eq(i)),s=e.find("th:not(.k-group-cell)"),i++)}function $(e){var t,n,r,i={};for(n=0,r=e.length;r>n;n++)t=e[n],i[t.value]=t.text;return i}function J(e,t,n,r){var i=n&&n.length&&gt(n[0])&&"value"in n[0],s=i?$(n)[e]:e;return s=null!=s?s:"",t?lt.format(t,s):r===!1?s:lt.htmlEncode(s)}function K(e,t,n){for(var r,i=0,s=e[i];s;){if(r=n?!0:"none"!==s.style.display,r&&!mn.test(s.className)&&--t<0){s.style.display=n?"":"none";break}s=e[++i]}}function Q(t,n){for(var r,i,s=0,o=t.length;o>s;s+=1)i=t.eq(s),i.is(".k-grouping-row,.k-detail-row")?(r=i.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-1)):(i.hasClass("k-grid-edit-row")&&(r=i.children(".k-edit-container")[0])&&(r=e(r),r.attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(n).remove(),i=r.find("tr:first")),K(i[0].cells,n,!1))}function G(e){var t,n,r=[];for(n=0;e.length>n&&(t=e[n],"field"in t&&"value"in t&&"items"in t);n++)r.push(t),t.hasSubgroups&&(r=r.concat(G(t.items)));return r}function Y(e){var t,n,r=[];for(n=0;e.length>n&&(t=e[n],"field"in t&&"value"in t&&"items"in t);n++)t.hasSubgroups&&(r=r.concat(Y(t.items))),r.push(t.aggregates);return r}function Z(t,n){for(var r,i,s,o=0,u=t.length;u>o;o+=1)i=t.eq(o),i.is(".k-grouping-row,.k-detail-row")?(r=i.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+1)):(i.hasClass("k-grid-edit-row")&&(r=i.children(".k-edit-container")[0])&&(r=e(r),r.attr("colspan",parseInt(r.attr("colspan"),10)+1),X(r.find(">form>table"),d(s),!1,0),i=r.find("tr:first")),K(i[0].cells,n,!0))}function et(e,t,n){n=n||1;var r,i,s;for(i=0,s=e.length;s>i;i++)r=e.eq(i).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+n),r=t.eq(i).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-n)}function tt(e){var t,n,r=0,i=e.find(">colgroup>col");for(t=0,n=i.length;n>t;t+=1)r+=parseInt(i[t].style.width,10);return r}function nt(e,t){var n,r,i,s;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,r=t.offsetHeight,n>r?(i=t.rows[t.rows.length-1],gn.test(i.className)&&(i=t.rows[t.rows.length-2]),s=n-r):(i=e.rows[e.rows.length-1],gn.test(i.className)&&(i=e.rows[e.rows.length-2]),s=r-n),i.style.height=i.offsetHeight+s+"px")}function rt(e,t){var n,r=e.offsetHeight,i=t.offsetHeight;r>i?n=r+"px":i>r&&(n=i+"px"),n&&(e.style.height=t.style.height=n)}function it(e,t){var n,r,i;if(typeof e===an&&e===t)return e;if(gt(e)&&e.name===t)return e;if(Et(e))for(n=0,r=e.length;r>n;n++)if(i=e[n],typeof i===an&&i===t||i.name===t)return i;return null}function st(t,n){var r,i,s,o=wn.msie;if(n===!0){if(t=e(t),r=!0,r&&(i=t.parent().scrollTop(),s=t.parent().scrollLeft()),o)try{t[0].setActive()}catch(u){t[0].focus()}else t[0].focus();r&&(t.parent().scrollTop(i),t.parent().scrollLeft(s))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function ot(n){var r=e(n.currentTarget),i=r.is("th"),s=this.table.add(this.lockedTable),o=this.thead.parent().add(e(">table",this.lockedHeader)),u=e(n.target).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon"),a=r.closest("table")[0];if(!lt.support.touch)return u&&r.find(lt.roleSelector("filtercell")).length?(this.current(r),t):((a===s[0]||a===s[1]||a===o[0]||a===o[1])&&(e(n.target).is("a.k-i-collapse, a.k-i-expand")||(this.options.navigatable&&this.current(r),(i||!u)&&setTimeout(function(){Sn&&e(lt._activeElement()).hasClass("k-widget")||st(a,!0)}),i&&n.preventDefault())),t)}function ut(e){return e&&(e.hasClass("k-edit-cell")||e.parent().hasClass("k-grid-edit-row"))}function at(e,t,r){return'<tr role="row" class="k-grouping-row">'+n(t)+'<td colspan="'+e+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+r+"</p></td></tr>"}function ft(e){return'<tr role="row" class="k-grouping-row"><td colspan="'+e+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var lt=window.kendo,ct=lt.ui,ht=lt.data.DataSource,pt=lt.support.tbodyInnerHtml,dt=lt._activeElement,vt=ct.Widget,mt=lt.keys,gt=e.isPlainObject,yt=e.extend,bt=e.map,wt=e.grep,Et=e.isArray,St=e.inArray,xt=Array.prototype.push,Tt=e.proxy,Nt=lt.isFunction,Ct=e.isEmptyObject,kt=Math,Lt="progress",At="error",Ot=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Mt="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",_t="tr:not(.k-footer-template):visible",Dt=":not(.k-group-cell):not(.k-hierarchy-cell):visible",Pt=_t+":first>"+Dt+":first",Ht="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",Bt=".kendoGrid",jt="edit",Ft="save",It="remove",qt="detailInit",Rt="filterMenuInit",Ut="columnMenuInit",zt="change",Wt="columnHide",Xt="columnShow",Vt="saveChanges",$t="dataBound",Jt="detailExpand",Kt="detailCollapse",Qt="k-state-focused",Gt="k-state-selected",Yt="k-grid-norecords",Zt="columnResize",en="columnReorder",tn="columnLock",nn="columnUnlock",rn="click",sn="height",on="tabIndex",un="function",an="string",fn="Are you sure you want to delete this record?",ln="No records available.",cn="Delete",hn="Cancel",pn=/(\}|\#)/gi,dn=/#/gi,vn="[\\x20\\t\\r\\n\\f]",mn=RegExp("(^|"+vn+")(k-group-cell|k-hierarchy-cell)("+vn+"|$)"),gn=RegExp("(^|"+vn+")(k-filter-row)("+vn+"|$)"),yn='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',bn=!1,wn=lt.support.browser,En=wn.msie&&7==wn.version,Sn=wn.msie&&8==wn.version,xn=vt.extend({init:function(e,t){var n=this;vt.fn.init.call(n,e,t),n._refreshHandler=Tt(n.refresh,n),n.setDataSource(t.dataSource),n.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(zt,t._refreshHandler),t.dataSource=e,t.dataSource.bind(zt,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop,prefetch:!0},destroy:function(){var e=this;vt.fn.destroy.call(e),e.dataSource.unbind(zt,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(Bt),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null},wrap:function(){var t,n=this,r=lt.support.scrollbar()+1,i=n.element;i.css({width:"auto",overflow:"hidden"}).css(bn?"padding-left":"padding-right",r),n.content=i.children().first(),t=n.wrapper=n.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+Bt+" mousewheel"+Bt,Tt(n._wheelScroll,n)),lt.support.kineticScrollNeeded&&(n.drag=new lt.UserEvents(n.wrapper,{global:!0,start:function(e){e.sender.capture()},move:function(e){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),n.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:r}).appendTo(i).bind("scroll"+Bt,Tt(n._scroll,n))},_wheelScroll:function(t){if(!t.ctrlKey){var n=this.verticalScrollbar,r=n.scrollTop(),i=lt.wheelDeltaY(t);!i||i>0&&0===r||0>i&&r+n[0].clientHeight==n[0].scrollHeight||(t.preventDefault(),e(t.currentTarget).one("wheel"+Bt,!1),this.verticalScrollbar.scrollTop(r+ -i))}},_scroll:function(e){var t=this,n=!t.options.prefetch,r=e.currentTarget.scrollTop,i=t.dataSource,s=t.itemHeight,o=i.skip()||0,u=t._rangeStart||o,a=t.element.innerHeight(),f=!!(t._scrollbarTop&&t._scrollbarTop>r),l=kt.max(kt.floor(r/s),0),c=kt.max(l+kt.floor(a/s),0);t._scrollTop=r-u*s,t._scrollbarTop=r,t._scrolling=n,t._fetch(l,c,f)||(t.wrapper[0].scrollTop=t._scrollTop),n&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){t._scrolling=!1,t._page(t._rangeStart,t.dataSource.take())},100))},itemIndex:function(e){var t=this._rangeStart||this.dataSource.skip()||0;return t+e},position:function(e){var t,n=this._rangeStart||this.dataSource.skip()||0,r=this.dataSource.pageSize();return t=e>n?e-n+1:n-e-1,t>r?r:t},scrollIntoView:function(e){var t=this.wrapper[0],n=t.clientHeight,r=this._scrollTop||t.scrollTop,i=e[0].offsetTop,s=e[0].offsetHeight;r>i?this.verticalScrollbar[0].scrollTop-=n/2:i+s>=r+n&&(this.verticalScrollbar[0].scrollTop+=n/2)},_fetch:function(t,n,r){var i=this,s=i.dataSource,o=i.itemHeight,u=s.take(),a=i._rangeStart||s.skip()||0,f=kt.floor(t/u)*u,l=!1,c=.33;return a>t?(l=!0,a=kt.max(0,n-u),i._scrollTop=(t-a)*o,i._page(a,u)):n>=a+u&&!r?(l=!0,a=t,i._scrollTop=o,i._page(a,u)):!i._fetching&&i.options.prefetch&&(f+u-u*c>t&&t>u&&s.prefetch(f-u,u,e.noop),n>f+u*c&&s.prefetch(f+u,u,e.noop)),l},fetching:function(){return this._fetching},_page:function(e,t){var n=this,r=!n.options.prefetch,i=n.dataSource;clearTimeout(n._timeout),n._fetching=!0,n._rangeStart=e,i.inRange(e,t)?i.range(e,t):(r||lt.ui.progress(n.wrapper.parent(),!0),n._timeout=setTimeout(function(){n._scrolling||(r&&lt.ui.progress(n.wrapper.parent(),!0),i.range(e,t))},100))},repaintScrollbar:function(){var e,t=this,n="",r=25e4,i=t.dataSource,s=lt.support.kineticScrollNeeded?0:lt.support.scrollbar(),o=t.wrapper[0],u=t.itemHeight=t.options.itemHeight()||0,a=o.scrollWidth>o.offsetWidth?s:0,f=i.total()*u+a;for(e=0;e<kt.floor(f/r);e++)n+='<div style="width:1px;height:'+r+'px"></div>';f%r&&(n+='<div style="width:1px;height:'+f%r+'px"></div>'),t.verticalScrollbar.html(n),o.scrollTop=t._scrollTop},refresh:function(){var e=this,t=e.dataSource,n=e._rangeStart;lt.ui.progress(e.wrapper.parent(),!1),clearTimeout(e._timeout),e.repaintScrollbar(),e.drag&&e.drag.cancel(),n&&!e._fetching&&(e._rangeStart=t.skip(),1===t.page()&&(e.verticalScrollbar[0].scrollTop=0)),e._fetching=!1}}),Tn={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}},Nn=lt.ui.DataBoundWidget.extend({init:function(t,n,r){var i=this;n=Et(n)?{dataSource:n}:n,vt.fn.init.call(i,t,n),r&&(i._events=r),bn=lt.support.isRtl(t),i._element(),i._aria(),i._columns(i.options.columns),i._dataSource(),i._tbody(),i._pageable(),i._thead(),i._groupable(),i._toolbar(),i._setContentHeight(),i._templates(),i._navigatable(),i._selectable(),i._clipboard(),i._details(),i._editable(),i._attachCustomCommandsEvent(),i._minScreenSupport(),i.options.autoBind?i.dataSource.fetch():i._footer(),i.lockedContent&&(i.wrapper.addClass("k-grid-lockedcolumns"),i._resizeHandler=function(){i.resize()},e(window).on("resize"+Bt,i._resizeHandler)),lt.notify(i)},events:[zt,"dataBinding","cancel",$t,Jt,Kt,qt,Rt,Ut,jt,Ft,It,Vt,Zt,en,Xt,Wt,tn,nn],setDataSource:function(e){var t=this,n=t.options.scrollable;t.options.dataSource=e,t._dataSource(),t._pageable(),t._thead(),n&&(n.virtual?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):t.content.scrollLeft(0)),t.options.groupable&&t._groupable(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.navigatable&&t._navigatable(),t.options.selectable&&t._selectable(),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:hn,confirmation:fn,confirmDelete:cn},commands:{create:Tn.create.text,cancel:Tn.cancel.text,save:Tn.save.text,destroy:Tn.destroy.text,edit:Tn.edit.text,update:Tn.update.text,canceledit:Tn.canceledit.text,excel:Tn.excel.text,pdf:Tn.pdf.text},noRecords:ln}},destroy:function(){var t,n=this;n._angularItems("cleanup"),n._destroyColumnAttachments(),vt.fn.destroy.call(n),this._navigatableTables=null,n._resizeHandler&&e(window).off("resize"+Bt,n._resizeHandler),n.pager&&n.pager.element&&n.pager.destroy(),n.pager=null,n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable("destroy"),n.groupable=null,n.options.reorderable&&n.wrapper.data("kendoReorderable").destroy(),n.selectable&&n.selectable.element&&(n.selectable.destroy(),n.clearArea(),n.copyHandler&&(n.wrapper.off("keydown",n.copyHandler),n.unbind(n.copyHandler)),n.updateClipBoardState&&(n.unbind(n.updateClipBoardState),n.updateClipBoardState=null),n.clearAreaHandler&&n.wrapper.off("keyup",n.clearAreaHandler)),n.selectable=null,n.resizable&&(n.resizable.destroy(),n._resizeUserEvents&&(n._resizeHandleDocumentClickHandler&&e(document).off("click",n._resizeHandleDocumentClickHandler),n._resizeUserEvents.destroy(),n._resizeUserEvents=null),n.resizable=null),n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy(),n.virtualScrollable=null,n._destroyEditable(),n.dataSource&&(n.dataSource.unbind(zt,n._refreshHandler).unbind(Lt,n._progressHandler).unbind(At,n._errorHandler),n._refreshHandler=n._progressHandler=n._errorHandler=null),t=n.element.add(n.wrapper).add(n.table).add(n.thead).add(n.wrapper.find(">.k-grid-toolbar")),n.content&&(t=t.add(n.content).add(n.content.find(">.k-virtual-scrollable-wrap"))),n.lockedHeader&&n._removeLockedContainers(),n.pane&&n.pane.destroy(),n.minScreenResizeHandler&&e(window).off("resize",n.minScreenResizeHandler),n._draggableInstance&&n._draggableInstance.element&&n._draggableInstance.destroy(),n._draggableInstance=null,t.off(Bt),lt.destroy(n.wrapper),n.rowTemplate=n.altRowTemplate=n.lockedRowTemplate=n.lockedAltRowTemplate=n.detailTemplate=n.footerTemplate=n.groupFooterTemplate=n.lockedGroupFooterTemplate=n.noRecordsTemplate=null,n.scrollables=n.thead=n.tbody=n.element=n.table=n.content=n.footer=n.wrapper=n._groupableClickHandler=n._setContentWidthHandler=null},getOptions:function(){var n,r,i,s=this.options;return s.dataSource=null,n=yt(!0,{},this.options),n.columns=lt.deepExtend([],this.columns),r=this.dataSource,i=r.options.data&&r._data,r.options.data=null,n.dataSource=e.extend(!0,{},r.options),r.options.data=i,n.dataSource.data=i,n.dataSource.page=r.page(),n.dataSource.filter=r.filter(),n.dataSource.pageSize=r.pageSize(),n.dataSource.sort=r.sort(),n.dataSource.group=r.group(),n.dataSource.aggregate=r.aggregate(),n.dataSource.transport&&(n.dataSource.transport.dataSource=null),n.$angular=t,n},setOptions:function(e){var t,n,r,i,s=this.getOptions();lt.deepExtend(s,e),e.dataSource||(s.dataSource=this.dataSource),t=this.wrapper,n=this._events,r=this.element,this.destroy(),this.options=null,this._isMobile&&(i=t.closest(lt.roleSelector("pane")).parent(),i.after(t),i.remove(),t.removeClass("k-grid-mobile")),t[0]!==r[0]&&(t.before(r),t.remove()),r.empty(),this.init(r,s,n),this._setEvents(s)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){return t.children().filter(function(){var t=e(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer")})},dataItems:function(){var e,t,n,r=lt.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(e=r.length,t=Array(2*e),n=e;--n>=0;)t[n]=t[n+e]=r[n];r=t}return r},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead&&(this.angular("cleanup",function(){return{elements:t.thead.get()}}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=e(this),n=t.data("kendoFilterMenu"),r=t.data("kendoColumnSorter"),i=t.data("kendoColumnMenu");n&&n.destroy(),r&&r.destroy(),i&&i.destroy()}))},_attachCustomCommandsEvent:function(){var e,t,n,r=this,i=F(r.columns||[]);for(t=0,n=i.length;n>t;t++)e=i[t].command,e&&u(r,r.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,n=t.element;n.is("table")||(n=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),n.length||(n=e("<table />").appendTo(t.element))),En&&n.attr("cellspacing",0),t.table=n.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_createResizeHandle:function(t,n){var r,i,s,o,u,a,f,l=this,c=l.options.columnResizeHandleWidth,h=l.options.scrollable,p=l.resizeHandle,d=this._groups();if(p&&l.lockedContent&&p.data("th")[0]!==n[0]&&(p.off(Bt).remove(),p=null),p||(p=l.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(p)),bn)r=n.position().left,h&&(o=n.closest(".k-grid-header-wrap, .k-grid-header-locked"),u=wn.msie?o.scrollLeft():0,a=wn.webkit?o[0].scrollWidth-o[0].offsetWidth-o.scrollLeft():0,f=wn.mozilla?o[0].scrollWidth-o[0].offsetWidth-(o[0].scrollWidth-o[0].offsetWidth-o.scrollLeft()):0,r-=a-f+u);else{for(r=n[0].offsetWidth,i=I(n.closest("thead")).filter(":visible"),s=0;i.length>s&&i[s]!=n[0];s++)r+=i[s].offsetWidth;d>0&&(r+=t.find(".k-group-cell:first").outerWidth()*d),l._hasDetails()&&(r+=t.find(".k-hierarchy-cell:first").outerWidth())}p.css({top:n.position().top,left:r-c,height:n.outerHeight(),width:3*c}).data("th",n).show(),p.off("dblclick"+Bt).on("dblclick"+Bt,function(){l._autoFitLeafColumn(n.data("index"))})},_positionColumnResizeHandle:function(){var t=this,n=t.options.columnResizeHandleWidth,r=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t.thead.add(r).on("mousemove"+Bt,"th",function(r){var s,o,u,a=e(this);a.hasClass("k-group-cell")||a.hasClass("k-hierarchy-cell")||(s=r.clientX,o=e(window).scrollLeft(),u=a.offset().left+(bn?0:this.offsetWidth),s+o>u-n&&u+n>s+o?t._createResizeHandle(a.closest("div"),a):t.resizeHandle?t.resizeHandle.hide():i(t.wrapper,""))})},_resizeHandleDocumentClick:function(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(Bt).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,n=t.lockedHeader?t.lockedHeader.find("thead:first"):e();t._resizeUserEvents=new lt.UserEvents(n.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(n){var r=e(n.target);n.preventDefault(),r.addClass("k-column-active"),t._createResizeHandle(r.closest("div"),r),t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=Tt(t._resizeHandleDocumentClick,t)),e(document).on("click",t._resizeHandleDocumentClickHandler)}})},_resizable:function(){var t,n,r,s,o,u,a,f=this,l=f.options,c=this._isMobile,h=lt.support.mobileOS?0:lt.support.scrollbar();l.resizable&&(t=l.scrollable?f.wrapper.find(".k-grid-header-wrap:first"):f.wrapper,c?f._positionColumnResizeHandleTouch(t):f._positionColumnResizeHandle(t),f.resizable&&f.resizable.destroy(),f.resizable=new ct.Resizable(t.add(f.lockedHeader),{handle:(l.scrollable?"":">")+".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+f.tbody.attr("clientHeight")})},start:function(t){var h,p,d,v;a=e(t.currentTarget).data("th"),c&&f._hideResizeHandle(),h=a.closest("table"),p=e.inArray(a[0],I(a.closest("thead")).filter(":visible")),o=h.parent().hasClass("k-grid-header-locked"),d=o?f.lockedTable:f.table,v=f.footer||e(),f.footer&&f.lockedContent&&(v=f.footer.children(o?".k-grid-footer-locked":".k-grid-footer-wrap")),i(f.wrapper,"col-resize"),u=l.scrollable?h.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+p+")").add(d.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+p+")")).add(v.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+p+")")):d.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+p+")"),n=t.x.location,r=a.outerWidth(),s=o?d.children("tbody").outerWidth():f.tbody.outerWidth(),wn.webkit&&f.wrapper.addClass("k-grid-column-resizing")},resize:function(t){var i,c,p,d,v,m,g=bn?-1:1,y=r+t.x.location*g-n*g;l.scrollable?(o&&f.lockedFooter?i=f.lockedFooter.children("table"):f.footer&&(i=f.footer.find(">.k-grid-footer-wrap>table")),i&&i[0]||(i=e()),c=a.closest("table"),p=o?f.lockedTable:f.table,d=!1,v=f.wrapper.width()-h,m=y,o&&s-r+m>v&&(m=r+(v-s-2*h),0>m&&(m=y),d=!0),m>10&&(u.css("width",m),s&&(m=d?v-2*h:s+t.x.location*g-n*g,p.add(c).add(i).css("width",m),o||(f._footerWidth=m)))):y>10&&u.css("width",y)},resizeend:function(){var e,t,n,s=a.outerWidth();i(f.wrapper,""),wn.webkit&&f.wrapper.removeClass("k-grid-column-resizing"),r!=s&&(t=f.lockedHeader?f.lockedHeader.find("thead:first tr:first").add(f.thead.find("tr:first")):a.parent(),n=a.attr(lt.attr("index")),n||(n=t.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(a)),e=F(f.columns)[n],e.width=s,f.trigger(Zt,{column:e,oldWidth:r,newWidth:s}),f._applyLockedContainersWidth(),f._syncLockedContentHeight(),f._syncLockedHeaderHeight()),f._hideResizeHandle(),a=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:lt.guid(),filter:t.content?".k-grid-header:first "+Ht:"table:first>.k-grid-header "+Ht,drag:function(){t._hideResizeHandle()},hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(lt.attr("title"))||t.attr(lt.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var t,n=this;n.options.reorderable&&(n.wrapper.data("kendoReorderable")&&n.wrapper.data("kendoReorderable").destroy(),t=function(e,t,r){var i=e[t],s=e[r],o=f(i,n.columns);return e=o?o.columns:n.columns,St(s,e)},n.wrapper.kendoReorderable({draggable:n._draggableInstance,dragOverContainers:function(e,r){var i=N(n.columns);return i[e].lockable!==!1&&t(i,e,r)>-1},inSameContainer:function(r){return e(r.source).parent()[0]===e(r.target).parent()[0]&&t(N(n.columns),r.sourceIndex,r.targetIndex)>-1},change:function(e){var r=N(n.columns),i=r[e.oldIndex],s=t(r,e.oldIndex,e.newIndex);n.trigger(en,{newIndex:s,oldIndex:St(i,r),column:i}),n.reorderColumn(s,i,"before"===e.position)}}))},_reorderHeader:function(e,t,n){var r,i,u,a,f=this,l=E(e[0],f.columns),c=E(t,f.columns),h=[];for(r=0;e.length>r;r++)e[r].columns&&(h=h.concat(e[r].columns));i=o(f.lockedHeader,f.thead,"tr:eq("+l.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),u=D(e).length,a=D([t]).length,h.length?(u>0&&0===a?g(e,t,h,f.columns,f.lockedHeader.find("thead"),f.thead,this._groups()):0===u&&a>0&&g(e,t,h,f.columns,f.thead,f.lockedHeader.find("thead"),this._groups()),(t.columns||l.cell-c.cell>1||c.cell-l.cell>1)&&(t=x(f.columns,t,e[0],n),t&&f._reorderHeader(h,t,n))):u!==a&&m(i[l.cell],f.columns,u),s(i,l.cell,c.cell,n,e.length)},_reorderContent:function(t,n,r){var i,u,a,f,l=this,c=e(),h=t[0],p=d(t),v=St(h,F(l.columns)),m=St(n,F(l.columns)),g=St(h,j(l.columns)),y=St(n,j(l.columns)),b=D(l.columns).length,w=!!n.locked,E=l.footer||l.wrapper.find(".k-grid-footer"),S=i=y;for(n.hidden&&(w?(y=l.lockedTable.find("colgroup"),S=l.lockedHeader.find("colgroup"),i=e(l.lockedFooter).find(">table>colgroup")):(y=l.tbody.prev(),S=l.thead.prev(),i=E.find(".k-grid-footer-wrap").find(">table>colgroup"))),l._hasFilterRow()&&s(l.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),v,m,r,t.length),s(o(l.lockedHeader,l.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),g,S,r,p.length),l.options.scrollable&&s(o(l.lockedTable,l.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),g,y,r,p.length),E&&E.length&&(s(o(l.lockedFooter,E.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),g,i,r,p.length),s(E.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),v,m,r,t.length)),u=l.tbody.children(":not(.k-grouping-row,.k-detail-row)"),l.lockedTable&&(b>m?v>=b&&et(l.lockedTable.find(">tbody>tr.k-grouping-row"),l.table.find(">tbody>tr.k-grouping-row"),t.length):b>v&&et(l.table.find(">tbody>tr.k-grouping-row"),l.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),c=l.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),a=0,f=u.length;f>a;a+=1)s(o(c[a],u[a],">td:not(.k-group-cell,.k-hierarchy-cell)"),v,m,r,t.length)},_autoFitLeafColumn:function(e){this.autoFitColumn(F(this.columns)[e])},autoFitColumn:function(t){var n,r,i,s,o,u,a,f,l,c,d,v,m,g,y,b,w,E=this,S=E.options,x=E.columns,T=E.lockedHeader?I(E.lockedHeader.find(">table>thead")).filter(h).length:0,N="col:not(.k-group-col):not(.k-hierarchy-col)",k="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(t="number"==typeof t?x[t]:gt(t)?wt(C(x),function(e){return e===t})[0]:wt(C(x),function(e){return e.field===t})[0],t&&p(t)){for(n=St(t,F(x)),s=t.locked,i=s?E.lockedHeader.children("table"):E.thead.parent(),r=i.find("[data-index='"+n+"']"),u=s?E.lockedTable:E.table,a=E.footer||e(),E.footer&&E.lockedContent&&(a=E.footer.children(s?".k-grid-footer-locked":".k-grid-footer-wrap")),f=a.find("table").first(),E.lockedHeader&&!s&&(n-=T),l=0;x.length>l&&x[l]!==t;l++)x[l].hidden&&n--;if(o=S.scrollable?i.find(N).eq(n).add(u.children("colgroup").find(N).eq(n)).add(f.find("colgroup").find(N).eq(n)):u.children("colgroup").find(N).eq(n),c=i.add(u).add(f),d=r.outerWidth(),o.width(""),c.css("table-layout","fixed"),o.width("auto"),c.addClass("k-autofitting"),c.css("table-layout",""),v=Math.ceil(Math.max(r.outerWidth(),u.find("tr:not(.k-grouping-row)").eq(0).children(k).eq(n).outerWidth(),f.find("tr").eq(0).children(k).eq(n).outerWidth()))+1,o.width(v),t.width=v,S.scrollable){for(m=i.find("col"),y=0,b=0,w=m.length;w>b;b+=1){if(g=m[b].style.width,!g||-1!=g.indexOf("%")){y=0;break}y+=parseInt(g,10)}y&&c.each(function(){this.style.width=y+"px"})}wn.msie&&8==wn.version&&(c.css("display","inline-table"),setTimeout(function(){c.css("display","table")},1)),c.removeClass("k-autofitting"),E.trigger(Zt,{column:t,oldWidth:d,newWidth:v}),E._applyLockedContainersWidth(),E._syncLockedContentHeight(),E._syncLockedHeaderHeight()}},reorderColumn:function(e,n,r){var i,s,o=this,u=f(n,o.columns),a=u?u.columns:o.columns,l=St(n,a),c=a[e],h=!!c.locked,p=D(o.columns).length;l!==e&&(n.locked||!h||1!=P(o.columns).length)&&(!n.locked||h||1!=p)&&(o._hideResizeHandle(),r===t&&(r=l>e),s=[n],o._reorderHeader(s,c,r),o.lockedHeader&&(M(o.thead),M(o.lockedHeader)),c.columns&&(c=F(c.columns),c=c[r?0:c.length-1]),n.columns&&(s=F(n.columns)),o._reorderContent(s,c,r),i=!!n.locked,i=i!=h,n.locked=h,a.splice(r?e:e+1,0,n),a.splice(e>l?l:l+1,1),o._templates(),o._updateColumnCellIndex(),o._updateTablesWidth(),o._applyLockedContainersWidth(),o._syncLockedHeaderHeight(),o._syncLockedContentHeight(),o._updateFirstColumnClass(),i&&(h?o.trigger(tn,{column:n}):o.trigger(nn,{column:n})))},_updateColumnCellIndex:function(){var e,t=0;this.lockedHeader&&(e=this.lockedHeader.find("thead"),t=y(e,D(this.columns))),y(this.thead,P(this.columns),t)},lockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:wt(n,function(t){return t.field===e})[0],!e||e.locked||e.hidden||(t=D(n).length-1,this.reorderColumn(t,e,!1))},unlockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:wt(n,function(t){return t.field===e})[0],e&&e.locked&&!e.hidden&&(t=D(n).length,this.reorderColumn(t,e,!0))},cellIndex:function(t){var n=0;return this.lockedTable&&!e.contains(this.lockedTable[0],t[0])&&(n=F(D(this.columns)).length),e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+n},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var n=t.attr(lt.attr("uid"));return this.dataSource.getByUid(n)},_editable:function(){var t,n=this,r=n.selectable&&n.selectable.options.multiple,i=n.options.editable,s=function(){var t=dt(),r=n._editContainer;!r||e.contains(r[0],t)||r[0]===t||e(t).closest(".k-animation-container").length||n.editable.end()&&n.closeCell()};i&&(t=n._editMode(),"incell"===t?i.update!==!1&&n.wrapper.on(rn+Bt,"tr:not(.k-grouping-row) > td",function(t){var i=e(this),s=n.lockedTable&&i.closest("table")[0]===n.lockedTable[0];i.hasClass("k-hierarchy-cell")||i.hasClass("k-detail-cell")||i.hasClass("k-group-cell")||i.hasClass("k-edit-cell")||i.has("a.k-grid-delete").length||i.has("button.k-grid-delete").length||i.closest("tbody")[0]!==n.tbody[0]&&!s||e(t.target).is(":input")||(n.editable?n.editable.end()&&(r&&e(dt()).blur(),n.closeCell(),n.editCell(i)):n.editCell(i))}).on("focusin"+Bt,function(){e.contains(this,dt())||(clearTimeout(n.timer),n.timer=null)}).on("focusout"+Bt,function(){n.timer=setTimeout(s,1)}):i.update!==!1&&n.wrapper.on(rn+Bt,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),n.editRow(e(this).closest("tr"))}),i.destroy!==!1?n.wrapper.on(rn+Bt,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),n.removeRow(e(this).closest("tr"))}):n.wrapper.on(rn+Bt,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),n._confirmation()||e.preventDefault()}))},editCell:function(t){var n,r,i,s;t=e(t),n=this,r=F(n.columns)[n.cellIndex(t)],i=n._modelForContainer(t),n.closeCell(),!i||i.editable&&!i.editable(r.field)||r.command||!r.field||(n._attachModelChange(i),n._editContainer=t,n.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:r.field,format:r.format,editor:r.editor,values:r.values},model:i,target:n,change:function(e){n.trigger(Ft,{values:e.values,container:t,model:i})&&e.preventDefault()}}).data("kendoEditable"),s=t.parent().addClass("k-grid-edit-row"),n.lockedContent&&rt(s[0],n._relatedRow(s).addClass("k-grid-edit-row")[0]),n.trigger(jt,{container:t,model:i}))},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?lt.support.scrollbar():0;this.lockedContent.height(t.height()-n)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),nt(e,t))},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var e=this,t=function(){if(e.editable){var t=e.editView?e.editView.element:e._editContainer;t&&(t.off(rn+Bt,"a.k-grid-cancel",e._editCancelClickHandler),t.off(rn+Bt,"a.k-grid-update",e._editUpdateClickHandler)),e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView()}};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editContainer.data("kendoWindow").bind("deactivate",t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,n=e._modelForContainer(t);n&&n.unbind(zt,e._modelChangeHandler)},closeCell:function(t){var n,r,i,s,o=this,u=o._editContainer;u&&(n=u.closest("tr").attr(lt.attr("uid")),s=o.dataSource.getByUid(n),t&&o.trigger("cancel",{container:u,model:s})||(u.removeClass("k-edit-cell"),r=F(o.columns)[o.cellIndex(u)],i=u.parent().removeClass("k-grid-edit-row"),o._destroyEditable(),o._displayCell(u,r,s),u.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(u),o.lockedContent&&rt(i.css("height","")[0],o._relatedRow(i).css("height","")[0])))},_displayCell:function(e,t,n){var r=this,i={storage:{},count:0},s=yt({},lt.Template,r.options.templateSettings),o=lt.template(r._cellTmpl(t,i),s);i.count>0&&(o=Tt(o,i.storage)),e.empty().html(o(n)),r.angular("compile",function(){return{elements:e,data:[{dataItem:n}]}})},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(t){var n,r=this,i=r._editMode();"incell"!==i&&r.cancelRow(),t=e(t),r.lockedContent&&(t=t.add(r._relatedRow(t))),t=t.hide(),n=r._modelForContainer(t),n&&!r.trigger(It,{row:t,model:n})?(r.dataSource.remove(n),("inline"===i||"popup"===i)&&r.dataSource.sync()):"incell"===i&&r._destroyEditable()},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(n){var r,i,s,o=this;n instanceof lt.data.ObservableObject?r=n:(n=e(n),r=o._modelForContainer(n)),i=o._editMode(),o.cancelRow(),r&&(o._attachModelChange(r),"popup"===i?o._createPopupEditor(r):"inline"===i?o._createInlineEditor(n,r):"incell"===i&&e(n).children(Ot).each(function(){var n=e(this),i=F(o.columns)[n.index()];return r=o._modelForContainer(n),r&&(!r.editable||r.editable(i.field))&&i.field?(o.editCell(n),!1):t}),s=o.editView?o.editView.element:o._editContainer,s&&(this._editCancelClickHandler||(this._editCancelClickHandler=Tt(this._editCancelClick,this)),s.on(rn+Bt,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=Tt(this._editUpdateClick,this)),s.on(rn+Bt,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(e){e.preventDefault(),e.stopPropagation(),this.saveRow()},_editCancelClick:function(t){var n,r=this,i=r.options.navigatable,s=r.editable.options.model,o=r.editView?r.editView.element:r._editContainer;t.preventDefault(),t.stopPropagation(),r.trigger("cancel",{container:o,model:s})||(n=r.items().index(e(r.current()).parent()),r.cancelRow(),i&&(r.current(r.items().eq(n).children().filter(Dt).first()),st(r.table,!0)))},_createPopupEditor:function(n){var r,i,s,o,u,a,f,l,c,h,p,d=this,v="<div "+lt.attr("uid")+'="'+n.uid+'" class="k-popup-edit-form'+(d._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',m=[],g=F(d.columns),y=d.options.editable,b=y.template,w=gt(y)?y.window:{},E=yt({},lt.Template,d.options.templateSettings);if(w=w||{},b)for(typeof b===an&&(b=window.unescape(b)),v+=lt.template(b,E)(n),s=0,o=g.length;o>s;s++)r=g[s],r.command&&(l=it(r.command,"edit"),l&&(i=l));else for(s=0,o=g.length;o>s;s++)r=g[s],r.command?r.command&&(l=it(r.command,"edit"),l&&(i=l)):(v+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",n.editable&&!n.editable(r.field)||!r.field?(h={storage:{},count:0},u=lt.template(d._cellTmpl(r,h),E),h.count>0&&(u=Tt(u,h.storage)),v+='<div class="k-edit-field">'+u(n)+"</div>"):(m.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),v+="<div "+lt.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'));i&&gt(i)&&(i.text&&gt(i.text)&&(a=i.text.update,f=i.text.cancel),i.attr&&(c=i.attr)),d._isMobile?(v+="</div></div>",d.editView=d.pane.append("<div data-"+lt.ns+'role="view" data-'+lt.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+lt.ns+'role="header" class="k-header">'+d._createButton({name:"update",text:a,attr:c})+(w.title||"Edit")+d._createButton({name:"canceledit",text:f,attr:c})+"</div>"+v+"</div>"),p=d._editContainer=d.editView.element.find(".k-popup-edit-form")):(v+='<div class="k-edit-buttons k-state-default">',v+=d._createButton({name:"update",text:a,attr:c})+d._createButton({name:"canceledit",text:f,attr:c}),v+="</div></div></div>",p=d._editContainer=e(v).appendTo(d.wrapper).eq(0).kendoWindow(yt({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(r){if(r.userTriggered){if(r.sender.element.focus(),d.trigger("cancel",{container:p,model:n}))return r.preventDefault(),t;var i=d.items().index(e(d.current()).parent());d.cancelRow(),d.options.navigatable&&(d.current(d.items().eq(i).children().filter(Dt).first()),st(d.table,!0))}}},w))),d.editable=d._editContainer.kendoEditable({fields:m,model:n,clearContainer:!1,target:d}).data("kendoEditable"),d._isMobile&&p.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),d._openPopUpEditor(),d.trigger(jt,{container:p,model:n})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,n){var r,i,s,o=this,u=[];o.lockedContent&&(t=t.add(o._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(i=e(this),r=F(o.columns)[o.cellIndex(i)],r.command||!r.field||n.editable&&!n.editable(r.field)){if(r.command&&(s=it(r.command,"edit"))){i.empty();var t,a,f;gt(s)&&(s.text&&gt(s.text)&&(t=s.text.update,a=s.text.cancel),s.attr&&(f=s.attr)),e(o._createButton({name:"update",text:t,attr:f})+o._createButton({name:"canceledit",text:a,attr:f})).appendTo(i)}}else u.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),i.attr(lt.attr("container-for"),r.field),i.empty()}),o._editContainer=t,o.editable=new lt.ui.Editable(t.addClass("k-grid-edit-row"),{target:o,fields:u,model:n,clearContainer:!1}),t.length>1&&(rt(t[0],t[1]),o._applyLockedContainersWidth()),o.trigger(jt,{container:t,model:n})},cancelRow:function(){var e,t=this,n=t._editContainer;n&&(e=t._modelForContainer(n),t._destroyEditable(),t.dataSource.cancelChanges(e),t._displayRow("popup"!==t._editMode()?n:t.tbody.find("["+lt.attr("uid")+"="+e.uid+"]")))},saveRow:function(){var e=this,t=e._editContainer,n=e._modelForContainer(t),r=e.editable;t&&r&&r.end()&&!e.trigger(Ft,{container:t,model:n})&&e.dataSource.sync()},_displayRow:function(t){var n,r,i,s=this,o=s._modelForContainer(t),u=t.hasClass("k-state-selected"),a=t.hasClass("k-alt");o&&(s.lockedContent&&(n=e((a?s.lockedAltRowTemplate:s.lockedRowTemplate)(o)),s._relatedRow(t.last()).replaceWith(n)),s.angular("cleanup",function(){return{elements:t.get()}}),r=e((a?s.altRowTemplate:s.rowTemplate)(o)),t.replaceWith(r),s.angular("compile",function(){return{elements:r.get(),data:[{dataItem:o}]}}),u&&s.options.selectable&&s.select(r.add(n)),n&&rt(r[0],n[0]),i=r.next(),i.hasClass("k-detail-row")&&i.is(":visible")&&r.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus"))},_showMessage:function(t,n){var r,i,s,o=this;return o._isMobile?(r=lt.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),i=e(r(t)).appendTo(o.view.element),s=o._actionSheet=new lt.mobile.ui.ActionSheet(i,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(t){var r=e(t.currentTarget).parent();r.hasClass("km-actionsheet-cancel")||o._removeRow(n)},popup:o._actionSheetPopupOptions}),s.open(n),!1):window.confirm(t.title)},_confirmation:function(e){var t=this,n=t.options.editable,r=n===!0||typeof n===an?t.options.messages.editable.confirmation:n.confirmation;return r!==!1&&null!=r?(typeof r===un&&(r=r(t._modelForContainer(e))),t._showMessage({confirmDelete:n.confirmDelete||t.options.messages.editable.confirmDelete,cancelDelete:n.cancelDelete||t.options.messages.editable.cancelDelete,title:r===!0?t.options.messages.editable.confirmation:r},e)):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(Vt)&&e.dataSource.sync()},addRow:function(){var e,t,n,r,i,s,o=this,u=o.dataSource,a=o._editMode(),f=o.options.editable.createAt||"",l=u.pageSize(),c=u.view()||[];(o.editable&&o.editable.end()||!o.editable)&&("incell"!=a&&o.cancelRow(),e=u.indexOf(c[0]),"bottom"==f.toLowerCase()&&(e+=c.length,l&&!u.options.serverPaging&&c.length>=l&&(e-=1)),0>e&&(e=u.page()>u.totalPages()?(u.page()-1)*l:0),t=u.insert(e,{}),n=t.uid,r=o.lockedContent?o.lockedTable:o.table,i=r.find("tr["+lt.attr("uid")+"="+n+"]"),s=i.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(i)),"inline"===a&&i.length?o.editRow(i):"popup"===a?o.editRow(t):s.length&&o.editCell(s),"bottom"==f.toLowerCase()&&o.lockedContent&&(o.lockedContent[0].scrollTop=o.content[0].scrollTop=o.content[0].offsetHeight))},_firstEditableColumnIndex:function(e){var t,n,r,i=this,s=F(i.columns),o=i._modelForContainer(e);for(n=0,r=s.length;r>n;n++)if(t=s[n],o&&(!o.editable||o.editable(t.field))&&!t.command&&t.field&&t.hidden!==!0)return n;return-1},_toolbar:function(){var t,n=this,r=n.wrapper,i=n.options.toolbar,s=n.options.editable;i&&(t=n.wrapper.find(".k-grid-toolbar"),t.length||(Nt(i)||(i=typeof i===an?i:n._toolbarTmpl(i).replace(dn,"\\#"),i=Tt(lt.template(i),n)),t=e('<div class="k-header k-grid-toolbar" />').html(i({})).prependTo(r),n.angular("compile",function(){return{elements:t.get()}})),s&&s.create!==!1&&t.on(rn+Bt,".k-grid-add",function(e){e.preventDefault(),n.addRow()}).on(rn+Bt,".k-grid-cancel-changes",function(e){e.preventDefault(),n.cancelChanges()}).on(rn+Bt,".k-grid-save-changes",function(e){e.preventDefault(),n.saveChanges()}),t.on(rn+Bt,".k-grid-excel",function(e){e.preventDefault(),n.saveAsExcel()}),t.on(rn+Bt,".k-grid-pdf",function(e){e.preventDefault(),n.saveAsPDF()}))},_toolbarTmpl:function(e){var t,n,r=this,i="";if(Et(e))for(t=0,n=e.length;n>t;t++)i+=r._createButton(e[t]);return i},_createButton:function(e){var n,i=e.template||yn,s=typeof e===an?e:e.name||e.text,o=Tn[s]?Tn[s].className:"k-grid-"+(s||"").replace(/\s/g,""),u={className:o,text:s,imageClass:"",attr:"",iconClass:""},a=this.options.messages.commands;if(!(s||gt(e)&&e.template))throw Error("Custom commands should have name specified");return gt(e)?(e.className&&St(u.className,e.className.split(" "))<0?e.className+=" "+u.className:e.className===t&&(e.className=u.className),"edit"===s&&gt(e.text)&&(e=yt(!0,{},e),e.text=e.text.edit),e.attr&&(gt(e.attr)&&(e.attr=r(e.attr)),typeof e.attr===an&&(n=e.attr.match(/class="(.+?)"/),n&&St(n[1],e.className.split(" "))<0&&(e.className+=" "+n[1]))),u=yt(!0,u,Tn[s],{text:a[s]},e)):u=yt(!0,u,Tn[s],{text:a[s]}),lt.template(i)(u)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(rn+Bt,t._groupableClickHandler):t._groupableClickHandler=function(n){var r=e(this),i=r.closest("tr");r.hasClass("k-i-collapse")?t.collapseGroup(i):t.expandGroup(i),n.preventDefault(),n.stopPropagation()},t._isLocked()?t.lockedTable.on(rn+Bt,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler):t.table.on(rn+Bt,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,n=t.wrapper,r=t.options.groupable,i=Ht+"["+lt.attr("field")+"]",s=t.content?".k-grid-header:first "+i:"table:first>.k-grid-header "+i;r&&r.enabled!==!1&&(n.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(n),t.groupable&&t.groupable.destroy(),t.groupable=new ct.Groupable(n,yt({},r,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:s,filter:s,allowDrag:t.options.reorderable})))},_continuousItems:function(t,n){var r,i,s,o,u,a,f,l;if(this.lockedContent){for(r=this,i=r.table.add(r.lockedTable),s=e(t,i[0]),o=e(t,i[1]),u=n?D(r.columns).length:1,a=n?r.columns.length-u:1,f=[],l=0;s.length>l;l+=u)xt.apply(f,s.slice(l,l+u)),xt.apply(f,o.splice(0,a));return f}},_selectable:function(){var n,r,i,s,o=this,u=[],a=o._isLocked(),f=o.options.selectable;f&&(o.selectable&&o.selectable.destroy(),f=lt.ui.Selectable.parseOptions(f),n=f.multiple,r=f.cell,o._hasDetails()&&(u[u.length]=".k-detail-row"),(o.options.groupable||o._hasFooters())&&(u[u.length]=".k-grouping-row,.k-group-footer"),u=u.join(","),""!==u&&(u=":not("+u+")"),i=o.table,a&&(i=i.add(o.lockedTable)),s=">"+(r?Mt:"tbody>tr"+u),o.selectable=new lt.ui.Selectable(i,{filter:s,aria:!0,multiple:n,change:function(){o.trigger(zt)},useAllItems:a&&n&&r,relatedTarget:function(t){var n,i,s,u;if(!r&&a){for(i=e(),s=0,u=t.length;u>s;s++)n=o._relatedRow(t[s]),St(n[0],t)<0&&(i=i.add(n));return i}},continuousItems:function(){return o._continuousItems(s,r)}}),o.options.navigatable&&i.on("keydown"+Bt,function(s){var u=o.current(),f=s.target;if(s.keyCode===mt.SPACEBAR&&e.inArray(f,i)>-1&&!u.is(".k-edit-cell,.k-header")&&u.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(s.preventDefault(),s.stopPropagation(),u=r?u:u.parent(),a&&!r&&(u=u.add(o._relatedRow(u))),n)if(s.ctrlKey){if(u.hasClass(Gt))return u.removeClass(Gt),o.trigger(zt),t}else o.selectable.clear();else o.selectable.clear();o.selectable.value(u)}}))},_clipboard:function(){var e,t=this.options,n=t.selectable;n&&t.allowCopy&&(e=this,t.navigatable||e.table.add(e.lockedTable).attr("tabindex",0).on("mousedown"+Bt+" keydown"+Bt,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}).on("mousedown"+Bt,_t+">"+Dt,Tt(ot,e)),e.copyHandler=Tt(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select()},e.bind("change",e.updateClipBoardState),e.wrapper.on("keydown",e.copyHandler),e.clearAreaHandler=Tt(e.clearArea,e),e.wrapper.on("keyup",e.clearAreaHandler))},copySelection:function(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||e(t.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=e("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var t,n,r,i,s,o,u=this,a=u.select(),f="	",l=u.options.allowCopy,c=!0;return e.isPlainObject(l)&&l.delimeter&&(f=l.delimeter),t="",a.length&&(a.eq(0).is("tr")&&(a=a.find("td:not(.k-group-cell)")),c&&a.filter(":visible"),n=[],r=this.columns.length,i=u._isLocked()&&D(u.columns).length,s=!0,e.each(a,function(t,o){var a,f,l,h;o=e(o),a=o.closest("tr"),f=a.index(),l=o.index(),c&&(l-=o.prevAll(":hidden").length),i&&s&&(s=e.contains(u.lockedTable[0],o[0])),u._groups()&&s&&(l-=u._groups()),l=s?l:l+i,r>l&&(r=l),h=o.text(),n[f]||(n[f]=[]),n[f][l]=h}),o=n.length,n=e.each(n,function(e,t){t&&(n[e]=t.slice(r),o>e&&(o=e))}),e.each(n.slice(o),function(e,n){t+=n?n.join(f)+"\r\n":"\r\n"})),t},clearArea:function(t){this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(this.options.navigatable?e(this.current()).closest("table").focus():this.table.focus()),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=Tt(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var e,n,r,i=this.columns,s=!1,o=window.innerWidth>0?window.innerWidth:screen.width;for(e=0;i.length>e;e++)n=i[e],r=n.minScreenWidth,r!==t&&null!==r&&(s=!0,r>o?this.hideColumn(n):this.showColumn(n));return s},_relatedRow:function(t){var n,r,i=this.lockedTable;return t=e(t),i?(n=t.closest(this.table.add(this.lockedTable)),r=n.find(">tbody>tr").index(t),n=n[0]===this.table[0]?i:this.table,n.find(">tbody>tr").eq(r)):t},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(zt)},select:function(n){var r=this,i=r.selectable;return n=e(n),n.length?(i.options.multiple||(i.clear(),n=n.first()),r._isLocked()&&(n=n.add(n.map(function(){return r._relatedRow(this)}))),i.value(n),t):i.value()},_updateCurrentAttr:function(t,n){var r,i=e(t).data("headerId");e(t).removeClass(Qt).removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant"),i?(i=i.replace(this._cellId,""),e(t).attr("id",i)):e(t).removeAttr("id"),n.data("headerId",n.attr("id")).attr("id",this._cellId).addClass(Qt).closest("table").attr("aria-activedescendant",this._cellId),n.closest("tr").hasClass("k-grouping-row")||n.hasClass("k-header")?n.attr("aria-describedby",this._cellId):(r=this.columns[this.cellIndex(n)],r&&(i=r.headerAttributes.id),n.attr("aria-describedby",i+" "+this._cellId)),this._current=n},_scrollCurrent:function(){var t,n,r,i,s,o,u=this._current,a=this.options.scrollable;u&&a&&(t=u.parent(),n=t.closest("table").parent(),r=n.is(".k-grid-content-locked,.k-grid-header-locked"),i=n.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),s=e(this.content).find(">.k-virtual-scrollable-wrap").andSelf().last()[0],i&&(a.virtual?(o=Math.max(St(t[0],this._items(t.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(o),this.virtualScrollable.scrollIntoView(t)):this._scrollTo(this._relatedRow(t)[0],s)),this.lockedContent&&(this.lockedContent[0].scrollTop=s.scrollTop),r||this._scrollTo(u[0],s))},current:function(t){var n=this._current;return t=e(t),t.length&&(n&&n[0]===t[0]||(this._updateCurrentAttr(n,t),this._scrollCurrent())),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(Qt),this._current=null)},_scrollTo:function(t,n){var r,i=t.tagName.toLowerCase(),s="td"===i||"th"===i,o=t[s?"offsetLeft":"offsetTop"],u=t[s?"offsetWidth":"offsetHeight"],a=n[s?"scrollLeft":"scrollTop"],f=n[s?"clientWidth":"clientHeight"],l=o+u,c=0,h=0,p=0;bn&&s&&(r=e(t).closest("table")[0],wn.msie?h=r.offsetLeft:wn.mozilla&&(p=r.offsetLeft-lt.support.scrollbar())),a=Math.abs(a+h-p),c=a>o?o:l>a+f?f>=u?l-f:o:a,c=Math.abs(c+h)+p,n[s?"scrollLeft":"scrollTop"]=c},_navigatable:function(){var t,n,r,i=this;i.options.navigatable&&(t=i.table.add(i.lockedTable),n=i.thead.parent().add(e(">table",i.lockedHeader)),r=t,i.options.scrollable&&(r=r.add(n),n.attr(on,-1)),this._navigatableTables=r,r.off("mousedown"+Bt+" focus"+Bt+" focusout"+Bt+" keydown"+Bt),n.on("keydown"+Bt,Tt(i._openHeaderMenu,i)).find("a.k-link").attr("tabIndex",-1),t.attr(on,kt.max(t.attr(on)||0,0)).on("mousedown"+Bt+" keydown"+Bt,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),r.on(lt.support.touch?"touchstart"+Bt:"mousedown"+Bt,_t+">"+Dt,Tt(ot,i)).on("focus"+Bt,Tt(i._tableFocus,i)).on("focusout"+Bt,Tt(i._tableBlur,i)).on("keydown"+Bt,Tt(i._tableKeyDown,i)))},_openHeaderMenu:function(e){e.altKey&&e.keyCode==mt.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())},_setTabIndex:function(e){this._navigatableTables.attr(on,-1),e.attr(on,0)},_tableFocus:function(t){var n,r;lt.support.touch||(n=this.current(),r=e(t.currentTarget),n&&n.is(":visible")?n.addClass(Qt):this.current(r.find(Pt)),this._setTabIndex(r))},_tableBlur:function(){var e=this.current();e&&e.removeClass(Qt)},_tableKeyDown:function(n){var r,i=this.current(),s=this.virtualScrollable&&this.virtualScrollable.fetching(),o=e(n.target),u=!n.isDefaultPrevented()&&!o.is(":button,a,:input,a>.k-icon");return s?(n.preventDefault(),t):(i=i?i:e(this.lockedTable).add(this.table).find(Pt),i.length&&(r=!1,u&&n.keyCode==mt.UP&&(r=this._moveUp(i)),u&&n.keyCode==mt.DOWN&&(r=this._moveDown(i)),u&&n.keyCode==(bn?mt.LEFT:mt.RIGHT)&&(r=this._moveRight(i,n.altKey)),u&&n.keyCode==(bn?mt.RIGHT:mt.LEFT)&&(r=this._moveLeft(i,n.altKey)),u&&n.keyCode==mt.PAGEDOWN&&(r=this._handlePageDown()),u&&n.keyCode==mt.PAGEUP&&(r=this._handlePageUp()),(n.keyCode==mt.ENTER||n.keyCode==mt.F2)&&(r=this._handleEnterKey(i,n.currentTarget,o)),n.keyCode==mt.ESC&&(r=this._handleEscKey(i,n.currentTarget)),n.keyCode==mt.TAB&&(r=this._handleTabKey(i,n.currentTarget,n.shiftKey)),r&&(n.preventDefault(),n.stopPropagation())),t)},_moveLeft:function(e,t){var n,r,i=e.parent(),s=i.parent();return t?this.collapseRow(i):(r=s.find(_t).index(i),n=this._prevHorizontalCell(s,e,r),n[0]||(s=this._horizontalContainer(s),n=this._prevHorizontalCell(s,e,r),n[0]!==e[0]&&st(s.parent(),!0)),this.current(n)),!0},_moveRight:function(e,t){var n,r,i=e.parent(),s=i.parent();return t?this.expandRow(i):(r=s.find(_t).index(i),n=this._nextHorizontalCell(s,e,r),n[0]||(s=this._horizontalContainer(s,!0),n=this._nextHorizontalCell(s,e,r),n[0]!==e[0]&&st(s.parent(),!0)),this.current(n)),!0},_moveUp:function(e){var t=e.parent().parent(),n=this._prevVerticalCell(t,e);return n[0]||(t=this._verticalContainer(t,!0),n=this._prevVerticalCell(t,e),n[0]&&st(t.parent(),!0)),this.current(n),!0},_moveDown:function(e){var t=e.parent().parent(),n=this._nextVerticalCell(t,e);return n[0]||(t=this._verticalContainer(t),n=this._nextVerticalCell(t,e),n[0]&&st(t.parent(),!0)),this.current(n),!0},_handlePageDown:function(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()+1),!0):!1},_handlePageUp:function(){return this.options.pageable?(this.dataSource.page(this.dataSource.page()-1),!0):!1},_handleTabKey:function(t,n,r){var i,s=this.options.editable&&"incell"==this._editMode();return!s||t.is("th")?!1:(i=e(dt()).closest(".k-edit-cell"),i[0]&&i[0]!==t[0]&&(t=i),i=this._tabNext(t,n,r),i.length?(this._handleEditing(t,i,i.closest("table")),!0):!1)},_handleEscKey:function(t,n){var r,i=dt(),s="incell"==this._editMode();return ut(t)?(s?this.closeCell(!0):(r=e(t).parent().index(),i&&i.blur(),this.cancelRow(),r>=0&&this.current(this.items().eq(r).children(Dt).first())),wn.msie&&9>wn.version&&document.body.focus(),st(n,!0),!0):t.has(i).length?(st(n,!0),!0):!1},_toggleCurrent:function(e){var t=e.parent();return t.is(".k-master-row,.k-grouping-row")?(t.find(".k-icon:first").click(),!0):!1},_handleEnterKey:function(t,n,r){var i,s=this.options.editable,o=r.closest("[role=gridcell]");return r.is("table")||e.contains(t[0],r[0])||(t=o),t.is("th")?(t.find(".k-link").click(),!0):!s&&this._toggleCurrent(t)?!0:(i=t.find(":kendoFocusable:first"),i[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(i.focus(),!0):s&&!r.is(":button,.k-button,textarea")?(o[0]||(o=t),this._handleEditing(o,!1,n),!0):!1)},_nextHorizontalCell:function(e,t,n){var r,i,s,o=t.nextAll(Ot);return o.length||(r=e.find(_t),i=r.index(t.parent()),-1!=i)?o.first():t.hasClass("k-header")?(s=[],_([D(this.columns)[0]],R(r.eq(0).children().first()),s,0,0),s[n]?s[n][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(Ot).first():r.eq(n).children(Ot).first()},_prevHorizontalCell:function(e,t,n){var r,i,s,o,u=t.prevAll(Ot);return u.length||(r=e.find(_t),i=r.index(t.parent()),-1!=i)?u.first():t.hasClass("k-header")?(s=[],o=D(this.columns),_([o[o.length-1]],R(r.eq(0).children().last()),s,0,0),s[n]?s[n][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(Ot).last():r.eq(n).children(Ot).last()},_currentDataIndex:function(e,n){var r,i=n.attr("data-index");return i?(r=D(this.columns).length,r&&!e.closest("div").hasClass("k-grid-content-locked")[0]?i-r:i):t},_prevVerticalCell:function(t,n){var r,i=n.parent(),s=t.children(_t),o=s.index(i),u=this._currentDataIndex(t,n);if(u||n.hasClass("k-header"))return r=q(n),r.eq(r.length-2);if(u=i.children(Ot).index(n),i.hasClass("k-filter-row"))return I(t).eq(u);if(-1==o){if(i=t.find(".k-filter-row"),!i[0])return I(t).eq(u)}else i=0===o?e():s.eq(o-1);return r=i.children(Ot),r.eq(r.length>u?u:0)},_nextVerticalCell:function(e,n){var r,i=n.parent(),s=e.children(_t),o=s.index(i),u=this._currentDataIndex(e,n);return-1!=o&&u===t&&n.hasClass("k-header")?R(n).eq(1):(u=u?parseInt(u,10):i.children(Ot).index(n),i=s.eq(-1==o?0:o+n[0].rowSpan),r=i.children(Ot),r.eq(r.length>u?u:0))},_verticalContainer:function(e,t){var n=e.parent(),r=this._navigatableTables.length,i=Math.floor(r/2),s=St(n[0],this._navigatableTables);return t&&(i*=-1),s+=i,(s>=0||r>s)&&(n=this._navigatableTables.eq(s)),n.find(t?"thead":"tbody")},_horizontalContainer:function(e,t){var n,r,i=this._navigatableTables.length;return 2>=i?e:(n=e.parent(),r=St(n[0],this._navigatableTables),r+=t?1:-1,!t||2!=r&&r!=i?!t&&(1==r||0>r)?e:this._navigatableTables.eq(r).find("thead, tbody"):e)},_tabNext:function(e,t,n){var r=!0,i=n?e.prevAll(Ot+":first"):e.nextAll(":visible:first");return i.length||(i=e.parent(),this.lockedTable&&(r=n&&t==this.lockedTable[0]||!n&&t==this.table[0],i=this._relatedRow(i)),r&&(i=i[n?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),i=i.children(Ot+(n?":last":":first"))),i},_handleEditing:function(n,r,i){var s,o,u=this,a=e(dt()),f=u._editMode(),l=wn.msie,c=l&&9>wn.version,h=u._editContainer;if(i=e(i),o="incell"==f?n.hasClass("k-edit-cell"):n.parent().hasClass("k-grid-edit-row"),u.editable){if(e.contains(h[0],a[0])&&(wn.opera||c?a.change().triggerHandler("blur"):(a.blur(),l&&a.blur())),!u.editable)return st(i),t;if(!u.editable.end())return u.current("incell"==f?h:h.children().filter(Ot).first()),s=h.find(":kendoFocusable:first")[0],s&&s.focus(),t;"incell"==f?u.closeCell():(u.saveRow(),o=!0)}r&&u.current(r),c&&document.body.focus(),st(i,!0),(!o&&!r||r)&&("incell"==f?u.editCell(u.current()):u.editRow(u.current().parent()))},_wrapper:function(){var e=this,t=e.table,n=e.options.height,r=e.element;r.is("div")||(r=r.wrap("<div/>").parent()),e.wrapper=r.addClass("k-grid k-widget"),n&&(e.wrapper.css(sn,n),t.css(sn,"auto")),e._initMobile()},_initMobile:function(){var t,n=this.options,r=this;this._isMobile=n.mobile===!0&&lt.support.mobileOS||"phone"===n.mobile||"tablet"===n.mobile,this._isMobile&&(t=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+lt.ns+'role="view" data-'+lt.ns+'init-widgets="false"></div>').parent(),this.pane=lt.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},n.height&&this.pane.element.parent().css(sn,n.height),this._editAnimation="slide",this.view.bind("show",function(){r._isLocked()&&(r._updateTablesWidth(),r._applyLockedContainersWidth(),r._syncLockedContentHeight(),r._syncLockedHeaderHeight(),r._syncLockedFooterHeight())}))},_tbody:function(){var t,n=this,r=n.table;t=r.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(r)),n.tbody=t.attr("role","rowgroup")},_scrollable:function(){var t,n,r,i,s=this,o=s.options,u=o.scrollable,a=u!==!0&&u.virtual&&!s.virtualScrollable,f=!lt.support.kineticScrollNeeded||a?lt.support.scrollbar():0;u&&(t=s.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(s.table)),t.css(bn?"padding-left":"padding-right",u.virtual?f+1:f),n=e('<table role="grid" />'),En&&n.attr("cellspacing",0),n.width(s.table[0].style.width),n.append(s.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(n)),s.content=s.table.parent(),s.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(s.content=s.content.parent()),s.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(s.content=s.table.wrap('<div class="k-grid-content" />').parent()),a&&(s.virtualScrollable=new xn(s.content,{dataSource:s.dataSource,itemHeight:function(){return s._averageRowHeight()}})),s.scrollables=t.children(".k-grid-header-wrap"),r=s.wrapper.find(".k-grid-footer"),r.length&&(s.scrollables=s.scrollables.add(r.children(".k-grid-footer-wrap"))),u.virtual?s.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+Bt).bind("scroll"+Bt,function(){s.scrollables.scrollLeft(this.scrollLeft),s.lockedContent&&(s.lockedContent[0].scrollTop=this.scrollTop)}):(s.content.unbind("scroll"+Bt).bind("scroll"+Bt,function(){s.scrollables.scrollLeft(this.scrollLeft),s.lockedContent&&(s.lockedContent[0].scrollTop=this.scrollTop)}),i=s.content.data("kendoTouchScroller"),i&&i.destroy(),i=lt.touchScroller(s.content),i&&i.movable&&(s.touchScroller=i,i.movable.bind("change",function(e){s.scrollables.scrollLeft(-e.sender.x),s.lockedContent&&s.lockedContent.scrollTop(-e.sender.y)}),s.one($t,function(e){e.sender.wrapper.addClass("k-grid-backface")}))))},_renderNoRecordsContent:function(){var t,n=this;n.options.noRecords&&n.wrapper.is(":visible")&&(t=n.table.parent().children("."+Yt),t.length&&t.remove(),n.dataSource&&n.dataSource.view().length||e(n.noRecordsTemplate({})).insertAfter(n.table))},_setContentWidth:function(t){var n,r=this,i="k-grid-content-expander",s='<div class="'+i+'"></div>',o=r.resizable;r.options.scrollable&&r.wrapper.is(":visible")&&(n=r.table.parent().children("."+i),r._setContentWidthHandler=Tt(r._setContentWidth,r),r.dataSource&&r.dataSource.view().length?n[0]&&(n.remove(),o&&o.unbind("resize",r._setContentWidthHandler)):(n[0]||(n=e(s).appendTo(r.table.parent()),o&&o.bind("resize",r._setContentWidthHandler)),r.thead&&(n.width(r.thead.width()),t&&r.content.scrollLeft(t))),r._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),n=t.parent(),r=this.wrapper[0].clientWidth,i=this._groups(),s=lt.support.scrollbar(),o=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),u=t.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),a=L(o),f=L(u);i>0&&(a+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*i),a>=r&&(a=r-3*s),this.lockedHeader.add(this.lockedContent).width(a),n[0].style.width=n.parent().width()-a-2+"px",t.add(this.table).width(f),this.virtualScrollable&&(r-=s),this.content[0].style.width=r-a-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(a),e=this.footer.find(".k-grid-footer-wrap"),e[0].style.width=n[0].clientWidth+"px",e.children().first().width(f))}},_setContentHeight:function(){var e,t=this,n=t.options,r=t.wrapper.innerHeight(),i=t.wrapper.children(".k-grid-header"),s=lt.support.scrollbar();n.scrollable&&t.wrapper.is(":visible")&&(r-=i.outerHeight(),t.pager&&(r-=t.pager.element.outerHeight()),n.groupable&&(r-=t.wrapper.children(".k-grouping-header").outerHeight()),n.toolbar&&(r-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(r-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(r>2*s?(t.lockedContent&&(s=t.table[0].offsetWidth>t.table.parent()[0].clientWidth?s:0,t.lockedContent.height(r-s)),t.content.height(r)):t.content.height(2*s+1)))},_averageRowHeight:function(){var e,t=this,n=t._items(t.tbody).length,r=t._rowHeight;return 0===n?r:(t._rowHeight||(t._rowHeight=r=t.table.outerHeight()/n,t._sum=r,t._measures=1),e=t.table.outerHeight()/n,r!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),r)},_dataSource:function(){var e,n=this,r=n.options,i=r.dataSource;i=Et(i)?{data:i}:i,gt(i)&&(yt(i,{table:n.table,fields:n.columns}),e=r.pageable,gt(e)&&e.pageSize!==t&&(i.pageSize=e.pageSize)),n.dataSource&&n._refreshHandler?n.dataSource.unbind(zt,n._refreshHandler).unbind(Lt,n._progressHandler).unbind(At,n._errorHandler):(n._refreshHandler=Tt(n.refresh,n),n._progressHandler=Tt(n._requestStart,n),n._errorHandler=Tt(n._error,n)),n.dataSource=ht.create(i).bind(zt,n._refreshHandler).bind(Lt,n._progressHandler).bind(At,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var n,r,i,s,o,u,a,f,l,c,h=this,p=h.tbody,d=t.model,v=h.tbody.find("tr["+lt.attr("uid")+"="+d.uid+"]"),m=v.hasClass("k-alt"),g=h._items(p).index(v),y=h.lockedContent;if(y&&(n=h._relatedRow(v)),v.add(n).children(".k-edit-cell").length&&!h.options.rowTemplate)v.add(n).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=e(this),i=F(h.columns)[h.cellIndex(r)],i.field===t.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):(h._displayCell(r,i,d),e('<span class="k-dirty"/>').prependTo(r)))});else if(!v.hasClass("k-grid-edit-row")){for(u=e().add(v),y&&(s=(m?h.lockedAltRowTemplate:h.lockedRowTemplate)(d),u=u.add(n),n.replaceWith(s)),h.angular("cleanup",function(){return{elements:u.get()}}),s=(m?h.altRowTemplate:h.rowTemplate)(d),v.replaceWith(s),s=h._items(p).eq(g),c=[{dataItem:d}],y&&(v=v.add(n),n=h._relatedRow(s)[0],rt(s[0],n),s=s.add(n),c.push({dataItem:d})),h.angular("compile",function(){return{elements:s.get(),data:c}}),o=h.options.selectable,o&&v.hasClass("k-state-selected")&&h.select(s),f=u.children(":not(.k-group-cell,.k-hierarchy-cell)"),a=s.children(":not(.k-group-cell,.k-hierarchy-cell)"),g=0,l=h.columns.length;l>g;g++)i=h.columns[g],r=a.eq(g),o&&f.eq(g).hasClass("k-state-selected")&&r.addClass("k-state-selected"),i.field===t.field&&e('<span class="k-dirty"/>').prependTo(r);h.trigger("itemChange",{item:s,data:d,ns:ct})}},_pageable:function(){var t,n=this,r=n.options.pageable;r&&(t=n.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),n.pager="object"==typeof r&&r instanceof lt.ui.Pager?r:new lt.ui.Pager(t,yt({},r,{dataSource:n.dataSource})))},_footer:function(){var t,n,r,i,s=this,o=s.dataSource.aggregates(),u="",a=s.footerTemplate,f=s.options,l=s.footer||s.wrapper.find(".k-grid-footer");a?(u=e(s._wrapFooter(a(o))),l.length?(n=u,s.angular("cleanup",function(){return{elements:l.get()}}),l.replaceWith(n),l=s.footer=n):l=s.footer=f.scrollable?f.pageable?u.insertBefore(s.wrapper.children("div.k-grid-pager")):u.appendTo(s.wrapper):u.insertBefore(s.tbody),s.angular("compile",function(){return{elements:l.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:bt(s.columns,function(e){return{column:e,aggregate:o[e.field]}})}})):l&&!s.footer&&(s.footer=l),l.length&&(f.scrollable&&(t=l.attr("tabindex",-1).children(".k-grid-footer-wrap"),s.scrollables=s.scrollables.filter(function(){return!e(this).is(".k-grid-footer-wrap")}).add(t)),s._footerWidth&&l.find("table").css("width",s._footerWidth),t&&(r=s.content.scrollLeft(),i=f.scrollable!==!0&&f.scrollable.virtual&&!s.virtualScrollable,i&&(r=s.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),t.scrollLeft(r))),s.lockedContent&&(s._appendLockedColumnFooter(),s._applyLockedContainersWidth(),s._syncLockedFooterHeight())},_wrapFooter:function(t){var n=this,r="",i=lt.support.mobileOS?0:lt.support.scrollbar();return n.options.scrollable?(r=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(En?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),n._appendCols(r.find("table")),r.css(bn?"padding-left":"padding-right",i),r):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var e,n,r,i,s,o,u,a,f,l=this,c=F(l.columns),h=l.options,p=h.columnMenu,d=wt(l.columns,function(e){return e.columns!==t}).length>0,v=this._isMobile,m=function(e){l.trigger(Ut,{field:e.field,container:e.container})},g=function(e){st(e.closest("table"),!0)},y=h.$angular;if(p)for("boolean"==typeof p&&(p={}),o=I(l.thead),u=0,a=o.length;a>u;u++)n=c[u],f=o.eq(u),n.command||!n.field&&!f.attr("data-"+lt.ns+"field")||(e=f.data("kendoColumnMenu"),e&&e.destroy(),i=n.sortable!==!1&&p.sortable!==!1&&h.sortable!==!1?yt({},h.sortable,{compare:(n.sortable||{}).compare}):!1,s=h.filterable&&n.filterable!==!1&&p.filterable!==!1?yt({pane:l.pane},h.filterable,n.filterable):!1,n.filterable&&n.filterable.dataSource&&(s.forceUnique=!1,s.checkSource=n.filterable.dataSource),s&&(s.format=n.format),r={dataSource:l.dataSource,values:n.values,columns:p.columns,sortable:i,filterable:s,messages:p.messages,owner:l,closeCallback:g,init:m,pane:l.pane,filter:v?":not(.k-column-active)":"",lockedColumns:!d&&n.lockable!==!1&&D(c).length>0},y&&(r.$angular=y),f.kendoColumnMenu(r))},_headerCells:function(){return this.thead.find("th").filter(function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var e,t,n,r,i,s,o,u=this,a=F(u.columns),f=function(e){u.trigger(Rt,{field:e.field,container:e.container})},l=function(e){st(e.closest("table"),!0)},c=u.options.filterable;if(c&&typeof c.mode==an&&-1==c.mode.indexOf("menu")&&(c=!1),c&&!u.options.columnMenu)for(t=I(u.thead),r=0,i=t.length;i>r;r++)n=t.eq(r),a[r].filterable===!1||a[r].command||!a[r].field&&!n.attr("data-"+lt.ns+"field")||(e=n.data("kendoFilterMenu"),e&&e.destroy(),e=n.data("kendoFilterMultiCheck"),e&&e.destroy(),s=a[r].filterable,o=yt({},c,s,{dataSource:u.dataSource,values:a[r].values,format:a[r].format,closeCallback:l,title:a[r].title||a[r].field,init:f,pane:u.pane}),s&&s.messages&&(o.messages=yt(!0,{},c.messages,s.messages)),s&&s.dataSource&&(o.forceUnique=!1,o.checkSource=s.dataSource),s&&s.multi?n.kendoFilterMultiCheck(o):n.kendoFilterMenu(o))},_filterRow:function(){var t,n,r,i,s,o,u,a,f,l,c,h,p=this;if(p._hasFilterRow())for(t=F(p.columns),n=p.options.filterable,r=p.thead.find(".k-filter-row"),this._updateHeader(this.dataSource.group().length),i=0;t.length>i;i++)if(o=t[i],u=p.options.filterable.operators,a=!1,f=e("<th/>"),l=o.field,o.hidden&&f.hide(),r.append(f),l&&o.filterable!==!1){if(c=o.filterable&&o.filterable.cell||{},s=p.options.dataSource,s instanceof ht&&(s=p.options.dataSource.options),h=yt(!0,{},n.messages),o.filterable&&yt(!0,h,o.filterable.messages),c.enabled===!1){f.html("&nbsp;");continue}c.dataSource&&(s=c.dataSource,a=!0),o.filterable&&o.filterable.operators&&(u=o.filterable.operators),e("<span/>").attr(lt.attr("field"),l).kendoFilterCell({dataSource:p.dataSource,suggestDataSource:s,customDataSource:a,field:l,messages:h,values:o.values,template:c.template,delay:c.delay,inputWidth:c.inputWidth,suggestionOperator:c.suggestionOperator,minLength:c.minLength,dataTextField:c.dataTextField,operator:c.operator,operators:u,showOperators:c.showOperators}).appendTo(f)}else f.html("&nbsp;")},_sortable:function(){var e,t,n,r,i,s,o=this,u=F(o.columns),a=o.options.sortable;if(a){for(r=I(o.thead),i=0,s=r.length;s>i;i++)e=u[i],e.sortable!==!1&&!e.command&&e.field&&(n=r.eq(i),t=n.data("kendoColumnSorter"),t&&t.destroy(),n.attr("data-"+lt.ns+"field",e.field).kendoColumnSorter(yt({},a,e.sortable,{dataSource:o.dataSource,aria:!0,filter:":not(.k-column-active)"})));r=null}},_columns:function(t){var n,r,i,s=this,o=s.table,u=o.find("col"),f=s.options.dataSource;if(t=t.length?t:bt(o.find("th"),function(t,n){t=e(t);var r=t.attr(lt.attr("sortable")),i=t.attr(lt.attr("filterable")),s=t.attr(lt.attr("type")),o=t.attr(lt.attr("groupable")),a=t.attr(lt.attr("field")),f=t.attr(lt.attr("title")),l=t.attr(lt.attr("menu"));return a||(a=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:a,type:s,title:f,sortable:"false"!==r,filterable:"false"!==i,groupable:"false"!==o,menu:l,template:t.attr(lt.attr("template")),width:u.eq(n).css("width")}}),n=!(s.table.find("tbody tr").length>0&&(!f||!f.transport)),s.options.scrollable){if(i=t,r=D(t),t=P(t),r.length>0&&0===t.length)throw Error("There should be at least one non locked column");V(s.element.find("tr:has(th):first"),i),t=r.concat(t)}s.columns=a(t,n)},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t,i,s){var o,u,a,f,l=this,c=yt({},lt.Template,l.options.templateSettings),h=t.length,p={storage:{},count:0},d=l._hasDetails(),v=[],m=l._groups();if(!e){for(e="<tr",i&&v.push("k-alt"),d&&v.push("k-master-row"),v.length&&(e+=' class="'+v.join(" ")+'"'),h&&(e+=" "+lt.attr("uid")+'="#='+lt.expr("uid",c.paramName)+'#"'),e+=" role='row'>",m>0&&!s&&(e+=n(m)),d&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),o=0;h>o;o++)a=t[o],u=a.template,f=typeof u,e+="<td"+r(a.attributes)+" role='gridcell'>",e+=l._cellTmpl(a,p),e+="</td>";e+="</tr>"}return e=lt.template(e,c),p.count>0?Tt(e,p.storage):e},_headerCellText:function(e){var t=this,n=yt({},lt.Template,t.options.templateSettings),r=e.headerTemplate,i=typeof r,s=e.title||e.field||"";return i===un?s=lt.template(r,n)({}):i===an&&(s=r),s},_cellTmpl:function(e,t){var n,r,i=this,s=yt({},lt.Template,i.options.templateSettings),o=e.template,u=s.paramName,a=e.field,f="",l=e.format,c=typeof o,h=e.values;if(e.command){if(Et(e.command)){for(n=0,r=e.command.length;r>n;n++)f+=i._createButton(e.command[n]);return f.replace(dn,"\\#")}return i._createButton(e.command).replace(dn,"\\#")}return c===un?(t.storage["tmpl"+t.count]=o,f+="#=this.tmpl"+t.count+"("+u+")#",t.count++):c===an?f+=o:h&&h.length&&gt(h[0])&&"value"in h[0]&&a?(f+="#var v ="+lt.stringify($(h)).replace(dn,"\\#")+"#",f+="#var f = v[",s.useWithBlock||(f+=u+"."),f+=a+"]#",f+="${f != null ? f : ''}"):(f+=e.encoded?"#:":"#=",l&&(f+='kendo.format("'+l.replace(pn,"\\$1")+'",'),a?(a=lt.expr(a,u),f+=a+"==null?'':"+a):f+="''",l&&(f+=")"),f+="#"),f},_templates:function(){var t=this,n=t.options,r=t.dataSource,i=r.group(),s=t.footer||t.wrapper.find(".k-grid-footer"),o=r.aggregate(),u=F(t.columns),a=F(D(t.columns)),f=n.scrollable?F(P(t.columns)):u;if(n.scrollable&&a.length){if(n.rowTemplate||n.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(n.rowTemplate,f,!1,!0),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,f,!0,!0),t.lockedRowTemplate=t._tmpl(n.rowTemplate,a),t.lockedAltRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,a,!0)}else t.rowTemplate=t._tmpl(n.rowTemplate,f),t.altRowTemplate=t._tmpl(n.altRowTemplate||n.rowTemplate,f,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(n.detailTemplate||"")),(t._group&&!Ct(o)||!Ct(o)&&!s.length||wt(u,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(u,o,"footerTemplate","k-footer-template")),i&&wt(u,function(e){return e.groupFooterTemplate}).length&&(o=e.map(i,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(f,o,"groupFooterTemplate","k-group-footer",a.length),n.scrollable&&a.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(a,o,"groupFooterTemplate","k-group-footer"))),t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl())},_noRecordsTmpl:function(){var t,n,r,i='<div class="{0}">{1}</div>',s='<div class="k-grid-norecords-template"{1}>{0}</div>',o=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",u={storage:{},count:0},a=e.extend({},lt.Template,this.options.templateSettings),f=a.paramName,l="";return t=this.options.noRecords.template?this.options.noRecords.template:lt.format(s,this.options.messages.noRecords,o),n=typeof t,"function"===n?(u.storage["tmpl"+u.count]=t,l+="#=this.tmpl"+u.count+"("+f+")#",u.count++):"string"===n&&(l+=t),r=lt.template(lt.format(i,Yt,l),a),u.count>0&&(r=e.proxy(r,u.storage)),r},_footerTmpl:function(e,t,i,s,o){var u,a,f,l,c,h=this,p=yt({},lt.Template,h.options.templateSettings),d=p.paramName,v="",m={},g=0,y={},b=h._groups(),w=h.dataSource._emptyAggregates(t);for(v+='<tr class="'+s+'">',b>0&&!o&&(v+=n(b)),h._hasDetails()&&(v+='<td class="k-hierarchy-cell">&nbsp;</td>'),u=0,a=e.length;a>u;u++)c=e[u],f=c[i],l=typeof f,v+="<td"+r(c.footerAttributes)+">",f?(l!==un&&(y=w[c.field]?yt({},p,{paramName:d+"['"+c.field+"']"}):{},f=lt.template(f,y)),m["tmpl"+g]=f,v+="#=this.tmpl"+g+"("+d+")#",g++):v+="&nbsp;",v+="</td>";return v+="</tr>",v=lt.template(v,p),g>0?Tt(v,m):v},_detailTmpl:function(e){var t=this,r="",i=yt({},lt.Template,t.options.templateSettings),s=i.paramName,o={},u=0,a=t._groups(),f=d(F(t.columns)).length,l=typeof e;return r+='<tr class="k-detail-row">',a>0&&(r+=n(a)),r+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(f?' colspan="'+f+'"':"")+">",l===un?(o["tmpl"+u]=e,r+="#=this.tmpl"+u+"("+s+")#",u++):r+=e,r+="</td></tr>",r=lt.template(r,i),u>0?Tt(r,o):r},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[qt]||[]).length},_hasFilterRow:function(){var t=this.options.filterable,n=t&&typeof t.mode==an&&-1!=t.mode.indexOf("row"),r=this.columns,i=e.grep(r,function(e){return e.filterable===!1});return r.length&&i.length==r.length&&(n=!1),n},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&D(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(rn+Bt,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(n){var r,i,s=e(this),o=s.hasClass("k-plus"),u=s.closest("tr.k-master-row"),a=t.detailTemplate,f=t._hasDetails();return s.toggleClass("k-plus",!o).toggleClass("k-minus",o),r=u.next(),f&&!r.hasClass("k-detail-row")&&(i=t.dataItem(u),r=e(a(i)).addClass(u.hasClass("k-alt")?"k-alt":"").insertAfter(u),t.angular("compile",function(){return{elements:r.get(),data:[{dataItem:i}]}}),t.trigger(qt,{masterRow:u,detailRow:r,data:i,detailCell:r.find(".k-detail-cell")})),t.trigger(o?Jt:Kt,{masterRow:u,detailRow:r}),r.toggle(o),t._current&&t._current.attr("aria-expanded",o),n.preventDefault(),!1})},dataItem:function(t){if(t=e(t)[0],!t)return null;var n,r,i=this.tbody.children(),s=/k-grouping-row|k-detail-row|k-group-footer/,o=t.sectionRowIndex;for(r=o,n=0;o>n;n++)s.test(i[n].className)&&r--;return this._data[r]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(e,n){var i,s,o,u,a,f,l=this,c="",h=F(l.columns);for(i=0,u=e.length;u>i;i++)s=e[i].column||e[i],o=l._headerCellText(s),a="",f=St(s,h),s.command?(c+="<th"+r(s.headerAttributes),n&&!e[i].colSpan&&(c+=" rowspan='"+n+"'"),f>-1&&(c+=lt.attr("index")+"='"+f+"'"),c+=">"+o+"</th>"):(s.field&&(a=lt.attr("field")+"='"+s.field+"' "),c+="<th role='columnheader' "+a,n&&!e[i].colSpan&&(c+=" rowspan='"+n+"'"),e[i].colSpan>1&&(c+='colspan="'+(e[i].colSpan-k(s.columns))+'" ',c+=lt.attr("colspan")+"='"+e[i].colSpan+"'"),s.title&&(c+=lt.attr("title")+'="'+s.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),s.groupable!==t&&(c+=lt.attr("groupable")+"='"+s.groupable+"' "),s.aggregates&&s.aggregates.length&&(c+=lt.attr("aggregates")+"='"+s.aggregates+"'"),f>-1&&(c+=lt.attr("index")+"='"+f+"'"),c+=r(s.headerAttributes),c+=">"+o+"</th>");return c},_appendLockedColumnContent:function(){var t,n,r,i,s,o=this.columns,u=this.table.find("colgroup"),a=u.find("col:not(.k-group-col,.k-hierarchy-col)"),f=e(),l=0,c=0;for(t=0,n=o.length;n>t;t++)if(o[t].locked)if(p(o[t])){for(i=1,o[t].columns&&(i=F(o[t].columns).length-k(o[t].columns)),i=i||1,s=0;i>s;s++)f=f.add(a.eq(t+c+s-l));c+=i-1}else l++;r=e('<div class="k-grid-content-locked"><table'+(En?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),u.detach(),r.find("colgroup").append(f),u.insertBefore(this.table.find("tbody")),this.lockedContent=r.insertBefore(this.content),this.lockedTable=r.children("table")},_appendLockedColumnFooter:function(){var t,n,r=this,i=r.footer,s=i.find(".k-footer-template>td"),o=i.find(".k-grid-footer-wrap>table>colgroup>col"),u=e('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),a=r._groups(),f=e(),l=e();for(f=f.add(s.filter(".k-group-cell")),t=0,n=F(D(r.columns)).length;n>t;t++)f=f.add(s.eq(t+a));for(l=l.add(o.filter(".k-group-col")),t=0,n=F(B(r.columns)).length;n>t;t++)l=l.add(o.eq(t+a));f.appendTo(u.find("tr")),l.appendTo(u.find("colgroup")),r.lockedFooter=u.prependTo(i)},_appendLockedColumnHeader:function(t){var n,r,i,s,o,u,a,f,l,c,h,d=this,m=this.columns,g=[],y=0,b=e(),w=d._hasFilterRow(),E=0,S=e(),x=0,T=e(),N=d.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),C=d.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),L=d.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),O=0;for(n=0,i=m.length;i>n;n++){if(m[n].locked){if(a=C.eq(n),x=F(m[n].columns||[]).length,p(m[n])){for(m[n].columns&&(f=x-k(m[n].columns)),f=f||1,l=0;f>l;l++)b=b.add(N.eq(n+O+l-y));O+=f-1}for(_([m[n]],R(a),g,0,0),x=x||1,c=0;x>c;c++)S=S.add(L.eq(E+c));E+=x}m[n].columns&&(y+=k(m[n].columns)),p(m[n])||y++}if(g.length){for(r='<div class="k-grid-header-locked" style="width:1px"><table'+(En?' cellspacing="0"':"")+"><colgroup/><thead>",r+=Array(g.length+1).join("<tr></tr>"),r+=(w?'<tr class="k-filter-row" />':"")+"</thead></table></div>",u=e(r),N=u.find("colgroup"),N.append(d.thead.prev().find("col.k-group-col").add(b)),s=u.find("thead tr:not(.k-filter-row)"),n=0,i=g.length;i>n;n++)T=v(g[n]),s.eq(n).append(d.thead.find("tr:eq("+n+") .k-group-cell").add(T));h=M(this.thead),h>g.length&&A(u,h-g.length),o=u.find(".k-filter-row"),o.append(d.thead.find(".k-filter-row .k-group-cell").add(S)),this.lockedHeader=u.prependTo(t),this.thead.find(".k-group-cell").remove(),this._syncLockedHeaderHeight()}},_removeLockedContainers:function(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);lt.destroy(e),e.off(Bt).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_thead:function(){var t,n,r,i,s,o=this,u=o.columns,a=o._hasDetails()&&u.length,f=o._hasFilterRow(),l="",c=o.table.find(">thead"),h=o.element.find("thead:first").length>0;if(c.length||(c=e("<thead/>").insertBefore(o.tbody)),o.lockedHeader&&o.thead?(n=o.thead.find("tr:has(th):not(.k-filter-row)").html(""),n.remove(),n=e(),o._removeLockedContainers()):n=o.element.find(h?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),!n.length&&(n=c.children().first(),!n.length)){for(r=[{rowSpan:1,cells:[],index:0}],o._prepareColumns(r,u),t=0;r.length>t;t++)l+="<tr>",a&&(l+='<th class="k-hierarchy-cell">&nbsp;</th>'),l+=o._createHeaderCells(r[t].cells,r[t].rowSpan),l+="</tr>";n=e(l)}f&&(i=e("<tr/>"),i.addClass("k-filter-row"),(a||n.find(".k-hierarchy-cell").length)&&i.prepend('<th class="k-hierarchy-cell">&nbsp;</th>'),s=(o.thead||c).find(".k-filter-row"),s.length&&(lt.destroy(s),s.remove()),c.append(i)),n.children().length?a&&!n.find(".k-hierarchy-cell")[0]&&n.prepend('<th class="k-hierarchy-cell">&nbsp;</th>'):(l="",a&&(l+='<th class="k-hierarchy-cell">&nbsp;</th>'),l+=o._createHeaderCells(u),n.html(l)),n.attr("role","row").find("th").addClass("k-header"),o.options.scrollable||c.addClass("k-grid-header"),n.find("script").remove().end().prependTo(c),o.thead&&o._destroyColumnAttachments(),this.angular("cleanup",function(){return{elements:c.find("th").get()}}),this.angular("compile",function(){return{elements:c.find("th").get(),data:bt(u,function(e){return{column:e}})}}),o.thead=c.attr("role","rowgroup"),o._sortable(),o._filterable(),o._filterRow(),o._scrollable(),o._updateCols(),o._columnMenu(),this.options.scrollable&&D(this.columns).length&&(o._appendLockedColumnHeader(o.thead.closest(".k-grid-header")),o._appendLockedColumnContent(),o.lockedContent.bind("DOMMouseScroll"+Bt+" mousewheel"+Bt,Tt(o._wheelScroll,o)),o._applyLockedContainersWidth()),o._updateColumnCellIndex(),o._updateFirstColumnClass(),o._resizable(),o._draggable(),o._reorderable(),o.groupable&&o._attachGroupable()},_updateFirstColumnClass:function(){var t,n,r=this,i=r.columns||[],s=r._hasDetails()&&i.length;s||r._groups()||(t=e(),n=r.thead.find(">tr:not(.k-filter-row):not(:first)"),i=P(i),n.length&&i[0]&&!i[0].columns&&(t=t.add(n)),r._isLocked()&&(n=r.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),i=D(r.columns),n.length&&i[0]&&!i[0].columns&&(t=t.add(n))),t.each(function(){var t=e(this).find("th");t.removeClass("k-first"),t.eq(0).addClass("k-first")}))},_prepareColumns:function(e,t,n,r){var i,s,o=r||e[e.length-1],u=e[o.index+1],a=0;for(i=0;t.length>i;i++)s={column:t[i],colSpan:0},o.cells.push(s),t[i].columns&&t[i].columns.length&&(u||(u={rowSpan:0,cells:[],index:e.length},e.push(u)),s.colSpan=t[i].columns.length,this._prepareColumns(e,t[i].columns,s,u),a+=s.colSpan-1,o.rowSpan=e.length-o.index);n&&(n.colSpan+=a)},_wheelScroll:function(t){var n,r,i;t.ctrlKey||(n=this.content,this.options.scrollable.virtual&&(n=this.virtualScrollable.verticalScrollbar),r=n.scrollTop(),i=lt.wheelDeltaY(t),i&&(t.preventDefault(),e(t.currentTarget).one("wheel"+Bt,!1),n.scrollTop(r+ -i)))},_isLocked:function(){return null!=this.lockedHeader},_updateCols:function(e){e=e||this.thead.parent().add(this.table),this._appendCols(e,this._isLocked())},_updateLockedCols:function(e){this._isLocked()&&(e=e||this.lockedHeader.find("table").add(this.lockedTable),X(e,j(B(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(e,t){t?X(e,j(H(this.columns)),this._hasDetails(),0):X(e,j(d(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,n,r=this;e=e.toJSON(),n=!(r.table.find("tbody tr").length>0&&(!r.dataSource||!r.dataSource.transport));for(t in e)r.columns.push({field:t,encoded:n,headerAttributes:{id:lt.guid()}});r._thead(),r._templates()}},_rowsHtml:function(e,t){var n,r,i=this,s="",o=t.rowTemplate,u=t.altRowTemplate;for(n=0,r=e.length;r>n;n++)s+=n%2?u(e[n]):o(e[n]),i._data.push(e[n]);return s},_groupRowHtml:function(e,t,n,r,i,s){var o,u,a=this,f="",l=e.field,c=wt(F(a.columns),function(e){return e.field==l})[0]||{},h=c.groupHeaderTemplate,p=(c.title||l)+": "+J(e.value,c.format,c.values,c.encoded),d=a._groupAggregatesDefaultObject||{},v=yt({},d,e.aggregates),m=yt({},{field:e.field,value:e.value,aggregates:v},e.aggregates[e.field]),g=i.groupFooterTemplate,y=e.items;if(h&&(p=typeof h===un?h(m):lt.template(h)(m)),f+=r(t,n,p),e.hasSubgroups)for(o=0,u=y.length;u>o;o++)f+=a._groupRowHtml(y[o],s?t:t-1,n+1,r,i,s);else f+=a._rowsHtml(y,i);return g&&(f+=g(v)),f},collapseGroup:function(t){t=e(t);var n,r,i,s,o,u=this.options.groupable,a=u.showFooter,f=a?0:1,l=e();for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?l=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(l=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1),t=t.nextAll("tr"),i=0,s=t.length;s>i&&(o=t.eq(i),r=o.find(".k-group-cell").length,o.hasClass("k-grouping-row")?f++:o.hasClass("k-group-footer")&&f--,!(n>=r||o.hasClass("k-group-footer")&&0>f));i++)o.hide(),l.eq(i).hide()},expandGroup:function(t){t=e(t);var n,r,i,s,o,u=this,a=u.options.groupable.showFooter,f=e(),l=[],c=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?f=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(f=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),n=t.find(".k-group-cell").length,t.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0),t=t.nextAll("tr"),s=0,o=t.length;o>s&&(r=t.eq(s),i=r.find(".k-group-cell").length,!(n>=i));s++)i!=n+1||r.hasClass("k-detail-row")||(r.show(),f.eq(s).show(),r.hasClass("k-grouping-row")&&r.find(".k-icon").hasClass("k-i-collapse")&&u.expandGroup(r),r.hasClass("k-master-row")&&r.find(".k-icon").hasClass("k-minus")&&(r.next().show(),f.eq(s+1).show())),r.hasClass("k-grouping-row")&&(a&&l.push(r.is(":visible")),c++),r.hasClass("k-group-footer")&&(a&&r.toggle(l.pop()),1==c?(r.show(),f.eq(s).show()):c--)},_updateHeader:function(t){var n=this,r=n._isLocked()?n.lockedHeader.find("thead"):n.thead,i=r.find("tr.k-filter-row").find("th.k-group-cell").length,s=r.find("tr:first").find("th.k-group-cell").length,o=r.children("tr:not(:first)").filter(function(){return!e(this).children(":visible").length});t>s?(e(Array(t-s+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.children("tr:not(.k-filter-row)")),n.element.is(":visible")&&o.find("th.k-group-cell").hide()):s>t&&r.find("tr").each(function(){e(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()}),t>i&&e(Array(t-i+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.find(".k-filter-row"))},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},_updateTablesWidth:function(){var t,n=this;n._isLocked()&&(t=e(">.k-grid-footer>.k-grid-footer-wrap>table",n.wrapper).add(n.thead.parent()).add(n.table),n._footerWidth=tt(t.eq(0)),t.width(n._footerWidth),t=e(">.k-grid-footer>.k-grid-footer-locked>table",n.wrapper).add(n.lockedHeader.find(">table")).add(n.lockedTable),t.width(tt(t.eq(0))))},hideColumn:function(n){var r,i,s,u,a,f,l,v,m,g,y=this,b=0,w=y.footer||y.wrapper.find(".k-grid-footer"),E=y.columns,S=y.lockedHeader?I(y.lockedHeader.find(">table>thead")).filter(h).length:0;if(n="number"==typeof n?E[n]:gt(n)?wt(C(E),function(e){return e===n})[0]:wt(C(E),function(e){return e.field===n})[0],n&&p(n)){if(n.columns&&n.columns.length){for(f=T(n,E),c(n,!1),K(o(e(">table>thead",y.lockedHeader),y.thead,">tr:eq("+f.row+")>th"),f.cell,!1),s=0;n.columns.length>s;s++)this.hideColumn(n.columns[s]);return y.trigger(Wt,{column:n}),t}if(m=St(n,d(F(E))),c(n,!1),y._setParentsVisibility(n,!1),y._templates(),y._updateCols(),y._updateLockedCols(),g=y.thead,l=m,y.lockedHeader&&S>m?g=y.lockedHeader.find(">table>thead"):l-=S,r=I(g).filter(h).eq(l),r[0].style.display="none",K(o(e(">table>thead",y.lockedHeader),y.thead,">tr.k-filter-row>th"),m,!1),w[0]&&(y._updateCols(w.find(">.k-grid-footer-wrap>table")),y._updateLockedCols(w.find(">.k-grid-footer-locked>table")),K(w.find(".k-footer-template>td"),m,!1)),y.lockedTable&&S>m?Q(y.lockedTable.find(">tbody>tr"),m):Q(y.tbody.children(),m-S),y.lockedTable)y._updateTablesWidth(),y._applyLockedContainersWidth(),y._syncLockedContentHeight(),y._syncLockedHeaderHeight(),y._syncLockedFooterHeight();else{for(u=y.thead.prev().find("col"),s=0,v=u.length;v>s;s+=1){if(a=u[s].style.width,!a||-1!=a.indexOf("%")){b=0;break}b+=parseInt(a,10)}i=e(">.k-grid-header table:first,>.k-grid-footer table:first",y.wrapper).add(y.table),y._footerWidth=null,b&&(i.each(function(){this.style.width=b+"px"}),y._footerWidth=b),wn.msie&&8==wn.version&&(i.css("display","inline-table"),setTimeout(function(){i.css("display","table")},1))}y._updateFirstColumnClass(),y.trigger(Wt,{column:n})}},_setParentsVisibility:function(t,n){var r,i,s,u,a,f=this.columns,h=[],p=n?function(e){return d(e.columns).length&&e.hidden}:function(e){return!d(e.columns).length&&!e.hidden};if(l(t,f,h)&&h.length)for(r=h.length-1;r>=0;r--)i=h[r],s=E(i,f),u=o(e(">table>thead",this.lockedHeader),this.thead,">tr:eq("+s.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(s.cell),p(i)&&(c(i,n),u[0].style.display=n?"":"none"),u.filter("["+lt.attr("colspan")+"]").length&&(a=parseInt(u.attr(lt.attr("colspan")),10),u[0].colSpan=a-k(i.columns)||1)},showColumn:function(n){var r,i,s,u,a,f,l,h,d,v,m,g=this,y=g.columns,b=g.footer||g.wrapper.find(".k-grid-footer"),w=g.lockedHeader?I(g.lockedHeader.find(">table>thead")).length:0;if(n="number"==typeof n?y[n]:gt(n)?wt(C(y),function(e){return e===n})[0]:wt(C(y),function(e){return e.field===n})[0],n&&!p(n)){if(n.columns&&n.columns.length){for(l=E(n,y),c(n,!0),K(o(e(">table>thead",g.lockedHeader),g.thead,">tr:eq("+l.row+")>th"),l.cell,!0),r=0;n.columns.length>r;r++)this.showColumn(n.columns[r]);return g.trigger(Xt,{column:n}),t}if(v=St(n,F(y)),c(n,!0),g._setParentsVisibility(n,!0),g._templates(),g._updateCols(),g._updateLockedCols(),m=g.thead,f=v,g.lockedHeader&&w>v?m=g.lockedHeader.find(">table>thead"):f-=w,s=I(m).eq(f),s[0].style.display="",K(o(e(">table>thead",g.lockedHeader),g.thead,">tr.k-filter-row>th"),v,!0),b[0]&&(g._updateCols(b.find(">.k-grid-footer-wrap>table")),g._updateLockedCols(b.find(">.k-grid-footer-locked>table")),K(b.find(".k-footer-template>td"),v,!0)),g.lockedTable&&w>v?Z(g.lockedTable.find(">tbody>tr"),v):Z(g.tbody.children(),v-w),g.lockedTable)g._updateTablesWidth(),g._applyLockedContainersWidth(),g._syncLockedContentHeight(),g._syncLockedHeaderHeight();else if(u=e(">.k-grid-header table:first,>.k-grid-footer table:first",g.wrapper).add(g.table),n.width){for(a=0,d=g.thead.prev().find("col"),r=0,i=d.length;i>r;r+=1){if(h=d[r].style.width,h.indexOf("%")>-1){a=0;break}a+=parseInt(h,10)}g._footerWidth=null,a&&(u.each(function(){this.style.width=a+"px"}),g._footerWidth=a)}else u.width("");g._updateFirstColumnClass(),g.trigger(Xt,{column:n})}},_progress:function(e){var t=this.element;this.lockedContent?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content),lt.ui.progress(t,e)},_resize:function(e,t){this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var t=dt();return this.table[0]===t||e.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||e.contains(this.lockedTable[0],t))},refresh:function(t){var n,r=this,i=r.dataSource.view(),s=r.options.navigatable,o=e(r.current()),u=!1,a=(r.dataSource.group()||[]).length,f=r.content&&r.content.scrollLeft(),l=a+j(d(r.columns)).length;t&&"itemchange"===t.action&&r.editable||(t=t||{},r.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})||(r._angularItems("cleanup"),s&&(r._isActiveInTable()||r._editContainer&&r._editContainer.data("kendoWindow"))&&(u=o.is("th"),n=Math.max(r.cellIndex(o),0)),r._destroyEditable(),r._progress(!1),r._hideResizeHandle(),r._data=[],r.columns.length||(r._autoColumns(r._firstDataItem(i[0],a)),l=a+r.columns.length),r._group=a>0||r._group,r._group&&(r._templates(),r._updateCols(),r._updateLockedCols(),r._updateHeader(a),r._group=a>0),r._renderContent(i,l,a),r._renderLockedContent(i,l,a),r._footer(),r._renderNoRecordsContent(),r._setContentHeight(),r._setContentWidth(f),r.lockedTable&&(r.options.scrollable.virtual?r.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):r.touchScroller?r.touchScroller.movable.trigger("change"):r.content.trigger("scroll")),r._restoreCurrent(n,u),r.touchScroller&&r.touchScroller.contentResized(),r.selectable&&r.selectable.resetTouchEvents(),r._angularItems("compile"),r.trigger($t)))},_restoreCurrent:function(n,r){var i,s,o;n===t||0>n||(this._removeCurrent(),r?this.current(this.thead.find("th:not(.k-group-cell)").eq(n)):(i=0,this._rowVirtualIndex?i=this.virtualScrollable.position(this._rowVirtualIndex):n=0,s=e(),this.lockedTable&&(s=this.lockedTable.find(">tbody>tr").eq(i)),s=s.add(this.tbody.children().eq(i)),o=s.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(n),this.current(o)),this._current&&st(this._current.closest("table")[0],!0))},_angularItems:function(e){lt.ui.DataBoundWidget.fn._angularItems.call(this,e),"cleanup"===e&&this._cleanupDetailItems(),this._angularGroupItems(e),this._angularGroupFooterItems(e)},_cleanupDetailItems:function(){var e=this;e._hasDetails()&&(e.angular("cleanup",function(){return{elements:e.tbody.children(".k-detail-row")}}),e.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var n=this;n._group&&n.angular(t,function(){return{elements:n.tbody.children(".k-grouping-row"),data:e.map(G(n.dataSource.view()),function(e){return{dataItem:e}})}})},_angularGroupFooterItems:function(t){var n=this;n._group&&n.groupFooterTemplate&&n.angular(t,function(){return{elements:n.tbody.children(".k-group-footer"),data:e.map(Y(n.dataSource.view()),function(e){return{dataItem:e}})}})},_renderContent:function(e,t,n){var r,i,s=this,o="",u=null!=s.lockedContent,a={rowTemplate:s.rowTemplate,altRowTemplate:s.altRowTemplate,groupFooterTemplate:s.groupFooterTemplate};if(t=u?t-j(B(s.columns)).length:t,n>0)for(t=u?t-n:t,s.detailTemplate&&t++,s.groupFooterTemplate&&(s._groupAggregatesDefaultObject=s.dataSource.aggregates()),r=0,i=e.length;i>r;r++)o+=s._groupRowHtml(e[r],t,0,u?ft:at,a,u);else o+=s._rowsHtml(e,a);s.tbody=U(s.tbody,s.table,o,this.options.$angular)},_renderLockedContent:function(e,t,n){var r,i,s,o="",u={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(s=this.lockedTable,n>0)for(t-=d(F(P(this.columns))).length,r=0,i=e.length;i>r;r++)o+=this._groupRowHtml(e[r],t,0,at,u);else o=this._rowsHtml(e,u);U(s.children("tbody"),s,o,this.options.$angular),this._syncLockedContentHeight()}},_adjustRowsHeight:function(e,t){var n,r,i,s,o=e[0].rows,u=o.length,a=t[0].rows,f=e.add(t),l=f.length,c=[];for(n=0;u>n&&a[n];n++)o[n].style.height&&(o[n].style.height=a[n].style.height=""),r=o[n].offsetHeight,i=a[n].offsetHeight,s=0,r>i?s=r:i>r&&(s=i),c.push(s);for(n=0;l>n;n++)f[n].style.display="none";for(n=0;u>n;n++)c[n]&&(o[n].style.height=a[n].style.height=c[n]+1+"px");for(n=0;l>n;n++)f[n].style.display=""}});lt.ExcelMixin&&lt.ExcelMixin.extend(Nn.prototype),lt.PDFMixin&&(lt.PDFMixin.extend(Nn.prototype),Nn.prototype._drawPDF=function(n){function r(){l&&o!==t?(f.unbind("change",i),f.one("change",function(){u.resolve(s)}),f.page(o)):u.resolve(s)}function i(){a._drawPDFShadow({width:a.wrapper.width()}).done(function(e){var t=f.page(),i=l?f.totalPages():1,o={page:e,pageNumber:t,progress:t/i,totalPages:i};n.notify(o),s.append(o.page),i>t?f.page(t+1):r()}).fail(function(e){u.reject(e)})}var s,o,u=new e.Deferred,a=this,f=a.dataSource,l=a.options.pdf.allPages;return this._initPDFProgress(n),s=new lt.drawing.Group,o=f.page(),l?(f.bind("change",i),f.page(1)):i(),u.promise()},Nn.prototype._initPDFProgress=function(t){var n,r=e("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");r.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0})),this.wrapper.append(r),n=e("<div class='k-loading-pdf-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar"),t.progress(function(e){n.value(e.progress)}).always(function(){lt.destroy(r),r.remove()})}),ct.plugin(Nn),ct.plugin(xn)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r="change",i="cancel",s="dataBound",o="dataBinding",u=n.ui.Widget,a=n.keys,f=">*",l="progress",c="error",h="k-state-focused",p="k-state-selected",d="k-edit-item",v="edit",m="remove",g="save",y="click",b=".kendoListView",w=e.proxy,E=n._activeElement,S=n.ui.progress,x=n.data.DataSource,T=n.ui.DataBoundWidget.extend({init:function(t,r){var i=this;r=e.isArray(r)?{dataSource:r}:r,u.fn.init.call(i,t,r),r=i.options,i.wrapper=t=i.element,t[0].id&&(i._itemId=t[0].id+"_lv_active"),i._element(),i._dataSource(),i._templates(),i._navigatable(),i._selectable(),i._pageable(),i._crudHandlers(),i.options.autoBind&&i.dataSource.fetch(),n.notify(i)},events:[r,i,o,s,v,m,g],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(e){u.fn.setOptions.call(this,e),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templates:function(){var e=this.options;this.template=n.template(e.template||""),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||"")},_item:function(e){return this.element.children()[e]()},items:function(){return this.element.children()},dataItem:function(t){var r=n.attr("uid"),i=e(t).closest("["+r+"]").attr(r);return this.dataSource.getByUid(i)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(r,e._refreshHandler).unbind(l,e._progressHandler).unbind(c,e._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=w(e.refresh,e),e._progressHandler=w(e._progress,e),e._errorHandler=w(e._error,e)),e.dataSource=x.create(e.options.dataSource).bind(r,e._refreshHandler).bind(l,e._progressHandler).bind(c,e._errorHandler)},_progress:function(){S(this.element,!0)},_error:function(){S(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(e){var r,i,u,a,f,l=this,c=l.dataSource.view(),h="",p=l.template,d=l.altTemplate,v=E();if(e=e||{},"itemchange"===e.action)return l._hasBindingTarget()||l.editable||(r=e.items[0],u=l.items().filter("["+n.attr("uid")+"="+r.uid+"]"),u.length>0&&(a=u.index(),l.angular("cleanup",function(){return{elements:[u]}}),u.replaceWith(p(r)),u=l.items().eq(a),u.attr(n.attr("uid"),r.uid),l.angular("compile",function(){return{elements:[u],data:[{dataItem:r}]}}),l.trigger("itemChange",{item:u,data:r}))),t;if(!l.trigger(o,{action:e.action||"rebind",items:e.items,index:e.index})){for(l._angularItems("cleanup"),l._destroyEditable(),a=0,f=c.length;f>a;a++)h+=a%2?d(c[a]):p(c[a]);for(l.element.html(h),i=l.items(),a=0,f=c.length;f>a;a++)i.eq(a).attr(n.attr("uid"),c[a].uid).attr("role","option").attr("aria-selected","false");l.element[0]===v&&l.options.navigatable&&l.current(i.eq(0)),l._angularItems("compile"),l.trigger(s)}},_pageable:function(){var t,r,i=this,s=i.options.pageable;e.isPlainObject(s)&&(r=s.pagerId,t=e.extend({},s,{dataSource:i.dataSource,pagerId:null}),i.pager=new n.ui.Pager(e("#"+r),t))},_selectable:function(){var e,i,s=this,o=s.options.selectable,u=s.options.navigatable;o&&(e=n.ui.Selectable.parseOptions(o).multiple,s.selectable=new n.ui.Selectable(s.element,{aria:!0,multiple:e,filter:f,change:function(){s.trigger(r)}}),u&&s.element.on("keydown"+b,function(n){if(n.keyCode===a.SPACEBAR){if(i=s.current(),n.target==n.currentTarget&&n.preventDefault(),e)if(n.ctrlKey){if(i&&i.hasClass(p))return i.removeClass(p),t}else s.selectable.clear();else s.selectable.clear();s.selectable.value(i)}}))},current:function(e){var n=this,r=n.element,i=n._current,s=n._itemId;return e===t?i:(i&&i[0]&&(i[0].id===s&&i.removeAttr("id"),i.removeClass(h),r.removeAttr("aria-activedescendant")),e&&e[0]&&(s=e[0].id||s,n._scrollTo(e[0]),r.attr("aria-activedescendant",s),e.addClass(h).attr("id",s)),n._current=e,t)},_scrollTo:function(t){var n,r,i=this,s=!1,o="scroll";"auto"==i.wrapper.css("overflow")||i.wrapper.css("overflow")==o?n=i.wrapper[0]:(n=window,s=!0),r=function(r,i){var u=s?e(t).offset()[r.toLowerCase()]:t["offset"+r],a=t["client"+i],f=e(n)[o+r](),l=e(n)[i.toLowerCase()]();u+a>f+l?e(n)[o+r](u+a-l):f>u&&e(n)[o+r](u)},r("Top","Height"),r("Left","Width")},_navigatable:function(){var t=this,r=t.options.navigatable,i=t.element,s=function(n){t.current(e(n.currentTarget)),e(n.target).is(":button,a,:input,a>.k-icon,textarea")||i.focus()};r&&(t._tabindex(),i.on("focus"+b,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)}).on("focusout"+b,function(){t._current&&t._current.removeClass(h)}).on("keydown"+b,function(r){var s,o,u=r.keyCode,f=t.current(),l=e(r.target),c=!l.is(":button,textarea,a,a>.t-icon,input"),h=l.is(":text"),p=n.preventDefault,v=i.find("."+d),m=E();if(!(!c&&!h&&a.ESC!=u||h&&a.ESC!=u&&a.ENTER!=u))if(a.UP===u||a.LEFT===u)f&&(f=f.prev()),t.current(f&&f[0]?f:t._item("last")),p(r);else if(a.DOWN===u||a.RIGHT===u)f&&(f=f.next()),t.current(f&&f[0]?f:t._item("first")),p(r);else if(a.PAGEUP===u)t.current(null),t.dataSource.page(t.dataSource.page()-1),p(r);else if(a.PAGEDOWN===u)t.current(null),t.dataSource.page(t.dataSource.page()+1),p(r);else if(a.HOME===u)t.current(t._item("first")),p(r);else if(a.END===u)t.current(t._item("last")),p(r);else if(a.ENTER===u)0!==v.length&&(c||h)?(s=t.items().index(v),m&&m.blur(),t.save(),o=function(){t.element.trigger("focus"),t.current(t.items().eq(s))},t.one("dataBound",o)):""!==t.options.editTemplate&&t.edit(f);else if(a.ESC===u){if(v=i.find("."+d),0===v.length)return;s=t.items().index(v),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(s))}}),i.on("mousedown"+b+" touchstart"+b,f,w(s,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(r)},select:function(n){var r=this,i=r.selectable;return n=e(n),n.length?(i.options.multiple||(i.clear(),n=n.first()),i.value(n),t):i.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var e,t,r,i=this,s=i.editable,o=i.template;return s&&(s.element.index()%2&&(o=i.altTemplate),i.angular("cleanup",function(){return{elements:[s.element]}}),e=i._modelFromElement(s.element),i._destroyEditable(),r=s.element.index(),s.element.replaceWith(o(e)),t=i.items().eq(r),t.attr(n.attr("uid"),e.uid),i._hasBindingTarget()&&n.bind(t,e),i.angular("compile",function(){return{elements:[t],data:[{dataItem:e}]}})),!0},edit:function(e){var t,r,i=this,s=i._modelFromElement(e),o=s.uid;i.cancel(),e=i.items().filter("["+n.attr("uid")+"="+o+"]"),r=e.index(),e.replaceWith(i.editTemplate(s)),t=i.items().eq(r).addClass(d).attr(n.attr("uid"),s.uid),i.editable=t.kendoEditable({model:s,clearContainer:!1,errorTemplate:!1,target:i}).data("kendoEditable"),i.trigger(v,{model:s,item:t})},save:function(){var e,t,n=this,r=n.editable;r&&(t=r.element,e=n._modelFromElement(t),r.end()&&!n.trigger(g,{model:e,item:t})&&(n._closeEditable(),n.dataSource.sync()))},remove:function(e){var t=this,n=t.dataSource,r=t._modelFromElement(e);t.editable&&(n.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable()),t.trigger(m,{model:r,item:e})||(e.hide(),n.remove(r),n.sync())},add:function(){var e=this,t=e.dataSource,n=t.indexOf((t.view()||[])[0]);0>n&&(n=0),e.cancel(),t.insert(n,{}),e.edit(e.element.children().first())},cancel:function(){var e,t,n=this,r=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(i,{model:t,container:e})||(r.cancelChanges(t),n._closeEditable()))},_crudHandlers:function(){var t=this,r=y+b;t.element.on(r,".k-edit-button",function(r){var i=e(this).closest("["+n.attr("uid")+"]");t.edit(i),r.preventDefault()}),t.element.on(r,".k-delete-button",function(r){var i=e(this).closest("["+n.attr("uid")+"]");t.remove(i),r.preventDefault()}),t.element.on(r,".k-update-button",function(e){t.save(),e.preventDefault()}),t.element.on(r,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;u.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(b),e.pager&&e.pager.destroy(),n.destroy(e.element)}});n.ui.plugin(T)}(window.kendo.jQuery),function(e,t){function n(t){return e.map(r(t),function(e){return e.name}).join(", ")}function r(e){var t=e[0];return t.files?i(t.files):[{name:u(t.value),extension:o(t.value),size:null}]}function i(t){return e.map(t,function(e){return s(e)})}function s(e){var t=e.name||e.fileName;return{name:b.htmlEncode(t),extension:o(t),size:e.size||e.fileSize,rawFile:e}}function o(e){var t=e.match(x);return t?t[0]:""}function u(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e}function a(t,n){var r=b.guid();return e.map(t,function(e){return e.uid=n?b.guid():r,e})}function f(t){return!t.multiple&&e(".k-file",t.wrapper).length>1}function l(n,r,i){var s,o;return r._supportsRemove()?(s=n.data("fileNames"),o=e.map(s,function(e){return e.name}),r._submitRemove(o,i,function(e,t,i){r._removeFileEntry(n),r.trigger(k,{operation:"remove",files:s,response:e,XMLHttpRequest:i})},function(e){f(r)&&r._removeFileEntry(n),r.trigger(L,{operation:"remove",files:s,XMLHttpRequest:e}),S("Server response: "+e.responseText)}),t):(f(r)&&r._removeFileEntry(n),t)}function c(t,n,r){var i=!1,s="";try{s=e.parseJSON(h(t)),i=!0}catch(o){r()}i&&n(s)}function h(e){return(t===e||""===e)&&(e="{}"),e}function p(e){e.stopPropagation(),e.preventDefault()}function d(e,t,n,r){var i,s;e.on("dragenter"+t,function(){n(),s=new Date,i||(i=setInterval(function(){var e=new Date-s;e>100&&(r(),clearInterval(i),i=null)},100))}).on("dragover"+t,function(){s=new Date})}function v(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function m(t){return e(t.target).closest(".k-file")}var g,y,b=window.kendo,w=b.ui.Widget,E=b.antiForgeryTokens,S=b.logToConsole,x=/\.([^\.]+)$/,T=".kendoUpload",N="select",C="upload",k="success",L="error",A="complete",O="cancel",M="progress",_="remove",D=w.extend({init:function(t,n){var r,i,s,o=this;w.fn.init.call(o,t,n),o.name=t.name,o.multiple=o.options.multiple,o.localization=o.options.localization,r=o.element,o.wrapper=r.closest(".k-upload"),0===o.wrapper.length&&(o.wrapper=o._wrapInput(r)),o._activeInput(r),o.toggle(o.options.enabled),i=o._ns=T+"-"+b.guid(),r.closest("form").on("submit"+i,e.proxy(o._onParentFormSubmit,o)).on("reset"+i,e.proxy(o._onParentFormReset,o)),o.options.async.saveUrl?(o._module=o._supportsFormData()?new y(o):new g(o),o._async=!0,s=o.options.files,s.length>0&&o._renderInitialFiles(s)):o._module=new P(o),o._supportsDrop()&&o._setupDropZone(),o.wrapper.on("click",".k-upload-action",e.proxy(o._onFileAction,o)).on("click",".k-upload-selected",e.proxy(o._onUploadSelected,o)),o.element.val()&&o._onInputChange({target:o.element})},events:[N,C,k,L,A,O,M,_],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0,withCredentials:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(e){var t=this,n=t.element;w.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(e){e=t===e?!0:e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=t===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},destroy:function(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(T),w.fn.destroy.call(t)},_addInput:function(t){if(t[0].nodeType){var n=this,r=t.clone().val("");r.insertAfter(n.element).data("kendoUpload",n),e(n.element).hide().attr("tabindex","-1").removeAttr("id").off(T),n._activeInput(r),n.element.focus()}},_activeInput:function(t){var n=this,r=n.wrapper;n.element=t,t.attr("multiple",n._supportsMultiple()?n.multiple:!1).attr("autocomplete","off").on("click"+T,function(e){r.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+T,function(){e(this).parent().addClass("k-state-focused")}).on("blur"+T,function(){e(this).parent().removeClass("k-state-focused")}).on("change"+T,e.proxy(n._onInputChange,n)).on("keydown"+T,e.proxy(n._onInputKeyDown,n))},_onInputKeyDown:function(e){var t=this,n=t.wrapper.find(".k-upload-action:first");e.keyCode===b.keys.TAB&&n.length>0&&(e.preventDefault(),n.focus())},_onInputChange:function(t){var n=this,r=e(t.target),i=a(n._inputFiles(r),n._isAsyncNonBatch()),s=n.trigger(N,{files:i});s?(n._addInput(r),r.remove()):n._module.onSelect({target:r},i)},_onDrop:function(t){var n,r=t.originalEvent.dataTransfer,s=this,o=r.files,u=a(i(o),s._isAsyncNonBatch());p(t),o.length>0&&(!s.multiple&&u.length>1&&u.splice(1,u.length-1),n=s.trigger(N,{files:u}),n||s._module.onSelect({target:e(".k-dropzone",s.wrapper)},u))},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(t){var n,r,i=this,s=0;for(t=a(t,!0),s=0;t.length>s;s++)n=t[s],r=i._enqueueFile(n.name,{fileNames:[n]}),r.addClass("k-file-success").data("files",[t[s]]),e(".k-progress",r).width("100%"),i.options.template||e(".k-upload-status",r).prepend("<span class='k-upload-pct'>100%</span>"),i._supportsRemove()&&i._fileAction(r,_)},_prepareTemplateData:function(e,t){var n=t.fileNames,r={},i=0,s=0;for(s=0;n.length>s;s++)i+=n[s].size;return r.name=e,r.size=i,r.files=t.fileNames,r},_prepareDefaultFileEntryTemplate:function(t,n){var r="",i=e("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+t+"'>"+t+"</span><strong class='k-upload-status'></strong></li>");return 1==n.fileNames.length&&n.fileNames[0].extension&&(r=n.fileNames[0].extension.substring(1),e(".k-icon",i).addClass("k-i-"+r)),i},_enqueueFile:function(t,n){var r,i,s,o,u=this,a=n.fileNames[0].uid,f=e(".k-upload-files",u.wrapper),l=u.options,c=l.template;return 0===f.length&&(f=e("<ul class='k-upload-files k-reset'></ul>").appendTo(u.wrapper),u.options.showFileList||f.hide(),u.wrapper.removeClass("k-upload-empty")),r=e(".k-file",f),c?(s=u._prepareTemplateData(t,n),c=b.template(c),i=e("<li class='k-file'>"+c(s)+"</li>"),i.find(".k-upload-action").addClass("k-button k-button-bare"),u.angular("compile",function(){return{elements:i,data:[s]}})):i=u._prepareDefaultFileEntryTemplate(t,n),i.attr(b.attr("uid"),a).appendTo(f).data(n),u._async||e(".k-progress",i).width("100%"),!u.multiple&&r.length>0&&(o={files:r.data("fileNames")},u.trigger(_,o)||u._module.onRemove({target:e(r,u.wrapper)},o.data)),i},_removeFileEntry:function(t){var n,r,i=this,s=t.closest(".k-upload-files");t.remove(),n=e(".k-file",s),r=e(".k-file-success, .k-file-error",s),r.length===n.length&&this._hideUploadButton(),0===n.length&&(s.remove(),i.wrapper.addClass("k-upload-empty"),i._hideHeaderUploadstatus())},_fileAction:function(e,t){var n={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},r={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};n.hasOwnProperty(t)&&(this._clearFileAction(e),this.options.template?e.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+r[t]+" "+n[t]+"' title='"+this.localization[t]+"'></span>").show():(e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(n[t],this.localization[t],r[t]))))},_fileState:function(t,n){var r=this.localization,i={uploading:{text:r.statusUploading},uploaded:{text:r.statusUploaded},failed:{text:r.statusFailed}},s=i[n];s&&e(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(s.text)},_renderAction:function(t,n,r){return e(""!==t?"<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+r+" "+t+"' title='"+n+"'></span></button>":"<button type='button' class='k-button'>"+n+"</button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var n,r,i,s,o=this;return o.wrapper.hasClass("k-state-disabled")||(n=e(t.target).closest(".k-upload-action"),r=n.find(".k-icon"),i=n.closest(".k-file"),s={files:i.data("fileNames")},r.hasClass("k-delete")?o.trigger(_,s)||o._module.onRemove({target:e(i,o.wrapper)},s.data):r.hasClass("k-cancel")?(o.trigger(O,s),o._module.onCancel({target:e(i,o.wrapper)}),this._checkAllComplete(),o._updateHeaderUploadStatus()):r.hasClass("k-retry")&&(e(".k-warning",i).remove(),o._module.onRetry({target:e(i,o.wrapper)}))),!1},_onUploadSelected:function(){var e=this,t=e.wrapper;return t.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onFileProgress:function(t,n){var r;this.options.template?e(".k-progress",t.target).width(n+"%"):(r=e(".k-upload-pct",t.target),0===r.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),e(".k-upload-pct",t.target).text(n+"%"),e(".k-progress",t.target).width(n+"%")),this.trigger(M,{files:m(t).data("fileNames"),percentComplete:n})},_onUploadSuccess:function(e,t,n){var r=m(e);this._fileState(r,"uploaded"),r.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(k,{files:r.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:n}),this._supportsRemove()?this._fileAction(r,_):this._clearFileAction(r),this._checkAllComplete()},_onUploadError:function(t,n){var r=m(t),i=e(".k-upload-pct",r);this._fileState(r,"failed"),r.removeClass("k-file-progress").addClass("k-file-error"),e(".k-progress",r).width("100%"),i.length>0?i.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):e(".k-upload-status",r).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(r,"retry"),this.trigger(L,{operation:"upload",files:r.data("fileNames"),XMLHttpRequest:n}),S("Server response: "+n.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){e(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var t=this.localization,n=e(".k-dropzone",this.wrapper),r=e(".k-upload-status-total",this.wrapper);0!==r.length&&r.remove(),r='<strong class="k-upload-status k-upload-status-total">'+t.headerStatusUploading+'<span class="k-icon k-loading">'+t.statusUploading+"</span></strong>",n.length>0?n.append(r):e(".k-upload-button",this.wrapper).after(r)},_updateHeaderUploadStatus:function(){var t,n,r,i=this,s=i.localization,o=e(".k-file",i.wrapper).not(".k-file-success, .k-file-error");0===o.length&&(t=e(".k-file.k-file-error",i.wrapper),n=e(".k-upload-status-total",i.wrapper),r=e(".k-icon",n).removeClass("k-loading").addClass(0!==t.length?"k-warning":"k-i-tick").text(0!==t.length?s.statusWarning:s.statusUploaded),n.text(i.localization.headerStatusUploaded).append(r))},_hideHeaderUploadstatus:function(){e(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var n,r=this,i=r.element;t!==this._module.onAbort&&this._module.onAbort(),i.value||(n=e(i),n.attr("disabled","disabled"),window.setTimeout(function(){n.removeAttr("disabled")},0))},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(b.support.browser.opera||b.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),n=!t&&/safari/.test(e),r=n&&/windows/.test(e);return!r&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t,n,r=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),t=r._ns,n=e(".k-dropzone",r.wrapper).append(e("<em>"+r.localization.dropFilesHere+"</em>")).on("dragenter"+t,p).on("dragover"+t,function(e){e.preventDefault()}).on("drop"+t,e.proxy(this._onDrop,this)),d(n,t,function(){n.addClass("k-dropzone-hovered")},function(){n.removeClass("k-dropzone-hovered")}),d(e(document),t,function(){n.addClass("k-dropzone-active"),n.closest(".k-upload").removeClass("k-upload-empty")},function(){n.removeClass("k-dropzone-active"),0===e("li.k-file",n.closest(".k-upload")).length&&n.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,n,r,i){var s=this,o=s.options.async.removeField||"fileNames",u=e.extend(n,E());u[o]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:h,url:this.options.async.removeUrl,traditional:!0,data:u,success:r,error:i,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(e){var t=this,n=t.options;return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),n.async.saveUrl||e.closest(".k-upload").addClass("k-upload-sync"),e.closest(".k-upload").addClass("k-upload-empty"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger(A)},_inputFiles:function(e){return r(e)}}),P=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};P.prototype={onSelect:function(t,r){var i,s=this.upload,o=e(t.target);s._addInput(o),i=s._enqueueFile(n(o),{relatedInput:o,fileNames:r}),s._fileAction(i,_)},onRemove:function(e){var t=m(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}},g=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]},D._frameId=0,g.prototype={onSelect:function(t,n){var r=this.upload,i=e(t.target),s=this.prepareUpload(i,n);r.options.async.autoUpload?this.performUpload(s):(r._supportsRemove()&&this.upload._fileAction(s,_),r._showUploadButton())},prepareUpload:function(t,r){var i,s,o,u=this.upload,a=e(u.element),f=u.options.async.saveField||t.attr("name");return u._addInput(t),t.attr("name",f),i=this.createFrame(u.name+"_"+D._frameId++),this.registerFrame(i),s=this.createForm(u.options.async.saveUrl,i.attr("name")).append(a),o=u._enqueueFile(n(t),{frame:i,relatedInput:a,fileNames:r}),i.data({form:s,file:o}),o},performUpload:function(t){var n,r,i,s={files:t.data("fileNames")},o=t.data("frame"),u=this.upload;if(u.trigger(C,s))u._removeFileEntry(o.data("file")),this.cleanupFrame(o),this.unregisterFrame(o);else{u._hideUploadButton(),u._showHeaderUploadStatus(),o.appendTo(document.body),n=o.data("form").attr("action",u.options.async.saveUrl).appendTo(document.body),s.data=e.extend({},s.data,E());for(r in s.data)i=n.find("input[name='"+r+"']"),0===i.length&&(i=e("<input>",{type:"hidden",name:r}).prependTo(n)),i.val(s.data[r]);u._fileAction(t,O),u._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),o.one("load",e.proxy(this.onIframeLoad,this)),n[0].submit()}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),r=v(n);r||t.performUpload(n)})},onIframeLoad:function(t){var n,r=e(t.target);try{n=r.contents().text()}catch(i){n="Error trying to get server response: "+i}this.processResponse(r,n)},processResponse:function(t,n){var r=t.data("file"),i=this,s={responseText:n};c(n,function(n){e.extend(s,{statusText:"OK",status:"200"}),i.upload._onFileProgress({target:e(r,i.upload.wrapper)},100),i.upload._onUploadSuccess({target:e(r,i.upload.wrapper)},n,s),i.cleanupFrame(t),i.unregisterFrame(t)},function(){e.extend(s,{statusText:"error",status:"500"}),i.upload._onUploadError({target:e(r,i.upload.wrapper)},s)})},onCancel:function(t){var n=e(t.target).data("frame");this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data("file"))},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var n=m(e),r=n.data("frame");r?(this.unregisterFrame(r),this.upload._removeFileEntry(n),this.cleanupFrame(r)):l(n,this.upload,t)},onAbort:function(){var t=this.element,n=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),n.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,n){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+n+"'/>")},stopFrameSubmit:function(e){t!==e.stop?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}},y=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e},y.prototype={onSelect:function(t,n){var r=this.upload,i=this,s=e(t.target),o=this.prepareUpload(s,n);e.each(o,function(){r.options.async.autoUpload?i.performUpload(this):(r._supportsRemove()&&r._fileAction(this,_),r._showUploadButton())})},prepareUpload:function(t,n){var r=this.enqueueFiles(n);return t.is("input")&&(e.each(r,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",r),this.upload._addInput(t)),r},enqueueFiles:function(t){var n,r,i,s,o=this.upload,u=t.length,a=[];if(o.options.async.batch===!0)n=e.map(t,function(e){return e.name}).join(", "),s=o._enqueueFile(n,{fileNames:t}),s.data("files",t),a.push(s);else for(r=0;u>r;r++)i=t[r],n=i.name,s=o._enqueueFile(n,{fileNames:[i]}),s.data("files",[i]),a.push(s);return a},performUpload:function(t){var n,r=this.upload,i=this.createFormData(),s=this.createXHR(),o={files:t.data("fileNames"),XMLHttpRequest:s};if(r.trigger(C,o))this.removeFileEntry(t);else{if(r._fileAction(t,O),r._hideUploadButton(),r._showHeaderUploadStatus(),o.formData)i=o.formData;else{o.data=e.extend({},o.data,E());for(n in o.data)i.append(n,o.data[n]);this.populateFormData(i,t.data("files"))}r._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),this.postFormData(r.options.async.saveUrl,i,t,s)}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var n=e(this),r=v(n);r||t.performUpload(n)})},onCancel:function(e){var t=m(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var n=m(e);n.hasClass("k-file-success")?l(n,this.upload,t):this.removeFileEntry(n)},createXHR:function(){return new XMLHttpRequest},postFormData:function(e,t,n,r){var i=this;n.data("request",r),r.addEventListener("load",function(e){i.onRequestSuccess.call(i,e,n)},!1),r.addEventListener(L,function(e){i.onRequestError.call(i,e,n)},!1),r.upload.addEventListener("progress",function(e){i.onRequestProgress.call(i,e,n)},!1),r.open("POST",e,!0),r.withCredentials=this.upload.options.async.withCredentials,r.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var n,r=this.upload,i=t.length;for(n=0;i>n;n++)e.append(r.options.async.saveField||r.name,t[n].rawFile);return e},onRequestSuccess:function(t,n){function r(){s.upload._onUploadError({target:e(n,s.upload.wrapper)},i)}var i=t.target,s=this;i.status>=200&&299>=i.status?c(i.responseText,function(t){s.upload._onFileProgress({target:e(n,s.upload.wrapper)},100),s.upload._onUploadSuccess({target:e(n,s.upload.wrapper)},t,i),s.cleanupFileEntry(n)},r):r()},onRequestError:function(t,n){var r=t.target;this.upload._onUploadError({target:e(n,this.upload.wrapper)},r)},cleanupFileEntry:function(t){var n=t.data("relatedInput"),r=!0;n&&(e.each(n.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(r=r&&this.hasClass("k-file-success"))}),r&&n.remove())},removeFileEntry:function(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgress:function(t,n){var r=Math.round(100*t.loaded/t.total);this.upload._onFileProgress({target:e(n,this.upload.wrapper)},r)},stopUploadRequest:function(e){e.data("request").abort()}},b.ui.plugin(D)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var r,i;e.on("dragenter"+x,function(){t(),i=new Date,r||(r=setInterval(function(){var e=new Date-i;e>100&&(n(),clearInterval(r),r=null)},100))}).on("dragover"+x,function(){i=new Date})}function r(e,n){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+n}function i(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}function s(e,t){var n=e[t];return h(n)?n.from||n.field||t:n}var o,u,a,f,l=window.kendo,c=l.ui.Widget,h=e.isPlainObject,p=e.proxy,d=e.extend,v=l.support.placeholder,m=l.support.browser,g=l.isFunction,y=/(^\/|\/$)/g,b="change",w="apply",E="error",S="click",x=".kendoFileBrowser",T=".kendoBreadcrumbs",N=".kendoSearchBox",C="name",k="size",L="type",A={field:L,dir:"asc"},O=l.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),M='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';d(!0,l.data,{schemas:{filebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),d(!0,l.data,{transports:{filebrowser:l.data.RemoteTransport.extend({init:function(t){l.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),g(this.options[t])?this.options[t].call(this,n):l.data.RemoteTransport.fn[t].call(this,n)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),o=m.msie&&8>m.version?function(e){return e.offsetTop}:function(t){return t.offsetTop-e(t).height()},u=c.extend({init:function(e,t){var n=this;t=t||{},c.fn.init.call(n,e,t),n.element.addClass("k-filebrowser"),n.element.on(S+x,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-delete)",p(n._deleteClick,n)).on(S+x,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-addfolder)",p(n._addClick,n)).on("keydown"+x,"li.k-state-selected input",p(n._directoryKeyDown,n)).on("blur"+x,"li.k-state-selected input",p(n._directoryBlur,n)),n._dataSource(),n.refresh(),n.path(n.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[E,b,w],destroy:function(){var e=this;c.fn.destroy.call(e),e.dataSource.unbind(E,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(x),l.destroy(e.element)},value:function(){var e,n=this,i=n._selectedItem(),s=n.options.transport.fileUrl;return i&&"f"===i.get(L)?(e=r(n.path(),i.get(C)).replace(y,""),s&&(e=g(s)?s(e):l.format(s,encodeURIComponent(e))),e):t},_selectedItem:function(){var e=this.listView,n=e.select();return n.length?this.dataSource.getByUid(n.attr(l.attr("uid"))):t},_toolbar:function(){var t=this,n=l.template(M),r=t.options.messages,i=[{text:r.orderByName,value:"name"},{text:r.orderBySize,value:"size"}];t.toolbar=e(n({messages:r,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:r.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:p(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:i,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var t=this;t.options.transport.uploadUrl&&(n(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=p(t._positionDropzone,t))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+x,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+x,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,n=t.offset();e.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(n).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),n=l.format(e.options.messages.deleteFile,t.find("strong").text());t.length&&e._showMessage(n,"confirm")&&e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return s(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t,n=this,r=n.options,i=r.fileTypes,s=RegExp(("("+i.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),o=e.files[0].name,u=C,a=k;s.test(o)?(e.data={path:n.path()},t=n._createFile(o),t?n.upload.one("success",function(e){t.set(u,e.response[n._getFieldName(u)]),t.set(a,e.response[n._getFieldName(a)]),n._tiles=n.listView.items().filter("["+l.attr("type")+"=f]")}):e.preventDefault()):(e.preventDefault(),n._showMessage(l.format(r.messages.invalidFileType,o,i)))},_findFile:function(e){var t,n,r,i=this.dataSource.data(),s=L,o=C;for(e=e.toLowerCase(),t=0,r=i.length;r>t;t++)if("f"===i[t].get(s)&&i[t].get(o).toLowerCase()===e){n=i[t];break}return n},_createFile:function(e){var t,n,r=this,i=0,s={},o=L,u=r.dataSource.view(),a=r._findFile(e);if(a&&!r._showMessage(l.format(r.options.messages.overwriteFile,e),"confirm"))return null;if(a)return a;for(t=0,n=u.length;n>t;t++)if("f"===u[t].get(o)){i=t;break}return s[o]="f",s[C]=e,s[k]=0,r.dataSource.insert(++i,s)},createDirectory:function(){var e,t,n=this,r=0,i=L,s=C,o=n.dataSource.data(),u=n._nameDirectory(),a=new n.dataSource.reader.model;for(e=0,t=o.length;t>e;e++)"d"===o[e].get(i)&&(r=e);a.set(i,"d"),a.set(s,u),n.listView.one("dataBound",function(){var e=n.listView.items().filter("["+l.attr("uid")+"="+a.uid+"]"),t=e.find("input");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){t.select()})}).one("save",function(e){var t=e.model.get(s);t?e.model.set(s,n._nameExists(t,a.uid)?n._nameDirectory():t):e.model.set(s,u)}),n.dataSource.insert(++r,a)},_directoryKeyDown:function(e){13==e.keyCode&&e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var n,r,i=this.dataSource.data(),s=L,o=C;for(n=0,r=i.length;r>n;n++)if("d"===i[n].get(s)&&i[n].get(o).toLowerCase()===e.toLowerCase()&&i[n].uid!==t)return!0;return!1},_nameDirectory:function(){var t,n,r,i="New folder",s=this.dataSource.data(),o=[],u=L,a=C;for(n=0,r=s.length;r>n;n++)"d"===s[n].get(u)&&s[n].get(a).toLowerCase().indexOf(i.toLowerCase())>-1&&o.push(s[n].get(a));if(e.inArray(i,o)>-1){n=2;do t=i+" ("+n+")",n++;while(e.inArray(t,o)>-1);i=t}return i},orderBy:function(e){this.dataSource.sort([{field:L,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:C,operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("dblclick"+x,"li",p(t._dblClick,t)),t.listView=new l.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===e.action||"sync"===e.action)&&e.preventDefault()},dataBound:function(){t.dataSource.view().length?t._tiles=this.items().filter("["+l.attr("type")+"=f]"):this.wrapper.append(O({text:t.options.messages.emptyFolder}))},change:p(t._listViewChange,t)})},_dblClick:function(t){var n,i=this,s=e(t.currentTarget);s.hasClass("k-edit-item")&&i._directoryBlur(),s.filter("["+l.attr("type")+"=d]").length?(n=i.dataSource.getByUid(s.attr(l.attr("uid"))),n&&(i.path(r(i.path(),n.get(C))),i.breadcrumbs.value(i.path()))):s.filter("["+l.attr("type")+"=f]").length&&i.trigger(w)},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===e.get(L)&&this.trigger(b))},_dataSource:function(){var e,t=this,n=t.options,r=n.transport,i=d({},A),s={field:C,dir:"asc"},o={type:r.type||"filebrowser",sort:[i,s]};h(r)&&(r.path=p(t.path,t),o.transport=r),h(n.schema)?o.schema=n.schema:r.type&&h(l.data.schemas[r.type])&&(e=l.data.schemas[r.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(E,t._errorHandler):t._errorHandler=p(t._error,t),t.dataSource=l.data.DataSource.create(o).bind(E,t._errorHandler)},_navigation:function(){var t=this,n=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=n.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function(){t.path(this.value())}}).data("kendoBreadcrumbs"),t.searchBox=n.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox")},_error:function(e){var t,n=this;n.trigger(E,e)||(t=e.xhr.status,"error"==e.status?"404"==t?n._showMessage(n.options.messages.directoryNotFound):"0"!=t&&n._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&n._showMessage("Error! Server timeout."))},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation(),e._toolbar(),e._content()},_editTmpl:function(){var e='<li class="k-tile k-state-selected" '+l.attr("uid")+'="#=uid#" ';return e+=l.attr("type")+'="${'+L+'}">',e+="#if("+L+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',e+="#}#",e+="#if("+L+' == "d") { #',e+='<input class="k-input" '+l.attr("bind")+'="value:'+C+'"/>',e+="#}#",e+="</li>",p(l.template(e),{sizeFormatter:i})},_itemTmpl:function(){var e='<li class="k-tile" '+l.attr("uid")+'="#=uid#" ';return e+=l.attr("type")+'="${'+L+'}">',e+="#if("+L+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-file"></span></div>',e+="#}#",e+="<strong>${"+C+"}</strong>",e+="#if("+L+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+k+")}</span> #}#",e+="</li>",p(l.template(e),{sizeFormatter:i})},path:function(e){var n=this,r=n._path||"";return e!==t?(n._path=e.replace(y,"")+"/",n.dataSource.read({path:n._path}),t):(r&&(r=r.replace(y,"")),"/"===r||""===r?"":r+"/")}}),a=c.extend({init:function(e,t){var n=this;t=t||{},c.fn.init.call(n,e,t),v&&n.element.attr("placeholder",n.options.label),n._wrapper(),n.element.on("keydown"+N,p(n._keydown,n)).on("change"+N,p(n._updateValue,n)),n.wrapper.on(S+N,"a",p(n._click,n)),v||n.element.on("focus"+N,p(n._focus,n)).on("blur"+N,p(n._blur,n))},options:{name:"SearchBox",label:"Search",value:""},events:[b],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(N),c.fn.destroy.call(e)},_keydown:function(e){13===e.keyCode&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(b))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){v||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var t=this.element,n=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),n.length||(n=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),v||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(n)),this.wrapper=n,this.label=n.find(">label")},value:function(e){var n=this;return e!==t?(n.options.value=e,n.element.val(e),n._toggleLabel(),t):n.options.value}}),f=c.extend({init:function(e,t){var n=this;t=t||{},c.fn.init.call(n,e,t),n._wrapper(),n.wrapper.on("focus"+T,"input",p(n._focus,n)).on("blur"+T,"input",p(n._blur,n)).on("keydown"+T,"input",p(n._keydown,n)).on(S+T,"a.k-i-arrow-n:first",p(n._rootClick,n)).on(S+T,"a:not(.k-i-arrow-n)",p(n._click,n)),n.value(n.options.value)},options:{name:"Breadcrumbs",gap:50},events:[b],destroy:function(){var e=this;c.fn.destroy.call(e),e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(T)},_update:function(e){e="/"===(e||"").charAt(0)?e:"/"+(e||""),e!==this.value()&&(this.value(e),this.trigger(b))},_click:function(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(e){e.preventDefault(),this._update("")},_focus:function(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select()})},_blur:function(){if(!this.overlay.is(":visible")){var e=this,t=e.element,n=t.val().replace(/\/{2,}/g,"/");e.overlay.show(),t.val(""),e._update(n)}},_keydown:function(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout(function(){t.overlay.find("a:first").focus()}))},_wrapper:function(){var t,n=this.element,r=n.parents(".k-breadcrumbs");n[0].style.width="",n.addClass("k-input"),r.length||(r=n.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),t=r.find(".k-breadcrumbs-wrap"),t.length||(t=e('<div class="k-breadcrumbs-wrap"/>').appendTo(r)),this.wrapper=r,this.overlay=t},refresh:function(){var n,r,i,s,o="",u=this.value();for(u!==t&&u.match(/^\//)||(u="/"+(u||"")),n=u.split("/"),i=0,s=n.length;s>i;i++)r=n[i],r&&(o||(o+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),o+='<a class="k-link" href="#">'+n[i]+"</a>",o+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(e(o)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var t,n=this,r=n.wrapper,i=r.width()-n.options.gap,s=n.overlay.find("a");s.each(function(n){t=e(this),t.parent().width()>i&&(n==s.length-1?t.width(i):t.prev().addBack().hide())})},value:function(e){return e!==t?(this._value=e.replace(/\/{2,}/g,"/"),this.refresh(),t):this._value},_path:function(t){return"/"+e.map(t,function(t){return e(t).text()}).join("/")}}),l.ui.plugin(u),l.ui.plugin(f),l.ui.plugin(a)}(window.kendo.jQuery),function(e,t){function n(e,n){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+n}function r(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}var i,s,o=window.kendo,u=o.ui.FileBrowser,a=e.isPlainObject,f=e.proxy,l=e.extend,c=o.support.browser,h=o.isFunction,p=/(^\/|\/$)/g,d="error",v=".kendoImageBrowser",m="name",g="size",y="type",b={field:y,dir:"asc"},w=o.template('<li class="k-tile-empty"><strong>${text}</strong></li>');l(!0,o.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),l(!0,o.data,{transports:{imagebrowser:o.data.RemoteTransport.extend({init:function(t){o.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,n){n.data=e.extend({},n.data,{path:this.options.path()}),h(this.options[t])?this.options[t].call(this,n):o.data.RemoteTransport.fn[t].call(this,n)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),i=c.msie&&8>c.version?function(e){return e.offsetTop}:function(t){return t.offsetTop-e(t).height()},s=u.extend({init:function(e,t){var n=this;t=t||{},u.fn.init.call(n,e,t),n.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var e,r=this,i=r._selectedItem(),s=r.options.transport.imageUrl;return i&&"f"===i.get(y)?(e=n(r.path(),i.get(m)).replace(p,""),s&&(e=h(s)?s(e):o.format(s,encodeURIComponent(e))),e):t},_fileUpload:function(e){var t,n=this,r=n.options,i=r.fileTypes,s=RegExp(("("+i.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),u=e.files[0].name,a=m,f=g;s.test(u)?(e.data={path:n.path()},t=n._createFile(u),t?(t._uploading=!0,n.upload.one("success",function(e){delete t._uploading,t.set(a,e.response[n._getFieldName(a)]),t.set(f,e.response[n._getFieldName(f)]),n._tiles=n.listView.items().filter("["+o.attr("type")+"=f]"),n._scroll()})):e.preventDefault()):(e.preventDefault(),n._showMessage(o.format(r.messages.invalidFileType,u,i)))},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+v,f(t._scroll,t)).on("dblclick"+v,"li",f(t._dblClick,t)),t.listView=new o.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===e.action||"sync"===e.action)&&e.preventDefault()},dataBound:function(){t.dataSource.view().length?(t._tiles=this.items().filter("["+o.attr("type")+"=f]"),t._scroll()):this.wrapper.append(w({text:t.options.messages.emptyFolder}))},change:f(t._listViewChange,t)})},_dataSource:function(){var e,t=this,n=t.options,r=n.transport,i=l({},b),s={field:m,dir:"asc"},u={type:r.type||"imagebrowser",sort:[i,s]};a(r)&&(r.path=f(t.path,t),u.transport=r),a(n.schema)?u.schema=n.schema:r.type&&a(o.data.schemas[r.type])&&(e=o.data.schemas[r.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(d,t._errorHandler):t._errorHandler=f(t._error,t),t.dataSource=o.data.DataSource.create(u).bind(d,t._errorHandler)},_loadImage:function(t){var n=this,r=e(t),i=n.dataSource.getByUid(r.attr(o.attr("uid"))),s=i.get(m),u=n.options.transport.thumbnailUrl,a=e("<img />",{alt:s}),f="?";i._uploading||(a.hide().on("load"+v,function(){e(this).prev().remove().end().addClass("k-image").fadeIn()}),r.find(".k-loading").after(a),h(u)?u=u(n.path(),encodeURIComponent(s)):(u.indexOf("?")>=0&&(f="&"),u=u+f+"path="+n.path()+encodeURIComponent(s)),a.attr("src",u),t.loaded=!0)},_scroll:function(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var n=e.list.outerHeight(),r=e.list.scrollTop(),s=r+n;e._tiles.each(function(){var n=i(this),o=n+this.offsetHeight;return(n>=r&&s>n||o>=r&&s>o)&&e._loadImage(this),n>s?!1:t}),e._tiles=e._tiles.filter(function(){return!this.loaded})},250))},_itemTmpl:function(){var e=this,t='<li class="k-tile" '+o.attr("uid")+'="#=uid#" ';return t+=o.attr("type")+'="${'+y+'}">',t+="#if("+y+' == "d") { #',t+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',t+="#}else{#",t+=e.options.transport&&e.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',t+="#}#",t+="<strong>${"+m+"}</strong>",t+="#if("+y+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+g+")}</span> #}#",t+="</li>",f(o.template(t),{sizeFormatter:r})}}),o.ui.plugin(s)}(window.kendo.jQuery),function(e,t){var n,r,i,s,o=window.kendo,u=o.Class,a=o.ui.Widget,f=o.support.mobileOS,l=o.support.browser,c=e.extend,h=e.proxy,p=o.deepExtend,d=".kendoEditor",v=o.keys,m=u.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return o.template(e.template,{useWithBlock:!1})(e)}}),g={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a href="" role="button" class="k-tool k-overflow-anchor" data-popup unselectable="on"><span unselectable="on" class="k-icon k-i-more"></span></a>',formatByName:function(t,n){for(var r=0;n.length>r;r++)if(e.inArray(t,n[r].tags)>=0)return n[r]},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),t.name||(t.options.name=e,t.name=e.toLowerCase()),E.defaultTools[e]=t},registerFormat:function(e,t){E.fn.options.formats[e]=t}},y={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},b=!f||f.ios&&f.flatVersion>=500||!f.ios&&t!==document.documentElement.contentEditable,w={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},E=a.extend({init:function(t,n){var r,i,s,u,f,l=this,v=o.ui.editor,m=v.Dom;b&&(a.fn.init.call(l,t,n),l.options=p({},l.options,n),t=l.element,f=t[0],u=m.name(f),t.closest("form").on("submit"+d,function(){l.update()}),s=c({},l.options),s.editor=l,"textarea"==u?(l._wrapTextarea(),i=l.wrapper.find(".k-editor-toolbar"),f.id&&i.attr("aria-controls",f.id)):(l.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),s.popup=!0,i=e('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(t)),l.toolbar=new v.Toolbar(i[0],s),l.toolbar.bindTo(l),"textarea"==u&&setTimeout(function(){var e=l.wrapper[0].style.height,t=parseInt(e,10),n=l.wrapper.height();e.indexOf("px")>0&&!isNaN(t)&&n>t&&l.wrapper.height(t-(n-t))}),l._resizable(),l._initializeContentElement(l),l.keyboard=new v.Keyboard([new v.BackspaceHandler(l),new v.TypingHandler(l),new v.SystemHandler(l)]),l.clipboard=new v.Clipboard(this),l.undoRedoStack=new v.UndoRedoStack,n&&n.value?r=n.value:l.textarea?(r=f.value,l.options.encoded&&e.trim(f.defaultValue).length&&(r=f.defaultValue),r=r.replace(/[\r\n\v\f\t ]+/gi," ")):r=f.innerHTML,l.value(r),e(document).on("mousedown",h(l._endTyping,l)).on("mouseup",h(l._mouseup,l)),l.toolbar.resize(),o.notify(l))},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){l.msie||o.ui.editor.Dom.ensureTrailingBreaks(this.body),this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_resizable:function(){var n=this.options.resizable,r=e.isPlainObject(n)?n.content===t||n.content===!0:n;r&&this.textarea&&(e("<div class='k-resize-handle'><span class='k-icon k-resize-se' /></div>").insertAfter(this.textarea),this.wrapper.kendoResizable(c({},this.options.resizable,{start:function(t){var n=this.editor=e(t.currentTarget).closest(".k-editor");this.initialSize=n.height(),n.find("td:last").append("<div class='k-overlay' />")},resize:function(e){var t=e.y.initialDelta,n=this.initialSize+t,r=this.options.min||0,i=this.options.max||1/0;n=Math.min(i,Math.max(r,n)),this.editor.height(n)},resizeend:function(){this.editor.find(".k-overlay").remove(),this.editor=null}})))},_wrapTextarea:function(){var t=this,n=t.element,r=n[0].style.width,i=n[0].style.height,s=g.editorWrapperTemplate,o=e(s).insertBefore(n).width(r).height(i),u=o.find(".k-editable-area");n.attr("autocomplete","off").appendTo(u).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=o},_createContentElement:function(t){var n,r,i,s=this,u=s.textarea,a=s.options.domain,f=a||document.domain,l="",c='javascript:""';return(a||f!=location.hostname)&&(l='<script>document.domain="'+f+'"</script>',c="javascript:document.write('"+l+"')"),u.hide(),n=e("<iframe />",{title:s.options.messages.editAreaTitle,frameBorder:"0"})[0],e(n).css("display","").addClass("k-content").insertBefore(u),n.src=c,r=n.contentWindow||n,i=r.document||n.contentDocument,e(n).one("load",function(){s.toolbar.decorateFrom(i.body)}),i.open(),i.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(o.support.isRtl(u)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style>"+l+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),i.close(),r},_blur:function(){var e=this.textarea,t=e?e.val():this._oldValue,n=this.options.encoded?this.encodedValue():this.value();this.update(),e&&e.trigger("blur"),n!=t&&this.trigger("change")},_spellCorrect:function(n){var r,i=!1;e(n.body).on("contextmenu"+d,function(){n.one("select",function(){r=null}),n._spellCorrectTimeout=setTimeout(function(){r=new o.ui.editor.RestorePoint(n.getRange()),i=!1},10)}).on("input"+d,function(){return r?o.support.browser.mozilla&&!i?(i=!0,t):(o.ui.editor._finishUpdate(n,r),t):t})},_initializeContentElement:function(){var n,r,i=this;i.textarea?(i.window=i._createContentElement(i.options.stylesheets),n=i.document=i.window.contentDocument||i.window.document,i.body=n.body,r=i.window,e(n).on("mouseup"+d,h(i._mouseup,i))):(i.window=window,n=i.document=document,i.body=i.element[0],r=i.body,i.toolbar.decorateFrom(i.body)),e(r).on("blur"+d,h(this._blur,this));try{n.execCommand("enableInlineTableEditing",null,!1)}catch(s){}o.support.touch&&e(n).on("selectionchange"+d,h(this._selectionChange,this)).on("keydown"+d,function(){o._activeElement()!=n.body&&i.window.focus()}),this._spellCorrect(i),e(i.body).on("dragstart"+d,!1).on("keydown"+d,function(e){var n,r,s,o,u,a;return e.keyCode!==v.BACKSPACE&&e.keyCode!==v.DELETE||"true"===i.body.getAttribute("contenteditable")?e.keyCode===v.F10?(setTimeout(h(i.toolbar.focus,i.toolbar),100),e.preventDefault(),t):((e.keyCode==v.LEFT||e.keyCode==v.RIGHT)&&(n=i.getRange(),r=e.keyCode==v.LEFT,s=n[r?"startContainer":"endContainer"],o=n[r?"startOffset":"endOffset"],u=r?-1:1,r&&(o-=1),o+u>0&&3==s.nodeType&&"﻿"==s.nodeValue[o]&&(n.setStart(s,o+u),n.collapse(!0),i.selectRange(n))),(a=i.keyboard.toolFromShortcut(i.toolbar.tools,e))?(e.preventDefault(),/^(undo|redo)$/.test(a)||i.keyboard.endTyping(!0),i.trigger("keydown",e),i.exec(a),!1):(i.keyboard.clearTimeout(),i.keyboard.keydown(e),t)):!1}).on("keyup"+d,function(t){var n=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&i._selectionChange(),i.keyboard.keyup(t)}).on("mousedown"+d,function(t){if(i._selectionStarted=!0,!l.gecko){var n=e(t.target);(2==t.which||1==t.which&&t.ctrlKey)&&n.is("a[href]")&&window.open(n.attr("href"),"_new")}}).on("click"+d,function(e){var t,n=o.ui.editor.Dom;"img"===n.name(e.target)&&(t=i.createRange(),t.selectNode(e.target),i.selectRange(t))}).on("cut"+d+" paste"+d,function(e){i.clipboard["on"+e.type](e)}).on("focusin"+d,function(){e(this).addClass("k-state-active"),i.toolbar.show()}).on("focusout"+d,function(){setTimeout(function(){var t=o._activeElement(),n=i.body,r=i.toolbar;t==n||e.contains(n,t)||e(t).is(".k-editortoolbar-dragHandle")||r.focused()||(e(n).removeClass("k-state-active"),r.hide())},10)})},_mouseup:function(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange()},1)},refresh:function(){var e=this;e.textarea&&(e.textarea.val(e.value()),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(e.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:y,formats:{},encoded:!0,domain:null,resizable:!1,serialization:{entities:!0,semantic:!0,scripts:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],w.basic,w.alignment,w.lists,w.indenting,w.links,["insertImage"],w.tables)},destroy:function(){var t=this;a.fn.destroy.call(t),e(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest("form")).off(d),e(document).off("mousedown",h(t._endTyping,t)).off("mouseup",h(t._mouseup,t)),clearTimeout(this._spellCorrectTimeout),t._focusOutside(),t.toolbar.destroy(),o.destroy(t.wrapper)},_focusOutside:function(){if(o.support.browser.msie&&this.textarea){var t=e("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();t.blur().remove()}},state:function(e){var t,n,r=E.defaultTools[e],i=r&&(r.options.finder||r.finder),s=o.ui.editor.RangeUtils;return i?(t=this.getRange(),n=s.textNodes(t),!n.length&&t.collapsed&&(n=[t.startContainer]),i.getFormat?i.getFormat(n):i.isFormatted(n)):!1},value:function(e){var n=this.body,r=o.ui.editor,i=r.Serializer.domToXhtml(n,this.options.serialization);return e===t?i:(e!=i&&(r.Serializer.htmlToDom(e,n),l.msie||o.ui.editor.Dom.ensureTrailingBreaks(this.body),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools()),t)},saveSelection:function(t){t=t||this.getRange();var n=t.commonAncestorContainer,r=this.body;(n==r||e.contains(r,n))&&(this.selectionRestorePoint=new o.ui.editor.RestorePoint(t))},_focusBody:function(){var e,t=this.body,n=this.wrapper&&this.wrapper.find("iframe")[0],r=this.document.documentElement,i=o._activeElement();i!=t&&i!=n&&(e=r.scrollTop,t.focus(),r.scrollTop=e)},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e},encodedValue:function(){return o.ui.editor.Dom.encode(this.value())},createRange:function(e){return o.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return o.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e&&e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtml:function(){return o.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(t,n){var r=new o.ui.editor.InsertHtmlCommand(e.extend({range:this.getRange(),html:t},n));r.editor=this,r.exec()},exec:function(e,n){var r,i,s,o,u=this,a=null;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==u.body.getAttribute("contenteditable"))return!1;if(e=e.toLowerCase(),u.keyboard.isTypingInProgress()||u.restoreSelection(),i=u.toolbar.toolById(e),!i)for(o in E.defaultTools)if(o.toLowerCase()==e){i=E.defaultTools[o];break}if(i){if(r=u.getRange(),i.command&&(a=i.command(c({range:r},n))),s=u.trigger("execute",{name:e,command:a}))return;if(/^(undo|redo)$/i.test(e))u.undoRedoStack[e]();else if(a&&(a.managesUndoRedo||u.undoRedoStack.push(a),a.editor=u,a.exec(),a.async))return a.change=h(u._selectionChange,u),t;u._selectionChange()}}});E.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},o.ui.plugin(E),n=u.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title})},command:function(e){return new this.options.command(e)},update:e.noop}),n.exec=function(e,t,n){e.exec(t,{value:n})},r=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){var t=this;return new o.ui.editor.FormatCommand(c(e,{formatter:t.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n)}}),g.registerTool("separator",new n({template:new m({template:g.separatorTemplate})})),i=l.msie&&9>l.version?"﻿":"",s='<br class="k-br" />',l.msie&&(10>l.version?s="﻿":11>l.version&&(s=" ")),c(o.ui,{editor:{ToolTemplate:m,EditorUtils:g,Tool:n,FormatTool:r,_bomFill:i,emptyElementContent:s}}),o.PDFMixin&&(o.PDFMixin.extend(E.prototype),E.prototype._drawPDF=function(){return o.drawing.drawDOM(this.body,this.options.pdf)},E.prototype.saveAsPDF=function(){var t,n,r=new e.Deferred,i=r.promise(),s={promise:i};if(!this.trigger("pdfExport",s))return t=this.options.pdf,n=t.paperSize,this._drawPDF(r).then(function(e){return t.paperSize="auto",o.drawing.exportPDF(e,t)}).done(function(e){o.saveAs({dataURI:e,fileName:t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy}),t.paperSize=n,r.resolve()}).fail(function(e){r.reject(e)}),i})}(window.jQuery),function(e){function t(e){var t,n,r={};for(t=0,n=e.length;n>t;t++)r[e[t]]=!0;return r}var n,r,i,s,o,u,a,f,l,c,h=window.kendo,p=e.map,d=e.extend,v=h.support.browser,m="style",g="float",y="cssFloat",b="styleFloat",w="class",E="k-marker",S=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),x="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),T=x.concat(["ul","ol","li"]),N=t(T),C="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),k=t(C),L=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),A=function(e){1==e.nodeType&&e.normalize()};v.msie&&v.version>=8&&(A=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;;){if(n=n.nextSibling,!n)break;3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,c.remove(t)),t=n}}),n=/^\s+$/,r=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,i=/\ufeff/g,s=/^(\s+|\ufeff)$/,u="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),a=/[<>\&]/g,f=/[\u00A0-\u2666<>\&]/g,l={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},c={block:N,inline:k,findNodeIndex:function(e,t){var n=0;if(!e)return-1;for(;;){if(e=e.previousSibling,!e)break;t&&3==e.nodeType||n++}return n},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!c.isDataNode(t)&&(e.contains(t,c.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(r){return!1}},isAncestorOrSelf:function(e,t){return c.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(c.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLength:function(e){return c.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n,r=e.cloneNode(!1),i="",s=e.nextSibling;s&&3==s.nodeType&&s.nodeValue;)i+=s.nodeValue,n=s,s=s.nextSibling,c.remove(n);e.deleteData(t,e.length),r.deleteData(0,t),r.nodeValue+=i,c.insertAfter(r,e)},attrEquals:function(e,t){var n,r;for(n in t)if(r=e[n],n==g&&(r=e[h.support.cssFloat?y:b]),"object"==typeof r){if(!c.attrEquals(r,t[n]))return!1}else if(r!=t[n])return!1;return!0},blockParentOrBody:function(e){return c.parentOfType(e,T)||e.ownerDocument.body},blockParents:function(t){var n,r,i,s=[];for(n=0,r=t.length;r>n;n++)i=c.parentOfType(t[n],c.blockElements),i&&e.inArray(i,s)<0&&s.push(i);return s},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:A,blockElements:T,nonListBlockElements:x,inlineElements:C,empty:S,fillAttrs:L,toHex:function(e){var t=r.exec(e);return t?"#"+p(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e,t){var n=!t||t.entities?f:a;return e.replace(n,function(e){var t=e.charCodeAt(0),n=l[t];return n?"&"+n+";":e})},stripBom:function(e){return(e||"").replace(i,"")},insignificant:function(e){var t=e.attributes;return"k-marker"==e.className||c.is(e,"br")&&("k-br"==e.className||t._moz_dirty||t._moz_editor_bogus_node)},significantNodes:function(t){return e.grep(t,function(e){var t=c.name(e);return"br"==t?!1:c.insignificant(e)?!1:3==e.nodeType&&s.test(e.nodeValue)?!1:1==e.nodeType&&!S[t]&&c.emptyNode(e)?!1:!0})},emptyNode:function(e){return!c.significantNodes(e.childNodes).length},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!c.isWhitespace(e)})},lastTextNode:function(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(n=c.lastTextNode(t))return n;return n},is:function(e,t){return c.name(e)==t},isMarker:function(e){return e.className==E},isWhitespace:function(e){return n.test(e.nodeValue)},isBlock:function(e){return N[c.name(e)]},isEmpty:function(e){return S[c.name(e)]},isInline:function(e){return k[c.name(e)]},scrollContainer:function(e){var t=c.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=h.support.browser.webkit||"BackCompat"==n.compatMode?n.body:n.documentElement},scrollTo:function(t){var n,r,i=e(c.isDataNode(t)?t.parentNode:t),s=c.windowFromDocument(t.ownerDocument),o=s.innerHeight,u=c.scrollContainer(t.ownerDocument);n=i.offset().top,r=i[0].offsetHeight,r||(r=parseInt(i.css("line-height"),10)||Math.ceil(1.2*parseInt(i.css("font-size"),10))||15),r+n>u.scrollTop+o&&(u.scrollTop=r+n-o)},persistScrollTop:function(e){o=c.scrollContainer(e).scrollTop},restoreScrollTop:function(e){c.scrollContainer(e).scrollTop=o},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){var t,n;for(t=e.childNodes.length-1;t>=0;t--)n=e.childNodes[t],c.isDataNode(n)?(c.stripBom(n.nodeValue).length||c.remove(n),c.isWhitespace(n)&&c.insertBefore(n,e)):n.className!=E&&(c.trim(n),n.childNodes.length||c.isEmpty(n)||c.remove(n));return e},closest:function(e,t){for(;e&&c.name(e)!=t;)e=e.parentNode;return e},sibling:function(e,t){do e=e[t];while(e&&1!=e.nodeType);return e},next:function(e){return c.sibling(e,"nextSibling")},prev:function(e){return c.sibling(e,"previousSibling")},parentOfType:function(e,t){do e=e.parentNode;while(e&&!c.ofType(e,t));return e},ofType:function(t,n){return e.inArray(c.name(t),n)>=0},changeTag:function(e,t,n){var r,i,s,o,u,a=c.create(e.ownerDocument,t),f=e.attributes;if(!n)for(r=0,i=f.length;i>r;r++)u=f[r],u.specified&&(s=u.nodeName,o=u.nodeValue,s==w?a.className=o:s==m?a.style.cssText=e.style.cssText:a.setAttribute(s,o));for(;e.firstChild;)a.appendChild(e.firstChild);return c.insertBefore(a,e),c.remove(e),a},editableParent:function(e){for(;e&&(3==e.nodeType||"true"!==e.contentEditable);)e=e.parentNode;return e},wrap:function(e,t){return c.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},create:function(e,t,n){return c.attr(e.createElement(t),n)},attr:function(e,t){t=d({},t),t&&m in t&&(c.style(e,t.style),delete t.style);for(var n in t)null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);return d(e,t)},style:function(t,n){e(t).css(n||{})},unstyle:function(e,t){for(var n in t)n==g&&(n=h.support.cssFloat?y:b),e.style[n]="";""===e.style.cssText&&e.removeAttribute(m)},inlineStyle:function(t,n,r){var i,s=e(c.create(t.ownerDocument,n,r));return t.appendChild(s[0]),i=p(u,function(e){return v.msie&&"line-height"==e&&"1px"==s.css(e)?"line-height:1.5":e+":"+s.css(e)}).join(";"),s.remove(),i},getEffectiveBackground:function(e){var t=e.css("background-color");return t.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==t?t:"html"===e[0].tagName.toLowerCase()?"Window":c.getEffectiveBackground(e.parent())},removeClass:function(t,n){var r,i,s=" "+t.className+" ",o=n.split(" ");for(r=0,i=o.length;i>r;r++)s=s.replace(" "+o[r]+" "," ");s=e.trim(s),s.length?t.className=s:t.removeAttribute(w)},commonAncestor:function(){var e,t,n,r,i,s=arguments.length,o=[],u=1/0,a=null;if(!s)return null;if(1==s)return arguments[0];for(e=0;s>e;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;o.push(t.reverse()),u=Math.min(u,t.length)}if(1==s)return o[0][0];for(e=0;u>e;e++){for(r=o[0][e],i=1;s>i;i++)if(r!=o[i][e])return a;a=r}return a},closestSplittableParent:function(t){var n,r,i;return n=1==t.length?c.parentOfType(t[0],["ul","ol"]):c.commonAncestor.apply(null,t),n||(n=c.parentOfType(t[0],["p","td"])||t[0].ownerDocument.body),c.isInline(n)&&(n=c.blockParentOrBody(n)),r=p(t,c.editableParent),i=c.commonAncestor(r)[0],e.contains(n,i)&&(n=i),n},closestEditable:function(t,n){var r,i=c.editableParent(t);return r=c.ofType(t,n)?t:c.parentOfType(t,n),r&&i&&e.contains(r,i)?r=i:!r&&i&&(r=i),r},closestEditableOfType:function(e,t){var n=c.closestEditable(e,t);return n&&c.ofType(n,t)?n:void 0},filter:function(e,t,n){for(var r,i=0,s=t.length,o=[];s>i;i++)r=c.name(t[i]),(!n&&r==e||n&&r!=e)&&o.push(t[i]);return o},ensureTrailingBreaks:function(t){var n=e(t).find("p,td,th"),r=n.length,i=0;if(r)for(;r>i;i++)c.ensureTrailingBreak(n[i]);else c.ensureTrailingBreak(t)},removeTrailingBreak:function(t){e(t).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(e){var t,n,r;c.removeTrailingBreak(e),t=e.lastChild,n=t&&c.name(t),(!n||"br"!=n&&"img"!=n||"br"==n&&"k-br"!=t.className)&&(r=e.ownerDocument.createElement("br"),r.className="k-br",e.appendChild(r))}},h.ui.editor.Dom=c}(window.kendo.jQuery),function(e,t){var n,r,i=window.kendo,s=i.ui.editor,o=s.Dom,u=e.extend,a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),f=/"/g,l=/<br[^>]*>/i,c=/^\d+(\.\d*)?(px)?$/i,h=/<p><\/p>/i,p=/([\w|\-]+)\s*:\s*([^;]+);?/i,d=/^sizzle-\d+/i,v=/^k-script-/i,m=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,g=document.createElement("div");g.innerHTML=" <hr>",n=3===g.firstChild.nodeType,g=null,r={toEditableHtml:function(e){var t='<br class="k-br">';return e=e||"",e.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<k:script$1>$2</k:script>").replace(/<img([^>]*)>/gi,function(e){return e.replace(m,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,t+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+t)},_fillEmptyElements:function(t){e(t).find("p").each(function(){var t,n=e(this);if(/^\s*$/g.test(n.text())&&!n.find("img,input").length){for(t=this;t.firstChild&&3!=t.firstChild.nodeType;)t=t.firstChild;1!=t.nodeType||o.empty[o.name(t)]||(t.innerHTML=i.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){e(".k-paste-container",t).remove()},_resetOrderedLists:function(e){var t,n,r,i=e.getElementsByTagName("ol");for(t=0;i.length>t;t++)n=i[t],r=n.getAttribute("start"),n.setAttribute("start",1),r?n.setAttribute("start",r):n.removeAttribute(r)},_preventScriptExecution:function(t){e(t).find("*").each(function(){var e,t,n,r,i=this.attributes;for(t=0,n=i.length;n>t;t++)e=i[t],r=e.nodeName,e.specified&&/^on/i.test(r)&&(this.setAttribute("k-script-"+r,e.value),this.removeAttribute(r))})},htmlToDom:function(t,n){var s,u,a=i.support.browser,f=a.msie,l=f&&9>a.version;return t=r.toEditableHtml(t),l&&(t="<br/>"+t,s="originalsrc",u="originalhref",t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,u+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,s+'="$1"')),n.innerHTML=t,l?(o.remove(n.firstChild),e(n).find("k\\:script,script,link,img,a").each(function(){var e=this;e[u]&&(e.setAttribute("href",e[u]),e.removeAttribute(u)),e[s]&&(e.setAttribute("src",e[s]),e.removeAttribute(s))})):f&&(o.normalize(n),r._resetOrderedLists(n)),r._preventScriptExecution(n),r._fillEmptyElements(n),r._removeSystemElements(n),e("table",n).addClass("k-table"),n},domToXhtml:function(r,s){function u(t){return e.grep(t,function(e){return"style"!=e.name})}function m(t){var n,r,i,s,u,a=e.trim,l=a(t).split(";"),c=[];for(s=0,u=l.length;u>s;s++)l[s].length&&(n=p.exec(l[s]),n&&(r=a(n[1].toLowerCase()),i=a(n[2]),"font-size-adjust"!=r&&"font-stretch"!=r&&(r.indexOf("color")>=0?i=o.toHex(i):r.indexOf("font")>=0?i=i.replace(f,"'"):/\burl\(/g.test(i)&&(i=i.replace(f,"")),c.push({property:r,value:i}))));return c}function g(e){var t,n=m(e);for(t=0;n.length>t;t++)T.push(n[t].property),T.push(":"),T.push(n[t].value),T.push(";")}function y(e){var t,n,r,i,u,a,f=[],l=e.attributes;for(n=0,r=l.length;r>n;n++)t=l[n],i=t.nodeName,u=t.value,a=t.specified,"value"==i&&"value"in e&&e.value?a=!0:"type"==i&&"text"==u?a=!0:"class"!=i||u?d.test(i)?a=!1:"complete"==i?a=!1:"altHtml"==i?a=!1:"start"==i&&(o.is(e,"ul")||o.is(e,"ol"))?a=!1:i.indexOf("_moz")>=0?a=!1:v.test(i)&&(a=!!s.scripts):a=!1,a&&f.push(t);return f}function b(n,r){var s,u,a,f,l,h,p,d;if(r=r||y(n),o.is(n,"img")&&(h=n.style.width,p=n.style.height,d=e(n),h&&c.test(h)&&(d.attr("width",parseInt(h,10)),o.unstyle(n,{width:t})),p&&c.test(p)&&(d.attr("height",parseInt(p,10)),o.unstyle(n,{height:t}))),r.length)for(r.sort(function(e,t){return e.nodeName>t.nodeName?1:t.nodeName>e.nodeName?-1:0}),s=0,u=r.length;u>s;s++)a=r[s],f=a.nodeName,l=a.value,("class"!=f||"k-table"!=l)&&(f=f.replace(v,""),T.push(" "),T.push(f),T.push('="'),"style"==f?g(l||n.style.cssText):T.push("src"==f||"href"==f?i.htmlEncode(n.getAttribute(f,2)):o.fillAttrs[f]?f:l),T.push('"'))}function w(e,t,n){for(var r=e.firstChild;r;r=r.nextSibling)S(r,t,n)}function E(e){return e.nodeValue.replace(/\ufeff/g,"")}function S(e,r,i){var u,a,f,l,c,h=e.nodeType;if(1==h){if(u=o.name(e),!u||o.insignificant(e))return;if(o.isInline(e)&&1==e.childNodes.length&&3==e.firstChild.nodeType&&!E(e.firstChild))return;if(!s.scripts&&("script"==u||"k:script"==u))return;if(a=N[u],a&&(t===a.semantic||s.semantic^a.semantic))return a.start(e),w(e,!1,a.skipEncoding),a.end(e),t;T.push("<"),T.push(u),b(e),o.empty[u]?T.push(" />"):(T.push(">"),w(e,r||o.is(e,"pre")),T.push("</"),T.push(u),T.push(">"))}else 3==h?(l=E(e),!r&&n&&(f=e.parentNode,c=e.previousSibling,c||(c=(o.isInline(f)?f:e).previousSibling),(!c||""===c.innerHTML||o.isBlock(c))&&(l=l.replace(/^[\r\n\v\f\t ]+/,"")),l=l.replace(/ +/," ")),T.push(i?l:o.encode(l,s))):4==h?(T.push("<![CDATA["),T.push(e.data),T.push("]]>")):8==h&&(e.data.indexOf("[CDATA[")<0?(T.push("<!--"),T.push(e.data),T.push("-->")):(T.push("<!"),T.push(e.data),T.push(">")))}function x(e){var t=e.childNodes.length,n=t&&3==e.firstChild.nodeType;return n&&(1==t||2==t&&o.insignificant(e.lastChild))}var T=[],N={iframe:{start:function(e){T.push("<iframe"),b(e),T.push(">")},end:function(){T.push("</iframe>")}},"k:script":{start:function(e){T.push("<script"),b(e),T.push(">")},end:function(){T.push("</script>")},skipEncoding:!0},span:{semantic:!0,start:function(t){var n,r,i=t.style,s=y(t),f=u(s);f.length&&(T.push("<span"),b(t,f),T.push(">")),"underline"==i.textDecoration&&T.push("<u>"),n=[],i.color&&n.push('color="'+o.toHex(i.color)+'"'),i.fontFamily&&n.push('face="'+i.fontFamily+'"'),i.fontSize&&(r=e.inArray(i.fontSize,a),n.push('size="'+r+'"')),n.length&&T.push("<font "+n.join(" ")+">")},end:function(e){var t=e.style;(t.color||t.fontFamily||t.fontSize)&&T.push("</font>"),"underline"==t.textDecoration&&T.push("</u>"),u(y(e)).length&&T.push("</span>")}},strong:{semantic:!0,start:function(){T.push("<b>")},end:function(){T.push("</b>")}},em:{semantic:!0,start:function(){T.push("<i>")},end:function(){T.push("</i>")}},b:{semantic:!1,start:function(){T.push("<strong>")},end:function(){T.push("</strong>")}},i:{semantic:!1,start:function(){T.push("<em>")},end:function(){T.push("</em>")}},u:{semantic:!1,start:function(){T.push('<span style="text-decoration:underline;">')},end:function(){T.push("</span>")}},font:{semantic:!1,start:function(e){var t,n,r;T.push('<span style="'),t=e.getAttribute("color"),n=a[e.getAttribute("size")],r=e.getAttribute("face"),t&&(T.push("color:"),T.push(o.toHex(t)),T.push(";")),r&&(T.push("font-family:"),T.push(r),T.push(";")),n&&(T.push("font-size:"),T.push(n),T.push(";")),T.push('">')},end:function(){T.push("</span>")}}};return N.script=N["k:script"],s=s||{},t===s.semantic&&(s.semantic=!0),x(r)?o.encode(E(r.firstChild).replace(/[\r\n\v\f\t ]+/," "),s):(w(r),T=T.join(""),""===T.replace(l,"").replace(h,"")?"":T)}},u(s,{Serializer:r})}(window.kendo.jQuery),function(e){function t(e,t,n,r){var i,s,o,u;if(e==t)return r-n;for(i=t;i&&i.parentNode!=e;)i=i.parentNode;if(i)return p(i)-n;for(i=e;i&&i.parentNode!=t;)i=i.parentNode;if(i)return r-p(i)-1;for(s=h.commonAncestor(e,t),o=e;o&&o.parentNode!=s;)o=o.parentNode;for(o||(o=s),u=t;u&&u.parentNode!=s;)u=u.parentNode;return u||(u=s),o==u?0:p(u)-p(o)}function n(e,n){function r(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(n){return!0}}r(e)&&(n?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function r(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!h.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function i(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),h.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function s(e,t,n){var r,i=t[n?"startContainer":"endContainer"],s=t[n?"startOffset":"endOffset"],o=0,u=d(i),a=u?i:i.childNodes[s]||null,f=u?i.parentNode:i,l=t.ownerDocument,c=l.body.createTextRange();(3==i.nodeType||4==i.nodeType)&&(o=s),f||(f=l.body),"img"==f.nodeName.toLowerCase()?(c.moveToElementText(f),c.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",c)):(r=f.insertBefore(h.create(l,"a"),a),c.moveToElementText(r),h.remove(r),c[n?"moveStart":"moveEnd"]("character",o),c.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",c))}function o(e,t,n,r){var i,s,o,u,a,f,l,c=h.create(t.ownerDocument,"a"),v=e.duplicate(),m=r?"StartToStart":"StartToEnd",g=!1;c.innerHTML="﻿",v.collapse(r),s=v.parentElement(),h.isAncestorOrSelf(n,s)||(s=n);do g?s.insertBefore(c,c.previousSibling):(s.appendChild(c),g=!0),v.moveToElementText(c);while((i=v.compareEndPoints(m,e))>0&&c.previousSibling);o=c.nextSibling,-1==i&&d(o)?(v.setEndPoint(r?"EndToStart":"EndToEnd",e),h.remove(c),f=[o,v.text.length]):(u=!r&&c.previousSibling,a=r&&c.nextSibling,d(a)?f=[a,0]:d(u)?f=[u,u.length]:(l=p(c),f=s.nextSibling&&l==s.childNodes.length-1?[s.nextSibling,0]:[s,l]),h.remove(c)),t[r?"setStart":"setEnd"].apply(t,f)}var u=window.kendo,a=u.Class,f=e.extend,l=u.ui.editor,c=u.support.browser,h=l.Dom,p=h.findNodeIndex,d=h.isDataNode,v=h.findClosestAncestor,m=h.getNodeLength,g=h.normalize,y={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new E(e.document)},selectionFromRange:function(e){var t=C.documentFromRange(e);return y.selectionFromDocument(t)},selectionFromDocument:function(e){return y.selectionFromWindow(h.windowFromDocument(e))}},b=a.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,r(this),n(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,r(this),n(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,p(e))},setStartAfter:function(e){this.setStart(e.parentNode,p(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,p(e))},setEndAfter:function(e){this.setEnd(e.parentNode,p(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(v(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();)e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove()}(new w(t))},cloneContents:function(){var e=C.documentFromRange(this);return function t(n){for(var r,i=e.createDocumentFragment();r=n.next();)r=r.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&r.appendChild(t(n.getSubtreeIterator())),i.appendChild(r);return i}(new w(this))},extractContents:function(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(v(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=C.documentFromRange(t),function r(n){for(var i,s=e.createDocumentFragment();i=n.next();)n.hasPartialSubtree()?(i=i.cloneNode(!1),i.appendChild(r(n.getSubtreeIterator()))):n.remove(t.originalRange),s.appendChild(i);return s}(new w(n))},insertNode:function(e){var t=this;d(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&h.splitDataNode(t.startContainer,t.startOffset),h.insertAfter(e,t.startContainer)):h.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new b(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return("#text"==e?this.startContainer.nodeValue:e)+"("+this.startOffset+") : "+("#text"==t?this.endContainer.nodeValue:t)+"("+this.endOffset+")"}}),w=a.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||d(t.startContainer)?v(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||d(t.endContainer)?v(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,d(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function t(){return r._current=r._next,r._next=r._current&&r._current.nextSibling!=r._end?r._current.nextSibling:null,r._current}for(var n,r=this;n=t();)r.hasPartialSubtree()?r.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t,n,r,i,s,o=this,u=o.range.startContainer==o._current,a=o.range.endContainer==o._current;d(o._current)&&(u||a)?(t=u?o.range.startOffset:0,n=a?o.range.endOffset:o._current.length,r=n-t,e&&(u||a)&&(o._current==e.startContainer&&e.startOffset>=t&&(e.startOffset-=r),o._current==e.endContainer&&e.endOffset>=n&&(e.endOffset-=r)),o._current.deleteData(t,r)):(i=o._current.parentNode,!e||o.range.startContainer!=i&&o.range.endContainer!=i||(s=p(o._current),i==e.startContainer&&e.startOffset>=s&&(e.startOffset-=1),i==e.endContainer&&e.endOffset>s&&(e.endOffset-=1)),h.remove(o._current))},hasPartialSubtree:function(){return!d(this._current)&&(h.isAncestorOrSelf(this._current,this.range.startContainer)||h.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),h.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),h.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new w(t)}}),E=a.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();s(t,e,!1),s(t,e,!0),t.select()},removeAllRanges:function(){var e=this.ownerDocument.selection;"None"!=e.type&&e.empty()},getRangeAt:function(){var e,t,n,r,s,u,a,f,l=new b(this.ownerDocument),c=this.ownerDocument.selection;try{if(e=c.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return l}catch(h){return l}if("Control"==c.type)l.selectNode(e.item(0));else if(n=i(e),o(e,l,n,!0),o(e,l,n,!1),9==l.startContainer.nodeType&&l.setStart(l.endContainer,l.startOffset),9==l.endContainer.nodeType&&l.setEnd(l.startContainer,l.endOffset),0===e.compareEndPoints("StartToEnd",e)&&l.collapse(!1),r=l.startContainer,s=l.endContainer,u=this.ownerDocument.body,!(l.collapsed||0!==l.startOffset||l.endOffset!=m(l.endContainer)||r==s&&d(r)&&r.parentNode==u)){for(a=!1,f=!1;0===p(r)&&r==r.parentNode.firstChild&&r!=u;)r=r.parentNode,a=!0;for(;p(s)==m(s.parentNode)-1&&s==s.parentNode.lastChild&&s!=u;)s=s.parentNode,f=!0;r==u&&s==u&&a&&f&&(l.setStart(r,0),l.setEnd(s,m(u)))}return l}}),S=a.extend({init:function(e){this.enumerate=function(){function t(e){if(h.is(e,"img")||3==e.nodeType&&(!h.isWhitespace(e)||"﻿"==e.nodeValue))n.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var n=[];return(new w(e)).traverse(t),n}}}),x=a.extend({init:function(e,t){var n=this;n.range=e,n.rootNode=C.documentFromRange(e),n.body=t||n.getEditable(e),"body"!=h.name(n.body)&&(n.rootNode=n.body),n.html=n.body.innerHTML,n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset)},index:function(e){for(var t,n=0,r=e.nodeType;e=e.previousSibling;)t=e.nodeType,(3!=t||r!=t)&&n++,r=t;return n},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&!t.attributes.contentEditable);)t=t.parentNode;return t},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,r){for(var i=this.rootNode,s=n.length,o=r;s--;)i=i.childNodes[n[s]];for(;i&&3==i.nodeType&&o>i.nodeValue.length;)o-=i.nodeValue.length,i=i.nextSibling;i&&o>=0&&e[t?"setStart":"setEnd"](i,o)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),T=a.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;return t.caret=h.create(C.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaret:function(e){var t,n,r,i,s=this,o=s.caret.previousSibling,u=0;o&&(u=d(o)?o.nodeValue.length:p(o)),t=s.caret.parentNode,n=o?p(o):0,h.remove(s.caret),g(t),r=t.childNodes[n],d(r)?e.setStart(r,u):r?(i=h.lastTextNode(r),i?e.setStart(i,i.nodeValue.length):e[o?"setStartAfter":"setStartBefore"](r)):(c.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0)},add:function(e,t){var n,r,i=this,s=e.collapsed&&!C.isExpandable(e),o=C.documentFromRange(e);return t&&e.collapsed&&(i.addCaret(e),e=C.expand(e)),n=e.cloneRange(),n.collapse(!1),i.end=h.create(o,"span",{className:"k-marker"}),n.insertNode(i.end),n=e.cloneRange(),n.collapse(!0),i.start=i.end.cloneNode(!0),n.insertNode(i.start),i._removeDeadMarkers(i.start,i.end),s&&(r=o.createTextNode("﻿"),h.insertAfter(r.cloneNode(),i.start),h.insertBefore(r,i.end)),g(e.commonAncestorContainer),e.setStartBefore(i.start),e.setEndAfter(i.end),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"﻿"==e.previousSibling.nodeValue&&h.remove(e.previousSibling),t.nextSibling&&"﻿"==t.nextSibling.nodeValue&&h.remove(t.nextSibling)},_normalizedIndex:function(e){for(var t=p(e),n=e;n.previousSibling;)3==n.nodeType&&3==n.previousSibling.nodeType&&t--,n=n.previousSibling;return t},remove:function(e){var t,n,r,i,s,o,u,a,f,l,c,p=this,v=p.start,m=p.end;for(g(e.commonAncestorContainer);!v.nextSibling&&v.parentNode;)v=v.parentNode;for(;!m.previousSibling&&m.parentNode;)m=m.parentNode;if(t=v.previousSibling&&3==v.previousSibling.nodeType&&v.nextSibling&&3==v.nextSibling.nodeType,n=m.previousSibling&&3==m.previousSibling.nodeType&&m.nextSibling&&3==m.nextSibling.nodeType,r=t&&n,v=v.nextSibling,m=m.previousSibling,i=!1,s=!1,v==p.end&&(s=!!p.start.previousSibling,v=m=p.start.previousSibling||p.end.nextSibling,i=!0),h.remove(p.start),h.remove(p.end),!v||!m)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);if(o=i?d(v)?v.nodeValue.length:v.childNodes.length:0,u=d(m)?m.nodeValue.length:m.childNodes.length,3==v.nodeType)for(;v.previousSibling&&3==v.previousSibling.nodeType;)v=v.previousSibling,o+=v.nodeValue.length;if(3==m.nodeType)for(;m.previousSibling&&3==m.previousSibling.nodeType;)m=m.previousSibling,u+=m.nodeValue.length;a=v.parentNode,f=m.parentNode,l=this._normalizedIndex(v),c=this._normalizedIndex(m),g(a),3==v.nodeType&&(v=a.childNodes[l]),g(f),3==m.nodeType&&(m=f.childNodes[c]),i?(3==v.nodeType?e.setStart(v,o):e[s?"setStartAfter":"setStartBefore"](v),e.collapse(!0)):(3==v.nodeType?e.setStart(v,o):e.setStartBefore(v),3==m.nodeType?e.setEnd(m,u):e.setEndAfter(m)),p.caret&&p.removeCaret(e)}}),N=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,C={nodes:function(e){var t=C.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=C.textNodes(e),t.length||(t=h.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return(new S(e)).enumerate()},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return c.msie&&9>c.version?new b(e):e.createRange()},selectRange:function(e){var t,n=C.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=y.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},stringify:function(e){return u.format("{0}:{1} - {2}:{3}",h.name(e.startContainer),e.startOffset,h.name(e.endContainer),e.endOffset)},split:function(e,t,n){function r(r){var i,s=e.cloneRange();s.collapse(r),s[r?"setStartBefore":"setEndAfter"](t),i=s.extractContents(),n&&(i=h.trim(i)),h[r?"insertBefore":"insertAfter"](i,t)}r(!0),r(!1)},mapAll:function(t,n){var r=[];return(new w(t)).traverse(function(t){var i=n(t);i&&e.inArray(i,r)<0&&r.push(i)}),r},getAll:function(e,t){var n=t;return"string"==typeof t&&(t=function(e){return h.is(e,n)}),C.mapAll(e,function(e){return t(e)?e:void 0})},getMarkers:function(e){return C.getAll(e,function(e){return"k-marker"==e.className})},image:function(e){var t=C.getAll(e,"img");return 1==t.length?t[0]:void 0},isStartOf:function(e,t){var n,r;for(e=e.cloneRange();0===e.startOffset&&e.startContainer!=t;){for(n=h.findNodeIndex(e.startContainer),r=e.startContainer.parentNode;n>0&&h.insignificant(r[n-1]);)n--;e.setStart(r,n)}return 0===e.startOffset&&e.startContainer==t},isEndOf:function(e,t){function n(e){h.insignificant(e)||i.push(e)}var r,i;return e=e.cloneRange(),e.collapse(!1),r=e.startContainer,h.isDataNode(r)&&e.startOffset==h.getNodeLength(r)&&(e.setStart(r.parentNode,h.findNodeIndex(r)+1),e.collapse(!0)),e.setEnd(t,h.getNodeLength(t)),i=[],(new w(e)).traverse(n),!i.length},wrapSelectedElements:function(e){function t(e,t){var n,r=h.getNodeLength(t);if(e==r)return!0;for(n=e;r>n;n++)if(!h.insignificant(t.childNodes[n]))return!1;return!0}for(var n=h.editableParent(e.startContainer),r=h.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=n;)e.setStart(e.startContainer.parentNode,h.findNodeIndex(e.startContainer));for(;t(e.endOffset,e.endContainer)&&e.endContainer!=r;)e.setEnd(e.endContainer.parentNode,h.findNodeIndex(e.endContainer)+1);return e},expand:function(e){var t,n,r,i,s=e.cloneRange(),o=s.startContainer.childNodes[0===s.startOffset?0:s.startOffset-1],u=s.endContainer.childNodes[s.endOffset];return d(o)&&d(u)?(t=o.nodeValue,n=u.nodeValue,t&&n?(r=t.split("").reverse().join("").search(N),i=n.search(N),r&&i?(i=-1==i?n.length:i,r=-1==r?0:t.length-r,s.setStart(o,r),s.setEnd(u,i),s):s):s):s},isExpandable:function(e){var t,n,r,i,s,o,u=e.startContainer,a=C.documentFromRange(e);return u==a||u==a.body?!1:(t=e.cloneRange(),(n=u.nodeValue)?(r=n.substring(0,t.startOffset),i=n.substring(t.startOffset),s=0,o=0,r&&(s=r.split("").reverse().join("").search(N)),i&&(o=i.search(N)),s&&o):!1)}};f(l,{SelectionUtils:y,W3CRange:b,RangeIterator:w,W3CSelection:E,RangeEnumerator:S,RestorePoint:x,Marker:T,RangeUtils:C})}(window.kendo.jQuery),function(e){function t(e,t){var n=e.selectionRestorePoint=new l(e.getRange()),r=new d(t,n);return r.editor=e,e.undoRedoStack.push(r),n}var n=window.kendo,r=n.Class,i=n.ui.editor,s=i.EditorUtils,o=s.registerTool,u=i.Dom,a=i.Tool,f=i.ToolTemplate,l=i.RestorePoint,c=i.Marker,h=e.extend,p=r.extend({init:function(e){this.options=e,this.restorePoint=new l(e.range),this.marker=new c,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(t,r){var i=this.editor;return e(t).appendTo(document.body).kendoWindow(h({},i.options.dialogOptions,r)).closest(".k-window").toggleClass("k-rtl",n.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)}}),d=r.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),v=p.extend({init:function(e){p.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e,t=this.editor,n=this.options,r=n.range,i=t.body,s=new l(r,i),o=n.html||n.value||"";t.selectRange(r),t.clipboard.paste(o,n),n.postProcess&&n.postProcess(t,t.getRange()),e=new d(s,new l(t.getRange(),i)),e.editor=t,t.undoRedoStack.push(e),t.focus()}}),m=a.extend({initialize:function(e,t){var n=t.editor,r=this.options,s=r.items?r.items:n.options.insertHtml;new i.SelectBox(e,{dataSource:s,dataTextField:"text",dataValueField:"value",change:function(){a.exec(n,"insertHtml",this.value())},title:n.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new v(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),g=r.extend({init:function(){this.clear()},push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},clear:function(){this.stack=[],this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),y=r.extend({init:function(e){this.editor=e},keydown:function(n){var r,i=this,s=i.editor,o=s.keyboard,u=o.isTypingKey(n),a=h(e.Event(),n);return i.editor.trigger("keydown",a),a.isDefaultPrevented()?(n.preventDefault(),!0):a.isDefaultPrevented()||!u||o.isTypingInProgress()?!1:(r=s.getRange(),i.startRestorePoint=new l(r),o.startTyping(function(){i.endRestorePoint=t(s,i.startRestorePoint)}),!0)},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1}}),b=r.extend({init:function(e){this.editor=e},_addCaret:function(e){var t=u.create(this.editor.document,"a");return e.appendChild(t),t},_restoreCaret:function(e){var t=this.editor.createRange();t.setStartAfter(e),t.collapse(!0),this.editor.selectRange(t),u.remove(e)},_handleDelete:function(e){var t,n,r=e.endContainer,s=u.closestEditableOfType(r,u.blockElements);return s&&i.RangeUtils.isEndOf(e,s)?(t=this._addCaret(s),n=u.next(s),n&&"p"==u.name(n)?(this._merge(s,n),this._restoreCaret(t),!0):(u.remove(t),!1)):!1},_handleBackspace:function(e){var t,n,r,s,o=e.startContainer,a=e.startOffset,f=u.closestEditableOfType(o,["li"]),l=u.closestEditableOfType(o,"p,h1,h2,h3,h4,h5,h6".split(","));if(u.isDataNode(o)){for(;a>=0&&"﻿"==o.nodeValue[a-1];)o.deleteData(a-1,1),a--;e.setStart(o,Math.max(0,a)),e.collapse(!0),this.editor.selectRange(e)}return l&&l.previousSibling&&i.RangeUtils.isStartOf(e,l)?(t=l.previousSibling,n=this._addCaret(t),this._merge(t,l),this._restoreCaret(n),!0):f&&i.RangeUtils.isStartOf(e,f)?(r=new i.GreedyBlockFormatter([{tags:["p"]}]),s=f.firstChild,r.editor=this.editor,r.apply(f.childNodes),e.setStart(s,0),this.editor.selectRange(e),!0):!1},_handleSelection:function(t){var n,r,s,o=t.commonAncestorContainer,a=u.closest(o,"table"),f=i.emptyElementContent;return/t(able|body)/i.test(u.name(o))&&t.selectNode(a),n=new c,n.add(t,!1),t.setStartAfter(n.start),t.setEndBefore(n.end),r=t.startContainer,s=t.endContainer,t.deleteContents(),a&&""===e(a).text()&&(t.selectNode(a),t.deleteContents()),o=t.commonAncestorContainer,"p"===u.name(o)&&""===o.innerHTML&&(o.innerHTML=f,t.setStart(o,0)),this._join(r,s),u.insertAfter(this.editor.document.createTextNode("﻿"),n.start),n.remove(t),r=t.startContainer,"tr"==u.name(r)&&(r=r.childNodes[Math.max(0,t.startOffset-1)],t.setStart(r,u.getNodeLength(r))),t.collapse(!0),this.editor.selectRange(t),!0},_root:function(e){for(;e&&e.parentNode&&"body"!=u.name(e.parentNode);)e=e.parentNode;return e},_join:function(e,t){e=this._root(e),t=this._root(t),e!=t&&u.is(t,"p")&&this._merge(e,t)},_merge:function(e,t){for(u.removeTrailingBreak(e);t.firstChild;)e.appendChild(t.firstChild);u.remove(t)},keydown:function(e){var r,i,s=this.editor.getRange(),o=e.keyCode,u=n.keys,a=o===u.BACKSPACE,f=o==u.DELETE;!a&&!f||s.collapsed?a?r="_handleBackspace":f&&(r="_handleDelete"):r="_handleSelection",r&&(i=new l(s),this[r](s)&&(e.preventDefault(),t(this.editor,i)))},keyup:e.noop}),w=r.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=t(this.editor,this.startRestorePoint)},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,r=n.keyboard;return r.isModifierKey(e)?(r.isTypingInProgress()&&r.endTyping(!0),t.startRestorePoint=new l(n.getRange()),!0):r.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(){var e=this;return e.systemCommandIsInProgress&&e.changed()?(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0):!1}}),E=r.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e||229==e},toolFromShortcut:function(t,n){var r,i,s=String.fromCharCode(n.keyCode);for(r in t)if(i=e.extend({ctrl:!1,alt:!1,shift:!1},t[r].options),(i.key==s||i.key==n.keyCode)&&i.ctrl==n.ctrlKey&&i.alt==n.altKey&&i.shift==n.shiftKey)return r},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTyping:function(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,r=this.handlers;for(n=0;r.length>n&&!r[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),S=r.extend({init:function(e){this.editor=e,this.cleaners=[new T,new N,new C,new k]},htmlToFragment:function(e){var t=this.editor,n=t.document,r=u.create(n,"div"),i=n.createDocumentFragment();for(r.innerHTML=e;r.firstChild;)i.appendChild(r.firstChild);return i},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_startModification:function(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new l(e),u.persistScrollTop(n.document),{range:e,restorePoint:t}},_endModification:function(e){t(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModification:function(e,t){var n=this,r=n.editor,i=n._startModification();i&&(e.call(n,r,i.range),setTimeout(function(){t.call(n,r,i.range),n._endModification(i)}))},oncut:function(){this._contentModification(e.noop,e.noop)},_fileToDataURL:function(t){var n=e.Deferred(),r=new FileReader;return t instanceof window.File||(t=t.getAsFile()),r.onload=e.proxy(n.resolve,n),r.readAsDataURL(t),n.promise()},_triggerPaste:function(e,t){var n={html:e||""};n.html=n.html.replace(/\ufeff/g,""),this.editor.trigger("paste",n),this.paste(n.html,t||{})},_handleImagePaste:function(t){var n,r,i,s;if("FileReader"in window&&(n=t.clipboardData||t.originalEvent.clipboardData||window.clipboardData,r=n&&(n.items||n.files),i=r&&e.grep(r,function(e){return/^image\//i.test(e.type)}),i.length&&(s=this._startModification())))return e.when.apply(e,e.map(i,this._fileToDataURL)).done(e.proxy(function(){var t=Array.prototype.slice.call(arguments),n=e.map(t,function(e){return'<img src="'+e.target.result+'" />'}).join("");this._triggerPaste(n),this._endModification(s)},this)),!0},onpaste:function(t){return this._handleImagePaste(t)?void t.preventDefault():void this._contentModification(function(r,i){var s,o,a,f=u.create(r.document,"div",{className:"k-paste-container",innerHTML:"﻿"}),l=n.support.browser;r.body.appendChild(f),l.msie&&11>l.version?(t.preventDefault(),s=r.createRange(),s.selectNodeContents(f),r.selectRange(s),o=r.document.body.createTextRange(),o.moveToElementText(f),e(r.body).unbind("paste"),o.execCommand("Paste"),e(r.body).bind("paste",e.proxy(this.onpaste,this))):(a=r.createRange(),a.selectNodeContents(f),r.selectRange(a)),i.deleteContents()},function(t,n){var r,i="";t.selectRange(n),r=e(t.body).children(".k-paste-container"),r.each(function(){var e=this.lastChild;e&&u.is(e,"br")&&u.remove(e),i+=this.innerHTML}),r.remove(),this._triggerPaste(i,{clean:!0})})},splittableParent:function(e,t){var n,r;if(e)return u.closestEditableOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,r=t.ownerDocument.body,u.isInline(n))for(;n.parentNode!=r&&!u.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(t,n){var r,s,o,a,f,l,p,d,v,m,g,y,b=this.editor;for(n=h({clean:!1,split:!0},n),r=0,s=this.cleaners.length;s>r;r++)this.cleaners[r].applicable(t)&&(t=this.cleaners[r].clean(t));if(n.clean&&(t=t.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),t=t.replace(/<(a|span)[^>]*><\/\1>/gi,"")),t=t.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),o=this.isBlock(t),b.focus(),a=b.getRange(),a.deleteContents(),a.startContainer==b.document&&a.selectNodeContents(b.body),f=new c,l=f.addCaret(a),p=this.splittableParent(o,l),d=!1,v=p!=b.body&&!u.is(p,"td"),n.split&&v&&(o||u.isInline(p))&&(a.selectNode(l),i.RangeUtils.split(a,p,!0),d=!0),m=this.htmlToFragment(t),m.firstChild&&"k-paste-container"===m.firstChild.className){for(g=[],r=0,s=m.childNodes.length;s>r;r++)g.push(m.childNodes[r].innerHTML);m=this.htmlToFragment(g.join("<br />"))}if(e(m.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),a.insertNode(m),p=this.splittableParent(o,l),d){for(;l.parentNode!=p;)u.unwrap(l.parentNode);u.unwrap(l.parentNode)}u.normalize(a.commonAncestorContainer),l.style.display="inline",u.restoreScrollTop(b.document),u.scrollTo(l),f.removeCaret(a),y=a.commonAncestorContainer.parentNode,a.collapsed&&"tbody"==u.name(y)&&(a.setStartAfter(e(y).closest("table")[0]),a.collapse(!0)),b.selectRange(a)}}),x=r.extend({clean:function(e){var t,n,r=this,i=r.replacements;for(t=0,n=i.length;n>t;t+=2)e=e.replace(i[t],i[t+1]);return e}}),T=x.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(e){return/<script[^>]*>/i.test(e)}}),N=x.extend({init:function(){var e=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,e,/\t/gi,e,/&nbsp;&nbsp; &nbsp;/gi,e]},applicable:function(e){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(e)}}),C=x.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(e,t){return t?e:" "}]},convertFontMatch:function(e,t,n){var r=/face=['"]([^'"]+)['"]/i,i=r.exec(n),s=n&&i&&i[1];return t?"</span>":s?'<span style="font-family:'+s+'">':"<span>"},applicable:function(e){return/class="?Mso/i.test(e)||/style="[^"]*mso-/i.test(e)||/urn:schemas-microsoft-com:office/.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf("href")<0?"":e})},listType:function(e){var t;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(e)&&(t=!0),e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e)||t&&/^.\u00a0+/.test(e)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(e)?"ol":void 0},_convertToLi:function(e){var t;return 1==e.childNodes.length?t=e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(u.remove(e.firstChild),3==e.firstChild.nodeType&&/^[ivx]+\.$/i.test(e.firstChild.nodeValue)&&u.remove(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&u.remove(e.firstChild),t=e.innerHTML),u.remove(e),u.create(document,"li",{innerHTML:t})},lists:function(t){var n,r,i,s,o,a,f,l,c,h=e(u.blockElements.join(","),t),p=-1,d={ul:{},ol:{}},v=t;for(i=0;h.length>i;i++)if(s=h[i],o=this.listType(s.innerHTML),r=u.name(s),"td"!=r)if(o&&"p"==r){if(a=parseFloat(s.style.marginLeft||0),f=d[o][a],(a>p||!f)&&(f=u.create(document,o),v==t?u.insertBefore(f,s):v.appendChild(f),d[o][a]=f),n!=o)for(l in d)for(c in d[l])e.contains(f,d[l][c])&&delete d[l][c];v=this._convertToLi(s),f.appendChild(v),p=a,n=o}else s.innerHTML?(d={ul:{},ol:{}},v=t,p=-1):u.remove(s)},removeAttributes:function(e){for(var t=e.attributes,n=t.length;n--;)"colspan"!=u.name(t[n])&&e.removeAttributeNode(t[n])},createColGroup:function(t){var r=t.cells,i=e(t).closest("table"),s=i.children("colgroup");2>r.length||(s.length&&(r=s.children(),s[0].parentNode.removeChild(s[0])),s=e(e.map(r,function(e){var t=e.width;return t&&0!==parseInt(t,10)?n.format('<col style="width:{0}px;"/>',t):"<col />"}).join("")),s.is("colgroup")||(s=e("<colgroup/>").append(s)),s.prependTo(i))},convertHeaders:function(t){var n,r=t.cells,i=e.map(r,function(t){var n=e(t).children("p").children("strong")[0];return n&&"strong"==u.name(n)?n:void 0});if(i.length==r.length){for(n=0;i.length>n;n++)u.unwrap(i[n]);for(e(t).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(t),n=0;r.length>n;n++)u.changeTag(r[n],"th")}},removeParagraphs:function(t){var n,r,i,s,o;for(n=0;t.length>n;n++)for(this.removeAttributes(t[n]),s=e(t[n]),o=s.children("p"),r=0,i=o.length;i>r;r++)i-1>r&&u.insertAfter(u.create(document,"br"),o[r]),u.unwrap(o[r])},removeDefaultColors:function(e){for(var t=0;e.length>t;t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&u.unwrap(e[t])},tables:function(t){var n,r,i,s,o,u=e(t).find("table"),a=this;for(s=0;u.length>s;s++){for(n=u[s].rows,i=r=n[0],o=1;n.length>o;o++)n[o].cells.length>i.cells.length&&(i=n[o]);a.createColGroup(i),a.convertHeaders(r),a.removeAttributes(u[s]),a.removeParagraphs(u.eq(s).find("td,th")),a.removeDefaultColors(u.eq(s).find("span"))}},headers:function(t){var n,r=e(t).find("p.MsoTitle");for(n=0;r.length>n;n++)u.changeTag(r[n],"h1")},clean:function(e){var t,n=this;return e=x.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=u.create(document,"div",{innerHTML:e}),n.headers(t),n.lists(t),n.tables(t),e=t.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}}),k=x.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}}),L=p.extend({init:function(e){p.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e=this.editor;n.support.browser.msie?e.document.execCommand("print",!1,null):e.window.print&&e.window.print()}}),A=p.extend({init:function(e){this.async=!0,p.fn.init.call(this,e)},exec:function(){var e=this,t=this.lockRange(!0);this.editor.saveAsPDF().then(function(){e.releaseRange(t)})}});h(i,{_finishUpdate:t,Command:p,GenericCommand:d,InsertHtmlCommand:v,InsertHtmlTool:m,UndoRedoStack:g,TypingHandler:y,SystemHandler:w,BackspaceHandler:b,Keyboard:E,Clipboard:S,Cleaner:x,TabCleaner:N,MSWordFormatCleaner:C,WebkitFormatCleaner:k,PrintCommand:L,ExportPdfCommand:A}),o("insertHtml",new m({template:new f({template:s.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})})),o("print",new a({command:L,template:new f({template:s.buttonTemplate,title:"Print"})})),o("pdf",new a({command:A,template:new f({template:s.buttonTemplate,title:"Export PDF"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=t.ui.editor,i=t.ui.Editor.fn.options.formats,s=r.EditorUtils,o=r.Tool,u=r.ToolTemplate,a=r.FormatTool,f=r.Dom,l=r.RangeUtils,c=e.extend,h=r.EditorUtils.registerTool,p=r.EditorUtils.registerFormat,d="k-marker",v=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,r=0,i=0,s=e.parentNode;for(t=s.firstChild;t;t=t.nextSibling)t!=e&&(t.className==d?i++:3==t.nodeType?n++:r++);return i>1&&s.firstChild.className==d&&s.lastChild.className==d?0:r+n},findSuitable:function(e,t){var n,r;if(!t&&this.numberOfSiblings(e)>0)return null;for(n=e.parentNode,r=this.format[0].tags;!f.ofType(n,r);){if(this.numberOfSiblings(n)>0)return null;n=n.parentNode}return n},findFormat:function(e){var t,n,r,i,s,o=this.format,u=f.attrEquals;for(t=0,n=o.length;n>t;t++){if(r=e,i=o[t].tags,s=o[t].attr,r&&f.ofType(r,i)&&u(r,s))return r;for(;r;)if(r=f.parentOfType(r,i),r&&u(r,s))return r}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(this.findFormat(e[t]))return!0;return!1}}),m=n.extend({init:function(e,t){this.finder=new v(e),this.attributes=c({},e[0].attr,t),this.tag=e[0].tags[0]},wrap:function(e){return f.wrap(e,f.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){this.finder.isFormatted(t)?(this.split(e),this.remove(t)):this.apply(t)},toggle:function(e){var t=l.textNodes(e);t.length>0&&this.activate(e,t)},apply:function(e){var t,n,r,i,s=[];for(t=0,n=e.length;n>t;t++){if(r=e[t],i=this.finder.findSuitable(r))f.attr(i,this.attributes);else{for(;!f.isBlock(r.parentNode)&&1==r.parentNode.childNodes.length;)r=r.parentNode;i=this.wrap(r)}s.push(i)}this.consolidate(s)},remove:function(e){var t,n,r;for(t=0,n=e.length;n>t;t++)r=this.finder.findFormat(e[t]),r&&(this.attributes&&this.attributes.style?(f.unstyle(r,this.attributes.style),r.style.cssText||r.attributes["class"]||f.unwrap(r)):f.unwrap(r))},split:function(e){var t,n,r=l.textNodes(e),i=r.length;if(i>0)for(t=0;i>t;t++)n=this.finder.findFormat(r[t]),n&&l.split(e,n,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==d&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;)n.appendChild(t.firstChild);f.remove(t)}}}),g=v.extend({init:function(e,t){this.format=e,this.greedyProperty=t,v.fn.init.call(this,e)},getInlineCssValue:function(t){var n,r,i,s,o,u,a,l,c,h,p,d,v=t.attributes,m=e.trim;if(v)for(n=0,r=v.length;r>n;n++)if(i=v[n],s=i.nodeName,o=i.nodeValue,i.specified&&"style"==s)for(u=m(o||t.style.cssText).split(";"),l=0,c=u.length;c>l;l++)if(a=u[l],a.length){if(h=a.split(":"),p=m(h[0].toLowerCase()),d=m(h[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?f.toHex(d):d}},getFormatInner:function(t){var n,r,i,s=e(f.isDataNode(t)?t.parentNode:t),o=s.parentsUntil("[contentEditable]").addBack().toArray().reverse();for(n=0,r=o.length;r>n;n++)if(i="className"==this.greedyProperty?o[n].className:this.getInlineCssValue(o[n]))return i;return"inherit"},getFormat:function(e){var t,n,r=this.getFormatInner(e[0]);for(t=1,n=e.length;n>t;t++)if(r!=this.getFormatInner(e[t]))return"";return r},isFormatted:function(e){return""!==this.getFormat(e)}}),y=m.extend({init:function(e,n,r){m.fn.init.call(this,e,n),this.values=n,this.finder=new g(e,r),r&&(this.greedyProperty=t.toCamelCase(r))},activate:function(e,t){var n=this.greedyProperty,r="apply";this.split(e),n&&"inherit"==this.values.style[n]&&(r="remove"),this[r](t)}}),b=a.extend({init:function(e){a.fn.init.call(this,c(e,{finder:new v(e.format),formatter:function(){return new m(e.format)}}))}}),w=o.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),E=w.extend({init:function(e){o.fn.init.call(this,e),this.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",this.format=[{tags:["span"]}],this.finder=new g(this.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(c(e,{formatter:function(){return i[t.domAttr]=e.value,new y(n,{style:i},t.cssAttr)}}))},initialize:function(e,t){var n,r=t.editor,i=this.options,s=i.name,u=[];i.defaultValue&&(u=[{text:r.options.messages[i.defaultValue[0].text],value:i.defaultValue[0].value}]),n=u.concat(i.items?i.items:r.options[s]||[]),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function(){o.exec(r,s,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+s).find("*").addBack().attr("unselectable","on"),e.data(this.type).value("inherit")}}),S=o.extend({init:function(e){o.fn.init.call(this,e),this.format=[{tags:["span"]}],this.finder=new g(this.format,e.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,i={};return new r.FormatCommand(c(e,{formatter:function(){return i[t.domAttr]=e.value,new y(n,{style:i},t.cssAttr)}}))},initialize:function(n,r){var i=r.editor,s=this.name,u=c({},S.fn.options,this.options),a=u.palette;n=this._widget=new t.ui.ColorPicker(n,{value:e.isArray(a)?a[0]:"#000",toolIcon:"k-"+u.name,palette:a,change:function(){var e=n.value();e&&o.exec(i,s,e),i.focus()},activate:function(e){e.preventDefault(),n.trigger("change")}}),n.wrapper.attr({title:r.title,unselectable:"on"}).find("*").attr("unselectable","on")}});c(r,{InlineFormatFinder:v,InlineFormatter:m,DelayedExecutionTool:w,GreedyInlineFormatFinder:g,GreedyInlineFormatter:y,InlineFormatTool:b,FontTool:E,ColorTool:S}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),h("bold",new b({key:"B",ctrl:!0,format:i.bold,template:new u({template:s.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),h("italic",new b({key:"I",ctrl:!0,format:i.italic,template:new u({template:s.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),h("underline",new b({key:"U",ctrl:!0,format:i.underline,template:new u({template:s.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),h("strikethrough",new b({format:i.strikethrough,template:new u({template:s.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),h("superscript",new b({format:i.superscript,template:new u({template:s.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),h("subscript",new b({format:i.subscript,template:new u({template:s.buttonTemplate,title:"Subscript"})})),h("foreColor",new S({cssAttr:"color",domAttr:"color",name:"foreColor",template:new u({template:s.colorPickerTemplate,title:"Color"})})),h("backColor",new S({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new u({template:s.colorPickerTemplate,title:"Background Color"})})),h("fontName",new E({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new u({template:s.comboBoxTemplate,title:"Font Name"})})),h("fontSize",new E({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new u({template:s.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(e){var t,n=window.kendo,r=n.Class,i=e.extend,s=n.ui.editor,o=n.ui.Editor.fn.options.formats,u=s.Dom,a=s.Command,f=s.ToolTemplate,l=s.FormatTool,c=s.EditorUtils,h=c.registerTool,p=c.registerFormat,d=s.RangeUtils,v=r.extend({init:function(e){this.format=e},contains:function(e,t){var n,r,i;for(n=0,r=t.length;r>n;n++)if(i=t[n],!i||!u.isAncestorOrSelf(e,i))return!1;return!0},findSuitable:function(t){var n,r,i,s,o=this.format,a=[];for(n=0,r=t.length;r>n;n++){for(s=o.length-1;s>=0&&!(i=u.ofType(t[n],o[s].tags)?t[n]:u.parentOfType(t[n],o[s].tags));s--);if(!i||"true"===i.contentEditable)return[];e.inArray(i,a)<0&&a.push(i)}for(n=0,r=a.length;r>n;n++)if(this.contains(a[n],a))return[a[n]];return a},findFormat:function(e){var t,n,r,i,s,o=this.format,a=u.editableParent(e);for(t=0,n=o.length;n>t;t++)for(r=e,i=o[t].tags,s=o[t].attr;r&&u.isAncestorOf(a,r);){if(u.ofType(r,i)&&u.attrEquals(r,s))return r;r=r.parentNode}return null},getFormat:function(e){var t,n,r=this,i=function(e){return r.findFormat(u.isDataNode(e)?e.parentNode:e)},s=i(e[0]);if(!s)return"";for(t=1,n=e.length;n>t;t++)if(s!=i(e[t]))return"";return s.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,n=e.length;n>t;t++)if(!this.findFormat(e[t]))return!1;return!0}}),m=r.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new v(e)},wrap:function(e,t,n){var r,i,s,o,a,f=1==n.length?u.blockParentOrBody(n[0]):u.commonAncestor.apply(null,n);for(u.isInline(f)&&(f=u.blockParentOrBody(f)),r=u.significantChildNodes(f),i=u.findNodeIndex(r[0]),s=u.create(f.ownerDocument,e,t),o=0;r.length>o;o++)a=r[o],u.isBlock(a)?(u.attr(a,t),s.childNodes.length&&(u.insertBefore(s,a),s=s.cloneNode(!1)),i=u.findNodeIndex(a)+1):s.appendChild(a);s.firstChild&&u.insertAt(f,s,i)},apply:function(t){function n(e){return i({},e&&e.attr,l)}var r,s,o,a,f,l=this.values,h=u.filter("img",t),p=c.formatByName("img",this.format),d=n(p);if(e.each(h,function(){u.attr(this,d)}),h.length!=t.length)if(s=u.filter("img",t,!0),o=this.finder.findSuitable(s),o.length)for(a=0,f=o.length;f>a;a++)r=c.formatByName(u.name(o[a]),this.format),u.attr(o[a],n(r));else r=this.format[0],this.wrap(r.tags[0],n(r),s)},remove:function(e){var t,n,r,i,s;for(t=0,n=e.length;n>t;t++)r=this.finder.findFormat(e[t]),r&&(s=u.name(r),"div"!=s||r.getAttribute("class")?(i=c.formatByName(s,this.format),i.attr.style&&u.unstyle(r,i.attr.style),i.attr.className&&u.removeClass(r,i.attr.className)):u.unwrap(r))},toggle:function(e){var t=this,n=d.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),g=r.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new v(e)},apply:function(e){var t,n,r,i,o,a,f,l=this.format,c=u.blockParents(e),h=l[0].tags[0];if(c.length)for(t=0,n=c.length;n>t;t++)f=u.name(c[t]),"li"==f?(r=c[t].parentNode,i=new s.ListFormatter(r.nodeName.toLowerCase(),h),o=this.editor.createRange(),o.selectNode(c[t]),i.toggle(o)):h&&("td"==f||c[t].attributes.contentEditable)?(new m(l,this.values)).apply(c[t].childNodes):(a=u.changeTag(c[t],h),u.attr(a,l[0].attr));else(new m(l,this.values)).apply(e)},toggle:function(e){var t=d.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=d.textNodes(e),t.length||(t=u.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),y=a.extend({init:function(e){e.formatter=e.formatter(),a.fn.init.call(this,e)}}),b=l.extend({init:function(e){l.fn.init.call(this,i(e,{finder:new v(e.format),formatter:function(){return new m(e.format)}}))}});i(s,{BlockFormatFinder:v,BlockFormatter:m,GreedyBlockFormatter:g,FormatCommand:y,BlockFormatTool:b}),t=["ul","ol","li"],p("justifyLeft",[{tags:u.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"left",listStylePosition:""}}}]),h("justifyLeft",new b({format:o.justifyLeft,template:new f({template:c.buttonTemplate,title:"Justify Left"})})),p("justifyCenter",[{tags:u.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),h("justifyCenter",new b({format:o.justifyCenter,template:new f({template:c.buttonTemplate,title:"Justify Center"})})),p("justifyRight",[{tags:u.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:t,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),h("justifyRight",new b({format:o.justifyRight,template:new f({template:c.buttonTemplate,title:"Justify Right"})})),p("justifyFull",[{tags:u.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:t,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),h("justifyFull",new b({format:o.justifyFull,template:new f({template:c.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,i=r.Dom,s=r.Command,o=r.Tool,u=r.BlockFormatter,a=i.normalize,f=r.RangeUtils,l=r.EditorUtils.registerTool,c=s.extend({init:function(e){this.options=e,s.fn.init.call(this,e)},_insertMarker:function(e,t){var n,r=i.create(e,"a");return r.className="k-marker",t.insertNode(r),r.parentNode||(n=t.commonAncestorContainer,n.innerHTML="",n.appendChild(r)),a(r.parentNode),r},_moveFocus:function(e,t){if(i.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=f.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!i.is(t.firstChild,"br");)t=t.firstChild;n=t}i.isEmpty(n)?e.setStartBefore(n):e.selectNodeContents(n)}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=i.parentOfType(e.startContainer,t),r=i.parentOfType(e.endContainer,t);return n&&!r||!n&&r},_blankAfter:function(e){for(;e&&(i.isMarker(e)||""===i.stripBom(e.nodeValue));)e=e.nextSibling;return!e},exec:function(){var e,t,n,s,o,l,c,h,p=this.getRange(),d=f.documentFromRange(p),v=r.emptyElementContent,m=this.shouldTrim(p);p.deleteContents(),o=this._insertMarker(d,p),l=i.closestEditableOfType(o,["li"]),c=i.closestEditableOfType(o,"h1,h2,h3,h4,h5,h6".split(",")),l?i.emptyNode(l)&&(s=i.create(d,"p"),l.nextSibling&&(h=p.cloneRange(),h.selectNode(l),f.split(h,l.parentNode)),i.insertAfter(s,l.parentNode),i.remove(1==l.parentNode.childNodes.length?l.parentNode:l),s.innerHTML=v,n=s):c&&this._blankAfter(o)&&(s=i.create(d,"p"),i.insertAfter(s,c),s.innerHTML=v,i.remove(o),n=s),n||(l||c||(new u([{tags:["p"]}])).apply([o]),p.selectNode(o),e=i.parentOfType(o,[l?"li":c?i.name(c):"p"]),f.split(p,e,m),t=e.previousSibling,i.is(t,"li")&&t.firstChild&&!i.is(t.firstChild,"br")&&(t=t.firstChild),n=e.nextSibling,this.clean(t),this.clean(n,{links:!0}),i.is(n,"li")&&n.firstChild&&!i.is(n.firstChild,"br")&&(n=n.firstChild),i.remove(e),a(t)),a(n),this._moveFocus(p,n),p.collapse(!0),i.scrollTo(n),f.selectRange(p)},clean:function(t,n){var s,o=t;if(t.firstChild&&i.is(t.firstChild,"br")&&i.remove(t.firstChild),i.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(s=!1;t.firstChild&&1==t.firstChild.nodeType;)s=s||i.significantNodes(t.childNodes).length>1,t=t.firstChild;if(i.isEmpty(t)||!/^\s*$/.test(t.innerHTML)||s||(e(o).find(".k-br").remove(),t.innerHTML=r.emptyElementContent),n&&n.links)for(;t!=o;){if(i.is(t,"a")&&i.emptyNode(t)){i.unwrap(t);break}t=t.parentNode}}}}),h=s.extend({init:function(e){this.options=e,s.fn.init.call(this,e)},exec:function(){var e,n=this.getRange(),r=i.create(f.documentFromRange(n),"br"),s=t.support.browser,o=s.msie&&11>s.version;n.deleteContents(),n.insertNode(r),a(r.parentNode),o||r.nextSibling&&!i.isWhitespace(r.nextSibling)||(e=r.cloneNode(!0),e.className="k-br",i.insertAfter(e,r)),n.setStartAfter(r),n.collapse(!0),i.scrollTo(r.nextSibling||r),f.selectRange(n)}});n(r,{ParagraphCommand:c,NewLineCommand:h}),l("insertLineBreak",new o({key:13,shift:!0,command:h})),l("insertParagraph",new o({key:13,command:c}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=e.extend,i=t.ui.editor,s=i.Dom,o=i.RangeUtils,u=i.EditorUtils,a=i.Command,f=i.ToolTemplate,l=i.FormatTool,c=i.BlockFormatFinder,h=o.textNodes,p=i.EditorUtils.registerTool,d=c.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];c.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,n,r=[];for(n=0;e.length>n;n++)t=this.findFormat(e[n]),t&&s.name(t)==this.tag&&r.push(t);if(1>r.length)return!1;if(r.length!=e.length)return!1;for(n=0;r.length>n&&r[n].parentNode==t.parentNode;n++)if(r[n]!=t)return!1;return!0},findSuitable:function(e){var t=this.findFormat(e[0]);return t&&s.name(t)==this.tag?t:null}}),v=n.extend({init:function(e,t){var n=this;n.finder=new d(e),n.tag=e,n.unwrapTag=t},isList:function(e){var t=s.name(e);return"ul"==t||"ol"==t||"dl"==t},wrap:function(e,t){var n,r,i=s.create(e.ownerDocument,"li");for(n=0;t.length>n;n++)if(r=t[n],s.is(r,"li"))e.appendChild(r);else if(this.isList(r))for(;r.firstChild;)e.appendChild(r.firstChild);else if(s.is(r,"td")){for(;r.firstChild;)i.appendChild(r.firstChild);e.appendChild(i),r.appendChild(e),e=e.cloneNode(!1),i=i.cloneNode(!1)}else i.appendChild(r),s.isBlock(r)&&(e.appendChild(i),s.unwrap(r),i=i.cloneNode(!1));i.firstChild&&e.appendChild(i)},containsAny:function(e,t){for(var n=0;t.length>n;n++)if(s.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&s.isBlock(n))return!1;if(n=e.previousSibling,n&&s.isBlock(n))return!1}return this.containsAny(e,t)||s.isInline(e)||3==e.nodeType},_parentLists:function(t){var n=s.closestEditable(t);return e(t).parentsUntil(n,"ul,ol")},split:function(e){var t,n,r,i,u,a,f=h(e);if(f.length)for(t=s.parentOfType(f[0],["li"]),n=s.parentOfType(f[f.length-1],["li"]),e.setStartBefore(t),e.setEndAfter(n),i=0,u=f.length;u>i;i++)a=this.finder.findFormat(f[i]),a&&(r=this._parentLists(a),r.length?o.split(e,r.last()[0],!0):o.split(e,a,!0))},merge:function(e,t){for(var n,r=t.previousSibling;r&&("k-marker"==r.className||3==r.nodeType&&s.isWhitespace(r));)r=r.previousSibling;if(r&&s.name(r)==e){for(;t.firstChild;)r.appendChild(t.firstChild);s.remove(t),t=r}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&s.isWhitespace(n));)n=n.nextSibling;if(n&&s.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);s.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(s.name(e))&&!e.attributes.contentEditable},applyOnSection:function(t,n){function r(){c.push(this)}var i,o,u,a,f=this.tag,l=s.closestSplittableParent(n),c=[],h=this.finder.findSuitable(n);for(h||(h=(new d("ul"==f?"ol":"ul")).findSuitable(n)),/table|tbody/.test(s.name(l))?i=e.map(n,function(e){return s.parentOfType(e,["td"])}):(i=s.significantChildNodes(l),e.grep(i,s.isBlock).length&&(i=e.grep(i,e.proxy(function(e){return this.containsAny(e,n)},this))),i.length||(i=n)),o=0;i.length>o;o++)u=i[o],a=(!h||!s.isAncestorOrSelf(h,u))&&this.suitable(u,n),a&&(h&&this.isList(u)?(e.each(u.childNodes,r),s.remove(u)):c.push(u));c.length==i.length&&this.breakable(l)&&(c=[l]),h||(h=s.create(l.ownerDocument,f),s.insertBefore(h,c[0])),this.wrap(h,c),s.is(h,f)||s.changeTag(h,f),this.merge(f,h)},apply:function(e){var t,n,r,i=0,o=[];do r=s.closestEditable(e[i],["td","body"]),t&&r==t?n.push(e[i]):(t&&o.push({section:t,nodes:n}),n=[e[i]],t=r),i++;while(e.length>i);for(o.push({section:t,nodes:n}),i=0;o.length>i;i++)this.applyOnSection(o[i].section,o[i].nodes)},unwrap:function(e){var t,n,r,i,o=e.ownerDocument.createDocumentFragment(),u=this.unwrapTag;for(n=e.firstChild;n;n=n.nextSibling){for(r=s.create(e.ownerDocument,u||"p");n.firstChild;)i=n.firstChild,s.isBlock(i)?(r.firstChild&&(o.appendChild(r),r=s.create(e.ownerDocument,u||"p")),o.appendChild(i)):r.appendChild(i);r.firstChild&&o.appendChild(r)}t=this._parentLists(e),t[0]?(s.insertAfter(o,t.last()[0]),t.last().remove()):s.insertAfter(o,e),s.remove(e)},remove:function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t,n=this,r=h(e),i=e.commonAncestorContainer;r.length||(e.selectNodeContents(i),r=h(e),r.length||(t=i.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),r=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(r)?(n.split(e),n.remove(r)):n.apply(r)}}),m=a.extend({init:function(e){e.formatter=new v(e.tag),a.fn.init.call(this,e)}}),g=l.extend({init:function(e){this.options=e,l.fn.init.call(this,r(e,{finder:new d(e.tag)}))},command:function(e){return new m(r(e,{tag:this.options.tag}))}});r(i,{ListFormatFinder:d,ListFormatter:v,ListCommand:m,ListTool:g}),p("insertUnorderedList",new g({tag:"ul",template:new f({template:u.buttonTemplate,title:"Insert unordered list"})})),p("insertOrderedList",new g({tag:"ol",template:new f({template:u.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,r=e.extend,i=e.proxy,s=t.ui.editor,o=s.Dom,u=s.RangeUtils,a=s.EditorUtils,f=s.Command,l=s.Tool,c=s.ToolTemplate,h=s.InlineFormatter,p=s.InlineFormatFinder,d=u.textNodes,v=s.EditorUtils.registerTool,m=n.extend({findSuitable:function(e){return o.parentOfType(e,["a"])}}),g=n.extend({init:function(){this.finder=new m},apply:function(e,t){var n,r,i,s,a,f,l,c=d(e);if(t.innerHTML){for(r=u.documentFromRange(e),n=u.getMarkers(e),e.deleteContents(),s=o.create(r,"a",t),e.insertNode(s),a=s.parentNode,"a"==o.name(a)&&o.insertAfter(s,a),o.emptyNode(a)&&o.remove(a),f=s,l=0;n.length>l;l++)o.insertAfter(n[l],f),f=n[l];n.length&&(o.insertBefore(r.createTextNode("﻿"),n[1]),o.insertAfter(r.createTextNode("﻿"),n[1]),e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]))}else i=new h([{tags:["a"]}],t),i.finder=this.finder,i.apply(c)}}),y=f.extend({init:function(e){e.formatter={toggle:function(e){(new h([{tags:["a"]}])).remove(d(e))}},this.options=e,f.fn.init.call(this,e)}}),b=f.extend({init:function(e){this.options=e,f.fn.init.call(this,e),this.formatter=new g,e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(this.attributes=null,this.async=!0)},_dialogTemplate:function(){return t.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var t,n,r,s,u=(this.getRange().collapsed,this.editor.options.messages);this._initialText="",this._range=this.lockRange(!0),t=d(this._range),n=t.length?this.formatter.finder.findSuitable(t[0]):null,r=t.length&&"img"==o.name(t[0]),s=this.createDialog(this._dialogTemplate(),{title:u.createLink,close:i(this._close,this),visible:!1}),n&&(this._range.selectNodeContents(n),t=d(this._range)),this._initialText=this.linkText(t),s.find(".k-dialog-insert").click(i(this._apply,this)).end().find(".k-dialog-close").click(i(this._close,this)).end().find(".k-edit-field input").keydown(i(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(n)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(n?n.title:"").end().find("#k-editor-link-target").attr("checked",n?"_blank"==n.target:!1).end().find(".k-editor-link-text-row").toggle(!r),this._dialog=s.data("kendoWindow").center().open(),e("#k-editor-link-url",s).focus().select()},_keydown:function(e){var n=t.keys;e.keyCode==n.ENTER?this._apply(e):e.keyCode==n.ESC&&this._close(e)},_apply:function(t){var n,r,i,s=this._dialog.element,u=e("#k-editor-link-url",s).val(),a=e("#k-editor-link-text",s);u&&"http://"!=u&&(u.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(u)&&(u="mailto:"+u),this.attributes={href:u},n=e("#k-editor-link-title",s).val(),n&&(this.attributes.title=n),a.is(":visible")&&(r=a.val(),r||this._initialText?r&&r!==this._initialText&&(this.attributes.innerHTML=o.stripBom(r)):this.attributes.innerHTML=u),i=e("#k-editor-link-target",s).is(":checked"),this.attributes.target=i?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_close:function(e){e.preventDefault(),this._dialog.destroy(),o.windowFromDocument(u.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(e){return e?e.getAttribute("href",2):"http://"},linkText:function(e){var t,n="";for(t=0;e.length>t;t++)n+=e[t].nodeValue;return o.stripBom(n||"")},redo:function(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),w=l.extend({init:function(t){this.options=t,this.finder=new p([{tags:["a"]}]),l.fn.init.call(this,e.extend(t,{command:y}))},initialize:function(e,t){l.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});r(t.ui.editor,{LinkFormatFinder:m,LinkFormatter:g,UnlinkCommand:y,LinkCommand:b,UnlinkTool:w}),v("createLink",new l({key:"K",ctrl:!0,command:b,template:new c({template:a.buttonTemplate,title:"Create Link"})})),v("unlink",new w({key:"K",ctrl:!0,shift:!0,template:new c({template:a.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,s=i.EditorUtils,o=i.Dom,u=s.registerTool,a=i.ToolTemplate,f=i.RangeUtils,l=i.Command,c=i.LinkFormatter,h=f.textNodes,p=n.keys,d="#k-editor-file-url",v="#k-editor-file-title",m=l.extend({init:function(e){var t=this;l.fn.init.call(t,e),t.formatter=new c,t.async=!0,t.attributes={}},insertFile:function(e,t){var n=this.attributes,r=f.documentFromRange(t);if(n.href&&"http://"!=n.href){if(!e)return e=o.create(r,"a",{href:n.href}),e.innerHTML=n.innerHTML,t.deleteContents(),t.insertNode(e),e.nextSibling||o.insertAfter(r.createTextNode("﻿"),e),t.setStartAfter(e),t.setEndAfter(e),f.selectRange(t),!0;o.attr(e,n)}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"></div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes),e.releaseRange(t)},exec:function(){function e(e){var t=u.element,n=t.find(d).val().replace(/ /g,"%20"),r=t.find(v).val();a.attributes={href:n,innerHTML:""!==r?r:n},m=a.insertFile(y,l),i(e),a.change&&a.change()}function i(e){e.preventDefault(),u.destroy(),o.windowFromDocument(f.documentFromRange(l)).focus(),m||a.releaseRange(l)}function s(t){t.keyCode==p.ENTER?e(t):t.keyCode==p.ESC&&i(t)}var u,a=this,l=a.lockRange(),c=h(l),m=!1,y=c.length?this.formatter.finder.findSuitable(c[0]):null,b=a.editor.options,w=b.messages,E=b.fileBrowser,S=!!(n.ui.FileBrowser&&E&&E.transport&&E.transport.read!==t),x={title:w.insertFile,visible:!1,resizable:S};x.close=i,S&&(x.width=750),u=this.createDialog(a._dialogTemplate(S),x).toggleClass("k-filebrowser-dialog",S).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(i).end().find(".k-edit-field input").keydown(s).end().find(d).val(y?y.getAttribute("href",2):"http://").end().find(v).val(y?y.title:"").end().data("kendoWindow"),S&&new n.ui.FileBrowser(u.element.find(".k-filebrowser"),r({},E,{change:function(){u.element.find(d).val(this.value())},apply:e})),u.center().open(),u.element.find(d).focus().select()}});n.ui.editor.FileCommand=m,u("insertFile",new i.Tool({command:m,template:new a({template:s.buttonTemplate,title:"Insert File"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=e.extend,i=n.ui.editor,s=i.EditorUtils,o=i.Dom,u=s.registerTool,a=i.ToolTemplate,f=i.RangeUtils,l=i.Command,c=n.keys,h="#k-editor-image-url",p="#k-editor-image-title",d="#k-editor-image-width",v="#k-editor-image-height",m=l.extend({init:function(e){var t=this;l.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n,r=this.attributes,i=f.documentFromRange(t);if(r.src&&"http://"!=r.src){if(n=function(){setTimeout(function(){r.width||e.removeAttribute("width"),r.height||e.removeAttribute("height"),e.removeAttribute("complete")})},!e)return e=o.create(i,"img",r),e.onload=e.onerror=n,t.deleteContents(),t.insertNode(e),e.nextSibling||o.insertAfter(i.createTextNode("﻿"),e),n(),t.setStartAfter(e),t.setEndAfter(e),f.selectRange(t),!0;e.onload=e.onerror=n,o.attr(e,r),n()}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(f.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=u.element,n=parseInt(t.find(d).val(),10),r=parseInt(t.find(v).val(),10);a.attributes={src:t.find(h).val().replace(/ /g,"%20"),alt:t.find(p).val()},a.attributes.width=null,a.attributes.height=null,!isNaN(n)&&n>0&&(a.attributes.width=n),!isNaN(r)&&r>0&&(a.attributes.height=r),m=a.insertImage(y,l),i(e),a.change&&a.change()}function i(e){e.preventDefault(),u.destroy(),o.windowFromDocument(f.documentFromRange(l)).focus(),m||a.releaseRange(l)}function s(t){t.keyCode==c.ENTER?e(t):t.keyCode==c.ESC&&i(t)}var u,a=this,l=a.lockRange(),m=!1,y=f.image(l),b=y&&y.getAttribute("width")||"",w=y&&y.getAttribute("height")||"",E=a.editor.options,S=E.messages,x=E.imageBrowser,T=!!(n.ui.ImageBrowser&&x&&x.transport&&x.transport.read!==t),N={title:S.insertImage,visible:!1,resizable:T};N.close=i,T&&(N.width=750),u=this.createDialog(a._dialogTemplate(T),N).toggleClass("k-filebrowser-dialog",T).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(i).end().find(".k-edit-field input").keydown(s).end().find(h).val(y?y.getAttribute("src",2):"http://").end().find(p).val(y?y.alt:"").end().find(d).val(b).end().find(v).val(w).end().data("kendoWindow"),T&&new n.ui.ImageBrowser(u.element.find(".k-imagebrowser"),r({},x,{change:function(){u.element.find(h).val(this.value())},apply:e})),u.center().open(),u.element.find(h).focus().select()}});n.ui.editor.ImageCommand=m,u("insertImage",new i.Tool({command:m,template:new a({template:s.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui.DropDownList,i=n.ui.editor.Dom,s=r.extend({init:function(t,i){var s=this;r.fn.init.call(s,t,i),n.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",e.proxy(this._initSelectOverlay,this))),s.text(s.options.title),s.bind("open",function(){if(s.options.autoSize){var e,t=s.list;t.css({whiteSpace:"nowrap",width:"auto"}),e=t.width(),e?e+=20:e=s._listWidth,t.css("width",e+n.support.scrollbar()),s._listWidth=e}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var t,r,i,s,o=this,u=o.value(),a=this.dataSource.view(),f="",l=n.htmlEncode;for(r=0;a.length>r;r++)t=a[r],f+="<option value='"+l(t.value)+"'",t.value==u&&(f+=" selected"),f+=">"+l(t.text)+"</option>";i=e("<select class='k-select-overlay'>"+f+"</select>"),s=e(this.element).closest(".k-widget"),s.next(".k-select-overlay").remove(),i.insertAfter(s),i.on("change",function(){o.value(this.value),o.trigger("change")})},value:function(e){var n=this,i=r.fn.value.call(n,e);return e===t?i:(r.fn.value.call(n)||n.text(n.options.title),t)},decorate:function(t){var n,r,s,o,u=this,a=u.dataSource,f=a.data();for(t&&u.list.css("background-color",i.getEffectiveBackground(e(t))),n=0;f.length>n;n++)r=f[n].tag||"span",s=f[n].className,o=i.inlineStyle(t,r,{className:s}),o=o.replace(/"/g,"'"),f[n].style=o+";display:inline-block";a.trigger("change")}});n.ui.plugin(s),n.ui.editor.SelectBox=s}(window.kendo.jQuery),function(e,t){function n(n,r){var i="rtl"==e(n).css("direction"),s=i?"Right":"Left",o="td"!=u.name(n)?"margin"+s:"padding"+s;return r===t?n.style[o]||0:(r>0?n.style[o]=r+"px":(n.style[o]="",n.style.cssText||n.removeAttribute("style")),t)}var r=window.kendo,i=r.Class,s=e.extend,o=r.ui.editor,u=o.Dom,a=o.EditorUtils,f=a.registerTool,l=o.Command,c=o.Tool,h=o.ToolTemplate,p=o.RangeUtils,d=u.blockElements,v=o.BlockFormatFinder,m=o.BlockFormatter,g=i.extend({init:function(){this.finder=new v([{tags:u.blockElements}])},apply:function(t){var r,i,s,o,a,f,l,c,h,p,d=this.finder.findSuitable(t),v=[];if(d.length){for(r=0,i=d.length;i>r;r++)u.is(d[r],"li")?e(d[r]).index()?e.inArray(d[r].parentNode,v)<0&&v.push(d[r]):v.push(d[r].parentNode):v.push(d[r]);for(;v.length;)if(s=v.shift(),u.is(s,"li"))if(o=s.parentNode,a=e(s).prev("li"),f=a.find("ul,ol").last(),l=e(s).children("ul,ol")[0],l&&a[0])f[0]?(f.append(s),f.append(e(l).children()),u.remove(l)):(a.append(l),l.insertBefore(s,l.firstChild));else for(l=a.children("ul,ol")[0],l||(l=u.create(s.ownerDocument,u.name(o)),a.append(l));s&&s.parentNode==o;)l.appendChild(s),s=v.shift();else for(c=parseInt(n(s),10)+30,n(s,c),h=0;v.length>h;h++)e.contains(s,v[h])&&v.splice(h,1)}else p=new m([{tags:["p"]}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){var r,i,s,o,u,a,f,l,c=this.finder.findSuitable(t);for(i=0,s=c.length;s>i;i++){if(f=e(c[i]),f.is("li")){if(o=f.parent(),u=o.parent(),u.is("li,ul,ol")&&!n(o[0])){if(r&&e.contains(r,u[0]))continue;a=f.nextAll("li"),a.length&&e(o[0].cloneNode(!1)).appendTo(f).append(a),u.is("li")?f.insertAfter(u):f.appendTo(u),o.children("li").length||o.remove();continue}if(r==o[0])continue;r=o[0]}else r=c[i];l=parseInt(n(r),10)-30,n(r,l)}}}),y=l.extend({init:function(e){e.formatter={toggle:function(e){(new g).apply(p.nodes(e))}},l.fn.init.call(this,e)}}),b=l.extend({init:function(e){e.formatter={toggle:function(e){(new g).remove(p.nodes(e))}},l.fn.init.call(this,e)}}),w=c.extend({init:function(e){c.fn.init.call(this,e),this.finder=new v([{tags:d}])},initialize:function(e,t){c.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(r,i){var s,o,a,f,l=this.finder.findSuitable(i);for(a=0,f=l.length;f>a;a++)if(s=n(l[a]),s||(o=e(l[a]).parents("ul,ol").length,s=u.is(l[a],"li")&&(o>1||n(l[a].parentNode))||u.ofType(l[a],["ul","ol"])&&o>0),s)return r.removeClass("k-state-disabled"),t;r.addClass("k-state-disabled").removeClass("k-state-hover")}});s(o,{IndentFormatter:g,IndentCommand:y,OutdentCommand:b,OutdentTool:w}),f("indent",new c({command:y,template:new h({template:a.buttonTemplate,title:"Indent"})})),f("outdent",new w({command:b,template:new h({template:a.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,r=t.ui.editor,i=r.EditorUtils,s=r.Command,o=r.Tool,u=r.ToolTemplate,a=s.extend({init:function(e){var t=this;t.options=e,s.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function n(e){s.value(u.find(c).val()),r(e),i.change&&i.change(),s.trigger("change")}function r(e){e.preventDefault(),u.data("kendoWindow").destroy(),s.focus()}var i=this,s=i.editor,o=s.options.messages,u=e(t.template(a.template)(o)).appendTo(document.body),f=a.indent(s.value()),c=".k-editor-textarea";this.createDialog(u,{title:o.viewHtml,close:r,visible:!1}).find(c).val(f).end().find(".k-dialog-update").click(n).end().find(".k-dialog-close").click(r).end().data("kendoWindow").center().open(),u.find(c).focus()}});n(a,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.ui.editor.ViewHtmlCommand=a,r.EditorUtils.registerTool("viewHtml",new o({command:a,template:new u({template:i.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,r=n.Tool,i=n.ToolTemplate,s=n.DelayedExecutionTool,o=n.Command,u=n.Dom,a=n.EditorUtils,f=n.RangeUtils,l=a.registerTool,c=s.extend({init:function(e){var n=this;r.fn.init.call(n,t.deepExtend({},n.options,e)),n.type="kendoSelectBox",n.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(e){var t,n=e.value;return n?e.tag||e.className?e:(t=n.indexOf("."),0===t?e.className=n.substring(1):-1==t?e.tag=n:(e.tag=n.substring(0,t),e.className=n.substring(t+1)),e):e},command:function(t){var r=t.value;return r=this.toFormattingItem(r),new n.FormatCommand({range:t.range,formatter:function(){var t,i=(r.tag||r.context||"span").split(","),s=[{tags:i,attr:{className:r.className||""}}];return t=e.inArray(i[0],u.inlineElements)>=0?new n.GreedyInlineFormatter(s):new n.GreedyBlockFormatter(s)}})},initialize:function(e,n){var i=n.editor,s=this.options,o=s.name,u=this;e.width(s.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:s.items||i.options[o],title:i.options.messages[o],autoSize:!0,change:function(){var e=this.dataItem();e&&r.exec(i,o,e.toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;t.length>e;e++)t[e]=u.toFormattingItem(t[e])},highlightFirst:!1,template:t.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+o).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,n){var r,i,s,o,u,a,f;for(r=0;t.length>r;r++)if(i=t[r],s=i.tag||i.context||"",o=i.className?"."+i.className:"",u=s+o,a=e(n[0]).closest(u)[0]){if(1==n.length)return i.value;for(f=1;n.length>f&&e(n[f]).closest(u)[0];f++)if(f==n.length-1)return i.value}return""},update:function(t,n){var r,i,o,a,f,l=e(t).data(this.type);if(l&&(r=l.dataSource,i=r.data(),f=u.commonAncestor.apply(null,n),f==u.closestEditable(f)||this._ancestor!=f)){for(this._ancestor=f,o=0;i.length>o;o++)a=i[o].context,i[o].visible=!a||!!e(f).closest(a).length;r.filter([{field:"visible",operator:"eq",value:!0}]),s.fn.update.call(this,t,n),l.value(this.getFormattingValue(r.view(),n)),l.wrapper.toggleClass("k-state-disabled",!r.view().length)}},destroy:function(){this._ancestor=null}}),h=o.extend({exec:function(){var t,r=new n.ListFormatter("ul"),i=this.lockRange(!0),s=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");f.wrapSelectedElements(i),t=new n.RangeIterator(i),t.traverse(function o(t){var n,i,a,f;if(t&&!u.isMarker(t)){if(n=u.name(t),"ul"==n||"ol"==n)for(i=t.previousSibling,a=t.nextSibling,r.unwrap(t);i&&i!=a;i=i.nextSibling)o(i);else if("blockquote"==n)u.changeTag(t,"p");else if(1==t.nodeType&&!u.insignificant(t)){for(f=t.childNodes.length-1;f>=0;f--)o(t.childNodes[f]);t.removeAttribute("style"),t.removeAttribute("class")}e.inArray(n,s)>-1&&u.unwrap(t)}}),this.releaseRange(i)}});e.extend(n,{FormattingTool:c,CleanFormatCommand:h}),l("formatting",new c({template:new i({template:a.dropDownListTemplate,title:"Format"})})),l("cleanFormatting",new r({command:h,template:new i({template:a.buttonTemplate,title:"Clean formatting"})}))}(window.kendo.jQuery),function(e){var t,n=window.kendo,r=n.ui,i=r.editor,s=r.Widget,o=e.extend,u=e.proxy,a=n.keys,f=".kendoEditor",l=n.ui.editor.EditorUtils,c=n.ui.editor.ToolTemplate,h=n.ui.editor.Tool,p="overflowAnchor",d=".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input",v=h.extend({initialize:function(t,n){t.attr({unselectable:"on"});var r=n.editor.toolbar;t.on("click",e.proxy(function(){this.overflowPopup.toggle()},r))},options:{name:p},command:e.noop,update:e.noop,destroy:e.noop});l.registerTool(p,new v({key:"",ctrl:!0,template:new c({template:l.overflowAnchorTemplate})})),t=s.extend({init:function(e,t){var r=this;t=o({},t,{name:"EditorToolbar"}),s.fn.init.call(r,e,t),t.popup&&r._initPopup(),t.resizable&&t.resizable.toolbar&&(r._resizeHandler=n.onResize(function(){r.resize()}),r.element.addClass("k-toolbar-resizable"))},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(t){e(t.target).is(".k-icon")||t.preventDefault()}).data("kendoWindow")},_toggleOverflowStyles:function(e,t){e.find("li").toggleClass("k-item k-state-default",t).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",t)},_initOverflowPopup:function(t){var n=this,r="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";n.overflowPopup=e(r).appendTo("body").kendoPopup({anchor:t,origin:"bottom right",position:"top right",copyAnchorStyles:!1,open:function(e){this.element.is(":empty")&&e.preventDefault(),n._toggleOverflowStyles(this.element,!0)},activate:u(n.focusOverflowPopup,n)}).data("kendoPopup")},items:function(){var e,t,n=this.options.resizable&&this.options.resizable.toolbar;return t=this.element.children().find("> *, select"),n&&(e=this.overflowPopup,t=t.add(e.element.children().find("> *"))),t},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupFor:function(t){var n,r=this.groups;if(this.isCustomTool(t))return"custom";for(n in r)if(e.inArray(t,r[n])>=0)return n},bindTo:function(t){var n=this,r=n.window;n._editor&&n._editor.unbind("select",u(n.resize,n)),n._editor=t,n.options.resizable&&n.options.resizable.toolbar&&t.options.tools.push(p),n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),r=t.keyCode;r==a.RIGHT||r==a.LEFT?n.close():r==a.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))}),n._attachEvents(),n.items().each(function(){var r,i=n._toolName(this),s="more"!==i?n.tools[i]:n.tools.overflowAnchor,o=s&&s.options,u=t.options.messages,a=o&&o.tooltip||u[i],f=e(this);s&&s.initialize&&(("fontSize"==i||"fontName"==i)&&(r=u[i+"Inherit"],f.find("input").val(r).end().find("span.k-input").text(r).end()),s.initialize(f,{title:n._appendShortcutSequence(a,s),editor:n._editor}),f.closest(".k-widget",n.element).addClass("k-editor-widget"),f.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget"))}),t.bind("select",u(n.resize,n)),n.update(),r&&r.wrapper.css({top:"",left:"",width:""})},show:function(){var e,t,n,r=this,i=r.window,s=r.options.editor;i&&(e=i.wrapper,t=s.element,e.is(":visible")&&r.window.options.visible||(e[0].style.width||e.width(t.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)),i._moved||(n=t.offset(),e.css({top:Math.max(0,parseInt(n.top,10)-e.outerHeight()-parseInt(r.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(n.left,10))})),i.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var e="tabIndex",t=this.element,n=this._editor.element.attr(e);t.attr(e,n||0).focus().find(d).first().focus(),n||0===n||t.removeAttr(e)},focusOverflowPopup:function(){var e="tabIndex",t=this.overflowPopup.element,n=this._editor.element.attr(e);t.closest(".k-animation-container").addClass("k-overflow-wrapper"),t.attr(e,n||0).focus().find(d).first().focus(),n||0===n||t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(e){return!(e in n.ui.Editor.defaultTools)},expandTools:function(t){var r,s,u,a,f=this._nativeTools,l=n.deepExtend({},n.ui.Editor.defaultTools),c={};for(s=0;t.length>s;s++)r=t[s],a=r.name,e.isPlainObject(r)?a&&l[a]?(c[a]=o({},l[a]),o(c[a].options,r)):(u=o({cssClass:"k-i-custom",type:"button",title:""},r),u.name||(u.name="custom"),u.cssClass="k-"+("custom"==u.name?"i-custom":u.name),u.template||"button"!=u.type||(u.template=i.EditorUtils.buttonTemplate,u.title=u.title||u.tooltip),c[a]={options:u}):l[r]&&(c[r]=l[r]);for(s=0;f.length>s;s++)c[f[s]]||(c[f[s]]=l[f[s]]);return c},render:function(){function t(t){var r;return t.getHtml?r=t.getHtml():(e.isFunction(t)||(t=n.template(t)),r=t(s)),e.trim(r)}function r(){h.children().length&&(S&&(h.data("position",E),E++),h.appendTo(y))}function i(t){t!==p?(h=e("<li class='k-tool-group' role='presentation' />"),h.data("overflow",-1===e.inArray(t,x)?!0:!1)):h=e("<li class='k-overflow-tools' />")}var s,o,a,f,l,c,h,d,v=this,m=v.tools,g=v._editor.element,y=v.element.empty(),b=v._editor.options.tools,w=n.support.browser,E=0,S=v.options.resizable&&v.options.resizable.toolbar,x=this.overflowFlaseTools;for(y.empty(),b.length&&(f=b[0].name||b[0]),i(f,x),d=0;b.length>d;d++)f=b[d].name||b[d],s=m[f]&&m[f].options,!s&&e.isPlainObject(f)&&(s=f),o=s&&s.template,"break"==f&&(r(),e("<li class='k-row-break' />").appendTo(v.element),i(f,x)),o&&(c=v.toolGroupFor(f),(l!=c||f==p)&&(r(),i(f,x),l=c),o=t(o),a=e(o).appendTo(h),"custom"==c&&(r(),i(f,x)),s.exec&&a.hasClass("k-tool")&&a.click(u(s.exec,g[0])));r(),e(v.element).children(":has(> .k-tool)").addClass("k-button-group"),v.options.popup&&w.msie&&9>w.version&&v.window.wrapper.find("*").attr("unselectable","on"),v.updateGroups(),S&&v._initOverflowPopup(v.element.find(".k-overflow-anchor")),v.angular("compile",function(){return{elements:v.element}})},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return!e(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var n=e(this).data("kendoSelectBox");n&&n.decorate(t)})},destroy:function(){s.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy(),this._resizeHandler&&n.unbindResize(this._resizeHandler),this.overflowPopup&&this.overflowPopup.destroy()},_attachEvents:function(){var t=this,n="[role=button].k-tool",r=n+":not(.k-state-disabled)",i=n+".k-state-disabled",s=t.overflowPopup?t.overflowPopup.element:e([]);t.element.add(s).off(f).on("mouseenter"+f,r,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+f,r,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+f,n,function(e){e.preventDefault()}).on("keydown"+f,d,function(n){function r(e,t,n){var r=t.find(d),i=r.index(o)+e;return n&&(i=Math.max(0,Math.min(r.length-1,i))),r[i]}var i,s,o=this,u=t.options.resizable&&t.options.resizable.toolbar,f=n.keyCode;f==a.RIGHT||f==a.LEFT?e(o).hasClass(".k-dropdown")||(i=r(f==a.RIGHT?1:-1,t.element,!0)):!u||f!=a.UP&&f!=a.DOWN?f==a.ESC?(t.overflowPopup.visible()&&t.overflowPopup.close(),i=t._editor):f!=a.TAB||n.ctrlKey||n.altKey||(s=u&&e(o.parentElement).hasClass("k-overflow-tool-group")?t.overflowPopup.element:t.element,n.shiftKey?i=r(-1,s):(i=r(1,s),i||(i=t._editor))):i=r(f==a.DOWN?1:-1,t.overflowPopup.element,!0),i&&(n.preventDefault(),i.focus())}).on("click"+f,r,function(n){var r=e(this);n.preventDefault(),n.stopPropagation(),r.removeClass("k-state-hover"),r.is("[data-popup]")||t._editor.exec(t._toolName(this))}).on("click"+f,i,function(e){e.preventDefault()})},_toolName:function(t){var n,r;if(t)return n=t.className,/k-tool\b/i.test(n)&&(n=t.firstChild.className),r=e.grep(n.split(" "),function(e){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)}),r[0]?r[0].substring(r[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var t=this,r=t._editor,i=r.getRange(),s=n.ui.editor.RangeUtils.textNodes(i);s.length||(s=[i.startContainer]),t.items().each(function(){var n=t.tools[t._toolName(this)];n&&n.update&&n.update(e(this),s)}),this.update()},update:function(){this.updateGroups()},_resize:function(e){var t=e.width,n=this.options.resizable&&this.options.resizable.toolbar,r=this.overflowPopup;this.refreshTools(),n&&(r.visible()&&r.close(!0),this._refreshWidths(),this._shrink(t),this._stretch(t),this._toggleOverflowStyles(this.element,!1),this._toggleOverflowStyles(this.overflowPopup.element,!0),this.element.children("li.k-overflow-tools").css("visibility",r.element.is(":empty")?"hidden":"visible"))},_refreshWidths:function(){this.element.children("li").each(function(t,n){var r=e(n);r.data("outerWidth",r.outerWidth(!0))})},_shrink:function(e){var t,n,r;if(e<this._groupsWidth())for(n=this._visibleGroups().filter(":not(.k-overflow-tools)"),r=n.length-1;r>=0&&(t=n.eq(r),!(e>this._groupsWidth()));r--)this._hideGroup(t)},_stretch:function(e){var t,n,r;if(e>this._groupsWidth())for(n=this._hiddenGroups(),r=0;n.length>r&&(t=n.eq(r),!(e<this._groupsWidth())&&this._showGroup(t,e));r++);},_hiddenGroups:function(){var t=this.overflowPopup,n=this.element.children("li.k-tool-group").filter(":hidden");return n=n.add(t.element.children("li")),n.sort(function(t,n){return e(t).data("position")>e(n).data("position")?1:-1}),n},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var t=0;return this._visibleGroups().each(function(){t+=e(this).data("outerWidth")}),Math.ceil(t)},_hideGroup:function(e){if(e.data("overflow")){var t=this.overflowPopup;e.detach().prependTo(t.element).addClass("k-overflow-tool-group")}else e.hide()},_showGroup:function(t,n){var r,i;return t.length&&n>this._groupsWidth()+t.data("outerWidth")?(t.hasClass("k-overflow-tool-group")?(r=t.data("position"),0===r?t.detach().prependTo(this.element):(i=this.element.children().filter(function(t,n){return e(n).data("position")===r-1}),t.detach().insertAfter(i)),t.removeClass("k-overflow-tool-group")):t.show(),!0):!1}}),e.extend(i,{Toolbar:t})}(window.jQuery),function(e){var t=window.kendo,n=e.extend,r=e.proxy,i=t.ui.editor,s=i.Dom,o=i.EditorUtils,u=i.RangeUtils,a=i.Command,f=".kendoEditor",l="k-state-active",c="k-state-selected",h=i.Tool,p=i.ToolTemplate,d=i.InsertHtmlCommand,v=i.BlockFormatFinder,m=i.EditorUtils.registerTool,g="<td>"+i.emptyElementContent+"</td>",y=new v([{tags:["table"]}]),b=d.extend({_tableHtml:function(e,t){return e=e||1,t=t||1,"<table class='k-table' data-last>"+Array(e+1).join("<tr>"+Array(t+1).join(g)+"</tr>")+"</table>"},postProcess:function(t,n){var r=e("table[data-last]",t.document).removeAttr("data-last");n.setStart(r.find("td")[0],0),n.collapse(!0),t.selectRange(n)},exec:function(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),e.postProcess=this.postProcess,d.fn.exec.call(this)}}),w=h.extend({initialize:function(t,n){h.fn.initialize.call(this,t,n);var i=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:r(this._open,this),activate:r(this._activate,this),close:r(this._close,this)}).data("kendoPopup");t.click(r(this._toggle,this)).keydown(r(this._keydown,this)),this._editor=n.editor,this._popup=i},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(l)},_close:function(){this._popup.options.anchor.removeClass(l)},_keydown:function(e){var n=t.keys,r=e.keyCode;r==n.DOWN&&e.altKey?this._popup.open():r==n.ESC&&this._popup.close()},_toggle:function(t){var n=e(t.target).closest(".k-tool");n.hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){var t=this.popup();t.wrapper&&"block"==t.wrapper.css("display")&&t.close(),e.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),E=w.extend({init:function(t){this.cols=8,this.rows=6,w.fn.init.call(this,e.extend(t,{command:b,popupTemplate:"<div class='k-ct-popup'>"+Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div></div>"}))},_activate:function(){function n(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-c.top)/i)+1,col:Math.floor((t.clientX+n.scrollLeft()-c.left)/r)+1}}var r,i,s=this,o=s._popup.element,u=o.find(".k-ct-cell"),a=u.eq(0),l=u.eq(u.length-1),c=t.getOffset(a),h=t.getOffset(l),p=s.cols,d=s.rows;o.find("*").addBack().attr("unselectable","on"),h.left+=l[0].offsetWidth,h.top+=l[0].offsetHeight,r=(h.left-c.left)/p,i=(h.top-c.top)/d,o.on("mousemove"+f,function(e){s._setTableSize(n(e))}).on("mouseleave"+f,function(){s._setTableSize()}).on("mouseup"+f,function(e){s._exec(n(e))})},_valid:function(e){return e&&e.row>0&&e.col>0&&this.rows>=e.row&&this.cols>=e.col},_exec:function(e){this._valid(e)&&(this._editor.exec("createTable",{rows:e.row,columns:e.col}),this._popup.close())},_setTableSize:function(n){var r=this._popup.element,i=r.find(".k-status"),s=r.find(".k-ct-cell"),o=this.cols,u=this._editor.options.messages;this._valid(n)?(i.text(t.format(u.createTableHint,n.row,n.col)),s.each(function(t){e(this).toggleClass(c,n.col>t%o&&n.row>t/o)})):(i.text(u.dialogCancel),s.removeClass(c))},_keydown:function(e){var n,r,i,s,o,u,a,f;w.fn._keydown.call(this,e),this._popup.visible()&&(n=t.keys,r=e.keyCode,i=this._popup.element.find(".k-ct-cell"),s=Math.max(i.filter(".k-state-selected").last().index(),0),o=Math.floor(s/this.cols),u=s%this.cols,a=!1,r!=n.DOWN||e.altKey?r==n.UP?(a=!0,o--):r==n.RIGHT?(a=!0,u++):r==n.LEFT&&(a=!0,u--):(a=!0,o++),f={row:Math.max(1,Math.min(this.rows,o+1)),col:Math.max(1,Math.min(this.cols,u+1))},r==n.ENTER?this._exec(f):this._setTableSize(f),a&&(e.preventDefault(),e.stopImmediatePropagation()))},_open:function(){var e=this._editor.options.messages;w.fn._open.call(this),this.popup().element.find(".k-status").text(e.dialogCancel).end().find(".k-ct-cell").removeClass(c)},_close:function(){w.fn._close.call(this),this.popup().element.off(f)},update:function(e,t){var n;w.fn.update.call(this,e),n=y.isFormatted(t),e.toggleClass("k-state-disabled",n)}}),S=a.extend({exec:function(){for(var e,t,n,r,o=this.lockRange(!0),u=o.endContainer;"td"!=s.name(u);)u=u.parentNode;for(t=u.parentNode,e=t.children.length,n=t.cloneNode(!0),r=0;t.cells.length>r;r++)n.cells[r].innerHTML=i.emptyElementContent;"before"==this.options.position?s.insertBefore(n,t):s.insertAfter(n,t),this.releaseRange(o)}}),x=a.extend({exec:function(){var e,t,n,r,o=this.lockRange(!0),u=s.closest(o.endContainer,"td"),a=s.closest(u,"table"),f=a.rows,l=this.options.position;for(e=s.findNodeIndex(u,!0),t=0;f.length>t;t++)n=f[t].cells[e],r=n.cloneNode(),r.innerHTML=i.emptyElementContent,"before"==l?s.insertBefore(r,n):s.insertAfter(r,n);this.releaseRange(o)}}),T=a.extend({exec:function(){var t,n,r,i=this.lockRange(),o=u.mapAll(i,function(t){return e(t).closest("tr")[0]}),a=s.closest(o[0],"table");if(o.length>=a.rows.length)t=s.next(a),(!t||s.insignificant(t))&&(t=s.prev(a)),s.remove(a);else for(n=0;o.length>n;n++)r=o[n],s.removeTextSiblings(r),t=s.next(r)||s.prev(r),t=t.cells[0],s.remove(r);t&&(i.setStart(t,0),i.collapse(!0),this.editor.selectRange(i))}}),N=a.extend({exec:function(){var e,t,n=this.lockRange(),r=s.closest(n.endContainer,"td"),i=s.closest(r,"table"),o=i.rows,u=s.findNodeIndex(r,!0),a=o[0].cells.length;if(1==a)e=s.next(i),(!e||s.insignificant(e))&&(e=s.prev(i)),s.remove(i);else for(s.removeTextSiblings(r),e=s.next(r)||s.prev(r),t=0;o.length>t;t++)s.remove(o[t].cells[u]);e&&(n.setStart(e,0),n.collapse(!0),this.editor.selectRange(n))}}),C=h.extend({command:function(e){return e=n(e,this.options),"delete"==e.action?"row"==e.type?new T(e):new N(e):"row"==e.type?new S(e):new x(e)},initialize:function(e,t){h.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var n=!y.isFormatted(t);e.toggleClass("k-state-disabled",n)}});n(t.ui.editor,{PopupTool:w,TableCommand:b,InsertTableTool:E,TableModificationTool:C,InsertRowCommand:S,InsertColumnCommand:x,DeleteRowCommand:T,DeleteColumnCommand:N}),m("createTable",new E({template:new p({template:o.buttonTemplate,popup:!0,title:"Create table"})})),m("addColumnLeft",new C({type:"column",position:"before",template:new p({template:o.buttonTemplate,title:"Add column on the left"})})),m("addColumnRight",new C({type:"column",template:new p({template:o.buttonTemplate,title:"Add column on the right"})})),m("addRowAbove",new C({type:"row",position:"before",template:new p({template:o.buttonTemplate,title:"Add row above"})})),m("addRowBelow",new C({type:"row",template:new p({template:o.buttonTemplate,title:"Add row below"})})),m("deleteRow",new C({type:"row",action:"delete",template:new p({template:o.buttonTemplate,title:"Delete row"})})),m("deleteColumn",new C({type:"column",action:"delete",template:new p({template:o.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.caret,i=n.keys,s=n.ui,o=s.Widget,u=".kendoMaskedTextBox",a=e.proxy,f=(n.support.propertyChangeEvent?"propertychange":"input")+u,l="k-state-disabled",c="disabled",h="readonly",p="change",d=o.extend({init:function(t,i){var s,a,f=this;o.fn.init.call(f,t,i),f._rules=e.extend({},f.rules,f.options.rules),t=f.element,s=t[0],f.wrapper=t,f._tokenize(),f._form(),f.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+u,function(){var e=s.value;e?f._togglePrompt(!0):s.value=f._old=f._emptyMask,f._oldValue=e,f._timeoutId=setTimeout(function(){r(t,0,e?f._maskLength:0)})}).on("focusout"+u,function(){var e=t.val();clearTimeout(f._timeoutId),s.value=f._old="",e!==f._emptyMask&&(s.value=f._old=e),f._change(),f._togglePrompt()}),a=t.is("[disabled]")||e(f.element).parents("fieldset").is(":disabled"),a?f.enable(!1):f.readonly(t.is("[readonly]")),f.value(f.options.value||t.val()),n.notify(f)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[p],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(t){var n=this;o.fn.setOptions.call(n,t),n._rules=e.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val())},destroy:function(){var e=this;e.element.off(u),e._formElement&&(e._formElement.off("reset",e._resetHandler),e._formElement.off("submit",e._submitHandler)),o.fn.destroy.call(e)},raw:function(){var e=this._unmask(this.element.val(),0);return e.replace(RegExp(this.options.promptChar,"g"),"")},value:function(e){var r=this.element,i=this._emptyMask;return e===t?this.element.val():(null===e&&(e=""),i?(e=this._unmask(e+""),r.val(e?i:""),this._mask(0,this._maskLength,e),e=r.val(),this._oldValue=e,n._activeElement()!==r&&(e===i?r.val(""):this._togglePrompt()),t):(r.val(e),t))},_togglePrompt:function(e){var t=this.element[0],n=t.value;this.options.clearPromptChar&&(n=e?this._oldValue:n.replace(RegExp(this.options.promptChar,"g")," "),t.value=this._old=n)},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_bindInput:function(){var e=this;e._maskLength&&e.element.on("keydown"+u,a(e._keydown,e)).on("keypress"+u,a(e._keypress,e)).on("paste"+u,a(e._paste,e)).on(f,a(e._propertyChange,e))},_unbindInput:function(){this.element.off("keydown"+u).off("keypress"+u).off("paste"+u).off(f)},_editable:function(e){var t=this,n=t.element,r=e.disable,i=e.readonly;t._unbindInput(),i||r?n.attr(c,r).attr(h,i).toggleClass(l,r):(n.removeAttr(c).removeAttr(h).removeClass(l),t._bindInput())},_change:function(){var e=this,t=e.value();t!==e._oldValue&&(e._oldValue=t,e.trigger(p),e.element.trigger(p))},_propertyChange:function(){var e,t,i=this,s=i.element[0],o=s.value;n._activeElement()===s&&(o===i._old||i._pasting||(t=r(s)[0],e=i._unmask(o.substring(t),t),s.value=i._old=o.substring(0,t)+i._emptyMask.substring(t),i._mask(t,t,e),r(s,t)))},_paste:function(e){var t=this,n=e.target,i=r(n),s=i[0],o=i[1],u=t._unmask(n.value.substring(o),o);t._pasting=!0,setTimeout(function(){var e=n.value,i=e.substring(s,r(n)[0]);n.value=t._old=e.substring(0,s)+t._emptyMask.substring(s),t._mask(s,s,i),s=r(n)[0],t._mask(s,s,u),r(n,s),t._pasting=!1})},_form:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._submitHandler=function(){t.element[0].value=t._old=t.raw()},t.options.unmaskOnPost&&i.on("submit",t._submitHandler),t._formElement=i.on("reset",t._resetHandler))},_keydown:function(e){var n,s=e.keyCode,o=this.element[0],u=r(o),a=u[0],f=u[1],l=s===i.BACKSPACE;l||s===i.DELETE?(a===f&&(l?a-=1:f+=1,n=this._find(a,l)),n!==t&&n!==a?(l&&(n+=1),r(o,n)):a>-1&&this._mask(a,f,"",l),e.preventDefault()):s===i.ENTER&&this._change()},_keypress:function(e){var t,n;0===e.which||e.metaKey||e.ctrlKey||e.keyCode===i.ENTER||(t=String.fromCharCode(e.which),n=r(this.element),this._mask(n[0],n[1],t),(e.keyCode===i.BACKSPACE||t)&&e.preventDefault())},_find:function(e,t){var n=this.element.val()||this._emptyMask,r=1;for(t===!0&&(r=-1);e>-1||this._maskLength>=e;){if(n.charAt(e)!==this.tokens[e])return e;e+=r}return-1},_mask:function(e,i,s,o){var u,a,f,l,c=this.element[0],h=c.value||this._emptyMask,p=this.options.promptChar,d=0;for(e=this._find(e,o),e>i&&(i=e),a=this._unmask(h.substring(i),i),s=this._unmask(s,e),u=s.length,s&&(a=a.replace(RegExp("^_{0,"+u+"}"),"")),s+=a,h=h.split(""),f=s.charAt(d);this._maskLength>e;)h[e]=f||p,f=s.charAt(++d),l===t&&d>u&&(l=e),e=this._find(e+1);c.value=this._old=h.join(""),n._activeElement()===c&&(l===t&&(l=this._maskLength),r(c,l))},_unmask:function(t,n){var r,i,s,o,u,a,f,l;if(!t)return"";for(t=(t+"").split(""),s=0,o=n||0,u=this.options.promptChar,a=t.length,f=this.tokens.length,l="";f>o&&(r=t[s],i=this.tokens[o],r===i||r===u?(l+=r===u?u:"",s+=1,o+=1):"string"!=typeof i?((i.test&&i.test(r)||e.isFunction(i)&&i(r))&&(l+=r,o+=1),s+=1):o+=1,!(s>=a)););return l},_tokenize:function(){for(var e,t,r,i,s=[],o=0,u=this.options.mask||"",a=u.split(""),f=a.length,l=0,c="",h=this.options.promptChar,p=n.getCulture(this.options.culture).numberFormat,d=this._rules;f>l;l++)if(e=a[l],t=d[e])s[o]=t,c+=h,o+=1;else for("."===e||","===e?e=p[e]:"$"===e?e=p.currency.symbol:"\\"===e&&(l+=1,e=a[l]),e=e.split(""),r=0,i=e.length;i>r;r++)s[o]=e[r],c+=e[r],o+=1;this.tokens=s,this._emptyMask=c,this._maskLength=c.length}});s.plugin(d)}(window.kendo.jQuery),function(e,t){function n(e){var n="string"==typeof e?[{name:e}]:e,r="[object Array]"===gt.call(n)?n:n!==t?[n]:[];return bt(r,function(e){return"string"==typeof e?{name:e}:{name:e.name,type:e.type}})}function r(e){var n="string"==typeof e?[{name:[e],expand:!1}]:e,r="[object Array]"===gt.call(n)?n:n!==t?[n]:[];return bt(r,function(e){return"string"==typeof e?{name:[e],expand:!1}:{name:"[object Array]"===gt.call(e.name)?e.name.slice():[e.name],expand:e.expand}})}function i(e,t,n,r){var s,o,u,a;if(n||(n=t),r||(r=0),a=n.members[r],a&&!a.measure){if(u=a.children,o=u.length,n===t?e[ht.stringify([a.name])]=!!o:o&&(e[ht.stringify(ot(n,r))]=!0),o)for(s=0;o>s;s++)i(e,t,u[s],r);i(e,t,n,r+1)}}function s(t){var n,r,s={};t.length&&i(s,t[0]),n=[];for(r in s)n.push({name:e.parseJSON(r),expand:s[r]});return n}function o(e,t){var n,r,i,s,o=t.tuples||[],u=o[0];if(u&&u.members.length>e.length)for(n=u.members,r=0;n.length>r;r++)if(!n[r].measure){for(i=!1,s=0;e.length>s;s++)if(0===B(e[s]).indexOf(n[r].hierarchy)){i=!0;break}i||e.push({name:[n[r].name],expand:!1})}}function u(e){var t,n=[],r=e.members;for(t=0;r.length>t;t++)r[t].measure||n.push({name:[r[t].name],expand:r[t].children.length>0});return n}function a(e,t,n){var i,s;return e=e||{},o(t,e),n.length>1&&t.push({name:Tt,measure:!0,children:r(n)}),i={members:t},e.tuples&&(s=E(e.tuples,i),s.tuple&&(t=u(s.tuple))),t}function f(e){var t=ht.getter(e.field,!0);return function(n,r){return e.aggregate(t(n.dataItem),r,n)}}function l(e){return"number"==typeof e&&!isNaN(e)}function c(e){return e&&e.getTime}function h(e,n,r){return e.tuples.length<m(n.tuples,r)?n:t}function p(e,t,n,r,i){var s,o,u,a=e.length,f=m(t,r),l=r.length||1;for(o=0;n>o;o++)for(s=0;a>s;s++)u=v(e[s],t)*l,u+=s%l,i[o*a+s].ordinal=o*f+u}function d(e,t,n,r,i){var s,o,u,a=e.length,f=(m(t,r),r.length||1);for(o=0;a>o;o++)for(u=v(e[o],t),u*=f,u+=o%f,s=0;n>s;s++)i[o*n+s].ordinal=u*n+s}function v(e,t){return E(t,e).index}function m(e,t){var n,r,i;if(!e.length)return 0;for(n=e.slice(),r=n.shift(),i=1;r;)r.members?[].push.apply(n,r.members):r.children&&(r.measure||(i+=r.children.length),[].push.apply(n,r.children)),r=n.shift();return t.length&&(i*=t.length),i}function g(e){return e||(e={tuples:[]}),e.tuples||(e.tuples=[]),e}function y(e,t,n){var r,i,s,o;if(!e)return 0;for(r=Math.max(n.length,1),i=e.members.slice(0,t),s=r,o=i.shift(),r>1&&(r+=1);o;)o.name===Tt?s+=r:o.children?[].push.apply(i,o.children):(s++,[].push.apply(i,o.members)),o=i.shift();return s}function b(e,t,n){var r,i,s,o,u,a;if(!t[0])return{parsedRoot:null,tuples:e,memberIndex:0,index:0};if(r=E(e,t[0]),!r.tuple)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};if(i=r.tuple.members,s=t[0].members,o=-1,i.length!==s.length)return{parsedRoot:null,tuples:t,memberIndex:0,index:0};for(u=0,a=i.length;a>u;u++)!i[u].measure&&s[u].children[0]&&(-1==o&&s[u].children.length&&(o=u),i[u].children=s[u].children);return n=Math.max(n.length,1),{parsedRoot:r.tuple,index:r.index*n,memberIndex:o,tuples:e}}function w(e,t){var n,r,i=!0;for(e=e.members,t=t.members,n=0,r=e.length;r>n;n++)e[n].measure||t[n].measure||(i=i&&B(e[n])===B(t[n]));return i}function E(e,t){var n,r,i,s,o,u,a,f=0;for(n=0,r=e.length;r>n;n++){if(i=e[n],w(i,t))return{tuple:i,index:f};for(f++,o=0,u=i.members.length;u>o;o++)if(a=i.members[o],!a.measure&&(s=E(a.children,t),f+=s.index,s.tuple))return{tuple:s.tuple,index:f}}return{index:f}}function S(e,t){var n,r,i,s="";for(r=0,i=e.length;i>r;r++)n=e[r],s+=n.name,t[s]||(t[s]=n)}function x(e,t){var n,r,i,s,o=e.members,u="",a="";for(n=0,r=o.length;r>n;n++){if(i=o[n],s){if(t[u+i.name]){u+=i.name,s=t[u];continue}return t[u+i.parentName]?t[u+i.parentName]:t[a+i.parentName]?t[a+i.parentName]:t[a]}if(u+=i.name,s=t[i.parentName],!s&&(s=t[u],!s))return null;s&&(a+=s.name)}return s}function T(e,t){var n,r,i,s;if(0===t.length)return-1;for(n=t[0],r=e.members,i=0,s=r.length;s>i;i++)if(r[i].name==n.name)return i}function N(n,r){if(!(0>r)){var i={name:Tt,measure:!0,children:[e.extend({members:[],dataIndex:n.dataIndex},n.members[r])]};n.members.splice(r,1,i),n.dataIndex=t}}function C(e,t){var n,r,i,s,o,u;if(1>e.length)return[];for(n=[],r={},i=T(e[0],t),s=0;e.length>s;s++)o=e[s],o.dataIndex=s,N(o,i),u=x(o,r),u?u.children.push(0>i||!u.measure?o:o.members[i].children[0]):n.push(o),S(o.members,r);return n}function k(e,t){var n,r,i,s,o,u,a,f,l;if(!e||!e.length)return t;for(n=[],r=A(e),i=r.length,s=Math.max(t.length/i,1),o=0;i>o;o++)for(a=s*o,f=s*r[o],u=0;s>u;u++)l=parseInt(f+u,10),n[parseInt(a+u,10)]=t[l]||{value:"",fmtValue:"",ordinal:l};return n}function L(e,t){var n,r,i,s,o,u,a,f;if(!e||!e.length)return t;for(n=[],r=A(e),i=r.length,s=Math.max(t.length/i,1),u=0;s>u;u++)for(a=i*u,o=0;i>o;o++)f=r[o]+a,n[a+o]=t[f]||{value:"",fmtValue:"",ordinal:f};return n}function A(e){var n,r,i,s,o,u,a;for(e=e.slice(),n=[],r=e.shift();r;){for(r.dataIndex!==t&&n.push(r.dataIndex),o=0,i=0,s=r.members.length;s>i;i++)a=r.members[i],u=a.children,a.measure?[].splice.apply(e,[0,0].concat(u)):[].splice.apply(e,[o,0].concat(u)),o+=u.length;r=e.shift()}return n}function O(e){var t=e.split(".");return t.length>2?t[0]+"."+t[1]:e}function M(e,t){var n=e.length-1,r=e[n],i=_(t,r);return i&&i.dir?r="ORDER("+r+".Children,"+i.field+".CurrentMember.MEMBER_CAPTION,"+i.dir+")":r+=".Children",e[n]=r,e}function _(e,t){for(var n=0,r=e.length;r>n;n++)if(0===t.indexOf(e[n].field))return e[n];return null}function D(e){var t,n="CROSSJOIN({";return e.length>2?(t=e.pop(),n+=D(e)):(n+=e.shift(),t=e.pop()),n+="},{",n+=t,n+="})"}function P(e,t){var n=e.slice(0);return t.length>1&&n.push("{"+H(t).join(",")+"}"),D(n)}function H(e){for(var n,r=0,i=e.length,s=[];i>r;r++)n=e[r],s.push(n.name!==t?n.name:n);return s}function B(e){return e=e.name||e,"[object Array]"===gt.call(e)&&(e=e[e.length-1]),e}function j(e){for(var t=e.length,n=[],r=0;t>r;r++)n.push(e[r].name[0]);return n}function F(e,t){var n,r,i,s=0,o=e.length,u=t.length;for(t=t.slice(0);o>s;s++)for(n=e[s],i=0;u>i;i++)if(r=O(t[i]),-1!==n.indexOf(r)){t[i]=n;break}return{names:t,expandedIdx:i,uniquePath:t.slice(0,i+1).join("")}}function I(e){for(var t,n,r,i,s,o,u=[],a=[],f=[],l=0,c=e.length;c>l;l++)if(t=e[l],i=t.name,o=!1,"[object Array]"!==gt.call(i)&&(t.name=i=[i]),i.length>1)a.push(t);else{for(s=O(i[0]),n=0,r=f.length;r>n;n++)if(0===f[n].name[0].indexOf(s)){o=!0;break}o||f.push(t),t.expand&&u.push(t)}return u=u.concat(a),{root:f,expanded:u}}function q(e,t,n){var r,i,s,o,u,a,f,l,c="";if(e=e||[],r=I(e),i=r.root,s=j(i),o=[],r=r.expanded,u=r.length,a=0,l=[],s.length>1||t.length>1){for(o.push(P(s,t));u>a;a++)f=M(r[a].name,n),l=F(f,s).names,o.push(P(l,t));c+=o.join(",")}else{for(;u>a;a++)f=M(r[a].name,n),l.push(f[0]);c+=s.concat(l).join(",")}return c}function R(e){var t="",n=e.value,r=e.field,i=e.operator;return"in"==i?(t+="{",t+=n,t+="}"):(t+="Filter(",t+=r+".MEMBERS",t+=ht.format(V[i],r,n),t+=")"),t}function U(e,t){var n,r,i="",s=e.filters,o=s.length;for(r=o-1;r>=0;r--)n="SELECT (",n+=R(s[r]),n+=") ON 0",r==o-1?(n+=" FROM ["+t+"]",i=n):i=n+" FROM ( "+i+" )";return i}function z(e,t,n){var r,i,s="";if(t){s+="<"+e+">";for(i in t)r=t[i],n&&(i=i.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),s+="<"+i+">"+r+"</"+i+">";s+="</"+e+">"}else s+="<"+e+"/>";return s}function W(e){if(null==e)return[];var t=gt.call(e);return"[object Array]"!==t?[e]:e}function X(e){var t,n,r,i,s={tuples:[]},o=W(ht.getter("Tuples.Tuple",!0)(e)),u=ht.getter("Caption['#text']"),a=ht.getter("UName['#text']"),f=ht.getter("LName['#text']"),l=ht.getter("LNum['#text']"),c=ht.getter("CHILDREN_CARDINALITY['#text']",!0),h=ht.getter("['@Hierarchy']"),p=ht.getter("PARENT_UNIQUE_NAME['#text']",!0);for(t=0;o.length>t;t++){for(n=[],r=W(o[t].Member),i=0;r.length>i;i++)n.push({children:[],caption:u(r[i]),name:a(r[i]),levelName:f(r[i]),levelNum:l(r[i]),hasChildren:parseInt(c(r[i]),10)>0,parentName:p(r[i]),hierarchy:h(r[i])});s.tuples.push({members:n})}return s}var V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht=window.kendo,pt=ht.ui,dt=ht.Class,vt=pt.Widget,mt=ht.data.DataSource,gt={}.toString,yt=function(e){return e},bt=e.map,wt=e.extend,Et=ht.isFunction,St="change",xt="error",Tt="Measures",Nt="progress",Ct="stateReset",kt="auto",Lt="<div/>",At=".kendoPivotGrid",Ot="__row_total__",Mt="dataBinding",_t="dataBound",Dt="expandMember",Pt="collapseMember",Ht="k-i-arrow-s",Bt="k-i-arrow-e",jt="<span>#: data.member.caption || data.member.name #</span>",Ft='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "denied" : "hold"#">#:data.dataItem.value#</span>',It='<span class="k-icon k-i-kpi-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#">#:data.dataItem.value#</span>',qt='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',Rt='<table class="k-pivot-layout"><tr><td><div class="k-pivot-rowheaders"></div></td><td><div class="k-pivot-table k-state-default"></div></td></tr></table>',Ut={sum:function(e,t){var n=t.accumulator;return l(n)?l(e)&&(n+=e):n=e,n},count:function(e,t){return(t.accumulator||0)+1},average:{aggregate:function(e,n){var r=n.accumulator;return n.count===t&&(n.count=0),l(r)?l(e)&&(r+=e):r=e,l(e)&&n.count++,r},result:function(e){var t=e.accumulator;return l(t)&&(t/=e.count),t}},max:function(e,t){var n=t.accumulator;return l(n)||c(n)||(n=e),e>n&&(l(e)||c(e))&&(n=e),n},min:function(e,t){var n=t.accumulator;return l(n)||c(n)||(n=e),n>e&&(l(e)||c(e))&&(n=e),n}},zt=dt.extend({init:function(e){this.options=wt({},this.options,e),this.dimensions=this._normalizeDescriptors("field",this.options.dimensions),this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(e,t){var n,r,i,s;if(t=t||{},n={},"[object Array]"===gt.call(t)){for(i=0,s=t.length;s>i;i++)r=t[i],"string"==typeof r?n[r]={}:r[e]&&(n[r[e]]=r);t=n}return t},_rootTuples:function(e,n){var r,i,s,o,u=n.length||1,a=this.dimensions||[],f=0,l=e.length,c=[],h=[];if(l||n.length){for(f=0;u>f;f++){for(r={members:[]},o=0;l>o;o++)i=e[o],s=i.split("&"),r.members[r.members.length]={children:[],caption:(a[i]||{}).caption||"All",name:i,levelName:i,levelNum:"0",hasChildren:!0,parentName:s.length>1?s[0]:t,hierarchy:i};u>1&&(r.members[r.members.length]={children:[],caption:n[f].caption,name:n[f].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!1,parentName:t,hierarchy:"MEASURES"}),c[c.length]=r}h.push(Ot)}return{keys:h,tuples:c}},_expandedTuples:function(e,n,r){var i,s,o,u,a,f,l,c,h,p,d,v=r.length||1,m=this.dimensions||[],g=[],y=[];for(o in e){for(u=e[o],l=this._findExpandedMember(n,u.uniquePath),a=g[l.index]||[],f=y[l.index]||[],c=l.member.names,i=0;v>i;i++){for(s={members:[]},d=0;c.length>d;d++)d===l.member.expandedIdx?(s.members[s.members.length]={children:[],caption:u.value,name:u.name,hasChildren:!1,levelNum:1,levelName:u.parentName+u.name,parentName:u.parentName,hierarchy:u.parentName+u.name},0===i&&f.push(ot(s,d).join(""))):(p=c[d],h=p.split("&"),s.members[s.members.length]={children:[],caption:(m[p]||{}).caption||"All",name:p,levelName:p,levelNum:"0",hasChildren:!0,parentName:h.length>1?h[0]:t,hierarchy:p});v>1&&(s.members[s.members.length]={children:[],caption:r[i].caption,name:r[i].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:!0,parentName:t,hierarchy:"MEASURES"}),a[a.length]=s}g[l.index]=a,y[l.index]=f}return{keys:y,tuples:g}},_findExpandedMember:function(e,t){for(var n=0;e.length>n;n++)if(e[n].uniquePath===t)return{member:e[n],index:n}},_asTuples:function(e,t,n){var r,i;return n=n||[],r=this._rootTuples(t.root,n),i=this._expandedTuples(e,t.expanded,n),{keys:[].concat.apply(r.keys,i.keys),tuples:[].concat.apply(r.tuples,i.tuples)}},_measuresInfo:function(e,t){for(var n,r,i=0,s=e&&e.length,o=[],u={},a={},f=this.measures||{};s>i;i++)r=e[i].descriptor.name,n=f[r]||{},o.push(r),n.result&&(u[r]=n.result),n.format&&(a[r]=n.format);return{names:o,formats:a,resultFuncs:u,rowAxis:t}},_toDataArray:function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d=[],v=1,m=[],g=n.length||1,y=r.length||1;for(t.rowAxis?(m=t.names,v=m.length):p=t.names,o=0;g>o;o++)for(l=e[n[o]||Ot],f=0;v>f;f++)for(t.rowAxis&&(p=[m[f]]),u=0;y>u;u++)for(h=r[u]||Ot,c=l.items[h],i=h===Ot?l.aggregates:c?c.aggregates:{},a=0;p.length>a;a++)s=p[a],this._addData(d,i[s],t.formats[s],t.resultFuncs[s]);return d},_addData:function(e,t,n,r){var i,s="";t&&(t=r?r(t):t.accumulator,s=n?ht.format(n,t):t),i=e.length,e[i]={ordinal:i,value:t||"",fmtValue:s}},_matchDescriptors:function(e,n,r){for(var i,s,o,u,a=n.names,f=n.expandedIdx;f>0;)if(i=a[--f].split("&"),i.length>1&&(s=i[0],o=i[1],u=r[s](e),u=u!==t&&null!==u?""+u:u,u!=o))return!1;return!0},_calculateAggregate:function(e,t,n){var r,i,s,o={};for(s=0;e.length>s;s++)i=e[s].descriptor.name,r=n.aggregates[i]||{},r.accumulator=e[s].aggregator(t,r),o[i]=r;return o},_processColumns:function(e,n,r,i,s,o,u,a){for(var f,l,c,h,p,d,v,m,g=s.dataItem,y=0;n.length>y;y++)l=n[y],this._matchDescriptors(g,l,r)&&(m=l.names.slice(0,l.expandedIdx).join(""),d=l.names[l.expandedIdx],f=r[d](g),f=f!==t&&null!==f?""+f:f,v=d,d=d+"&"+f,p=m+d,c=i[p]||{index:u.columnIndex,parentName:v,name:d,uniquePath:m+v,value:f},h=o.items[p]||{aggregates:{}},o.items[p]={index:c.index,aggregates:this._calculateAggregate(e,s,h)},a&&(i[p]||u.columnIndex++,i[p]=c))},_measureAggregators:function(e){var t,n,r,i,s,o,u=e.measures||[],a=this.measures||{},l=[];if(u.length){for(r=0,i=u.length;i>r;r++)if(t=u[r],n=a[t.name],s=null,n){if(o=n.aggregate,"string"==typeof o){if(s=Ut[o.toLowerCase()],!s)throw Error("There is no such aggregate function");n.aggregate=s.aggregate||s,n.result=s.result}l.push({descriptor:t,caption:n.caption,result:n.result,aggregator:f(n)})}}else l.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}});return l},_normalizeName:function(e){return-1!==e.indexOf(" ")&&(e='["'+e+'"]'),e},_buildGetters:function(e){var t,n,r,i={};for(r=0;e.length>r;r++)n=e[r],t=n.split("&"),t.length>1?i[t[0]]=ht.getter(t[0],!0):i[n]=ht.getter(this._normalizeName(n),!0);return i},_parseDescriptors:function(e){var t,n=I(e),r=j(n.root),i=n.expanded,s=[];for(t=0;i.length>t;t++)s.push(F(i[t].name,r));return{root:r,expanded:s}},process:function(e,n){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D;if(e=e||[],n=n||{},i=n.measures||[],s="rows"===n.measuresAxis,o=n.columns||[],u=n.rows||[],!o.length&&u.length&&(!i.length||i.length&&s)&&(o=u,u=[],s=!1),o.length||u.length||(s=!1),!o.length&&i.length&&(o=r(n.measures)),o=this._parseDescriptors(o),u=this._parseDescriptors(u),a={},f={},l={},h={columnIndex:0},p=this._measureAggregators(n),d=this._buildGetters(o.root),v=this._buildGetters(u.root),m=!1,g=o.expanded,y=u.expanded,E=0!==y.length,_=e.length,D=0,o.root.length||u.root.length)for(m=!0,D=0;_>D;D++)for(b=e[D],w={dataItem:b,index:D},N=a[Ot]||{items:{},aggregates:{}},this._processColumns(p,g,d,f,w,N,h,!E),N.aggregates=this._calculateAggregate(p,w,N),a[Ot]=N,S=0;y.length>S;S++)x=y[S],this._matchDescriptors(b,x,v)?(k=x.names.slice(0,x.expandedIdx).join(""),T=x.names[x.expandedIdx],L=T,c=v[T](b),c=c!==t?""+c:c,T=T+"&"+c,C=k+T,l[C]={uniquePath:k+L,parentName:L,name:T,value:c},A=a[C]||{items:{},aggregates:{}},this._processColumns(p,g,d,f,w,A,h,!0),A.aggregates=this._calculateAggregate(p,w,A),a[C]=A):this._processColumns(p,g,d,f,w,{items:{},aggregates:{}},h,!0);return m&&_?(!(p.length>1)||n.columns&&n.columns.length||(o={root:[],expanded:[]}),O=this._asTuples(f,o,s?[]:p),M=this._asTuples(l,u,s?p:[]),f=O.tuples,l=M.tuples,a=this._toDataArray(a,this._measuresInfo(p,s),M.keys,O.keys)):a=f=l=[],{axes:{columns:{tuples:f},rows:{tuples:l}},data:a}}}),Wt=dt.extend({init:function(e,t){this.transport=t,this.options=t.options||{},this.transport.discover||Et(e.discover)&&(this.discover=e.discover)},read:function(e){return this.transport.read(e)},update:function(e){return this.transport.update(e)},create:function(e){return this.transport.create(e)},destroy:function(e){return this.transport.destroy(e)},discover:function(e){return this.transport.discover?this.transport.discover(e):(e.success({}),t)},catalog:function(n){var r,i=this.options||{};return n===t?(i.connection||{}).catalog:(r=i.connection||{},r.catalog=n,this.options.connection=r,e.extend(this.transport.options,{connection:r}),t)},cube:function(e){var n,r=this.options||{};return e===t?(r.connection||{}).cube:(n=r.connection||{},n.cube=e,this.options.connection=n,wt(!0,this.transport.options,{connection:n}),t)}}),Xt=mt.extend({init:function(t){var i,s=((t||{}).schema||{}).cube,o="columns",u={axes:yt,cubes:yt,catalogs:yt,measures:yt,dimensions:yt,hierarchies:yt,levels:yt,members:yt};s&&(u=e.extend(u,this._cubeSchema(s)),this.cubeBuilder=new zt(s)),mt.fn.init.call(this,wt(!0,{},{schema:u},t)),this.transport=new Wt(this.options.transport||{},this.transport),this._columns=r(this.options.columns),this._rows=r(this.options.rows),i=this.options.measures||[],"[object Object]"===gt.call(i)&&(o=i.axis||"columns",i=i.values||[]),this._measures=n(i),this._measuresAxis=o,this._skipNormalize=0,this._axes={}},_cubeSchema:function(e){return{dimensions:function(){var t,n=[],r=e.dimensions;for(t in r)n.push({name:t,caption:r[t].caption||t,uniqueName:t,defaultHierarchy:t,type:1});return e.measures&&n.push({name:Tt,caption:Tt,uniqueName:Tt,type:2}),n},hierarchies:function(){return[]},measures:function(){var t,n=[],r=e.measures;for(t in r)n.push({name:t,caption:t,uniqueName:t,aggregator:t});return n}}},options:{serverSorting:!0,serverPaging:!0,serverFiltering:!0,serverGrouping:!0,serverAggregates:!0},catalog:function(e){return e===t?this.transport.catalog():(this.transport.catalog(e),this._mergeState({}),this._axes={},this.data([]),t)},cube:function(e){return e===t?this.transport.cube():(this.transport.cube(e),this._axes={},this._mergeState({}),this.data([]),t)},axes:function(){return this._axes},columns:function(e){return e===t?this._columns:(this._skipNormalize+=1,this._clearAxesData=!0,this._columns=r(e),this.query({columns:e,rows:this.rowsAxisDescriptors(),measures:this.measures()}),t)},rows:function(e){return e===t?this._rows:(this._skipNormalize+=1,this._clearAxesData=!0,this._rows=r(e),this.query({columns:this.columnsAxisDescriptors(),rows:e,measures:this.measures()}),t)},measures:function(e){return e===t?this._measures:(this._skipNormalize+=1,this._clearAxesData=!0,this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:n(e)}),t)},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(e,t){var n,i,s,o="columns"===t?"columns":"rows",u="columns"===t?"rows":"columns",f=r(e),l=B(f[f.length-1]);for(this._lastExpanded=o,f=a(this.axes()[o],f,this.measures()),n=0;f.length>n;n++)if(i=B(f[n]),i===l){if(f[n].expand)return;f[n].expand=!0}else f[n].expand=!1;s={},s[o]=f,s[u]=this._descriptorsForAxis(u),this._query(s)},_descriptorsForAxis:function(e){var t=this.axes(),n=this[e]()||[];return t&&t[e]&&t[e].tuples&&t[e].tuples[0]&&(n=s(t[e].tuples||[])),n},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(e,t){this._view=e,t=t||{},t.items=t.items||this._view,this.trigger(St,t)},_query:function(e){var t=this;return e||(this._skipNormalize+=1,this._clearAxesData=!0),t.query(wt({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:this.measures()},e))},query:function(t){var n=this._mergeState(t);return this._data.length&&this.cubeBuilder?(this._params(n),this._updateLocalData(this._pristineData),e.Deferred().resolve().promise()):this.read(n)},_mergeState:function(e){return e=mt.fn._mergeState.call(this,e),e!==t&&(this._measures=n(e.measures),e.columns?e.columns=r(e.columns):e.columns||(this._columns=[]),e.rows?e.rows=r(e.rows):e.rows||(this._rows=[])),e},filter:function(e){return e===t?this._filter:(this._skipNormalize+=1,this._clearAxesData=!0,this._query({filter:e,page:1}),t)},expandColumn:function(e){this._expandPath(e,"columns")},expandRow:function(e){this._expandPath(e,"rows")},success:function(e){var t;this.cubeBuilder&&(t=(this.reader.data(e)||[]).slice(0)),mt.fn.success.call(this,e),t&&(this._pristineData=t)},_processResult:function(e,t){var n,r,i,s,o,u,a,f,l,c,v;return this.cubeBuilder&&(n=this.cubeBuilder.process(e,this._requestData),e=n.data,t=n.axes),f=this.columns(),l=this.rows(),c=t.columns&&t.columns.tuples,f.length||!l.length||!c||!this._rowMeasures().length&&this.measures().length||(t={columns:{},rows:t.columns}),f.length||l.length||"rows"!==this.measuresAxis()||!c||(t={columns:{},rows:t.columns}),this._axes={columns:g(this._axes.columns),rows:g(this._axes.rows)},t={columns:g(t.columns),rows:g(t.rows)},r=this._normalizeTuples(t.columns.tuples,this._axes.columns.tuples,f,this._columnMeasures()),i=this._normalizeTuples(t.rows.tuples,this._axes.rows.tuples,l,this._rowMeasures()),this._skipNormalize-=1,this.cubeBuilder||(e=this._normalizeData({columnsLength:t.columns.tuples.length,rowsLength:t.rows.tuples.length,columnIndexes:r,rowIndexes:i,data:e})),"rows"==this._lastExpanded?(s=t.columns.tuples,u=this._columnMeasures(),o=h(t.columns,this._axes.columns,u),o&&(a="columns",t.columns=o,p(s,o.tuples,t.rows.tuples.length,u,e),this.cubeBuilder||(e=this._normalizeData({columnsLength:m(t.columns.tuples,u),rowsLength:t.rows.tuples.length,data:e})))):"columns"==this._lastExpanded&&(s=t.rows.tuples,u=this._rowMeasures(),o=h(t.rows,this._axes.rows,u),o&&(a="rows",t.rows=o,d(s,o.tuples,t.columns.tuples.length,u,e),this.cubeBuilder||(e=this._normalizeData({columnsLength:m(t.rows.tuples,u),rowsLength:t.columns.tuples.length,data:e})))),this._lastExpanded=null,v=this._mergeAxes(t,e,a),this._axes=v.axes,v.data},_readData:function(e){var t=this.reader.axes(e),n=this.reader.data(e);return this._processResult(n,t)},_createTuple:function(e,t,n){var r,i,s,o,u,a,f,l,c=e.members,h=c.length,p={members:[]},d=0;for(t&&(h-=1);h>d;d++)l=c[d],i=+l.levelNum,s=l.name,o=l.parentName,f=l.caption||s,u=l.hasChildren,a=l.hierarchy,r=l.levelName,n&&(f="All",0===i?o=l.name:i-=1,u=!0,s=a=r=o),p.members.push({name:s,children:[],caption:f,levelName:r,levelNum:""+i,hasChildren:u,hierarchy:a,parentName:n?"":o});return t&&p.members.push({name:t.name,children:[]}),p},_hasRoot:function(e,t,n){var r,i,s,o,u,a,f;if(t.length)return E(t,e).tuple;for(r=e.members,o=!0,a=0,f=r.length;f>a;a++)if(i=r[a],u=+i.levelNum||0,s=n[a],!(0===u||s&&i.name===B(s))){o=!1;break}return o},_mergeAxes:function(e,t,n){var r,i,s,o,u,a=this._columnMeasures(),f=this._rowMeasures(),l=this.axes(),c=e.rows.tuples.length,h=m(l.columns.tuples,a),p=e.columns.tuples.length;return"columns"==n?(p=h,i=e.columns.tuples):(i=C(e.columns.tuples,a),t=L(i,t)),s=b(l.columns.tuples,i,a),"rows"==n?(c=m(e.rows.tuples,f),i=e.rows.tuples):(i=C(e.rows.tuples,f),t=k(i,t)),o=b(l.rows.tuples,i,f),l.columns.tuples=s.tuples,l.rows.tuples=o.tuples,h!==m(l.columns.tuples,a)?(r=s.index+y(s.parsedRoot,s.memberIndex,a),u=h+p,t=this._mergeColumnData(t,r,c,p,u)):(r=o.index+y(o.parsedRoot,o.memberIndex,f),t=this._mergeRowData(t,r,c,p)),{axes:l,data:t}},_mergeColumnData:function(e,t,n,r,i){var s,o,u,a=this.data().toJSON(),f=0,l=Math.max(this._columnMeasures().length,1);for(n=Math.max(n,1),a.length>0&&(f=l,i-=l),s=0;n>s;s++)o=t+s*i,u=e.splice(0,r),u.splice(0,f),[].splice.apply(a,[o,0].concat(u));return a},_mergeRowData:function(e,t,n,r){var i,s,o,u=this.data().toJSON(),a=Math.max(this._rowMeasures().length,1);for(r=Math.max(r,1),u.length>0&&(n-=a,e.splice(0,r*a)),i=0;n>i;i++)o=e.splice(0,r),s=t*r+i*r,[].splice.apply(u,[s,0].concat(o));return u},_columnMeasures:function(){var e=this.measures(),t=[];return"columns"===this.measuresAxis()&&(0===this.columns().length?t=e:e.length>1&&(t=e)),t},_rowMeasures:function(){var e=this.measures(),t=[];return"rows"===this.measuresAxis()&&(0===this.rows().length?t=e:e.length>1&&(t=e)),t},_updateLocalData:function(e,t){this.cubeBuilder&&(t&&(this._requestData=t),e=this._processResult(e)),this._data=this._observe(e),this._ranges=[],this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},data:function(e){var n=this;return e===t?n._data:(this._pristineData=e.slice(0),this._updateLocalData(e,{columns:this.columns(),rows:this.rows(),measures:this.measures()}),t)},_normalizeTuples:function(e,t,n,r){var i,s,o,u=r.length||1,a=0,f=[],l={},c=0;if(e.length){if(0>=this._skipNormalize&&!this._hasRoot(e[0],t,n)){for(this._skipNormalize=0;u>a;a++)f.push(this._createTuple(e[0],r[a],!0)),l[a]=a;e.splice.apply(e,[0,e.length].concat(f).concat(e)),a=u}if(r.length)for(o=i=e[a],s=i.members.length-1;i;){if(c>=u&&(c=0),i.members[s].name!==r[c].name&&(e.splice(a,0,this._createTuple(i,r[c])),l[a]=a),a+=1,c+=1,i=e[a],u>c&&(!i||ut(o,s-1)!==ut(i,s-1))){for(;u>c;c++)e.splice(a,0,this._createTuple(o,r[c])),l[a]=a,a+=1;i=e[a]}o=i}return l}},_normalizeData:function(e){var n,r,i=e.data,s=e.columnIndexes||{},o=e.rowIndexes||{},u=e.columnsLength||1,a=u*(e.rowsLength||1),f=0,l=0,c=0,h=Array(a);if(i.length===a)return i;for(;a>f;f++){for(;o[parseInt(f/u,10)]!==t;)for(r=0;u>r;r++)h[f]={value:"",fmtValue:"",ordinal:f},f+=1;for(;s[f%u]!==t;)h[f]={value:"",fmtValue:"",ordinal:f},f+=1;if(n=i[l]){if(n.ordinal-c>1)for(c+=1;n.ordinal>c;c++)h[f]={value:"",fmtValue:"",ordinal:f},f+=1;c=n.ordinal,n.ordinal=f,h[f]=n,l+=1}else h[f]={value:"",fmtValue:"",ordinal:f}}return h},discover:function(t,n){var r=this,i=r.transport;return e.Deferred(function(e){i.discover(wt({success:function(t){t=r.reader.parse(t),r._handleCustomErrors(t)||(n&&(t=n(t)),e.resolve(t))},error:function(t,n,i){e.reject(t),r.error(t,n,i)}},t))}).promise().done(function(){r.trigger("schemaChange")})},schemaMeasures:function(){var e=this;return e.discover({data:{command:"schemaMeasures",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.measures(t)})},schemaKPIs:function(){var e=this;return e.discover({data:{command:"schemaKPIs",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.kpis(t)})},schemaDimensions:function(){var e=this;return e.discover({data:{command:"schemaDimensions",restrictions:{catalogName:e.transport.catalog(),cubeName:e.transport.cube()}}},function(t){return e.reader.dimensions(t)})},schemaHierarchies:function(e){var t=this;return t.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),dimensionUniqueName:e}}},function(e){return t.reader.hierarchies(e)})},schemaLevels:function(e){var t=this;return t.discover({data:{command:"schemaLevels",restrictions:{catalogName:t.transport.catalog(),cubeName:t.transport.cube(),hierarchyUniqueName:e}}},function(e){return t.reader.levels(e)})},schemaCubes:function(){var e=this;return e.discover({data:{command:"schemaCubes",restrictions:{catalogName:e.transport.catalog()}}},function(t){return e.reader.cubes(t)})},schemaCatalogs:function(){var e=this;return e.discover({data:{command:"schemaCatalogs"}},function(t){return e.reader.catalogs(t)})},schemaMembers:function(e){var t=this;return t.discover({data:{command:"schemaMembers",restrictions:wt({catalogName:t.transport.catalog(),cubeName:t.transport.cube()},e)}},function(e){return t.reader.members(e)})},_params:function(e){this._clearAxesData&&(this._axes={},this._data=this._observe([]),this._clearAxesData=!1,this.trigger(Ct));var t=mt.fn._params.call(this,e);return t=wt({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},t),this.cubeBuilder&&(this._requestData=t),t}});Xt.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},n=t.data;if(t.data=n,!(t instanceof Xt)&&t instanceof ht.data.DataSource)throw Error("Incorrect DataSource type. Only PivotDataSource instances are supported");return t instanceof Xt?t:new Xt(t)},V={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") = 0',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', NOT {0}.CurrentMember.MEMBER_CAPTION = "{1}"'},$={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"},J={read:function(e){var t,n,r,i,s,o='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';return o+="SELECT NON EMPTY {",t=e.columns||[],n=e.rows||[],r=e.measures||[],i="rows"===e.measuresAxis,s=e.sort||[],!t.length&&n.length&&(!r.length||r.length&&i)&&(t=n,n=[],i=!1),t.length||n.length||(i=!1),t.length?o+=q(t,i?[]:r,s):r.length&&!i&&(o+=H(r).join(",")),o+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(n.length||i&&r.length>1)&&(o+=", NON EMPTY {",o+=n.length?q(n,i?r:[],s):H(r).join(","),o+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),e.filter?(o+=" FROM ",o+="(",o+=U(e.filter,e.connection.cube),o+=")"):o+=" FROM ["+e.connection.cube+"]",1==r.length&&t.length&&(o+=" WHERE ("+H(r).join(",")+")"),o+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>",o.replace(/\&/g,"&amp;")},discover:function(t){t=t||{};var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+($[t.command]||t.command)+"</RequestType>",n+="<Restrictions>"+z("RestrictionList",t.restrictions,!0)+"</Restrictions>",t.connection&&t.connection.catalog&&(t.properties=e.extend({},{Catalog:t.connection.catalog},t.properties)),n+="<Properties>"+z("PropertyList",t.properties)+"</Properties>",n+="</Discover></Body></Envelope>"}},K=ht.data.RemoteTransport.extend({init:function(e){var t=e;e=this.options=wt(!0,{},this.options,e),ht.data.RemoteTransport.call(this,e),Et(t.discover)?this.discover=t.discover:"string"==typeof t.discover?this.options.discover={url:t.discover}:t.discover||(this.options.discover=this.options.read)},setup:function(t,n){return t.data=t.data||{},e.extend(!0,t.data,{connection:this.options.connection}),ht.data.RemoteTransport.fn.setup.call(this,t,n)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(e,t){return J[t](e,t)}},discover:function(t){return e.ajax(this.setup(t,"discover"))}}),Q={cubes:{name:ht.getter("CUBE_NAME['#text']",!0),caption:ht.getter("CUBE_CAPTION['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0),type:ht.getter("CUBE_TYPE['#text']",!0)},catalogs:{name:ht.getter("CATALOG_NAME['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0)},measures:{name:ht.getter("MEASURE_NAME['#text']",!0),caption:ht.getter("MEASURE_CAPTION['#text']",!0),uniqueName:ht.getter("MEASURE_UNIQUE_NAME['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0),aggregator:ht.getter("MEASURE_AGGREGATOR['#text']",!0),groupName:ht.getter("MEASUREGROUP_NAME['#text']",!0),displayFolder:ht.getter("MEASURE_DISPLAY_FOLDER['#text']",!0),defaultFormat:ht.getter("DEFAULT_FORMAT_STRING['#text']",!0)},kpis:{name:ht.getter("KPI_NAME['#text']",!0),caption:ht.getter("KPI_CAPTION['#text']",!0),value:ht.getter("KPI_VALUE['#text']",!0),goal:ht.getter("KPI_GOAL['#text']",!0),status:ht.getter("KPI_STATUS['#text']",!0),trend:ht.getter("KPI_TREND['#text']",!0),statusGraphic:ht.getter("KPI_STATUS_GRAPHIC['#text']",!0),trendGraphic:ht.getter("KPI_TREND_GRAPHIC['#text']",!0),description:ht.getter("KPI_DESCRIPTION['#text']",!0),groupName:ht.getter("MEASUREGROUP_NAME['#text']",!0)},dimensions:{name:ht.getter("DIMENSION_NAME['#text']",!0),caption:ht.getter("DIMENSION_CAPTION['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0),uniqueName:ht.getter("DIMENSION_UNIQUE_NAME['#text']",!0),defaultHierarchy:ht.getter("DEFAULT_HIERARCHY['#text']",!0),type:ht.getter("DIMENSION_TYPE['#text']",!0)},hierarchies:{name:ht.getter("HIERARCHY_NAME['#text']",!0),caption:ht.getter("HIERARCHY_CAPTION['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0),uniqueName:ht.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),dimensionUniqueName:ht.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:ht.getter("HIERARCHY_DISPLAY_FOLDER['#text']",!0),origin:ht.getter("HIERARCHY_ORIGIN['#text']",!0),defaultMember:ht.getter("DEFAULT_MEMBER['#text']",!0)},levels:{name:ht.getter("LEVEL_NAME['#text']",!0),caption:ht.getter("LEVEL_CAPTION['#text']",!0),description:ht.getter("DESCRIPTION['#text']",!0),uniqueName:ht.getter("LEVEL_UNIQUE_NAME['#text']",!0),dimensionUniqueName:ht.getter("DIMENSION_UNIQUE_NAME['#text']",!0),displayFolder:ht.getter("LEVEL_DISPLAY_FOLDER['#text']",!0),orderingProperty:ht.getter("LEVEL_ORDERING_PROPERTY['#text']",!0),origin:ht.getter("LEVEL_ORIGIN['#text']",!0),hierarchyUniqueName:ht.getter("HIERARCHY_UNIQUE_NAME['#text']",!0)},members:{name:ht.getter("MEMBER_NAME['#text']",!0),caption:ht.getter("MEMBER_CAPTION['#text']",!0),uniqueName:ht.getter("MEMBER_UNIQUE_NAME['#text']",!0),dimensionUniqueName:ht.getter("DIMENSION_UNIQUE_NAME['#text']",!0),hierarchyUniqueName:ht.getter("HIERARCHY_UNIQUE_NAME['#text']",!0),levelUniqueName:ht.getter("LEVEL_UNIQUE_NAME['#text']",!0),childrenCardinality:ht.getter("CHILDREN_CARDINALITY['#text']",!0)}},G=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"],Y=ht.data.XmlDataReader.extend({init:function(e){ht.data.XmlDataReader.call(this,e),this._extend(e)},_extend:function(e){for(var t,n,r=0,i=G.length;i>r;r++)t=G[r],n=e[t],n&&n!==yt&&(this[t]=n)},parse:function(e){var t=ht.data.XmlDataReader.fn.parse(e.replace(/<(\/?)(\w|-)+:/g,"<$1"));return ht.getter("['Envelope']['Body']",!0)(t)},errors:function(e){var t=ht.getter("['Fault']",!0)(e);return t?[{faultstring:ht.getter("faultstring['#text']",!0)(t),faultcode:ht.getter("faultcode['#text']",!0)(t)}]:null},axes:function(e){var t,n,r,i;for(e=ht.getter('ExecuteResponse["return"].root',!0)(e),t=W(ht.getter("Axes.Axis",!0)(e)),r={columns:{},rows:{}},i=0;t.length>i;i++)n=t[i],"sliceraxis"!==n["@name"].toLowerCase()&&(r.columns.tuples?r.rows=X(n):r.columns=X(n));return r},data:function(e){var t,n,r,i,s,o;for(e=ht.getter('ExecuteResponse["return"].root',!0)(e),t=W(ht.getter("CellData.Cell",!0)(e)),n=[],r=ht.getter("['@CellOrdinal']"),i=ht.getter("Value['#text']"),s=ht.getter("FmtValue['#text']"),o=0;t.length>o;o++)n.push({value:i(t[o]),fmtValue:s(t[o]),ordinal:parseInt(r(t[o]),10)});return n},_mapSchema:function(e,t){var n,r,i,s,o;for(e=ht.getter('DiscoverResponse["return"].root',!0)(e),n=W(ht.getter("row",!0)(e)),r=[],i=0;n.length>i;i++){s={};for(o in t)s[o]=t[o](n[i]);r.push(s)}return r},measures:function(e){return this._mapSchema(e,Q.measures)},kpis:function(e){return this._mapSchema(e,Q.kpis)},hierarchies:function(e){return this._mapSchema(e,Q.hierarchies)},levels:function(e){return this._mapSchema(e,Q.levels)},dimensions:function(e){return this._mapSchema(e,Q.dimensions)},cubes:function(e){return this._mapSchema(e,Q.cubes)},catalogs:function(e){return this._mapSchema(e,Q.catalogs)},members:function(e){return this._mapSchema(e,Q.members)}}),wt(!0,ht.data,{PivotDataSource:Xt,XmlaTransport:K,XmlaDataReader:Y,PivotCubeBuilder:zt,transports:{xmla:K},readers:{xmla:Y}}),Z=function(e,t){if(!e)return null;for(var n=0,r=e.length;r>n;n++)if(e[n].field===t)return e[n];return null},et=function(e,t){var n,r,i=[];for(n=0,r=e.length;r>n;n++)e[n].field!==t&&i.push(e[n]);return i},ht.ui.PivotSettingTarget=vt.extend({init:function(t,n){var r=this;vt.fn.init.call(r,t,n),r.element.addClass("k-pivot-setting"),r.dataSource=ht.data.PivotDataSource.create(n.dataSource),r._refreshHandler=e.proxy(r.refresh,r),r.dataSource.first(St,r._refreshHandler),n.template||(r.options.template="<div data-"+ht.ns+'name="${data.name || data}">${data.name || data}'+(r.options.enabled?'<a class="k-button k-button-icon k-button-bare"><span class="k-icon k-setting-delete"></span></a>':"")+"</div>"),r.template=ht.template(r.options.template),r.emptyTemplate=ht.template(r.options.emptyTemplate),r._sortable(),r.element.on("click"+At,".k-button,.k-item",function(t){var n=e(t.target),i=n.closest("["+ht.attr("name")+"]").attr(ht.attr("name"));i&&(n.hasClass("k-setting-delete")?r.remove(i):r.options.sortable&&n[0]===t.currentTarget&&r.sort({field:i,dir:n.find(".k-i-sort-asc")[0]?"desc":"asc"}))}),(n.filterable||n.sortable)&&(r.fieldMenu=new pt.PivotFieldMenu(r.element,{messages:r.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:n.filterable,sortable:n.sortable,dataSource:r.dataSource})),r.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:!1,sortable:!1,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:!0,messages:{empty:"Drop Fields Here"}},setDataSource:function(e){this.dataSource.unbind(St,this._refreshHandler),this.dataSource=this.options.dataSource=e,this.fieldMenu&&this.fieldMenu.setDataSource(e),e.first(St,this._refreshHandler),this.refresh()},_sortable:function(){var e=this;e.options.enabled&&(this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,filter:">:not(.k-empty)",hint:e.options.hint,cursor:"move",start:function(e){e.item.focus().blur()},change:function(t){var n=t.item.attr(ht.attr("name"));"receive"==t.action?e.add(n):"remove"==t.action?e.remove(n):"sort"==t.action&&e.move(n,t.newIndex)}}).data("kendoSortable"))},_indexOf:function(e,t){var n,r,i=-1;for(n=0,r=t.length;r>n;n++)if(B(t[n])===e){i=n;break}return i},_isKPI:function(e){return"kpi"===e.type||e.measure},validate:function(e){var t,n,r=2==e.type||"aggregator"in e||this._isKPI(e);return r?"measures"===this.options.setting:"measures"===this.options.setting?r:(t=this.dataSource[this.options.setting](),n=e.defaultHierarchy||e.uniqueName,this._indexOf(n,t)>-1?!1:(t=this.dataSource["columns"===this.options.setting?"rows":"columns"](),this._indexOf(n,t)>-1?!1:!0))},add:function(t){var n,r,i=this.dataSource[this.options.setting]();for(t=e.isArray(t)?t.slice(0):[t],n=0,r=t.length;r>n;n++)-1!==this._indexOf(t[n],i)&&(t.splice(n,1),n-=1,r-=1);t.length&&(i=i.concat(t),this.dataSource[this.options.setting](i))},move:function(e,t){var n=this.dataSource[this.options.setting](),r=this._indexOf(e,n);r>-1&&(e=n.splice(r,1)[0],n.splice(t,0,e),this.dataSource[this.options.setting](n))},remove:function(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t);n>-1&&(t.splice(n,1),this.dataSource[this.options.setting](t))},sort:function(e){var t=this.options.sortable,n=t===!0||t.allowUnsort,r=n&&"asc"===e.dir,i=this.dataSource.sort()||[],s=et(i,e.field);r&&i.length!==s.length&&(e=null),e&&s.push(e),this.dataSource.sort(s)},refresh:function(){var e,n="",r=this.dataSource[this.options.setting](),i=r.length,s=0;if(i)for(;i>s;s++)e=r[s],e=e.name===t?{name:e}:e,n+=this.template(wt({sortIcon:this._sortIcon(e.name)},e));else n=this.emptyTemplate(this.options.messages.empty);this.element.html(n)},destroy:function(){vt.fn.destroy.call(this),this.dataSource.unbind(St,this._refreshHandler),this.element.off(At),this.sortable&&this.sortable.destroy(),this.fieldMenu&&this.fieldMenu.destroy(),this.element=null,this._refreshHandler=null},_sortIcon:function(e){var t=this.dataSource.sort(),n=Z(t,B(e)),r="";return n&&(r="k-i-sort-"+n.dir),r}}),tt=vt.extend({init:function(n,r){var i,s,o=this;vt.fn.init.call(o,n,r),o._dataSource(),o._bindConfigurator(),o._wrapper(),o._createLayout(),o._columnBuilder=i=new at,o._rowBuilder=s=new ft,o._contentBuilder=new lt,o._templates(),o.columnsHeader.add(o.rowsHeader).on("click","span.k-icon",function(){var n,r,u,a,f=e(this),l=i,c="expandColumn",h=f.attr(ht.attr("path")),p={axis:"columns",path:e.parseJSON(h)};f.parent().is("td")&&(l=s,c="expandRow",p.axis="rows"),r=f.hasClass(Ht),u=l.metadata[h],a=u.expanded===t,n=r?Pt:Dt,o.trigger(n,p)||(l.metadata[h].expanded=!r,f.toggleClass(Ht,!r).toggleClass(Bt,r),!r&&a?o.dataSource[c](p.path):o.refresh())}),o._scrollable(),o.options.autoBind&&o.dataSource.fetch(),ht.notify(o)},events:[Mt,_t,Dt,Pt],options:{name:"PivotGrid",autoBind:!0,reorderable:!0,filterable:!1,sortable:!1,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var e=this.options.columnHeaderTemplate,t=this.options.rowHeaderTemplate,n=this.options.dataCellTemplate,r=this.options.kpiStatusTemplate,i=this.options.kpiTrendTemplate;this._columnBuilder.template=ht.template(e||jt,{useWithBlock:!!e}),this._contentBuilder.dataTemplate=ht.template(n||qt,{useWithBlock:!!n}),this._contentBuilder.kpiStatusTemplate=ht.template(r||Ft,{useWithBlock:!!r}),this._contentBuilder.kpiTrendTemplate=ht.template(i||It,{useWithBlock:!!i}),this._rowBuilder.template=ht.template(t||jt,{useWithBlock:!!t})},_bindConfigurator:function(){var t=this.options.configurator;t&&e(t).kendoPivotConfigurator("setDataSource",this.dataSource)},cellInfoByElement:function(t){return t=e(t),this.cellInfo(t.index(),t.parent("tr").index())},cellInfo:function(e,t){var n,r=this._contentBuilder,i=r.columnIndexes[e||0],s=r.rowIndexes[t||0];return i&&s?(n=s.index*r.rowLength+i.index,{columnTuple:i.tuple,rowTuple:s.tuple,measure:i.measure||s.measure,dataItem:this.dataSource.view()[n]}):null},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measuresTarget&&this.measuresTarget.setDataSource(e),this.rowsTarget&&this.rowsTarget.setDataSource(e),this.columnsTarget&&this.columnsTarget.setDataSource(e),this._bindConfigurator(),this.options.autoBind&&e.fetch()},setOptions:function(e){vt.fn.setOptions.call(this,e),this._templates()},_dataSource:function(){var t=this,n=t.options.dataSource;n=e.isArray(n)?{data:n}:n,t.dataSource&&this._refreshHandler?t.dataSource.unbind(St,t._refreshHandler).unbind(Ct,t._stateResetHandler).unbind(Nt,t._progressHandler).unbind(xt,t._errorHandler):(t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t),t._stateResetHandler=e.proxy(t._stateReset,t),t._errorHandler=e.proxy(t._error,t)),t.dataSource=ht.data.PivotDataSource.create(n).bind(St,t._refreshHandler).bind(Nt,t._progressHandler).bind(Ct,t._stateResetHandler).bind(xt,t._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_stateReset:function(){this._columnBuilder.reset(),this._rowBuilder.reset()},_wrapper:function(){var e=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot"),e&&this.wrapper.css("height",e)},_measureFields:function(){this.measureFields=e(Lt).addClass("k-pivot-toolbar k-header k-settings-measures"),this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(t,n){var r='<span tabindex="0" class="k-button" data-'+ht.ns+'name="${data.name}">${data.name}',i=n.sortable,s="";return i&&(s+="#if (data.sortIcon) {#",s+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>',s+="#}#"),(n.filterable||i)&&(s+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'),this.options.reorderable&&(s+='<span class="k-icon k-si-close k-setting-delete"></span>'),s&&(r+='<span class="k-field-actions">'+s+"</span>"),r+="</span>",new ht.ui.PivotSettingTarget(t,e.extend({template:r,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},n))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}}),this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var t=this,n=e(Rt),r=n.find(".k-pivot-rowheaders"),i=n.find(".k-pivot-table"),s=e(Lt).addClass("k-grid k-widget");t._measureFields(),t.columnFields=e(Lt).addClass("k-pivot-toolbar k-header k-settings-columns"),t.rowFields=e(Lt).addClass("k-pivot-toolbar k-header k-settings-rows"),t.columnsHeader=e('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />'),t.columnsHeader.parent().css("padding-right",ht.support.scrollbar()),t.rowsHeader=e('<div class="k-grid k-widget k-alt"/>'),t.content=e('<div class="k-grid-content" />'),r.append(t.measureFields),r.append(t.rowFields),r.append(t.rowsHeader),s.append(t.columnsHeader.parent()),s.append(t.content),i.append(t.columnFields),i.append(s),t.wrapper.append(n),t.columnsHeaderTree=new ht.dom.Tree(t.columnsHeader[0]),t.rowsHeaderTree=new ht.dom.Tree(t.rowsHeader[0]),t.contentTree=new ht.dom.Tree(t.content[0]),t._initSettingTargets()},_progress:function(e){ht.ui.progress(this.wrapper,e)},_resize:function(){this.columnsHeader.children("table"),this.content.children("table"),this.content[0].firstChild&&(this._setSectionsWidth(),this._setSectionsHeight(),this._setContentWidth(),this._setContentHeight())},_setSectionsWidth:function(){var e=this.rowsHeader,t=e.parent(".k-pivot-rowheaders").width(kt),n=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());n=Math.max(e.children("table").width(),n),t.width(n)},_setSectionsHeight:function(){var e=this.measureFields.height(kt).height(),t=this.columnFields.height(kt).height(),n=this.rowFields.height(kt).innerHeight(),r=this.columnsHeader.height(kt).innerHeight(),i=n-this.rowFields.height(),s=t>e?t:e,o=r>n?r:n;this.measureFields.height(s),this.columnFields.height(s),this.rowFields.height(o-i),this.columnsHeader.height(o)},_setContentWidth:function(){var e=this.content.find("table"),t=this.columnsHeader.children("table"),n=e.children("colgroup").children().length,r=n*this.options.columnWidth,i=Math.ceil(r/this.content.width()*100);100>i&&(i=100),e.add(t).css("width",i+"%"),this._resetColspan(t)},_setContentHeight:function(){var e=this,n=e.content,r=e.rowsHeader,i=e.wrapper.innerHeight(),s=ht.support.scrollbar(),o=n[0].offsetHeight===n[0].clientHeight,u=e.options.height;if(e.wrapper.is(":visible")){if(!i||!u)return o&&(s=0),n.height("auto"),r.height(n.height()-s),t;i-=e.columnFields.outerHeight(),i-=e.columnsHeader.outerHeight(),2*s>=i&&(i=2*s+1,o||(i+=s)),n.height(i),o&&(s=0),r.height(i-s)}},_resetColspan:function(e){var n=this,r=e.children("tbody").children(":first").children(":first");n._colspan===t&&(n._colspan=r.attr("colspan")),r.attr("colspan",1),clearTimeout(n._layoutTimeout),n._layoutTimeout=setTimeout(function(){r.attr("colspan",n._colspan),n._colspan=t})},_axisMeasures:function(e){var t=[],n=this.dataSource,r=n.measures(),i=r.length>1||r[0]&&r[0].type;return n.measuresAxis()===e&&(0===n[e]().length||i)&&(t=r),t},items:function(){return[]},refresh:function(){var e,t=this,n=t.dataSource,r=n.axes(),i=(r.columns||{}).tuples||[],s=(r.rows||{}).tuples||[],o=t._columnBuilder,u=t._rowBuilder,a={},f={};t.trigger(Mt,{action:"rebind"})||(o.measures=t._axisMeasures("columns"),t.columnsHeaderTree.render(o.build(i)),t.rowsHeaderTree.render(u.build(s)),a={indexes:o._indexes,measures:o.measures,metadata:o.metadata},f={indexes:u._indexes,measures:this._axisMeasures("rows"),metadata:u.metadata},t.contentTree.render(t._contentBuilder.build(n.view(),a,f)),t._resize(),t.touchScroller?t.touchScroller.contentResized():(e=ht.touchScroller(t.content),e&&e.movable&&(t.touchScroller=e,e.movable.bind("change",function(e){t.columnsHeader.scrollLeft(-e.sender.x),t.rowsHeader.scrollTop(-e.sender.y)}))),t._progress(!1),t.trigger(_t))},_scrollable:function(){var t=this,n=t.columnsHeader,r=t.rowsHeader;t.content.scroll(function(){n.scrollLeft(this.scrollLeft),r.scrollTop(this.scrollTop)}),r.bind("DOMMouseScroll"+At+" mousewheel"+At,e.proxy(t._wheelScroll,t))},_wheelScroll:function(t){var n,r;t.ctrlKey||(n=ht.wheelDeltaY(t),r=this.content.scrollTop(),n&&(t.preventDefault(),e(t.currentTarget).one("wheel"+At,!1),this.rowsHeader.scrollTop(r+ -n),this.content.scrollTop(r+ -n)))}}),nt=ht.dom.element,rt=ht.dom.html,it=ht.dom.text,st=function(e,t){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:e,parentMember:0!==t}},ot=function(e,t){for(var n=[],r=0;t>=r;r++)n.push(e.members[r].name);return n},ut=function(e,t){for(var n="",r=0;t>=r;r++)n+=e.members[r].name;return n},at=dt.extend({init:function(){this.measures=1,this.metadata={}},build:function(e){var t=this._tbody(e),n=this._colGroup();return[nt("table",null,[n,t])]},reset:function(){this.metadata={}},_colGroup:function(){for(var e=this._rowLength(),t=[],n=0;e>n;n++)t.push(nt("col",null));return nt("colgroup",null,t)},_tbody:function(e){var t=e[0];return this.map={},this.rows=[],this.rootTuple=t,this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(nt("tr",null,[nt("th",null,[rt("&nbsp;")])])),nt("tbody",null,this.rows)},_normalize:function(){for(var e,t,n,r,i,s=this.rows,o=s.length,u=0;o>u;u++)if(e=s[u],1!==e.rowSpan)for(r=e.children,n=0,t=r.length;t>n;n++)i=r[n],i.tupleAll&&(i.attr.rowSpan=e.rowSpan)},_rowIndex:function(e){for(var t=this.rows,n=t.length,r=0;n>r&&t[r]!==e;r++);return r},_rowLength:function(){var e=this.rows[0]?this.rows[0].children:[],t=e.length,n=0,r=0;if(t)for(;t>r;r++)n+=e[r].attr.colSpan||1;return n||(n=this.measures),n},_row:function(e,t,n){var r,i,s=this.rootTuple.members[t].name,o=e.members[t].levelNum,u=s+o,a=this.map,f=a[u];return f?(f.notFirst=!1,f.parentMember&&f.parentMember===n||(f.parentMember=n,f.collapsed=0,f.colSpan=0)):(f=nt("tr",null,[]),f.parentMember=n,f.collapsed=0,f.colSpan=0,f.rowSpan=1,a[u]=f,r=a[s+(+o-1)],r&&(i=r.children,f.notFirst=i[1]&&-1===i[1].attr.className.indexOf("k-alt")?!0:r.notFirst),this.rows.splice(this._rowIndex(r)+1,0,f)),f},_measures:function(e,t,n){var r,i,s,o=this.map,u=o.measureRow;for(u||(u=nt("tr",null,[]),o.measureRow=u,this.rows.push(u)),i=0,s=e.length;s>i;i++)r=e[i],u.children.push(this._cell(n||"",[this._content(r,t)],r));return s},_content:function(e,t){return rt(this.template({member:e,tuple:t}))},_cell:function(e,t,n){var r=nt("th",{className:"k-header"+e},t);return r.value=n.caption||n.name,r},_buildRows:function(e,n,r){var i,s,o,u,a,f,l,c,h,p,d=e.members,v=d[n],m=d[n+1],g=[],y=0,b=0,w=0;if(v.measure)return this._measures(v.children,e),t;if(c=ht.stringify(ot(e,n)),i=this._row(e,n,r),o=v.children,u=o.length,h=this.metadata[c],h||(this.metadata[c]=h=st(+v.levelNum,n)),this._indexes.push({path:c,tuple:e}),v.hasChildren&&(h.expanded===!1&&(b=h.maxChildren,i.collapsed+=b,h.children=0,u=0),l={className:"k-icon "+(u?Ht:Bt)},l[ht.attr("path")]=c,g.push(nt("span",l))),g.push(this._content(v,e)),a=this._cell(i.notFirst?" k-first":"",g,v),i.children.push(a),i.colSpan+=1,u){for(f=this._cell(" k-alt",[this._content(v,e)],v),i.children.push(f);u>y;y++)s=this._buildRows(o[y],n,v);p=s.colSpan,b=s.collapsed,a.attr.colSpan=p,h.children=p,h.members=1,i.colSpan+=p,i.collapsed+=b,i.rowSpan=s.rowSpan+1,m&&(m.measure?p=this._measures(m.children,e," k-alt"):(s=this._buildRows(e,n+1),p=s.colSpan,i.collapsed+=s.collapsed,w=s.collapsed),f.attr.colSpan=p,p-=1,h.members+=p,i.colSpan+=p)}else m&&(m.measure?p=this._measures(m.children,e):(s=this._buildRows(e,n+1),p=s.colSpan,i.collapsed+=s.collapsed,w=s.collapsed),h.members=p,p>1&&(a.attr.colSpan=p,i.colSpan+=p-1));return h.members+w>h.maxMembers&&(h.maxMembers=h.members+w),o=h.children+b,o>h.maxChildren&&(h.maxChildren=o),(f||a).tupleAll=!0,i}}),ft=dt.extend({init:function(){this.metadata={}},build:function(e){var t=this._tbody(e),n=this._colGroup();return[nt("table",null,[n,t])]},reset:function(){this.metadata={}},_rowLength:function(){for(var e=this.rows[0].children,t=0,n=0,r=e[n];r;)t+=r.attr.colSpan||1,r=e[++n];return t},_colGroup:function(){for(var e=this._rowLength(),t=[],n=0;e>n;n++)t.push(nt("col",null));return nt("colgroup",null,t)},_tbody:function(e){var t=e[0];return this.rootTuple=t,this.rows=[],this.map={},this._indexes=[],t?(this._buildRows(t,0),this._normalize()):this.rows.push(nt("tr",null,[nt("td",null,[rt("&nbsp;")])])),nt("tbody",null,this.rows)},_normalize:function(){for(var e,t,n,r,i=this.rows,s=i.length,o=0,u=this.rootTuple.members,a=u[0].name,f=u.length,l=0,c=this.map;s>o;o++)for(e=i[o],l=0;f>l;l++)n=this[u[l].name],t=e.colSpan["dim"+l],t&&n>t.levelNum&&(t.attr.colSpan=n-t.levelNum+1);e=c[a],r=c[a+"all"],e&&(e.children[0].attr.className="k-first"),r&&(r.children[0].attr.className+=" k-first")},_row:function(e){var t=nt("tr",null,e);return t.rowSpan=1,t.colSpan={},this.rows.push(t),t},_content:function(e,t){return rt(this.template({member:e,tuple:t}))},_cell:function(e,t,n){var r=nt("td",{className:e},t);return r.value=n.caption||n.name,r},_buildRows:function(e,t){var n,r,i,s,o,u,a,f,l,c=this.map,h=e.members,p=h[t],d=h[t+1],v=p.children,m=v.length,g=+p.levelNum+1,y=this.rootTuple.members[t].name,b=ot(e,t-1).join(""),w=b+(p.parentName||""),E=c[w+"all"]||c[w],S=[];if(!E||E.hasChild?E=this._row():E.hasChild=!0,p.measure){for(o=E.allCell?"k-grid-footer":"",E.children.push(this._cell(o,[this._content(v[0],e)],v[0])),E.rowSpan=m,l=1;m>l;l++)this._row([this._cell(o,[this._content(v[l],e)],v[l])]);return E}if(c[b+p.name]=E,n=ht.stringify(ot(e,t)),s=this.metadata[n],s||(this.metadata[n]=s=st(g-1,t)),this._indexes.push({path:n,tuple:e}),p.hasChildren&&(s.expanded===!1&&(m=0,s.children=0),u={className:"k-icon "+(m?Ht:Bt)},u[ht.attr("path")]=n,S.push(nt("span",u))),S.push(this._content(p,e)),o=E.allCell&&!m?"k-grid-footer":"",f=this._cell(o,S,p),f.levelNum=g,E.children.push(f),E.colSpan["dim"+t]=f,(!this[y]||g>this[y])&&(this[y]=g),m){for(E.allCell=!1,E.hasChild=!1,l=0;m>l;l++)r=this._buildRows(v[l],t),E!==r&&(E.rowSpan+=r.rowSpan);E.rowSpan>1&&(f.attr.rowSpan=E.rowSpan),s.children=E.rowSpan,a=this._cell("k-grid-footer",[this._content(p,e)],p),a.levelNum=g,i=this._row([a]),i.colSpan["dim"+t]=a,i.allCell=!0,c[b+p.name+"all"]=i,d&&(r=this._buildRows(e,t+1),a.attr.rowSpan=r.rowSpan),E.rowSpan+=i.rowSpan,s.members=i.rowSpan}else d&&(E.hasChild=!1,this._buildRows(e,t+1),(a||f).attr.rowSpan=E.rowSpan,s.members=E.rowSpan);return s.children>s.maxChildren&&(s.maxChildren=s.children),s.members>s.maxMembers&&(s.maxMembers=s.members),E}}),lt=dt.extend({init:function(){this.columnAxis={},this.rowAxis={}},build:function(e,n,r){var i,s,o=n.indexes[0],u=n.metadata[o?o.path:t];return this.columnAxis=n,this.rowAxis=r,this.data=e,this.rowLength=u?u.maxChildren+u.maxMembers:n.measures.length||1,this.rowLength||(this.rowLength=1),i=this._tbody(),s=this._colGroup(),[nt("table",null,[s,i])]},_colGroup:function(){var e=this.columnAxis.measures.length||1,t=[],n=0;for(this.rows[0]&&(e=this.rows[0].children.length);e>n;n++)t.push(nt("col",null));return nt("colgroup",null,t)},_tbody:function(){return this.rows=[],this.data[0]?(this.columnIndexes=this._indexes(this.columnAxis,this.rowLength),this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength)),this._buildRows()):this.rows.push(nt("tr",null,[nt("td",null,[rt("&nbsp;")])])),nt("tbody",null,this.rows)},_indexes:function(e,n){var r,i,s,o,u,a=[],f=e.indexes,l=e.metadata,c=e.measures,h=c.length||1,p=0,d=0,v=0,m=f.length;if(!m){for(s=0;h>s;s++)a[s]={index:s,measure:c[s],tuple:null};return a}for(;m>v;v++){if(r=f[v],i=l[r.path],o=i.children+i.members,u=0,o&&(o-=h),i.expanded===!1&&i.children!==i.maxChildren&&(u=i.maxChildren),i.parentMember&&0===i.levelNum&&(o=-1),o>-1){for(s=0;h>s;s++)a[o+d+s]={children:o,index:p,measure:c[s],tuple:r.tuple},p+=1;for(;a[d]!==t;)d+=1}if(d===n)break;p+=u}return a},_buildRows:function(){for(var e=this.rowIndexes,t=e.length,n=0;t>n;n++)this.rows.push(this._buildRow(e[n]))},_buildRow:function(e){for(var t,n,r,i,s,o,u,a=e.index*this.rowLength,f=this.columnIndexes,l=f.length,c=[],h=0;l>h;h++)t=f[h],s={},t.children&&(s.className="k-alt"),i="",o=this.data[a+t.index],u=t.measure||e.measure,n={columnTuple:t.tuple,rowTuple:e.tuple,measure:u,dataItem:o},""!==o.value&&u&&u.type&&("status"===u.type?i=this.kpiStatusTemplate(n):"trend"===u.type&&(i=this.kpiTrendTemplate(n))),i||(i=this.dataTemplate(n)),r=nt("td",s,[rt(i)]),r.value=o.value,c.push(r);return s={},e.children&&(s.className="k-grid-footer"),nt("tr",s,c)}}),pt.plugin(tt),ht.PivotExcelExporter=ht.Class.extend({init:function(e){this.options=e,this.widget=e.widget,this.dataSource=this.widget.dataSource},_columns:function(){var e,t=this.widget.columnsHeaderTree.children[0],n=this.widget.rowsHeaderTree.children[0],r=t.children[0].children.length,i=n.children[0].children.length,s=this.widget.options.columnWidth,o=[];if(i&&this.dataSource.data()[0])for(e=0;i>e;e++)o.push({autoWidth:!0});for(e=0;r>e;e++)o.push({autoWidth:!1,width:s});return o},_cells:function(e,t,n){for(var r,i,s,o,u,a=[],f=0,l=e.length;l>f;f++){for(i=[],s=e[f].children,r=s.length,o=0;r>o;o++)u=s[o],i.push({background:"#7a7a7a",color:"#fff",value:u.value,colSpan:u.attr.colSpan||1,rowSpan:u.attr.rowSpan||1});n&&n(i,f),a.push({cells:i,type:t})}return a},_rows:function(){var e,t,n=this.widget.columnsHeaderTree.children[0],r=this.widget.rowsHeaderTree.children[0],i=n.children[0].children.length,s=r.children[0].children.length,o=n.children[1].children,u=r.children[1].children,a=this.widget.contentTree.children[0].children[1].children,f=this._cells(o,"header");return s&&f[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:s,rowSpan:o.length}),e=function(e,t){for(var n,r,s=0,o=a[t].children;i>s;s++)n=o[s],r=+n.value,isNaN(r)&&(r=""),e.push({background:"#dfdfdf",color:"#333",value:r,colSpan:1,rowSpan:1})},t=this._cells(u,"data",e),f.concat(t)},_freezePane:function(){var e=this.widget.columnsHeaderTree.children[0],t=this.widget.rowsHeaderTree.children[0],n=t.children[0].children.length,r=e.children[1].children;return{colSplit:n,rowSplit:r.length}},workbook:function(){var t;return this.dataSource.view()[0]?(t=e.Deferred(),t.resolve()):t=this.dataSource.fetch(),t.then(e.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}},this))}}),ct={extend:function(t){t.events.push("excelExport"),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var t=this.options.excel||{},n=new ht.PivotExcelExporter({widget:this});n.workbook().then(e.proxy(function(e){if(!this.trigger("excelExport",{workbook:e})){var n=new ht.ooxml.Workbook(e);ht.saveAs({dataURI:n.toDataURL(),fileName:e.fileName||t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy})}},this))}},ht.PivotExcelMixin=ct,ht.ooxml&&ht.ooxml.Workbook&&ct.extend(tt.prototype),ht.PDFMixin&&(ht.PDFMixin.extend(tt.prototype),tt.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()})})}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.ui,i=e.proxy,s=e.extend,o="visibility",u="k-state-hover",a="input,a,textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse";r.HierarchicalDragAndDrop=n.Class.extend({init:function(t,o){this.element=t,this.hovered=t,this.options=s({dragstart:e.noop,drag:e.noop,drop:e.noop,dragend:e.noop},o),this._draggable=new r.Draggable(t,{ignore:a,filter:o.filter,autoScrolL:o.autoScroll,cursorOffset:{left:10,top:n.support.mobileOS?-40/n.support.zoomLevel():10},hint:i(this._hint,this),dragstart:i(this.dragstart,this),dragcancel:i(this.dragcancel,this),drag:i(this.drag,this),dragend:i(this.dragend,this),$angular:o.$angular})},_hint:function(e){return"<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />"+this.options.hintText(e)+"</div>"},_removeTouchHover:function(){n.support.touch&&this.hovered&&(this.hovered.find("."+u).removeClass(u),this.hovered=!1)},_hintStatus:function(n){var r=this._draggable.hint.find(".k-drag-status")[0];return n?(r.className="k-icon k-drag-status "+n,t):e.trim(r.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(t){this.source=t.currentTarget.closest(this.options.itemSelector),this.options.dragstart(this.source)&&t.preventDefault(),this.dropHint=this.options.reorderable?e("<div class='k-drop-hint' />").css(o,"hidden").appendTo(this.element):e()},drag:function(t){var r,i,s,a,f,l,c,h,p,d,v,m=this.options,g=this.source,y=this.dropTarget=e(n.eventTarget(t)),b=y.closest(m.allowedContainers);b.length?g[0]==y[0]||m.contains(g[0],y[0])?v="k-denied":(v="k-insert-middle",p=m.itemFromTarget(y),r=p.item,r.length?(this._removeTouchHover(),i=r.outerHeight(),a=p.content,m.reorderable?(f=i/(a.length>0?4:2),s=n.getOffset(r).top,l=s+f>t.y.location,c=t.y.location>s+i-f,h=a.length&&!l&&!c):(h=!0,l=!1,c=!1),this.hovered=h?b:!1,this.dropHint.css(o,h?"hidden":"visible"),this._lastHover&&this._lastHover[0]!=a[0]&&this._lastHover.removeClass(u),this._lastHover=a.toggleClass(u,h),h?v="k-add":(d=r.position(),d.top+=l?0:i,this.dropHint.css(d)[l?"prependTo":"appendTo"](m.dropHintContainer(r)),l&&p.first&&(v="k-insert-top"),c&&p.last&&(v="k-insert-bottom"))):y[0]!=this.dropHint[0]&&(this._lastHover&&this._lastHover.removeClass(u),v=e.contains(this.element[0],b[0])?"k-denied":"k-add")):(v="k-denied",this._removeTouchHover()),this.options.drag({originalEvent:t.originalEvent,source:g,target:y,pageY:t.y.location,pageX:t.x.location,status:v.substring(2),setStatus:function(e){v=e}}),"k-denied"==v&&this._lastHover&&this._lastHover.removeClass(u),0!==v.indexOf("k-insert")&&this.dropHint.css(o,"hidden"),this._hintStatus(v)},dragcancel:function(){this.dropHint.remove()},dragend:function(e){var n,r,i,s="over",a=this.source,f=this.dropHint,l=this.dropTarget;return"visible"==f.css(o)?(s=this.options.dropPositionFrom(f),n=f.closest(this.options.itemSelector)):l&&(n=l.closest(this.options.itemSelector),n.length||(n=l.closest(this.options.allowedContainers))),r={originalEvent:e.originalEvent,source:a[0],destination:n[0],valid:"k-denied"!=this._hintStatus(),setValid:function(e){this.valid=e},dropTarget:l[0],position:s},i=this.options.drop(r),f.remove(),this._removeTouchHover(),this._lastHover&&this._lastHover.removeClass(u),!r.valid||i?(this._draggable.dropped=r.valid,t):(this._draggable.dropped=!0,this.options.dragend({originalEvent:e.originalEvent,source:a,destination:n,position:s}),t)},destroy:function(){this._lastHover=this.hovered=null,this._draggable.destroy()}})}(window.kendo.jQuery),function(e,t){function n(e){return function(t){var n=t.children(".k-animation-container");return n.length||(n=t),n.children(e)}}function r(e){return p.template(e,{useWithBlock:!1})}function i(e){return e.find("> div .k-checkbox [type=checkbox]")}function s(e){return function(t,n){n=n.closest(z);var r,i=n.parent();return i.parent().is("li")&&(r=i.parent()),this._dataSourceMove(t,i,r,function(t,r){return this._insert(t.data(),r,n.index()+e)})}}function o(t,n){for(var r;t&&"ul"!=t.nodeName.toLowerCase();)r=t,t=t.nextSibling,3==r.nodeType&&(r.nodeValue=e.trim(r.nodeValue)),h.test(r.className)?n.insertBefore(r,n.firstChild):n.appendChild(r)}function u(t){var n=t.children("div"),r=t.children("ul"),i=n.children(".k-icon"),s=t.children(":checkbox"),u=n.children(".k-in");t.hasClass("k-treeview")||(n.length||(n=e("<div />").prependTo(t)),!i.length&&r.length?i=e("<span class='k-icon' />").prependTo(n):r.length&&r.children().length||(i.remove(),r.remove()),s.length&&e("<span class='k-checkbox' />").appendTo(n).append(s),u.length||(u=t.children("a").eq(0).addClass("k-in"),u.length||(u=e("<span class='k-in' />")),u.appendTo(n),n.length&&o(n[0].nextSibling,u[0])))}var a,f,l,c,h,p=window.kendo,d=p.ui,v=p.data,m=e.extend,g=p.template,y=e.isArray,b=d.Widget,w=v.HierarchicalDataSource,E=e.proxy,S=p.keys,x=".kendoTreeView",T="select",N="check",C="navigate",k="expand",L="change",A="error",O="checked",M="indeterminate",_="collapse",D="dragstart",P="drag",H="drop",B="dragend",j="dataBound",F="click",I="undefined",q="k-state-hover",R="k-treeview",U=":visible",z=".k-item",W="string",X="aria-selected",V="aria-disabled",$={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},J=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&typeof e.nodeName===W};f=n(".k-group"),l=n(".k-group,.k-content"),c=function(e){return e.children("div").children(".k-icon")},h=/k-sprite/,a=p.ui.DataBoundWidget.extend({init:function(e,t){var n,r,i=this,s=!1,o=t&&!!t.dataSource;y(t)&&(n=!0,t={dataSource:t}),t&&typeof t.loadOnDemand==I&&y(t.dataSource)&&(t.loadOnDemand=!1),b.prototype.init.call(i,e,t),e=i.element,t=i.options,r=e.is("ul")&&e||e.hasClass(R)&&e.children("ul"),s=!o&&r.length,s&&(t.dataSource.list=r),i._animation(),i._accessors(),i._templates(),e.hasClass(R)?(i.wrapper=e,i.root=e.children("ul").eq(0)):(i._wrapper(),r&&(i.root=e,i._group(i.wrapper))),i._tabindex(),i.root.attr("role","tree"),i._dataSource(s),i._attachEvents(),i._dragging(),s?i._syncHtmlAndDataSource():t.autoBind&&(i._progress(!0),i.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&i.updateIndeterminate(),i.element[0].id&&(i._ariaId=p.format("{0}_tv_active",i.element[0].id)),p.notify(i)},_attachEvents:function(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)",r="mouseenter";t.wrapper.on(r+x,".k-in.k-state-selected",function(e){e.preventDefault()}).on(r+x,n,function(){e(this).addClass(q)}).on("mouseleave"+x,n,function(){e(this).removeClass(q)}).on(F+x,n,E(t._click,t)).on("dblclick"+x,".k-in:not(.k-state-disabled)",E(t._toggleButtonClick,t)).on(F+x,".k-plus,.k-minus",E(t._toggleButtonClick,t)).on("keydown"+x,E(t._keydown,t)).on("focus"+x,E(t._focus,t)).on("blur"+x,E(t._blur,t)).on("mousedown"+x,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",E(t._mousedown,t)).on("change"+x,".k-checkbox :checkbox",E(t._checkboxChange,t)).on("click"+x,".k-checkbox :checkbox",E(t._checkboxClick,t)).on("click"+x,".k-request-retry",E(t._retryRequest,t)).on("click"+x,function(n){e(n.target).is(":kendoFocusable")||t.focus()})},_checkboxClick:function(t){var n=e(t.target);n.data(M)&&(n.data(M,!1).prop(M,!1).prop(O,!0),this._checkboxChange(t))},_syncHtmlAndDataSource:function(e,t){var n,r,s,o,u,a,f,l;for(e=e||this.root,t=t||this.dataSource,n=t.view(),r=p.attr("uid"),s=p.attr("expanded"),o=this.options.checkboxes,u=e.children("li"),a=0;u.length>a;a++)l=n[a],f=u.eq(a),f.attr("role","treeitem").attr(r,l.uid),l.expanded="true"===f.attr(s),o&&(l.checked=i(f).prop(O)),this._syncHtmlAndDataSource(f.children("ul"),l.children)},_animation:function(){var e=this.options,t=e.animation;t===!1?t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:t.collapse&&"effects"in t.collapse||(t.collapse=m({reverse:!0},t.expand)),m(t.collapse,{hide:!0}),e.animation=t},_dragging:function(){var t,n=this.options.dragAndDrop,r=this.dragging;n&&!r?(t=this,this.dragging=new d.HierarchicalDragAndDrop(this.element,{reorderable:!0,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:E(this._hintText,this),contains:function(t,n){return e.contains(t,n)},dropHintContainer:function(e){return e},itemFromTarget:function(e){var t=e.closest(".k-top,.k-mid,.k-bot");return{item:t,content:e.closest(".k-in"),first:t.hasClass("k-top"),last:t.hasClass("k-bot")}},dropPositionFrom:function(e){return e.prevAll(".k-in").length>0?"after":"before"},dragstart:function(e){return t.trigger(D,{sourceNode:e[0]})},drag:function(e){t.trigger(P,{originalEvent:e.originalEvent,sourceNode:e.source[0],dropTarget:e.target[0],pageY:e.pageY,pageX:e.pageX,statusClass:e.status,setStatusClass:e.setStatus})},drop:function(e){return t.trigger(H,{originalEvent:e.originalEvent,sourceNode:e.source,destinationNode:e.destination,valid:e.valid,setValid:function(t){this.valid=t,e.setValid(t)},dropTarget:e.dropTarget,dropPosition:e.position})},dragend:function(e){function n(n){t.updateIndeterminate(),t.trigger(B,{originalEvent:e.originalEvent,sourceNode:n&&n[0],destinationNode:i[0],dropPosition:s})}var r=e.source,i=e.destination,s=e.position;"over"==s?t.append(r,i,n):("before"==s?r=t.insertBefore(r,i):"after"==s&&(r=t.insertAfter(r,i)),n(r))}})):!n&&r&&(r.destroy(),this.dragging=null)},_hintText:function(e){return this.templates.dragClue({item:this.dataItem(e),treeview:this.options})},_templates:function(){var e=this,t=e.options,n=E(e._fieldAccessor,e);t.template&&typeof t.template==W?t.template=g(t.template):t.template||(t.template=r("# var text = "+n("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),e._checkboxes(),e.templates={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return e.firstLevel&&0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),n},cssClass:function(e,t){var n="",r=t.index,i=e.length-1;return e.firstLevel&&0===r&&(n+="k-top "),n+=0===r&&r!=i?"k-top":r==i?"k-bot":"k-mid"},textClass:function(e){var t="k-in";return e.enabled===!1&&(t+=" k-state-disabled"),e.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(e){var t="k-icon";return t+=e.expanded!==!0?" k-plus":" k-minus",e.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(e){var t="";return e.firstLevel||(t="role='group'"),t+(e.expanded!==!0?" style='display:none'":"")},groupCssClass:function(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:r("#= data.treeview.template(data) #"),group:r("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>#= data.renderItems(data) #</ul>"),itemContent:r("# var imageUrl = "+n("imageUrl")+"(data.item); ## var spriteCssClass = "+n("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:r("# var item = data.item, r = data.r; ## var url = "+n("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:r("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+p.attr("uid")+"='#= item.uid #' aria-selected='#= item.selected ? \"true\" : \"false \" #' #=item.enabled === false ? \"aria-disabled='true'\" : ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } #>#= r.itemElement(data) #</li>"),loading:r("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:r("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(e){var t=this.options;t.dataSource=e,this._dataSource(),this.dataSource.fetch(),t.checkboxes&&t.checkboxes.checkChildren&&this.updateIndeterminate()},_bindDataSource:function(){this._refreshHandler=E(this.refresh,this),this._errorHandler=E(this._error,this),this.dataSource.bind(L,this._refreshHandler),this.dataSource.bind(A,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(L,this._refreshHandler),e.unbind(A,this._errorHandler))},_dataSource:function(e){function t(e){for(var n=0;e.length>n;n++)e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view())}var n=this,r=n.options,i=r.dataSource;i=y(i)?{data:i}:i,n._unbindDataSource(),i.fields||(i.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),n.dataSource=i=w.create(i),e&&(i.fetch(),t(i.view())),n._bindDataSource()},events:[D,P,H,B,j,k,_,T,L,C,N],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var e,t,n,r=this,i=r.options,s=r.element;for(e in $)t=i[$[e]],n=s.attr(p.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),y(t)||(t=[t]),i[$[e]]=t},_fieldAccessor:function(t){var n=this.options[$[t]],r=n.length,i="(function(item) {";return 0===r?i+="return item['"+t+"'];":(i+="var levels = ["+e.map(n,function(e){return"function(d){ return "+p.expr(e)+"}"}).join(",")+"];",i+="return levels[Math.min(item.level(), "+r+"-1)](item)"),i+="})"},setOptions:function(e){b.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(z)[0]})},_setChecked:function(t,n){if(t&&e.isFunction(t.view))for(var r=0,i=t.view();i.length>r;r++)i[r][O]=n,i[r].children&&this._setChecked(i[r].children,n)},_setIndeterminate:function(e){var t,n,r,s=f(e),o=!0;if(s.length&&(t=i(s.children()),n=t.length)){if(n>1){for(r=1;n>r;r++)if(t[r].checked!=t[r-1].checked||t[r].indeterminate||t[r-1].indeterminate){o=!1;break}}else o=!t[0].indeterminate;return i(e).data(M,!o).prop(M,!o).prop(O,o&&t[0].checked)}},updateIndeterminate:function(e){var t,n,r;if(e=e||this.wrapper,t=f(e).children(),t.length){for(n=0;t.length>n;n++)this.updateIndeterminate(t.eq(n));r=this._setIndeterminate(e),r&&r.prop(O)&&(this.dataItem(e).checked=!0)}},_bubbleIndeterminate:function(e){if(e.length){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children("div").find(".k-checkbox :checkbox"),t.prop(M)===!1?this.dataItem(n).set(O,t.prop(O)):delete this.dataItem(n).checked,this._bubbleIndeterminate(n))}},_checkboxChange:function(t){var n=e(t.target),r=n.prop(O),i=n.closest(z),s=this.dataItem(i);s.checked!=r&&(s.set(O,r),this._trigger(N,i))},_toggleButtonClick:function(t){this.toggle(e(t.target).closest(z))},_mousedown:function(t){var n=e(t.currentTarget).closest(z);this._clickTarget=n,this.current(n)},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var t=this.select(),n=this._clickTarget;p.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var e,t=this.wrapper,n=t[0],r=[],i=[],s=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(r.push(n),i.push(n.scrollTop));while(n!=s);for(t.focus(),e=0;r.length>e;e++)r[e].scrollTop=i[e]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(t){var n,r,i=/\bk-treeview\b/,s=/\bk-item\b/;typeof t==W&&(t=this.element.find(t)),J(t)||(t=t[0]),r=s.test(t.className);do t=t.parentNode,s.test(t.className)&&(r?n=t:r=!0);while(!i.test(t.className)&&!n);return e(n)},_nextVisible:function(e){function t(e){for(;e.length&&!e.next().length;)e=r.parent(e);return e.next().length?e.next():e}var n,r=this,i=r._expanded(e);return e.length&&e.is(":visible")?i?(n=f(e).children().first(),n.length||(n=t(e))):n=t(e):n=r.root.children().eq(0),r._enabled(n)||(n=r._nextVisible(n)),n},_previousVisible:function(e){var t,n,r=this;if(!e.length||e.prev().length)for(n=e.length?e.prev():r.root.children().last();r._expanded(n)&&(t=f(n).children().last(),t.length);)n=t;else n=r.parent(e)||e;return r._enabled(n)||(n=r._previousVisible(n)),n},_keydown:function(n){var r,i=this,s=n.keyCode,o=i.current(),u=i._expanded(o),a=o.find(".k-checkbox:first :checkbox"),f=p.support.isRtl(i.element);n.target==n.currentTarget&&(!f&&s==S.RIGHT||f&&s==S.LEFT?u?r=i._nextVisible(o):i.expand(o):!f&&s==S.LEFT||f&&s==S.RIGHT?u?i.collapse(o):(r=i.parent(o),i._enabled(r)||(r=t)):s==S.DOWN?r=i._nextVisible(o):s==S.UP?r=i._previousVisible(o):s==S.HOME?r=i._nextVisible(e()):s==S.END?r=i._previousVisible(e()):s==S.ENTER?o.find(".k-in:first").hasClass("k-state-selected")||i._trigger(T,o)||i.select(o):s==S.SPACEBAR&&a.length&&(a.prop(O,!a.prop(O)).data(M,!1).prop(M,!1),i._checkboxChange({target:a}),r=o),r&&(n.preventDefault(),o[0]!=r[0]&&(i._trigger(C,r),i.current(r))))},_click:function(t){var n,r=this,i=e(t.currentTarget),s=l(i.closest(z)),o=i.attr("href");n=o?"#"==o||o.indexOf("#"+this.element.id+"-")>=0:s.length&&!s.children().length,n&&t.preventDefault(),i.hasClass(".k-state-selected")||r._trigger(T,i)||r.select(i)},_wrapper:function(){var e,t,n=this,r=n.element,i="k-widget k-treeview";r.is("ul")?(e=r.wrap("<div />").parent(),t=r):(e=r,t=e.children("ul").eq(0)),n.wrapper=e.addClass(i),n.root=t},_group:function(e){var t=this,n=e.hasClass(R),r={firstLevel:n,expanded:n||t._expanded(e)},i=e.children("ul");i.addClass(t.templates.groupCssClass(r)).css("display",r.expanded?"":"none"),t._nodes(i,r)},_nodes:function(t,n){var r,i=this,s=t.children("li");n=m({length:s.length},n),s.each(function(t,s){s=e(s),r={index:t,expanded:i._expanded(s)},u(s),i._updateNodeClasses(s,n,r),i._group(s)})},_checkboxes:function(){var e,t=this.options,n=t.checkboxes;n&&(e="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),e+=" />",n=m({template:e},t.checkboxes),typeof n.template==W&&(n.template=g(n.template)),t.checkboxes=n)},_updateNodeClasses:function(e,t,n){var r=e.children("div"),i=e.children("ul"),s=this.templates;e.hasClass("k-treeview")||(n=n||{},n.expanded=typeof n.expanded!=I?n.expanded:this._expanded(e),n.index=typeof n.index!=I?n.index:e.index(),n.enabled=typeof n.enabled!=I?n.enabled:!r.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=typeof t.firstLevel!=I?t.firstLevel:e.parent().parent().hasClass(R),t.length=typeof t.length!=I?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(s.wrapperCssClass(t,n)),r.removeClass("k-top k-mid k-bot").addClass(s.cssClass(t,n)),r.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(s.textClass(n)),(i.length||"true"==e.attr("data-hasChildren"))&&(r.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(s.toggleButtonClass(n)),i.addClass("k-group")))},_processNodes:function(t,n){var r=this;r.element.find(t).each(function(t,i){n.call(r,t,e(i).closest(z))})},dataItem:function(t){var n=e(t).closest(z).attr(p.attr("uid")),r=this.dataSource;return r&&r.getByUid(n)},_insertNode:function(t,n,r,i,s){var o,a,l,c,h=this,p=f(r),d=p.children().length+1,v={firstLevel:r.hasClass(R),expanded:!s,length:d},m="",g=function(e,t){e.appendTo(t)};for(l=0;t.length>l;l++)c=t[l],c.index=n+l,m+=h._renderItem({group:v,item:c});if(a=e(m),a.length){for(h.angular("compile",function(){return{elements:a.get(),data:t.map(function(e){return{dataItem:e}})}}),p.length||(p=e(h._renderGroup({group:v})).appendTo(r)),i(a,p),r.hasClass("k-item")&&(u(r),h._updateNodeClasses(r)),h._updateNodeClasses(a.prev().first()),h._updateNodeClasses(a.next().last()),l=0;t.length>l;l++)c=t[l],c.hasChildren&&(o=c.children.data(),o.length&&h._insertNode(o,c.index,a.eq(l),g,!h._expanded(a.eq(l))));return a}},_updateNodes:function(t,n){function r(e,t){e.find(".k-checkbox :checkbox").prop(O,t).data(M,!1).prop(M,!1)}var i,s,o,u,a,f,c,h=this,p={treeview:h.options,item:u},v="expanded"!=n&&"checked"!=n;if("selected"==n)u=t[0],s=h.findByUid(u.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",u[n]).end(),u[n]&&h.current(s),s.attr(X,!!u[n]);else{for(c=e.map(t,function(e){return h.findByUid(e.uid).children("div")}),v&&h.angular("cleanup",function(){return{elements:c}}),i=0;t.length>i;i++)p.item=u=t[i],o=c[i],s=o.parent(),v&&o.children(".k-in").html(h.templates.itemContent(p)),n==O?(a=u[n],r(o,a),h.options.checkboxes.checkChildren&&(r(s.children(".k-group"),a),h._setChecked(u.children,a),h._bubbleIndeterminate(s))):"expanded"==n?h._toggle(s,u,u[n]):"enabled"==n&&(s.find(".k-checkbox :checkbox").prop("disabled",!u[n]),f=!l(s).is(U),s.removeAttr(V),u[n]||(u.selected&&u.set("selected",!1),u.expanded&&u.set("expanded",!1),f=!0,s.attr(X,!1).attr(V,!0)),h._updateNodeClasses(s,{},{enabled:u[n],expanded:!f})),o.length&&this.trigger("itemChange",{item:o,data:u,ns:d});v&&h.angular("compile",function(){return{elements:c,data:e.map(t,function(e){return[{dataItem:e}]})}})}},_appendItems:function(e,t,n){var r=f(n),i=r.children(),s=!this._expanded(n);typeof e==I&&(e=i.length),this._insertNode(t,e,n,function(t,n){e>=i.length?t.appendTo(n):t.insertBefore(i.eq(e))},s),this._expanded(n)&&(this._updateNodeClasses(n),f(n).css("display","block"))},_refreshChildren:function(e,t,n){var r,i,s,o=this.options,a=o.loadOnDemand,l=o.checkboxes&&o.checkboxes.checkChildren;if(f(e).empty(),t.length)for(this._appendItems(n,t,e),i=f(e).children(),a&&l&&this._bubbleIndeterminate(i.last()),r=0;i.length>r;r++)s=i.eq(r),this.trigger("itemChange",{item:s.children("div"),data:this.dataItem(s),ns:d});else u(e)},_refreshRoot:function(t){var n,r,i,s=this._renderGroup({items:t,group:{firstLevel:!0,expanded:!0}});for(this.root.length?(this._angularItems("cleanup"),n=e(s),this.root.attr("class",n.attr("class")).html(n.html())):this.root=this.wrapper.html(s).children("ul"),this.root.attr("role","tree"),r=0;t.length>r;r++)i=this.root.children(".k-item"),this.trigger("itemChange",{item:i.eq(r),data:t[r],ns:d});this._angularItems("compile")},refresh:function(e){var n,r,i=e.node,s=e.action,o=e.items,u=this.wrapper,a=this.options,f=a.loadOnDemand,l=a.checkboxes&&a.checkboxes.checkChildren;if(e.field){if(!o[0]||!o[0].level)return;return this._updateNodes(o,e.field)}if(i&&(u=this.findByUid(i.uid),this._progress(u,!1)),l&&"remove"!=s){for(r=!1,n=0;o.length>n;n++)if("checked"in o[n]){r=!0;break}if(!r&&i&&i.checked)for(n=0;o.length>n;n++)o[n].checked=!0}if("add"==s?this._appendItems(e.index,o,u):"remove"==s?this._remove(this.findByUid(o[0].uid),!1):"itemchange"==s?this._updateNodes(o):"itemloaded"==s?this._refreshChildren(u,o,e.index):this._refreshRoot(o),"remove"!=s)for(n=0;o.length>n;n++)(!f||o[n].expanded)&&o[n].load();this.trigger(j,{node:i?u:t})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),c(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(n))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},expand:function(e){this._processNodes(e,function(e,t){this.toggle(t,!0)})},collapse:function(e){this._processNodes(e,function(e,t){this.toggle(t,!1)})},enable:function(e,t){t=2==arguments.length?!!t:!0,this._processNodes(e,function(e,n){this.dataItem(n).set("enabled",t)})},current:function(n){var r=this,i=r._current,s=r.element,o=r._ariaId;return arguments.length>0&&n&&n.length?(i&&(i[0].id===o&&i.removeAttr("id"),i.find(".k-in:first").removeClass("k-state-focused")),i=r._current=e(n,s).closest(z),i.find(".k-in:first").addClass("k-state-focused"),o=i[0].id||o,o&&(r.wrapper.removeAttr("aria-activedescendant"),i.attr("id",o),r.wrapper.attr("aria-activedescendant",o)),t):(i||(i=r._nextVisible(e())),i)},select:function(n){var r=this,i=r.element;return arguments.length?(n=e(n,i).closest(z),i.find(".k-state-selected").each(function(){var t=r.dataItem(this);t?(t.set("selected",!1),delete t.selected):e(this).removeClass("k-state-selected")}),n.length&&r.dataItem(n).set("selected",!0),r.trigger(L),t):i.find(".k-state-selected").closest(z)},_toggle:function(e,t,n){var r,i,s=this.options,o=l(e),u=n?"expand":"collapse";o.data("animating")||this._trigger(u,e)||(this._expanded(e,n),r=t&&t.loaded(),i=!o.children().length,!n||r&&!i?(this._updateNodeClasses(e,{},{expanded:n}),n||o.css("height",o.height()).css("height"),o.kendoStop(!0,!0).kendoAnimate(m({reset:!0},s.animation[u],{complete:function(){n&&o.css("height","")}}))):(s.loadOnDemand&&this._progress(e,!0),o.remove(),t.load()))},toggle:function(t,n){t=e(t),c(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroy:function(){var e=this;b.fn.destroy.call(e),e.wrapper.off(x),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),p.destroy(e.element),e.root=e.wrapper=e.element=null},_expanded:function(e,n){var r=p.attr("expanded"),i=this.dataItem(e);return 1==arguments.length?"true"===e.attr(r)||i&&i.expanded:(l(e).data("animating")||(i&&(i.set("expanded",n),n=i.expanded),n?(e.attr(r,"true"),e.attr("aria-expanded","true")):(e.removeAttr(r),e.attr("aria-expanded","false"))),t)},_progress:function(e,t){var n=this.element,r=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e,t?n.html(r):n.empty()):c(e).toggleClass("k-loading",t).removeClass("k-i-refresh")},text:function(e,n){var r=this.dataItem(e),i=this.options[$.text],s=r.level(),o=i.length,u=i[Math.min(s,o-1)];return n?(r.set(u,n),t):r[u]},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(t,n,r,i){var s,o=this._objectOrSelf(r||n),u=o.dataSource,a=e.Deferred().resolve().promise();return r&&r[0]!=o.element[0]&&(s=o.dataItem(r),s.loaded()||(o._progress(r,!0),a=s.load()),r!=this.root&&(u=s.children,u&&u instanceof w||(s._initChildren(),s.loaded(!0),u=s.children))),t=this._toObservableData(t),i.call(this,u,t,a)},_toObservableData:function(t){var n,r,i=t;return(t instanceof window.jQuery||J(t))&&(n=this._objectOrSelf(t).dataSource,r=e(t).attr(p.attr("uid")),i=n.getByUid(r),i&&(i=n.remove(i))),i},_insert:function(e,t,n){t instanceof p.data.ObservableArray?t=t.toJSON():y(t)||(t=[t]);var r=e.parent();return r&&r._initChildren&&(r.hasChildren=!0,r._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid)},insertAfter:s(1),insertBefore:s(0),append:function(t,n,r){var i=this,s=i.root;return n&&(s=f(n)),i._dataSourceMove(t,s,n,function(t,s,o){function u(){n&&i._expanded(n,!0);var e=t.data(),r=Math.max(e.length,0);return i._insert(e,s,r)}var a;return o.then(function(){a=u(),(r=r||e.noop)(a)}),a||null})},_remove:function(t,n){var r,i,s,o=this;return t=e(t,o.element),this.angular("cleanup",function(){return{elements:t.get()}}),r=t.parent().parent(),i=t.prev(),s=t.next(),t[n?"detach":"remove"](),r.hasClass("k-item")&&(u(r),o._updateNodeClasses(r)),o._updateNodeClasses(i),o._updateNodeClasses(s),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(t){return e(this.element).find(".k-in").filter(function(n,r){return e(r).text()==t}).closest(z)},findByUid:function(t){var n,r,i=this.element.find(".k-item"),s=p.attr("uid");for(r=0;i.length>r;r++)if(i[r].getAttribute(s)==t){n=i[r];break}return e(n)},expandPath:function(n,r){function i(e,t,n){e&&!e.loaded()?e.set("expanded",!0):t.call(n)}var s,o,u;for(n=n.slice(0),s=this,o=this.dataSource,u=o.get(n[0]),r=r||e.noop;n.length>0&&u&&(u.expanded||u.loaded());)u.set("expanded",!0),n.shift(),u=o.get(n[0]);return n.length?(o.bind("change",function(e){var t,u=e.node&&e.node.id;u&&u===n[0]&&(n.shift(),n.length?(t=o.get(n[0]),i(t,r,s)):r.call(s))}),i(u,r,s),t):r.call(s)},_parents:function(e){for(var t=e&&e.parentNode(),n=[];t&&t.parentNode;)n.push(t),t=t.parentNode();return n},expandTo:function(e){var t,n;for(e instanceof p.data.Node||(e=this.dataSource.get(e)),t=this._parents(e),n=0;t.length>n;n++)t[n].set("expanded",!0)},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var n="",r=0,i=e.items,s=i?i.length:0,o=e.group;for(o.length=s;s>r;r++)e.group=o,e.item=i[r],e.item.index=r,n+=t._renderItem(e);return n},e.r=t.templates,t.templates.group(e)}}),d.plugin(a)}(window.kendo.jQuery),function(e,t){function n(e,t){var n,r,i=[];for(n=0,r=e.length;r>n;n++)e[n].field!==t&&i.push(e[n]);return i}function r(e,t,n){var r,i,s,o;if(!e)return[];for(e=e.filters,r=0,i=[],s=e.length;s>r;r++)o=e[r].operator,(n||"in"===o)&&o!==n||e[r].field!==t||i.push(e[r]);return i}function i(t,n,i){var s,o=0,u=i.length;if(t=r(t,n,"in")[0])for(s=t.value.split(",");u>o;o++)i[o].checked=e.inArray(i[o].uniqueName,s)>=0;else for(;u>o;o++)i[o].checked=!0}function s(e,t){var n,r=e.length;for(n=0;r>n;n++)e[n].checked&&0!==e[n].level()&&t.push(e[n].uniqueName),e[n].hasChildren&&s(e[n].children.view(),t)}var o=window.kendo,u=o.ui,a="kendoContextMenu",f=e.proxy,l=".kendoPivotFieldMenu",c=u.Widget,h=c.extend({init:function(e,t){c.fn.init.call(this,e,t),this._dataSource(),this._layout(),o.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:!0,sortable:!0,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var t=this.options;this.wrapper=e(o.template(d)({ns:o.ns,filterable:t.filterable,sortable:t.sortable,messages:t.messages})),this.menu=this.wrapper[a]({filter:t.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:!1,open:f(this._menuOpen,this),select:f(this._select,this),copyAnchorStyles:!1}).data(a),this._createWindow(),t.filterable&&this._initFilterForm()},_initFilterForm:function(){var e=this.menu.element.find(".k-filter-item"),t=f(this._filter,this);this._filterOperator=new o.ui.DropDownList(e.find("select")),this._filterValue=e.find(".k-textbox"),e.on("submit"+l,t).on("click"+l,".k-button-filter",t).on("click"+l,".k-button-clear",f(this._reset,this))},_setFilterForm:function(e){var t=this._filterOperator,n="",r="";e&&(n=e.operator,r=e.value),t.value(n),t.value()||t.select(0),this._filterValue.val(r)},_clearFilters:function(e){var t,n,i=this.dataSource.filter()||{},s=0;for(i.filters=i.filters||[],t=r(i,e),n=t.length;n>s;s++)i.filters.splice(i.filters.indexOf(t[s]),1);return i},_filter:function(e){var n,r,i=this,s=i._filterValue.val();return e.preventDefault(),s?(n={field:i.currentMember,operator:i._filterOperator.value(),value:s},r=i._clearFilters(i.currentMember),r.filters.push(n),i.dataSource.filter(r),i.menu.close(),t):(i.menu.close(),t)},_reset:function(e){var t=this,n=t._clearFilters(t.currentMember);e.preventDefault(),n.filters[0]||(n={}),t.dataSource.filter(n),t._setFilterForm(null),t.menu.close()},_sort:function(e){var t=this.currentMember,r=this.dataSource.sort()||[];r=n(r,t),r.push({field:t,dir:e}),this.dataSource.sort(r),this.menu.close()},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},_dataSource:function(){this.dataSource=o.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var t=this.options.messages;this.includeWindow=e(o.template(v)({messages:t})).on("click"+l,".k-button-ok",f(this._applyIncludes,this)).on("click"+l,".k-button-cancel",f(this._closeWindow,this)),this.includeWindow=new u.Window(this.includeWindow,{title:t.title,visible:!1,resizable:!1,open:f(this._windowOpen,this)})},_applyIncludes:function(e){var t,n=[],i=this.treeView.dataSource.view(),o=i[0].checked,u=this.dataSource.filter(),a=r(u,this.currentMember,"in")[0];s(i,n),a&&(o?(u.filters.splice(u.filters.indexOf(a),1),u.filters.length||(u={})):a.value=n.join(","),t=u),n.length&&(t||o||(t={field:this.currentMember,operator:"in",value:n.join(",")},u&&(u.filters.push(t),t=u))),t&&this.dataSource.filter(t),this._closeWindow(e)},_closeWindow:function(e){e.preventDefault(),this.includeWindow.close()},_treeViewDataSource:function(){var e=this;return o.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return parseInt(e.childrenCardinality,10)>0}}},transport:{read:function(t){var n={},r=e.treeView.dataSource.get(t.data.uniqueName),s=t.data.uniqueName;s?(n.memberUniqueName=r.uniqueName.replace(/\&/g,"&amp;"),n.treeOp=1):n.levelUniqueName=e.currentMember+".[(ALL)]",e.dataSource.schemaMembers(n).done(function(n){i(e.dataSource.filter(),e.currentMember,n),t.success(n)}).fail(t.error)}}})},_createTreeView:function(e){var t=this;t.treeView=new u.TreeView(e,{autoBind:!1,dataSource:t._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:!0},dataBound:function(){u.progress(t.includeWindow.element,!1)}})},_menuOpen:function(t){var n;t.event&&(n=o.attr("name"),this.currentMember=e(t.event.target).closest("["+n+"]").attr(n),this.options.filterable&&this._setFilterForm(r(this.dataSource.filter(),this.currentMember)[0]))},_select:function(t){var n=e(t.item);e(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close"),n.hasClass("k-include-item")?this.includeWindow.center().open():n.hasClass("k-sort-asc")?this._sort("asc"):n.hasClass("k-sort-desc")&&this._sort("desc")},_windowOpen:function(){this.treeView||this._createTreeView(this.includeWindow.element.find(".k-treeview")),u.progress(this.includeWindow.element,!0),this.treeView.dataSource.read()},destroy:function(){c.fn.destroy.call(this),this.menu&&(this.menu.destroy(),this.menu=null),this.treeView&&(this.treeView.destroy(),this.treeView=null),this.includeWindow&&(this.includeWindow.destroy(),this.includeWindow=null),this.wrapper=null,this.element=null}}),p='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu"><form class="k-filter-menu"><div><div class="k-filter-help-text">#=messages.info#</div><select>#for(var op in messages.operators){#<option value="#=op#">#=messages.operators[op]#</option>#}#</select><input class="k-textbox" type="text" /><div><a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a><a class="k-button k-button-clear" href="\\#">#=messages.clear#</a></div></div></form></div>',d='<ul class="k-pivot-fieldmenu"># if (sortable) {#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc"></span>${messages.sortDescending}</span></li># if (filterable) {#<li class="k-separator"></li># } ## } ## if (filterable) {#<li class="k-item k-include-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.include}</span></li><li class="k-separator"></li><li class="k-item k-filter-item"><span class="k-link"><span class="k-icon k-filter"></span>${messages.filterFields}</span><ul><li>'+p+"</li></ul></li># } #</ul>",v='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container"><div class="k-treeview"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-primary k-button-ok" href="\\#">${messages.ok}</a><a class="k-button k-button-cancel" href="\\#">${messages.cancel}</a></div></div>';u.plugin(h)}(window.kendo.jQuery),function(e,t){function n(t,r){var i,s,o=[];if(e.isPlainObject(t))if(t.hasOwnProperty("filters"))o=t.filters;else if(t.field==r)return t;for(e.isArray(t)&&(o=t),i=0;o.length>i;i++)if(s=n(o[i],r))return s}function r(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return r(e,n),e.filters?e.filters.length:e.field!=n}))}function i(e,t){var n=s.getter(t,!0);return function(t){for(var r,i,s=e(t),o=[],u=0,a={};s.length>u;)r=s[u++],i=n(r),a.hasOwnProperty(i)||(o.push(r),a[i]=!0);return o}}var s=window.kendo,o=s.ui,u=s.data.DataSource,a=o.Widget,f="change",l="boolean",c="enums",h="string",p="Is equal to",d="Is not equal to",v=e.proxy,m=a.extend({init:function(n,r){var i,o,u,p,d,m,y,b,w,E,S,x;if(n=e(n).addClass("k-filtercell"),i=this.wrapper=e("<span/>").appendTo(n),o=this,d=r,b=o.operators=r.operators||{},w=o.input=e("<input/>").attr(s.attr("bind"),"value: value").appendTo(i),a.fn.init.call(o,n[0],r),r=o.options,u=o.dataSource=r.dataSource,o.model=u.reader.model,y=r.type=h,E=s.getter("reader.model.fields",!0)(u)||{},S=E[r.field],S&&S.type&&(y=r.type=S.type),r.values&&(r.type=y=c),b=b[y]||r.operators[y],!d.operator)for(m in b){r.operator=m;break}o._parse=function(e){return e+""},o.model&&o.model.fields&&(x=o.model.fields[r.field],x&&x.parse&&(o._parse=v(x.parse,x))),o.viewModel=p=s.observable({operator:r.operator,value:null,operatorVisible:function(){var e=this.get("value");return null!==e&&e!==t&&"undefined"!=e}}),p.bind(f,v(o.updateDsFilter,o)),y==h&&o.initSuggestDataSource(r),null!==r.inputWidth&&w.width(r.inputWidth),o._setInputType(r,y),y!=l&&r.showOperators!==!1?o._createOperatorDropDown(b):i.addClass("k-operator-hidden"),o._createClearIcon(),s.bind(this.wrapper,p),y==h&&(r.template||o.setAutoCompleteSource()),y==c&&o.setComboBoxSource(o.options.values),o._refreshUI(),o._refreshHandler=v(o._refreshUI,o),o.dataSource.bind(f,o._refreshHandler)},_setInputType:function(t,n){var r,i,o,u,a,f=this,p=f.input;"function"==typeof t.template?t.template.call(f.viewModel,{element:f.input,dataSource:f.suggestDataSource}):n==h?p.attr(s.attr("role"),"autocomplete").attr(s.attr("text-field"),t.dataTextField||t.field).attr(s.attr("filter"),t.suggestionOperator).attr(s.attr("delay"),t.delay).attr(s.attr("min-length"),t.minLength).attr(s.attr("value-primitive"),!0):"date"==n?p.attr(s.attr("role"),"datepicker"):n==l?(p.remove(),r=e("<input type='radio'/>"),i=f.wrapper,o=s.guid(),u=e("<label/>").text(t.messages.isTrue).append(r),r.attr(s.attr("bind"),"checked:value").attr("name",o).val("true"),a=u.clone().text(t.messages.isFalse),r.clone().val("false").appendTo(a),i.append([u,a])):"number"==n?p.attr(s.attr("role"),"numerictextbox"):n==c&&p.attr(s.attr("role"),"combobox").attr(s.attr("text-field"),"text").attr(s.attr("suggest"),!0).attr(s.attr("filter"),"contains").attr(s.attr("value-field"),"value").attr(s.attr("value-primitive"),!0)},_createOperatorDropDown:function(t){var n,r,i=[];for(n in t)i.push({text:t[n],value:n});r=e('<input class="k-dropdown-operator" '+s.attr("bind")+'="value: operator"/>').appendTo(this.wrapper),this.operatorDropDown=r.kendoDropDownList({dataSource:i,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:!0}).data("kendoDropDownList"),this.operatorDropDown.wrapper.find(".k-i-arrow-s").removeClass("k-i-arrow-s").addClass("k-filter")},initSuggestDataSource:function(e){var n=e.suggestDataSource;n instanceof u||(!e.customDataSource&&n&&(n.group=t),n=this.suggestDataSource=u.create(n)),e.customDataSource||(n._pageSize=t,n.reader.data=i(n.reader.data,this.options.field)),this.suggestDataSource=n},setAutoCompleteSource:function(){var e=this.input.data("kendoAutoComplete");e&&e.setDataSource(this.suggestDataSource)},setComboBoxSource:function(e){var t=u.create({data:e}),n=this.input.data("kendoComboBox");n&&n.setDataSource(t)},_refreshUI:function(){var t=this,r=n(t.dataSource.filter(),this.options.field)||{},i=t.viewModel;t.manuallyUpdatingVM=!0,r=e.extend(!0,{},r),t.options.type==l&&i.value!==r.value&&t.wrapper.find(":radio").prop("checked",!1),r.operator&&i.set("operator",r.operator),i.set("value",r.value),t.manuallyUpdatingVM=!1},updateDsFilter:function(n){var r,i,s,o=this,u=o.viewModel;o.manuallyUpdatingVM||"operator"==n.field&&u.value===t||(r=e.extend({},o.viewModel.toJSON(),{field:o.options.field}),i={logic:"and",filters:[]},r.value!==t&&null!==r.value&&i.filters.push(r),s=o._merge(i),o.dataSource.filter(s.filters.length?s:{}))},_merge:function(t){var n,i,s,o=this,u=t.logic||"and",a=t.filters,f=o.dataSource.filter()||{filters:[],logic:"and"};for(r(f,o.options.field),i=0,s=a.length;s>i;i++)n=a[i],n.value=o._parse(n.value);return a=e.grep(a,function(e){return""!==e.value&&null!==e.value}),a.length&&(f.filters.length?(t.filters=a,"and"!==f.logic&&(f.filters=[{logic:f.logic,filters:f.filters}],f.logic="and"),f.filters.push(a.length>1?t:a[0])):(f.filters=a,f.logic=u)),f},_createClearIcon:function(){var t=this;e("<button type='button' class='k-button k-button-icon'/>").attr(s.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-close'/>").click(v(t.clearFilter,t)).appendTo(t.wrapper)},clearFilter:function(){this.viewModel.set("value",null)},destroy:function(){var e=this;e.filterModel=null,a.fn.destroy.call(e),s.destroy(e.element)},events:[f],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:t,customDataSource:!1,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:!0,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:p,neq:d,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:p,neq:d,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:p,neq:d,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:p,neq:d}}}});o.plugin(m)}(window.kendo.jQuery),function(e,t){function n(t){t=e(t),t.children(g).children(".k-icon").remove(),t.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(_)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function r(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(x),t.filter(".k-last:not(:last-child)").removeClass(v),t.filter(":first-child").addClass(x),t.filter(":last-child").addClass(v)}var i=window.kendo,s=i.ui,o=i.keys,u=e.extend,a=e.each,f=i.template,l=s.Widget,c=/^(ul|a|div)$/i,h=".kendoPanelBar",p="img",d="href",v="k-last",m="k-link",g="."+m,y="error",b=".k-item",w=".k-group",E=w+":visible",S="k-image",x="k-first",T="expand",N="select",C="k-content",k="activate",L="collapse",A="mouseenter",O="mouseleave",M="contentLoad",_="k-state-active",D="> .k-panel",P="> .k-content",H="k-state-focused",B="k-state-disabled",j="k-state-selected",F="."+j,I="k-state-highlight",q=b+":not(.k-state-disabled)",R="> "+q+" > "+g+", .k-panel > "+q+" > "+g,U=b+".k-state-disabled > .k-link",z="> li > "+F+", .k-panel > li > "+F,W="k-state-default",X="aria-disabled",V="aria-expanded",$="aria-hidden",J="aria-selected",K=":visible",Q=":empty",G="single",Y={content:f("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:f("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:f("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:f("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:f("<span class='#= arrowClass(item) #'></span>"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},Z={aria:function(e){var t="";return(e.items||e.content||e.contentUrl)&&(t+=V+"='"+(e.expanded?"true":"false")+"' "),e.enabled===!1&&(t+=X+"='true'"),t},wrapperCssClass:function(e,t){var n="k-item",r=t.index;return n+=t.enabled===!1?" "+B:t.expanded===!0?" "+_:" k-state-default",0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(e,t){var n=m;return t.firstLevel&&(n+=" k-header"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(e){return e.encoded===!1?e.text:i.htmlEncode(e.text)},tag:function(e){return e.url||e.contentUrl?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(e){return e.item.expanded!==!0?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}},et=l.extend({init:function(t,n){var r,s=this;l.fn.init.call(s,t,n),t=s.wrapper=s.element.addClass("k-widget k-reset k-header k-panelbar"),n=s.options,t[0].id&&(s._itemId=t[0].id+"_pb_active"),s._tabindex(),s._initData(n),s._updateClasses(),s._animations(n),t.on("click"+h,R,function(t){s._click(e(t.currentTarget))&&t.preventDefault()}).on(A+h+" "+O+h,R,s._toggleHover).on("click"+h,U,!1).on("keydown"+h,e.proxy(s._keydown,s)).on("focus"+h,function(){var e=s.select();s._current(e[0]?e:s._first())}).on("blur"+h,function(){s._current(null)}).attr("role","menu"),r=t.find("li."+_+" > ."+C),r[0]&&s.expand(r.parent(),!1),i.notify(s)},events:[T,L,N,k,y,M],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){l.fn.destroy.call(this),this.element.off(h),i.destroy(this.element)},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=u(!0,t,e.animation),"dataSource"in e&&this._initData(e),l.fn.setOptions.call(this,e)},expand:function(t,n){var r=this,i={};return n=n!==!1,t=this.element.find(t),t.each(function(s,o){o=e(o);var u=o.find(D).add(o.find(P));if(!o.hasClass(B)&&u.length>0){if(r.options.expandMode==G&&r._collapseAllExpanded(o))return r;t.find("."+I).removeClass(I),o.addClass(I),n||(i=r.options.animation,r.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(T,o)||r._toggleItem(o,!1),n||(r.options.animation=i)}}),r},collapse:function(t,n){var r=this,i={};return n=n!==!1,t=r.element.find(t),t.each(function(t,s){s=e(s);var o=s.find(D).add(s.find(P));!s.hasClass(B)&&o.is(K)&&(s.removeClass(I),n||(i=r.options.animation,r.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(L,s)||r._toggleItem(s,!0),n||(r.options.animation=i))}),r},_toggleDisabled:function(e,t){e=this.element.find(e),e.toggleClass(W,t).toggleClass(B,!t).attr(X,!t)},select:function(n){var r=this;return n===t?r.element.find(z).parent():(n=r.element.find(n),n.length?n.each(function(){var n=e(this),i=n.children(g);return n.hasClass(B)?r:(r._triggerEvent(N,n)||r._updateSelected(i),t)}):this._updateSelected(n),r)},clearSelection:function(){this.select(e())},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.length?t.find(D):null);return a(i.items,function(){i.group.append(this),r(this)}),n(t),r(i.group.find(".k-first, .k-last")),i.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return a(n.items,function(){t.before(this),r(this)}),r(t),n.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return a(n.items,function(){t.after(this),r(this)}),r(t),n.group.height("auto"),this},remove:function(e){e=this.element.find(e);var t=this,i=e.parentsUntil(t.element,b),s=e.parent("ul");return e.remove(),!s||s.hasClass("k-panelbar")||s.children(b).length||s.remove(),i.length&&(i=i.eq(0),n(i),r(i)),t},reload:function(t){var n=this;t=n.element.find(t),t.each(function(){var t=e(this);n._ajaxRequest(t,t.children("."+C),!t.is(K))})},_first:function(){return this.element.children(q).first()},_last:function(){var e=this.element.children(q).last(),t=e.children(E);return t[0]?t.children(q).last():e},_current:function(n){var r=this,i=r._focused,s=r._itemId;return n===t?i:(r.element.removeAttr("aria-activedescendant"),i&&i.length&&(i[0].id===s&&i.removeAttr("id"),i.children(g).removeClass(H)),e(n).length&&(s=n[0].id||s,n.attr("id",s).children(g).addClass(H),r.element.attr("aria-activedescendant",s)),r._focused=n,t)},_keydown:function(e){var t=this,n=e.keyCode,r=t._current();e.target==e.currentTarget&&(n==o.DOWN||n==o.RIGHT?(t._current(t._nextItem(r)),e.preventDefault()):n==o.UP||n==o.LEFT?(t._current(t._prevItem(r)),e.preventDefault()):n==o.ENTER||n==o.SPACEBAR?(t._click(r.children(g)),e.preventDefault()):n==o.HOME?(t._current(t._first()),e.preventDefault()):n==o.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(E),n=e.nextAll(":visible").first();return t[0]&&(n=t.children("."+x)),n[0]||(n=e.parent(E).parent(b).next()),n[0]||(n=this._first()),n.hasClass(B)&&(n=this._nextItem(n)),n},_prevItem:function(e){if(!e)return this._last();var t,n=e.prevAll(":visible").first();if(n[0])for(t=n;t[0];)t=t.children(E).children("."+v),t[0]&&(n=t);else n=e.parent(E).parent(b),n[0]||(n=this._last());return n.hasClass(B)&&(n=this._prevItem(n)),n},_insert:function(t,n,r){var s,o,a=this,f=e.isPlainObject(t),l=n&&n[0];return l||(r=a.element),o={firstLevel:r.hasClass("k-panelbar"),expanded:r.parent().hasClass(_),length:r.children().length},l&&!r.length&&(r=e(et.renderGroup({group:o})).appendTo(n)),t instanceof i.Observable&&(t=t.toJSON()),f||e.isArray(t)?(s=e.map(f?[t]:t,function(t,n){return e("string"==typeof t?t:et.renderItem({group:o,item:u(t,{index:n})}))}),l&&n.attr(V,!1)):(s="string"==typeof t&&"<"!=t.charAt(0)?a.element.find(t):e(t),a._updateItemsClasses(s)),{items:s,group:r}},_toggleHover:function(t){var n=e(t.currentTarget);n.parents("li."+B).length||n.toggleClass("k-state-hover",t.type==A)},_updateClasses:function(){var t,i,s=this;t=s.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),t.parent().attr(V,!1).not("."+_).children("ul").attr($,!0).hide(),i=s.element.add(t).children(),s._updateItemsClasses(i),n(i),r(i)},_updateItemsClasses:function(e){for(var t=e.length,n=0;t>n;n++)this._updateItemClasses(e[n],n)},_updateItemClasses:function(t,n){var r,s,o=this._selected,u=this.options.contentUrls,a=u&&u[n],f=this.element[0];t=e(t).addClass("k-item").attr("role","menuitem"),i.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children(p).addClass(S),s=t.children("a").addClass(m),s[0]&&(s.attr("href",a),s.children(p).addClass(S)),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").attr(X,!0).removeAttr("disabled"),t.children("div").addClass(C).attr("role","region").attr($,!0).hide().parent().attr(V,!1),s=t.children(F),s[0]&&(o&&o.removeAttr(J).children(F).removeClass(j),s.addClass(j),this._selected=t.attr(J,!0)),t.children(g)[0]||(r="<span class='"+m+"'/>",u&&u[n]&&t[0].parentNode==f&&(r='<a class="k-link k-header" href="'+u[n]+'"/>'),t.contents().filter(function(){return!(this.nodeName.match(c)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll(r)),t.parent(".k-panelbar")[0]&&t.children(g).addClass("k-header")},_click:function(e){var t,n,r,i,s,o,u,a=this,f=a.element;if(!e.parents("li."+B).length&&e.closest(".k-widget")[0]==f[0]){if(s=e.closest(g),o=s.closest(b),a._updateSelected(s),n=o.find(D).add(o.find(P)),r=s.attr(d),i=r&&("#"==r.charAt(r.length-1)||-1!=r.indexOf("#"+a.element[0].id+"-")),t=!!i||!!n.length,n.data("animating"))return t;if(a._triggerEvent(N,o)&&(t=!0),t!==!1)return a.options.expandMode==G&&a._collapseAllExpanded(o)?t:(n.length&&(u=n.is(K),a._triggerEvent(u?L:T,o)||(t=a._toggleItem(o,u))),t)}},_toggleItem:function(e,n){var r,i,s=this,o=e.find(D),u=e.find(g),a=u.attr(d);return o.length?(this._toggleGroup(o,n),r=!0):(i=e.children("."+C),i.length&&(r=!0,i.is(Q)&&a!==t?s._ajaxRequest(e,i,n):s._toggleGroup(i,n))),r},_toggleGroup:function(e,t){var n=this,r=n.options.animation,i=r.expand,s=u({},r.collapse),o=s&&"effects"in s;e.is(K)==t&&(e.parent().attr(V,!t).attr($,t).toggleClass(_,!t).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-s",t).toggleClass("k-panelbar-expand",t),i=t?u(o?s:u({reverse:!0},i),{hide:!0}):u({complete:function(e){n._triggerEvent(k,e.closest(b))}},i),e.kendoStop(!0,!0).kendoAnimate(i))},_collapseAllExpanded:function(t){var n,r=this,i=!1,s=t.find(D).add(t.find(P));return s.is(K)&&(i=!0),s.is(K)||0===s.length||(n=t.siblings(),n.find(D).add(n.find(P)).filter(function(){return e(this).is(K)}).each(function(t,n){n=e(n),i=r._triggerEvent(L,n.closest(b)),i||r._toggleGroup(n,!0)})),i},_ajaxRequest:function(t,n,r){var i=this,s=t.find(".k-panelbar-collapse, .k-panelbar-expand"),o=t.find(g),u=setTimeout(function(){s.addClass("k-loading")},100),a={},f=o.attr(d);e.ajax({type:"GET",cache:!1,url:f,dataType:"html",data:a,error:function(e,t){s.removeClass("k-loading"),i.trigger(y,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(u),s.removeClass("k-loading")},success:function(e){function s(){return{elements:n.get()}}try{i.angular("cleanup",s),n.html(e),i.angular("compile",s)}catch(o){var u=window.console;u&&u.error&&u.error(o.name+": "+o.message+" in "+f),this.error(this.xhr,"error")}i._toggleGroup(n,r),i.trigger(M,{item:t[0],contentElement:n[0]})}})},_triggerEvent:function(e,t){var n=this;return n.trigger(e,{item:t[0]})},_updateSelected:function(e){var t=this,n=t.element,r=e.parent(b),i=t._selected;i&&i.removeAttr(J),t._selected=r.attr(J,!0),n.find(z).removeClass(j),n.find("> ."+I+", .k-panel > ."+I).removeClass(I),e.addClass(j),e.parentsUntil(n,b).filter(":has(.k-header)").addClass(I),t._current(r[0]?r:null)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});u(et,{renderItem:function(e){e=u({panelBar:{},group:{}},e);var t=Y.empty,n=e.item;return Y.item(u(e,{image:n.imageUrl?Y.image:t,sprite:n.spriteCssClass?Y.sprite:t,itemWrapper:Y.itemWrapper,renderContent:et.renderContent,arrow:n.items||n.content||n.contentUrl?Y.arrow:t,subGroup:et.renderGroup},Z))},renderGroup:function(e){return Y.group(u({renderItems:function(e){for(var t="",n=0,r=e.items,i=r?r.length:0,s=u({length:i},e.group);i>n;n++)t+=et.renderItem(u(e,{group:s,item:u({index:n},r[n])}));return t}},e,Z))},renderContent:function(e){return Y.content(u(e,Z))}}),i.ui.plugin(et)}(window.kendo.jQuery),function(e){var t=e.proxy,n=".kendoResponsivePanel",r="open",i="close",s="click"+n+" touchstart"+n,o=kendo.ui.Widget,u=o.extend({init:function(r,i){o.fn.init.call(this,r,i),this._guid="_"+kendo.guid(),this._toggleHandler=t(this._toggleButtonClick,this),this._closeHandler=t(this._close,this),e(document.documentElement).on(s,this.options.toggleButton,this._toggleHandler),this._registerBreakpoint(),this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation+" "+this._guid),this._resizeHandler=t(this.resize,this,!1),e(window).on("resize"+n,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {.#= guid #.k-rpanel-animate.k-rpanel-left,.#= guid #.k-rpanel-animate.k-rpanel-right {-webkit-transition: -webkit-transform .2s ease-out;-ms-transition: -ms-transform .2s ease-out;transition: transform .2s ease-out;} .#= guid #.k-rpanel-top {overflow: hidden;}.#= guid #.k-rpanel-animate.k-rpanel-top {-webkit-transition: max-height .2s linear;-ms-transition: max-height .2s linear;transition: max-height .2s linear;}} @media (min-width: #= breakpoint #px) {#= toggleButton # { display: none; } .#= guid #.k-rpanel-left { float: left; } .#= guid #.k-rpanel-right { float: right; } .#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {position: relative;-webkit-transform: translateX(0);-ms-transform: translateX(0);transform: translateX(0);-webkit-transform: translateX(0) translateZ(0);-ms-transform: translateX(0) translateZ(0);transform: translateX(0) translateZ(0);} .#= guid #.k-rpanel-top { max-height: none; }}",_registerBreakpoint:function(){var e=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:e.breakpoint,toggleButton:e.toggleButton,guid:this._guid}))},_registerStyle:function(t){var n=e("head,body")[0],r=document.createElement("style");n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:!0},events:[r,i],_resize:function(){this.element.removeClass("k-rpanel-animate")},_toggleButtonClick:function(e){e.preventDefault(),this.element.hasClass("k-rpanel-expanded")?this.close():this.open()},open:function(){this.trigger(r)||(this.element.addClass("k-rpanel-animate k-rpanel-expanded"),this.options.autoClose&&e(document.documentElement).on(s,this._closeHandler))},close:function(){this.trigger(i)||(this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded"),e(document.documentElement).off(s,this._closeHandler))},_close:function(t){var n=t.isDefaultPrevented(),r=e(t.target).closest(this.options.toggleButton+",.k-rpanel");r.length||n||this.close()},destroy:function(){o.fn.destroy.call(this),e(window).off("resize"+n,this._resizeHandler),e(document.documentElement).off(s,this._closeHandler)}});kendo.ui.plugin(u)}(window.kendo.jQuery),function(e,t){function n(t){t.children(m).addClass(N),t.children("a").addClass(w).children(m).addClass(N),t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(H),t.filter("li[disabled]").addClass(P).removeAttr("disabled"),t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(B+" "+I),t.attr("role","tab"),t.filter("."+B).attr("aria-selected",!0),t.each(function(){var t=e(this);t.children("."+w).length||t.contents().filter(function(){return!(this.nodeName.match(d)||3==this.nodeType&&!l(this.nodeValue))}).wrapAll("<span class='"+w+"'/>")})}function r(e){var t=e.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(C),t.filter(".k-last:not(:last-child)").removeClass(E),t.filter(":first-child").addClass(C),t.filter(":last-child").addClass(E)}function i(e,t){return"<span class='k-button k-button-icon k-button-bare k-tabstrip-"+e+"' unselectable='on'><span class='k-icon "+t+"'></span></span>"}var s=window.kendo,o=s.ui,u=s.keys,a=e.map,f=e.each,l=e.trim,c=e.extend,h=s.template,p=o.Widget,d=/^(a|div)$/i,v=".kendoTabStrip",m="img",g="href",y="prev",b="show",w="k-link",E="k-last",S="click",x="error",T=":empty",N="k-image",C="k-first",k="select",L="activate",A="k-content",O="contentUrl",M="mouseenter",_="mouseleave",D="contentLoad",P="k-state-disabled",H="k-state-default",B="k-state-active",j="k-state-focused",F="k-state-hover",I="k-tab-on-top",q=".k-item:not(."+P+")",R=".k-tabstrip-items > "+q+":not(."+B+")",U={content:h("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:h("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:h("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:h("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:h("<span class='k-sprite #= spriteCssClass #'></span>"),empty:h("")},z={wrapperCssClass:function(e,t){var n="k-item",r=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},text:function(e){return e.encoded===!1?e.text:s.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},contentAttributes:function(e){return e.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?s.attr("content-url")+'="'+e.contentUrl+'"':""}},W=p.extend({init:function(t,n){var r,i,o=this;p.fn.init.call(o,t,n),o._animations(o.options),n=o.options,o._wrapper(),o._isRtl=s.support.isRtl(o.wrapper),o._tabindex(),o._updateClasses(),o._dataSource(),n.dataSource&&o.dataSource.fetch(),o._tabPosition(),o._scrollable(),o.options.contentUrls&&o.wrapper.find(".k-tabstrip-items > .k-item").each(function(t,n){e(n).find(">."+w).data(O,o.options.contentUrls[t])}),o.wrapper.on(M+v+" "+_+v,R,o._toggleHover).on("focus"+v,e.proxy(o._active,o)).on("blur"+v,function(){o._current(null)}),o._keyDownProxy=e.proxy(o._keydown,o),n.navigatable&&o.wrapper.on("keydown"+v,o._keyDownProxy),o.wrapper.children(".k-tabstrip-items").on(S+v,".k-state-disabled .k-link",!1).on(S+v," > "+q,function(t){var n,r=o.wrapper[0];if(r!==document.activeElement)if(n=s.support.browser.msie)try{r.setActive()}catch(i){r.focus()}else r.focus();o._click(e(t.currentTarget))&&t.preventDefault()}),r=o.tabGroup.children("li."+B),i=o.contentHolder(r.index()),r[0]&&i.length>0&&0===i[0].childNodes.length&&o.activateTab(r.eq(0)),o.element.attr("role","tablist"),o.element[0].id&&(o._ariaId=o.element[0].id+"_ts_active"),s.notify(o)},_active:function(){var e=this.tabGroup.children().filter("."+B);e=e[0]?e:this._endItem("first"),e[0]&&this._current(e)},_endItem:function(e){return this.tabGroup.children(q)[e]()},_item:function(e,t){var n;return n=t===y?"last":"first",e?(e=e[t](),e[0]||(e=this._endItem(n)),e.hasClass(P)&&(e=this._item(e,t)),e):this._endItem(n)},_current:function(e){var n=this,r=n._focused,i=n._ariaId;return e===t?r:(r&&(r[0].id===i&&r.removeAttr("id"),r.removeClass(j)),e&&(e.hasClass(B)||e.addClass(j),n.element.removeAttr("aria-activedescendant"),i=e[0].id||i,i&&(e.attr("id",i),n.element.attr("aria-activedescendant",i))),n._focused=e,t)},_keydown:function(e){var n,r=this,i=e.keyCode,s=r._current(),o=r._isRtl;if(e.target==e.currentTarget){if(i==u.DOWN||i==u.RIGHT)n=o?y:"next";else if(i==u.UP||i==u.LEFT)n=o?"next":y;else if(i==u.ENTER||i==u.SPACEBAR)r._click(s),e.preventDefault();else{if(i==u.HOME)return r._click(r._endItem("first")),e.preventDefault(),t;if(i==u.END)return r._click(r._endItem("last")),e.preventDefault(),t}n&&(r._click(r._item(s,n)),e.preventDefault())}},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler):t._refreshHandler=e.proxy(t.refresh,t),t.dataSource=s.data.DataSource.create(t.options.dataSource).bind("change",t._refreshHandler)},setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t.dataSource.fetch()},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(e){var t,n,r,i,o=this,u=o.options,a=s.getter(u.dataTextField),f=s.getter(u.dataContentField),l=s.getter(u.dataContentUrlField),c=s.getter(u.dataImageUrlField),h=s.getter(u.dataUrlField),p=s.getter(u.dataSpriteCssClass),d=[],v=o.dataSource.view();for(e=e||{},r=e.action,r&&(v=e.items),t=0,i=v.length;i>t;t++)n={text:a(v[t])},u.dataContentField&&(n.content=f(v[t])),u.dataContentUrlField&&(n.contentUrl=l(v[t])),u.dataUrlField&&(n.url=h(v[t])),u.dataImageUrlField&&(n.imageUrl=c(v[t])),u.dataSpriteCssClass&&(n.spriteCssClass=p(v[t])),d[t]=n;if("add"==e.action)e.index<o.tabGroup.children().length?o.insertBefore(d,o.tabGroup.children().eq(e.index)):o.append(d);else if("remove"==e.action)for(t=0;v.length>t;t++)o.remove(e.index);else"itemchange"==e.action?(t=o.dataSource.view().indexOf(v[0]),e.field===u.dataTextField&&o.tabGroup.children().eq(t).find(".k-link").text(v[0].get(e.field))):(o.trigger("dataBinding"),o.remove("li"),o.append(d),o.trigger("dataBound"))},value:function(n){var r=this;return n===t?r.select().text():(n!=r.value()&&r.tabGroup.children().each(function(){e.trim(e(this).text())==n&&r.select(this)}),t)},items:function(){return this.tabGroup[0].children},setOptions:function(e){var t=this,n=t.options.animation;t._animations(e),e.animation=c(!0,n,e.animation),e.navigatable?t.wrapper.on("keydown"+v,t._keyDownProxy):t.wrapper.off("keydown"+v,t._keyDownProxy),p.fn.setOptions.call(t,e)},events:[k,L,b,x,D,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1,navigatable:!0,contentUrls:!1,scrollable:{distance:200}},destroy:function(){var e=this;p.fn.destroy.call(e),e._refreshHandler&&e.dataSource.unbind("change",e._refreshHandler),e.wrapper.off(v),e.wrapper.children(".k-tabstrip-items").off(v),e._scrollableModeActive&&(e._scrollPrevButton.off().remove(),e._scrollNextButton.off().remove()),e.scrollWrap.children(".k-tabstrip").unwrap(),s.destroy(e.wrapper)},select:function(t){var n=this;return 0===arguments.length?n.tabGroup.children("li."+B):(isNaN(t)||(t=n.tabGroup.children().get(t)),t=n.tabGroup.find(t),e(t).each(function(t,r){r=e(r),r.hasClass(B)||n.trigger(k,{item:r[0],contentElement:n.contentHolder(r.index())[0]})||n.activateTab(r)}),n)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},reload:function(t){t=this.tabGroup.find(t);var n=this;return t.each(function(){var t=e(this),r=t.find("."+w).data(O),i=n.contentHolder(t.index());r&&n.ajaxRequest(t,i,null,r)}),n},append:function(e){var t=this,n=t._create(e);return f(n.tabs,function(e){var r=n.contents[e];t.tabGroup.append(this),"bottom"==t.options.tabPosition?t.tabGroup.before(r):t._scrollableModeActive?t._scrollPrevButton.before(r):t.wrapper.append(r),t.angular("compile",function(){return{elements:[r]}})}),r(t.tabGroup),t._updateContentElements(),t.resize(!0),t},insertBefore:function(t,n){n=this.tabGroup.find(n);var i=this,s=i._create(t),o=e(i.contentElement(n.index()));return f(s.tabs,function(e){var t=s.contents[e];n.before(this),o.before(t),i.angular("compile",function(){return{elements:[t]}})}),r(i.tabGroup),i._updateContentElements(),i.resize(!0),i},insertAfter:function(t,n){n=this.tabGroup.find(n);var i=this,s=i._create(t),o=e(i.contentElement(n.index()));return f(s.tabs,function(e){var t=s.contents[e];n.after(this),o.after(t),i.angular("compile",function(){return{elements:[t]}})}),r(i.tabGroup),i._updateContentElements(),i.resize(!0),i},remove:function(t){var n,r=this,i=typeof t;return"string"===i?t=r.tabGroup.find(t):"number"===i&&(t=r.tabGroup.children().eq(t)),n=t.map(function(){var t=r.contentElement(e(this).index());return s.destroy(t),t}),t.remove(),n.remove(),r._updateContentElements(),r.resize(!0),r},_create:function(r){var i,s,o,u=e.isPlainObject(r),f=this;return u||e.isArray(r)?(r=e.isArray(r)?r:[r],i=a(r,function(t,n){return e(W.renderItem({group:f.tabGroup,item:c(t,{index:n})}))}),s=a(r,function(n,r){return"string"==typeof n.content||n.contentUrl?e(W.renderContent({item:c(n,{index:r})})):t})):(i="string"==typeof r&&"<"!=r[0]?f.element.find(r):e(r),s=e(),i.each(function(){if(o=e("<div class='"+A+"'/>"),/k-tabstrip-items/.test(this.parentNode.className)){var t=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""),10)-1;o=e(f.contentElement(t))}s=s.add(o)}),n(i)),{tabs:i,contents:s}},_toggleDisabled:function(t,n){t=this.tabGroup.find(t),t.each(function(){e(this).toggleClass(H,n).toggleClass(P,!n)})},_updateClasses:function(){var i,s,o,u=this;u.wrapper.addClass("k-widget k-header k-tabstrip"),u.tabGroup=u.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),u.tabGroup[0]||(u.tabGroup=e("<ul class='k-tabstrip-items k-reset'/>").appendTo(u.wrapper)),i=u.tabGroup.find("li").addClass("k-item"),i.length&&(s=i.filter("."+B).index(),o=s>=0?s:t,u.tabGroup.contents().filter(function(){return 3==this.nodeType&&!l(this.nodeValue)}).remove()),s>=0&&i.eq(s).addClass(I),u.contentElements=u.wrapper.children("div"),u.contentElements.addClass(A).eq(o).addClass(B).css({display:"block"}),i.length&&(n(i),r(u.tabGroup),u._updateContentElements())},_updateContentElements:function(){var t=this,n=t.options.contentUrls||[],r=t.tabGroup.find(".k-item"),i=(t.element.attr("id")||s.guid())+"-",o=t.wrapper.children("div");o.length&&r.length>o.length?(o.each(function(e){var t=parseInt(this.id.replace(i,""),10),n=r.filter("[aria-controls="+i+t+"]"),s=i+(e+1);n.data("aria",s),this.setAttribute("id",s)}),r.each(function(){var t=e(this);this.setAttribute("aria-controls",t.data("aria")),t.removeData("aria")})):r.each(function(r){var s=o.eq(r),u=i+(r+1);this.setAttribute("aria-controls",u),!s.length&&n[r]?e("<div class='"+A+"'/>").appendTo(t.wrapper).attr("id",u):(s.attr("id",u),e(this).children(".k-loading")[0]||n[r]||e("<span class='k-loading k-complete'/>").prependTo(this)),s.attr("role","tabpanel"),s.filter(":not(."+B+")").attr("aria-hidden",!0).attr("aria-expanded",!1),s.filter("."+B).attr("aria-expanded",!0)}),t.contentElements=t.contentAnimators=t.wrapper.children("div"),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),s.kineticScrollNeeded&&s.mobile.ui.Scroller&&(s.touchScroller(t.contentElements),t.contentElements=t.contentElements.children(".km-scroll-container"))},_wrapper:function(){var e=this;e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element,e.scrollWrap=e.wrapper.parent(".k-tabstrip-wrapper"),e.scrollWrap[0]||(e.scrollWrap=e.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent())},_tabPosition:function(){var e=this,t=e.options.tabPosition;e.wrapper.addClass("k-floatwrap k-tabstrip-"+t),"bottom"==t&&e.tabGroup.appendTo(e.wrapper),e.resize(!0)},_setContentElementsDimensions:function(){var e,t,n,r,i,s,o=this,u=o.options.tabPosition;("left"==u||"right"==u)&&(e=o.wrapper.children(".k-content"),t=e.filter(":visible"),n="margin-"+u,r=o.tabGroup,i=r.outerWidth(),s=Math.ceil(r.height())-parseInt(t.css("padding-top"),10)-parseInt(t.css("padding-bottom"),10)-parseInt(t.css("border-top-width"),10)-parseInt(t.css("border-bottom-width"),10),setTimeout(function(){e.css(n,i).css("min-height",s)}))},_resize:function(){this._setContentElementsDimensions(),this._scrollable()},_sizeScrollWrap:function(e){var t,n;e.is(":visible")&&(t=this.options.tabPosition,n=Math.floor(e.outerHeight(!0))+("left"===t||"right"===t?2:this.tabsHeight),this.scrollWrap.css("height",n).css("height"))},_toggleHover:function(t){e(t.currentTarget).toggleClass(F,t.type==M)},_click:function(e){var t,n,r=this,i=e.find("."+w),s=i.attr(g),o=r.options.collapsible,u=r.contentHolder(e.index());if(e.closest(".k-widget")[0]==r.wrapper[0]){if(e.is("."+P+(o?"":",."+B)))return!0;if(n=i.data(O)||s&&("#"==s.charAt(s.length-1)||-1!=s.indexOf("#"+r.element[0].id+"-")),t=!s||n,r.tabGroup.children("[data-animating]").length)return t;if(r.trigger(k,{item:e[0],contentElement:u[0]}))return!0;if(t!==!1)return o&&e.is("."+B)?(r.deactivateTab(e),!0):(r.activateTab(e)&&(t=!0),t)}},_scrollable:function(){var e,t,n,r,o=this,u=o.options;o._scrollableAllowed()&&(o.wrapper.addClass("k-tabstrip-scrollable"),e=o.wrapper[0].offsetWidth,t=o.tabGroup[0].scrollWidth,t>e&&!o._scrollableModeActive?(o._nowScrollingTabs=!1,o._isRtl=s.support.isRtl(o.element),o.wrapper.append(i("prev","k-i-arrow-w")+i("next","k-i-arrow-e")),n=o._scrollPrevButton=o.wrapper.children(".k-tabstrip-prev"),r=o._scrollNextButton=o.wrapper.children(".k-tabstrip-next"),o.tabGroup.css({marginLeft:n.outerWidth()+9,marginRight:r.outerWidth()+12}),n.on("mousedown"+v,function(){o._nowScrollingTabs=!0,o._scrollTabsByDelta(u.scrollable.distance*(o._isRtl?1:-1))}),r.on("mousedown"+v,function(){o._nowScrollingTabs=!0,o._scrollTabsByDelta(u.scrollable.distance*(o._isRtl?-1:1))}),n.add(r).on("mouseup"+v,function(){o._nowScrollingTabs=!1}),o._scrollableModeActive=!0,o._toggleScrollButtons()):o._scrollableModeActive&&e>=t?(o._scrollableModeActive=!1,o.wrapper.removeClass("k-tabstrip-scrollable"),o._scrollPrevButton.off().remove(),o._scrollNextButton.off().remove(),o.tabGroup.css({marginLeft:"",marginRight:""})):o._scrollableModeActive||o.wrapper.removeClass("k-tabstrip-scrollable"))},_scrollableAllowed:function(){var e=this.options;return e.scrollable&&!isNaN(e.scrollable.distance)&&("top"==e.tabPosition||"bottom"==e.tabPosition)},_scrollTabsToItem:function(e){var t,n=this,r=n.tabGroup,i=r.scrollLeft(),s=e.outerWidth(),o=n._isRtl?e.position().left:e.position().left-r.children().first().position().left,u=r[0].offsetWidth,a=Math.ceil(parseFloat(r.css("padding-left")));n._isRtl?0>o?t=i+o-(u-i)-a:o+s>u&&(t=i+o-s+2*a):o+s>i+u?t=o+s-u+2*a:i>o&&(t=o-a),r.finish().animate({scrollLeft:t},"fast","linear",function(){n._toggleScrollButtons()})},_scrollTabsByDelta:function(e){var t=this,n=t.tabGroup,r=n.scrollLeft();n.finish().animate({scrollLeft:r+e},"fast","linear",function(){t._nowScrollingTabs?t._scrollTabsByDelta(e):t._toggleScrollButtons()})},_toggleScrollButtons:function(){var e=this,t=e.tabGroup,n=t.scrollLeft();e._scrollPrevButton.toggle(e._isRtl?t[0].scrollWidth-t[0].offsetWidth-1>n:0!==n),e._scrollNextButton.toggle(e._isRtl?0!==n:t[0].scrollWidth-t[0].offsetWidth-1>n)},deactivateTab:function(e){var t=this,n=t.options.animation,r=n.open,i=c({},n.close),o=i&&"effects"in i;e=t.tabGroup.find(e),i=c(o?i:c({reverse:!0},r),{hide:!0}),s.size(r.effects)?(e.kendoAddClass(H,{duration:r.duration}),e.kendoRemoveClass(B,{duration:r.duration})):(e.addClass(H),e.removeClass(B)),e.removeAttr("aria-selected"),t.contentAnimators.filter("."+B).kendoStop(!0,!0).kendoAnimate(i).removeClass(B).attr("aria-hidden",!0)},activateTab:function(e){var t,n,r,i,o,u,a,f,l,h,p,d,v,m,g;if(!this.tabGroup.children("[data-animating]").length)return e=this.tabGroup.find(e),t=this,n=t.options.animation,r=n.open,i=c({},n.close),o=i&&"effects"in i,u=e.parent().children(),a=u.filter("."+B),f=u.index(e),i=c(o?i:c({reverse:!0},r),{hide:!0}),s.size(r.effects)?(a.kendoRemoveClass(B,{duration:i.duration}),e.kendoRemoveClass(F,{duration:i.duration})):(a.removeClass(B),e.removeClass(F)),l=t.contentAnimators,t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===l.length?(t.tabGroup.find("."+I).removeClass(I),e.addClass(I).css("z-index"),e.addClass(B),t._current(e),t.trigger("change"),t._scrollableModeActive&&t._scrollTabsToItem(e),!1):(h=l.filter("."+B),p=t.contentHolder(f),d=p.closest(".k-content"),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),t._sizeScrollWrap(h),0===p.length?(h.removeClass(B).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(i),!1):(e.attr("data-animating",!0),v=(e.children("."+w).data(O)||!1)&&p.is(T),m=function(){t.tabGroup.find("."+I).removeClass(I),e.addClass(I).css("z-index"),s.size(r.effects)?(a.kendoAddClass(H,{duration:r.duration}),e.kendoAddClass(B,{duration:r.duration})):(a.addClass(H),e.addClass(B)),a.removeAttr("aria-selected"),e.attr("aria-selected",!0),t._current(e),t._sizeScrollWrap(d),d.addClass(B).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(c({init:function(){t.trigger(b,{item:e[0],contentElement:p[0]}),s.resize(p)}},r,{complete:function(){e.removeAttr("data-animating"),t.trigger(L,{item:e[0],contentElement:p[0]}),s.resize(p),t.scrollWrap.css("height","").css("height")}}))},g=function(){v?(e.removeAttr("data-animating"),t.ajaxRequest(e,p,function(){e.attr("data-animating",!0),m(),t.trigger("change")})):(m(),t.trigger("change")),t._scrollableModeActive&&t._scrollTabsToItem(e)},h.removeClass(B),h.attr("aria-hidden",!0),h.attr("aria-expanded",!1),h.length?h.kendoStop(!0,!0).kendoAnimate(c({complete:g},i)):g(),!0))},contentElement:function(e){var n,r,i,o;if(isNaN(e-0))return t;if(n=this.contentElements&&this.contentElements[0]&&!s.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=n&&0>e?n.length+e:e,r=RegExp("-"+(e+1)+"$"),n)for(i=0,o=n.length;o>i;i++)if(r.test(n.eq(i).closest(".k-content")[0].id))return n[i];return t},contentHolder:function(t){var n=e(this.contentElement(t)),r=n.children(".km-scroll-container");return s.support.touch&&r[0]?r:n},ajaxRequest:function(t,n,r,i){var o,u,a,f,l,c,h,p,d;t=this.tabGroup.find(t),o=this,u=e.ajaxSettings.xhr,a=t.find("."+w),f={},l=t.width()/2,c=!1,h=t.find(".k-loading").removeClass("k-complete"),h[0]||(h=e("<span class='k-loading'/>").prependTo(t)),p=2*l-h.width(),d=function(){h.animate({marginLeft:(parseInt(h.css("marginLeft"),10)||0)<l?p:0},500,d)},s.support.browser.msie&&10>s.support.browser.version&&setTimeout(d,40),i=i||a.data(O)||a.attr(g),o.inRequest=!0,o.xhr=e.ajax({type:"GET",cache:!1,url:i,dataType:"html",data:f,xhr:function(){var t=this,n=u(),r=t.progressUpload?"progressUpload":t.progress?"progress":!1;return n&&e.each([n,n.upload],function(){this.addEventListener&&this.addEventListener("progress",function(e){r&&t[r](e)},!1)}),t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),n},progress:function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10)+"%";h.stop(!0).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(e,t){o.trigger("error",{xhr:e,status:t})&&this.complete()},stopProgress:function(){clearInterval(c),h.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(e){o.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==e.statusText&&h.remove()},success:function(e){var u,a,f;h.addClass("k-complete");try{u=this,a=10,u.noProgress&&(h.width(a+"%"),c=setInterval(function(){u.progress({lengthComputable:!0,loaded:Math.min(a,100),total:100}),a+=10},40)),o.angular("cleanup",function(){return{elements:n.get()}}),s.destroy(n),n.html(e)}catch(l){f=window.console,f&&f.error&&f.error(l.name+": "+l.message+" in "+i),this.error(this.xhr,"error")}r&&r.call(o,n),o.angular("compile",function(){return{elements:n.get()}}),o.trigger(D,{item:t[0],contentElement:n[0]})}})}});c(W,{renderItem:function(e){e=c({tabStrip:{},group:{}},e);var t=U.empty,n=e.item;return U.item(c(e,{image:n.imageUrl?U.image:t,sprite:n.spriteCssClass?U.sprite:t,itemWrapper:U.itemWrapper},z))},renderContent:function(e){return U.content(c(e,z))}}),s.ui.plugin(W)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var r,i=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-i,e.setTime(e.getTime()+r*D))}function r(){var e=new $,t=new $(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new $(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-n.getTimezoneOffset())}function i(e){return 60*e.getHours()*D+e.getMinutes()*D+1e3*e.getSeconds()+e.getMilliseconds()}function s(e,t,n){var r,s=i(t),o=i(n);return e&&s!=o?(r=i(e),s>r&&(r+=P),s>o&&(o+=P),r>=s&&o>=r):!0}function o(e){var t=e.parseFormats;e.format=d(e.format||l.getCulture(e.culture).calendars.standard.patterns.t),t=W(t)?t:[t],t.splice(0,0,e.format),e.parseFormats=t}function u(e){e.preventDefault()}var a,f,l=window.kendo,c=l.keys,h=l.parseDate,p=l._activeElement,d=l._extractFormat,v=l.support,m=v.browser,g=l.ui,y=g.Widget,b="open",w="close",E="change",S=".kendoTimePicker",x="click"+S,T="k-state-default",N="disabled",C="readonly",k="li",L="<span/>",A="k-state-focused",O="k-state-hover",M="mouseenter"+S+" mouseleave"+S,_="mousedown"+S,D=6e4,P=864e5,H="k-state-selected",B="k-state-disabled",j="aria-selected",F="aria-expanded",I="aria-hidden",q="aria-disabled",R="aria-readonly",U="aria-activedescendant",z="id",W=e.isArray,X=e.extend,V=e.proxy,$=Date,J=new $;J=new $(J.getFullYear(),J.getMonth(),J.getDate(),0,0,0),a=function(t){var n=this,r=t.id;n.options=t,n.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:v.kineticScrollNeeded?"":"auto"}).on(x,k,V(n._click,n)).on("mouseenter"+S,k,function(){e(this).addClass(O)}).on("mouseleave"+S,k,function(){e(this).removeClass(O)}),n.list=e("<div class='k-list-container'/>").append(n.ul).on(_,u),r&&(n._timeViewID=r+"_timeview",n._optionID=r+"_option_selected",n.ul.attr(z,n._timeViewID)),n._popup(),n._heightHandler=V(n._height,n),n.template=l.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},a.prototype={current:function(n){var r=this,i=r.options.active;return n===t?r._current:(r._current&&r._current.removeClass(H).removeAttr(j).removeAttr(z),n&&(n=e(n).addClass(H).attr(z,r._optionID).attr(j,!0),r.scroll(n[0])),r._current=n,i&&i(n),t)},close:function(){this.popup.close()},destroy:function(){var e=this;e.ul.off(S),e.list.off(S),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy()},open:function(){var e=this;e.ul[0].firstChild||e.bind(),e.popup.open(),e._current&&e.scroll(e._current[0])},dataBind:function(e){for(var t,n=this,r=n.options,i=r.format,o=l.toString,u=n.template,a=e.length,f=0,c="";a>f;f++)t=e[f],s(t,r.min,r.max)&&(c+=u(o(t,i,r.culture)));n._html(c)},refresh:function(){var e,t,s,o=this,u=o.options,a=u.format,f=r(),c=0>f,h=u.min,p=u.max,d=i(h),v=i(p),m=u.interval*D,g=l.toString,y=o.template,b=new $(+h),w=b.getDate(),E=0,S="";for(s=c?(P+f*D)/m:P/m,d!=v&&(d>v&&(v+=P),s=(v-d)/m+1),t=parseInt(s,10);s>E;E++)E&&n(b,m,c),v&&t==E&&(e=i(b),w<b.getDate()&&(e+=P),e>v&&(b=new $(+p))),S+=y(g(b,a,u.culture));o._html(S)},bind:function(){var e=this,t=e.options.dates;t&&t[0]?e.dataBind(t):e.refresh()},_html:function(e){var t=this;t.ul[0].innerHTML=e,t.popup.unbind(b,t._heightHandler),t.popup.one(b,t._heightHandler),t.current(null),t.select(t._value)},scroll:function(e){if(e){var t,n=this.ul[0],r=e.offsetTop,i=e.offsetHeight,s=n.scrollTop,o=n.clientHeight,u=r+i,a=this._touchScroller;a?(t=this.list.height(),r>t&&(r=r-t+i),a.scrollTo(0,-r)):n.scrollTop=s>r?r:u>s+o?u-o:s}},select:function(t){var n=this,r=n.options,i=n._current;t instanceof Date&&(t=l.toString(t,r.format,r.culture)),"string"==typeof t&&(i&&i.text()===t?t=i:(t=e.grep(n.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}),t=t[0]?t:null)),n.current(t)},setOptions:function(e){var t=this.options;e.min=h(e.min),e.max=h(e.max),this.options=X(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){var e=this;e.popup.visible()?e.close():e.open()},value:function(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e)},_click:function(t){var n=this,r=e(t.currentTarget),i=r.text(),s=n.options.dates;s&&s.length>0&&(i=s[r.index()]),t.isDefaultPrevented()||(n.select(r),n.options.change(i,!0),n.close())},_height:function(){var e=this,t=e.list,n=t.parent(".k-animation-container"),r=e.options.height;e.ul[0].children.length&&t.add(n).show().height(e.ul[0].scrollHeight>r?r:"auto").hide()},_parse:function(e){var t=this,n=t.options,r=t._value||J;return e instanceof $?e:(e=h(e,n.parseFormats,n.culture),e&&(e=new $(r.getFullYear(),r.getMonth(),r.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidth:function(){var e,t,n=this.list,r=n[0].style.width,i=this.options.anchor;(n.data("width")||!r)&&(e=window.getComputedStyle?window.getComputedStyle(i[0],null):0,t=e?parseFloat(e.width):i.outerWidth(),e&&(m.mozilla||m.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),r=t-(n.outerWidth()-n.width()),n.css({fontFamily:i.css("font-family"),width:r}).data("width",r))},_popup:function(){var e=this,t=e.list,n=e.options,r=n.anchor;e.popup=new g.Popup(t,X(n.popup,{anchor:r,open:n.open,close:n.close,animation:n.animation,isRtl:v.isRtl(n.anchor)})),e._touchScroller=l.touchScroller(e.popup.element)},move:function(e){var n=this,r=e.keyCode,i=n.ul[0],s=n._current,o=r===c.DOWN;if(r===c.UP||o){if(e.altKey)return n.toggle(o),t;s=o?s?s[0].nextSibling:i.firstChild:s?s[0].previousSibling:i.lastChild,s&&n.select(s),n.options.change(n._current.text()),e.preventDefault()}else(r===c.ENTER||r===c.TAB||r===c.ESC)&&(e.preventDefault(),s&&n.options.change(s.text(),!0),n.close())}},a.getMilliseconds=i,l.TimeView=a,f=y.extend({init:function(t,n){var r,i,s,u=this;y.fn.init.call(u,t,n),t=u.element,n=u.options,n.min=h(t.attr("min"))||h(n.min),n.max=h(t.attr("max"))||h(n.max),o(n),u._initialOptions=X({},n),u._wrapper(),u.timeView=i=new a(X({},n,{id:t.attr(z),anchor:u.wrapper,format:n.format,change:function(e,n){n?u._change(e):t.val(e)},open:function(e){u.timeView._adjustListWidth(),u.trigger(b)?e.preventDefault():(t.attr(F,!0),r.attr(I,!1))},close:function(e){u.trigger(w)?e.preventDefault():(t.attr(F,!1),r.attr(I,!0))},active:function(e){t.removeAttr(U),e&&t.attr(U,i._optionID)}})),r=i.ul,u._icon(),u._reset();try{t[0].setAttribute("type","text")}catch(f){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":i._timeViewID}),s=t.is("[disabled]")||e(u.element).parents("fieldset").is(":disabled"),s?u.enable(!1):u.readonly(t.is("[readonly]")),u._old=u._update(n.value||u.element.val()),u._oldText=t.val(),l.notify(u)},options:{name:"TimePicker",min:J,max:J,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[b,w,E],setOptions:function(e){var t=this,n=t._value;y.fn.setOptions.call(t,e),e=t.options,o(e),t.timeView.setOptions(e),n&&t.element.val(l.toString(n,e.format,e.culture))},dataBind:function(e){W(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,n=e.disable,r=e.readonly,i=t._arrow.off(S),s=t.element.off(S),o=t._inputWrapper.off(S);r||n?(o.addClass(n?B:T).removeClass(n?T:B),s.attr(N,n).attr(C,r).attr(q,n).attr(R,r)):(o.addClass(T).removeClass(B).on(M,t._toggleHover),s.removeAttr(N).removeAttr(C).attr(q,!1).attr(R,!1).on("keydown"+S,V(t._keydown,t)).on("focusout"+S,V(t._blur,t)).on("focus"+S,function(){t._inputWrapper.addClass(A)}),i.on(x,V(t._click,t)).on(_,u))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;y.fn.destroy.call(e),e.timeView.destroy(),e.element.off(S),e._arrow.off(S),e._inputWrapper.off(S),e._form&&e._form.off("reset",e._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(A)},_click:function(){var e=this,t=e.element;e.timeView.toggle(),v.touch||t[0]===p()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t._typing||t.element.trigger(E),t.trigger(E)),t._typing=!1},_icon:function(){var t,n=this,r=n.element;t=r.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(r)),n._arrow=t.attr({role:"button","aria-controls":n.timeView._timeViewID})},_keydown:function(e){var t=this,n=e.keyCode,r=t.timeView,i=t.element.val();r.popup.visible()||e.altKey?r.move(e):n===c.ENTER&&i!==t._oldText?t._change(i):t._typing=!0},_option:function(e,n){var r=this,i=r.options;return n===t?i[e]:(n=r.timeView._parse(n),n&&(n=new $(+n),i[e]=n,r.timeView.options[e]=n,r.timeView.bind()),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(O,"mouseenter"===t.type)},_update:function(e){var t=this,n=t.options,r=t.timeView,i=r._parse(e);return s(i,n.min,n.max)||(i=null),t._value=i,t.element.val(i?l.toString(i,n.format,n.culture):e),r.value(i),i},_wrapper:function(){var t,n=this,r=n.element;t=r.parents(".k-timepicker"),t[0]||(t=r.wrap(L).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(L).parent()),t[0].style.cssText=r[0].style.cssText,n.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(r[0].className),r.css({width:"100%",height:r[0].style.height}),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=i.on("reset",t._resetHandler))}}),g.plugin(f)}(window.kendo.jQuery),function(e,t){function n(){var e,t=this.options.anchor,n=t.outerWidth();o.wrap(this.element).addClass("k-split-wrapper"),e="border-box"!==this.element.css("box-sizing")?n-(this.element.outerWidth()-this.element.width()):n,this.element.css({fontFamily:t.css("font-family"),"min-width":e})}function r(e){e.target.is(".k-toggle-button")||e.target.toggleClass(w,"press"==e.type)}function i(t){return t=e(t),t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function s(e){e.preventDefault()}var o=window.kendo,u=o.Class,a=o.ui.Widget,f=e.proxy,l=o.isFunction,c="k-toolbar",h="k-button",p="k-overflow-button",d="k-toggle-button",v="k-button-group",m="k-split-button",g="k-separator",y="k-popup",b="k-toolbar-resizable",w="k-state-active",E="k-state-disabled",S="k-state-hidden",x="k-group-start",T="k-group-end",N="k-primary",C="k-icon",k="k-i-",L="k-button-icon",A="k-button-icontext",O="k-list-container k-split-container",M="k-split-button-arrow",_="k-overflow-anchor",D="k-overflow-container",P="k-toolbar-first-visible",H="k-toolbar-last-visible",B="click",j="toggle",F="open",I="close",q="overflowOpen",R="overflowClose",U="never",z="auto",W="always",X="k-overflow-hidden",V=o.attr("uid"),$=o.Class.extend({addOverflowAttr:function(){this.element.attr(o.attr("overflow"),this.options.overflow||z)},addUidAttr:function(){this.element.attr(V,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(S).show(),this.options.hidden=!1},hide:function(){this.element.addClass(S).hide(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(e){e===t&&(e=!0),this.element.toggleClass(E,!e),this.options.enable=e},twin:function(){var e=this.element.attr(V);return this.overflow?this.toolbar.element.find("["+V+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+V+"='"+e+"']").data(this.options.type):t}}),J=$.extend({init:function(n,r){var i=e(n.useButtonTag?"<button></button>":"<a></a>");this.element=i,this.options=n,this.toolbar=r,this.attributes(),n.primary&&i.addClass(N),n.togglable&&(i.addClass(d),this.toggle(n.selected)),n.url===t||n.useButtonTag||(i.attr("href",n.url),n.mobile&&i.attr(o.attr("role"),"button")),n.group&&(i.attr(o.attr("group"),n.group),(this.overflow&&this.options.overflow===W||!this.overflow)&&(this.group=this.toolbar.addToGroup(this,n.group))),!n.togglable&&n.click&&l(n.click)&&(this.clickHandler=n.click),n.togglable&&n.toggle&&l(n.toggle)&&(this.toggleHandler=n.toggle)},toggle:function(e,t){e=!!e,this.group&&e?this.group.select(this):this.group||this.select(e),t&&this.twin()&&this.twin().toggle(e)},getParentGroup:function(){return this.options.isChild?this.element.closest("."+v).data("buttonGroup"):t},_addGraphics:function(){var t,n,r,i=this.element,s=this.options.icon,o=this.options.spriteCssClass,u=this.options.imageUrl;(o||u||s)&&(t=!0,i.contents().not("span.k-sprite,span."+C+",img.k-image").each(function(n,r){(1==r.nodeType||3==r.nodeType&&e.trim(r.nodeValue).length>0)&&(t=!1)}),i.addClass(t?L:A)),s?(n=i.children("span."+C).first(),n[0]||(n=e('<span class="'+C+'"></span>').prependTo(i)),n.addClass(k+s)):o?(n=i.children("span.k-sprite").first(),n[0]||(n=e('<span class="k-sprite"></span>').prependTo(i)),n.addClass(o)):u&&(r=i.children("img.k-image").first(),r[0]||(r=e('<img alt="icon" class="k-image" />').prependTo(i)),r.attr("src",u))}}),K=J.extend({init:function(e,t){J.fn.init.call(this,e,t);var n=this.element;n.addClass(h),this.addIdAttr(),e.align&&n.addClass("k-align-"+e.align),"overflow"!=e.showText&&e.text&&n.html(e.mobile?'<span class="km-text">'+e.text+"</span>":e.text),e.hasIcon="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(e){e===t&&(e=!1),this.element.toggleClass(w,e),this.options.selected=e}}),Q=J.extend({init:function(e,t){this.overflow=!0,J.fn.init.call(this,e,t);var n=this.element;n.addClass(p+" "+h),"toolbar"!=e.showText&&e.text&&n.html(e.mobile?'<span class="km-text">'+e.text+"</span>":e.text),e.hasIcon="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(X)},select:function(e){e===t&&(e=!1),this.options.isChild?this.element.toggleClass(w,e):this.element.find(".k-button").toggleClass(w,e),this.options.selected=e}}),G=$.extend({createButtons:function(t){var n,r,i=this.options,s=i.buttons||[];for(r=0;s.length>r;r++)s[r].uid||(s[r].uid=o.guid()),n=new t(e.extend({mobile:i.mobile,isChild:!0,type:"button"},s[r]),this.toolbar),n.element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('."+S+"'):first").addClass(x),this.element.children().filter(":not('."+S+"'):last").addClass(T)}}),Y=G.extend({init:function(t,n){var r=this.element=e("<div></div>");this.options=t,this.toolbar=n,this.addIdAttr(),t.align&&r.addClass("k-align-"+t.align),this.createButtons(K),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),r.addClass(v),this.element.data({type:"buttonGroup",buttonGroup:this})}}),Z=G.extend({init:function(t,n){var r=this.element=e("<li></li>");this.options=t,this.toolbar=n,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(Q),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),r.addClass((t.mobile?"":v)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(X)}}),et=$.extend({init:function(t,n){var r=this.element=e('<div class="'+m+'"></div>');this.options=t,this.toolbar=n,this.mainButton=new K(t,n),this.arrowButton=e('<a class="'+h+" "+M+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>'),this.popupElement=e('<ul class="'+O+'"></ul>'),this.mainButton.element.appendTo(r),this.arrowButton.appendTo(r),this.popupElement.appendTo(r),t.align&&r.addClass("k-align-"+t.align),t.id||(t.id=t.uid),r.attr("id",t.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this.mainButton.main=!0,r.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},createMenuButtons:function(){var t,n,r=this.options,i=r.menuButtons;for(n=0;i.length>n;n++)t=new K(e.extend({mobile:r.mobile,type:"button",click:r.click},i[n]),this.toolbar),t.element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var t=this.options,r=this.element;this.popupElement.attr("id",t.id+"_optionlist").attr(V,t.rootUid),t.mobile&&(this.popupElement=i(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:t.mobile?e(t.mobile).children(".km-pane"):null,anchor:r,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:t.animation,open:n}).data("kendoPopup")},remove:function(){this.popup.destroy(),this.element.remove()},toggle:function(){this.popup.toggle()},enable:function(e){e===t&&(e=!0),this.mainButton.enable(e),this.options.enable=e}}),tt=$.extend({init:function(t,n){var r,i,s=this.element=e('<li class="'+m+'"></li>'),o=t.menuButtons;for(this.options=t,this.toolbar=n,this.overflow=!0,this.mainButton=new Q(e.extend({isChild:!0},t)),this.mainButton.element.appendTo(s),i=0;o.length>i;i++)r=new Q(e.extend({mobile:t.mobile,isChild:!0},o[i]),this.toolbar),r.element.appendTo(s);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,s.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(X)}}),nt=$.extend({init:function(t,n){var r=this.element=e("<div>&nbsp;</div>");this.element=r,this.options=t,this.toolbar=n,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),r.addClass(g),r.data({type:"separator",separator:this})}}),rt=$.extend({init:function(t,n){var r=this.element=e("<li>&nbsp;</li>");this.element=r,this.options=t,this.toolbar=n,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),r.addClass(g),r.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(X)}}),it=$.extend({init:function(t,n,r){var i=l(t)?t(n):t;i=i instanceof jQuery?i.wrap("<div></div>").parent():e("<div></div>").html(i),this.element=i,this.options=n,this.options.type="template",this.toolbar=r,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),i.data({type:"template",template:this})}}),st=$.extend({init:function(t,n,r){var i=e(l(t)?t(n):t);i=i instanceof jQuery?i.wrap("<li></li>").parent():e("<li></li>").html(i),this.element=i,this.options=n,this.options.type="template",this.toolbar=r,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),i.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(X)}}),ot={button:{toolbar:K,overflow:Q},buttonGroup:{toolbar:Y,overflow:Z},splitButton:{toolbar:et,overflow:tt},separator:{toolbar:nt,overflow:rt},overflowAnchor:'<div class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'},ut=u.extend({init:function(e){this.name=e,this.buttons=[]},add:function(e){this.buttons[this.buttons.length]=e},remove:function(t){var n=e.inArray(t,this.buttons);this.buttons.splice(n,1)},select:function(e){for(var t=0;this.buttons.length>t;t++)this.buttons[t].select(!1);e.select(!0)}}),at=a.extend({init:function(t,n){var i,u=this;if(a.fn.init.call(u,t,n),n=u.options,t=u.wrapper=u.element,t.addClass(c+" k-widget"),this.uid=o.guid(),this._isRtl=o.support.isRtl(t),this._groups={},t.attr(V,this.uid),u.isMobile="boolean"==typeof n.mobile?n.mobile:u.element.closest(".km-root")[0],u.animation=u.isMobile?{open:{effects:"fade"}}:{},u.isMobile&&(t.addClass("km-widget"),C="km-icon",k="km-",h="km-button",v="km-buttongroup km-widget",w="km-state-active",E="km-state-disabled"),n.resizable?(u._renderOverflow(),t.addClass(b),u.overflowUserEvents=new o.UserEvents(u.element,{threshold:5,allowSelection:!0,filter:"."+_,tap:f(u._toggleOverflow,u)}),u._resizeHandler=o.onResize(function(){u.resize()})):u.popup={element:e([])},n.items&&n.items.length)for(i=0;n.items.length>i;i++)u.add(n.items[i]);u.userEvents=new o.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+V+"="+this.uid+"] ."+h+", ["+V+"="+this.uid+"] ."+p,tap:f(u._buttonClick,u),press:r,release:r}),u.element.on(B,"."+E,s),n.resizable&&u.popup.element.on(B,0/0+E,s),n.resizable&&this._toggleOverflowAnchor(),o.notify(u)},events:[B,j,F,I,q,R],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(e,t){var n;return n=this._groups[t]?this._groups[t]:this._groups[t]=new ut,n.add(e),n},destroy:function(){var t=this;t.element.find("."+m).each(function(t,n){e(n).data("kendoPopup").destroy()}),t.userEvents.destroy(),t.options.resizable&&(o.unbindResize(t._resizeHandler),t.overflowUserEvents.destroy(),t.popup.destroy()),a.fn.destroy.call(t)},add:function(t){var n,r,i=ot[t.type],s=t.template,u=this,a=u.isMobile?"":"k-item k-state-default",f=t.overflowTemplate;e.extend(t,{uid:o.guid(),animation:u.animation,mobile:u.isMobile,rootUid:u.uid}),s&&!f?t.overflow=U:t.overflow||(t.overflow=z),t.overflow!==U&&u.options.resizable&&(f?r=new st(f,t,u):i&&(r=new i.overflow(t,u),r.element.addClass(a)),r&&(t.overflow===z&&r.overflowHidden(),r.element.appendTo(u.popup.container),u.angular("compile",function(){return{elements:r.element.get()}}))),t.overflow!==W&&(s?n=new it(s,t,u):i&&(n=new i.toolbar(t,u)),n&&(u.options.resizable?(n.element.appendTo(u.element).css("visibility","hidden"),u._shrink(u.element.innerWidth()),n.element.css("visibility","visible")):n.element.appendTo(u.element),u.angular("compile",function(){return{elements:n.element.get()}})))},_getItem:function(e){var t,n,r,i,s=this.options.resizable;return t=this.element.find(e),i=t.length?t.data("type"):"",n=t.data(i),n&&n.main&&(t=t.parent("."+m),i="splitButton",n=t.data(i)),!t.length&&s&&(t=this.popup.element.find(e),i=t.data("type"),r=t.data(i)),r&&r.main&&(t=t.parent("."+m),i="splitButton",r=t.data(i)),n&&s&&(r=n.twin()),{type:i,toolbar:n,overflow:r}},remove:function(e){var t=this._getItem(e);t.toolbar&&t.toolbar.remove(),t.overflow&&t.overflow.remove(),this.resize(!0)},hide:function(e){var t=this._getItem(e);t.toolbar&&(t.toolbar.hide(),"button"===t.toolbar.options.type&&t.toolbar.options.isChild&&t.toolbar.getParentGroup().refresh()),t.overflow&&(t.overflow.hide(),"button"===t.overflow.options.type&&t.overflow.options.isChild&&t.overflow.getParentGroup().refresh()),this.resize(!0)},show:function(e){var t=this._getItem(e);t.toolbar&&(t.toolbar.show(),"button"===t.toolbar.options.type&&t.toolbar.options.isChild&&t.toolbar.getParentGroup().refresh()),t.overflow&&(t.overflow.show(),"button"===t.overflow.options.type&&t.overflow.options.isChild&&t.overflow.getParentGroup().refresh()),this.resize(!0)},enable:function(e,n){var r=this._getItem(e);t===n&&(n=!0),r.toolbar&&r.toolbar.enable(n),r.overflow&&r.overflow.enable(n)},getSelectedFromGroup:function(e){return this.element.find("."+d+"[data-group='"+e+"']").filter("."+w)},toggle:function(t,n){var r=e(t),i=r.data("button");i.options.togglable&&i.toggle(n?n:!i.options.selected,!0)},_renderOverflow:function(){var t=this,n=ot.overflowContainer,r=t._isRtl,s=r?"left":"right";t.overflowAnchor=e(ot.overflowAnchor).addClass(h),t.element.append(t.overflowAnchor),t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"></span>'),n=i(n)):t.overflowAnchor.append('<span class="k-icon k-i-more"></span>'),t.popup=new o.ui.Popup(n,{origin:"bottom "+s,position:"top "+s,anchor:t.overflowAnchor,isRtl:r,animation:t.animation,appendTo:t.isMobile?e(t.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(n){var i=o.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(e(".km-content:visible").innerHeight())-15+"px"):i.css("margin-left",(r?-1:1)*((i.outerWidth()-i.width())/2+1)),t.trigger(q)&&n.preventDefault()},close:function(e){t.trigger(R)&&e.preventDefault()}}),t.popup.container=t.isMobile?t.popup.element.find("."+D):t.popup.element,t.popup.container.attr(V,this.uid)},_toggleOverflowAnchor:function(){this.overflowAnchor.css(this.popup.element.children(":not(."+X+", ."+y+")").length>0?{visibility:"visible",width:""}:{visibility:"hidden",width:"1px"})},_buttonClick:function(n){var r,i,s,o,u,a,f=this,c=n.target.closest("."+M).length;return n.preventDefault(),c?(f._toggle(n),t):(i=e(n.target).closest("."+h,f.element),i.hasClass(_)||(s=i.data("button"),!s&&f.popup&&(i=e(n.target).closest("."+p,f.popup.container),s=i.parent("li").data("button")),s&&s.options.enable&&(s.options.togglable?(u=l(s.toggleHandler)?s.toggleHandler:null,s.toggle(!s.options.selected,!0),a={target:i,group:s.options.group,checked:s.options.selected,id:s.options.id},u&&u.call(f,a),f.trigger(j,a)):(u=l(s.clickHandler)?s.clickHandler:null,a={target:i,id:s.options.id},u&&u.call(f,a),f.trigger(B,a)),i.hasClass(p)&&f.popup.close(),o=i.closest(".k-split-container"),o[0]&&(r=o.data("kendoPopup"),(r?r:o.parents(".km-popup-wrapper").data("kendoPopup")).close()))),t)},_toggle:function(t){var n,r=e(t.target).closest("."+m).data("splitButton");t.preventDefault(),r.options.enable&&(n=r.popup.element.is(":visible")?this.trigger(I,{target:r.element}):this.trigger(F,{target:r.element}),n||r.toggle())},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var t=0;return this.element.children(":visible:not('."+S+"')").each(function(){t+=e(this).outerWidth(!0)}),Math.ceil(t)},_shrink:function(e){var t,n,r;if(e<this._childrenWidth())for(n=this.element.children(":visible:not([data-overflow='never'], ."+_+")"),r=n.length-1;r>=0&&(t=n.eq(r),!(e>this._childrenWidth()));r--)this._hideItem(t)},_stretch:function(e){var t,n,r;if(e>this._childrenWidth())for(n=this.element.children(":hidden:not('."+S+"')"),r=0;n.length>r&&(t=n.eq(r),!(e<this._childrenWidth())&&this._showItem(t,e));r++);},_hideItem:function(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(X)},_showItem:function(e,t){return e.length&&t>this._childrenWidth()+e.outerWidth(!0)?(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(X),!0):!1},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),n=e.filter(":not(.k-overflow-hidden)"),r=t.filter(":visible");e.add(t).removeClass(P+" "+H),n.first().add(r.first()).addClass(P),n.last().add(r.last()).addClass(H)}});o.ui.plugin(at)}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function r(e){e.preventDefault()}function i(t){var n,r=s.getCulture(t.culture).calendars.standard.patterns,i=!t.parseFormats.length;t.format=f(t.format||r.g),t.timeFormat=n=f(t.timeFormat||r.t),s.DateView.normalize(t),i&&t.parseFormats.push("yyyy-MM-ddTHH:mm:ss"),-1===e.inArray(n,t.parseFormats)&&t.parseFormats.splice(1,0,n)}var s=window.kendo,o=s.TimeView,u=s.parseDate,a=s._activeElement,f=s._extractFormat,l=s.calendar,c=l.isInRange,h=l.restrictValue,p=l.isEqualDatePart,d=o.getMilliseconds,v=s.ui,m=v.Widget,g="open",y="close",b="change",w=".kendoDateTimePicker",E="click"+w,S="disabled",x="readonly",T="k-state-default",N="k-state-focused",C="k-state-hover",k="k-state-disabled",L="mouseenter"+w+" mouseleave"+w,A="mousedown"+w,O="month",M="<span/>",_="aria-activedescendant",D="aria-expanded",P="aria-hidden",H="aria-owns",B="aria-disabled",j="aria-readonly",F=Date,I=new F(1800,0,1),q=new F(2099,11,31),R={view:"date"},U={view:"time"},z=e.extend,W=m.extend({init:function(t,n){var r,o=this;m.fn.init.call(o,t,n),t=o.element,n=o.options,n.min=u(t.attr("min"))||u(n.min),n.max=u(t.attr("max"))||u(n.max),i(n),o._initialOptions=z({},n),o._wrapper(),o._views(),o._icons(),o._reset(),o._template();try{t[0].setAttribute("type","text")}catch(a){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),o._midnight=o._calculateMidnight(n.min,n.max),r=t.is("[disabled]")||e(o.element).parents("fieldset").is(":disabled"),r?o.enable(!1):o.readonly(t.is("[readonly]")),o._old=o._update(n.value||o.element.val()),o._oldText=t.val(),s.notify(o)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new F(I),max:new F(q),interval:30,height:200,footer:"",start:O,depth:O,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[g,y,b],setOptions:function(e){var t,n,r,o=this,a=o._value;m.fn.setOptions.call(o,e),e=o.options,e.min=t=u(e.min),e.max=n=u(e.max),i(e),o._midnight=o._calculateMidnight(e.min,e.max),r=e.value||o._value||o.dateView._current,t&&!p(t,r)&&(t=new F(I)),n&&!p(n,r)&&(n=new F(q)),o.dateView.setOptions(e),o.timeView.setOptions(z({},e,{format:e.timeFormat,min:t,max:n})),a&&(o.element.val(s.toString(a,e.format,e.culture)),o._updateARIA(a))},_editable:function(t){var n=this,i=n.element.off(w),o=n._dateIcon.off(w),u=n._timeIcon.off(w),f=n._inputWrapper.off(w),l=t.readonly,c=t.disable;l||c?(f.addClass(c?k:T).removeClass(c?T:k),i.attr(S,c).attr(x,l).attr(B,c).attr(j,l)):(f.addClass(T).removeClass(k).on(L,n._toggleHover),i.removeAttr(S).removeAttr(x).attr(B,!1).attr(j,!1).on("keydown"+w,e.proxy(n._keydown,n)).on("focus"+w,function(){n._inputWrapper.addClass(N)}).on("focusout"+w,function(){n._inputWrapper.removeClass(N),i.val()!==n._oldText&&n._change(i.val()),n.close("date"),n.close("time")}),o.on(A,r).on(E,function(){n.toggle("date"),s.support.touch||i[0]===a()||i.focus()}),u.on(A,r).on(E,function(){n.toggle("time"),s.support.touch||i[0]===a()||i.focus()}))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;m.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(w),e._dateIcon.off(w),e._timeIcon.off(w),e._inputWrapper.off(w),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(b),t._typing||t.element.trigger(b))},_option:function(e,r){var i,s,o=this,a=o.options,f=o.timeView,l=f.options,c=o._value||o._old;if(r===t)return a[e];if(r=u(r,a.parseFormats,a.culture)){if(a.min.getTime()===a.max.getTime()&&(l.dates=[]),a[e]=new F(r.getTime()),o.dateView[e](r),o._midnight=o._calculateMidnight(a.min,a.max),c&&(i=p(a.min,c),s=p(a.max,c)),i||s){if(l[e]=r,i&&!s&&(l.max=n(a.interval)),s){if(o._midnight)return f.dataBind([q]),t;i||(l.min=I)}}else l.max=q,l.min=I;f.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass(C,"mouseenter"===t.type)},_update:function(t){var r,i,o,a,f,l=this,d=l.options,v=d.min,m=d.max,g=d.dates,y=l.timeView,b=l._value,w=u(t,d.parseFormats,d.culture),E=null===w&&null===b||w instanceof Date&&b instanceof Date;return+w===+b&&E?(f=s.toString(w,d.format,d.culture),f!==t&&l.element.val(null===w?t:f),w):(null!==w&&p(w,v)?w=h(w,v,m):c(w,v,m)||(w=null),l._value=w,y.value(w),l.dateView.value(w),w&&(o=l._old,i=y.options,g[0]&&(g=e.grep(g,function(e){return p(w,e)}),g[0]&&(y.dataBind(g),a=!0)),a||(p(w,v)&&(i.min=v,i.max=n(d.interval),r=!0),p(w,m)&&(l._midnight?(y.dataBind([q]),a=!0):(i.max=m,r||(i.min=I),r=!0))),!a&&(!o&&r||o&&!p(o,w))&&(r||(i.max=q,i.min=I),y.bind())),l.element.val(w?s.toString(w,d.format,d.culture):t),l._updateARIA(w),w)},_keydown:function(e){var t=this,n=t.dateView,r=t.timeView,i=t.element.val(),o=n.popup.visible();e.altKey&&e.keyCode===s.keys.DOWN?t.toggle(o?"time":"date"):o?(n.move(e),t._updateARIA(n._current)):r.popup.visible()?r.move(e):e.keyCode===s.keys.ENTER&&i!==t._oldText?t._change(i):t._typing=!0},_views:function(){var e,t,n,r,i,a,f=this,l=f.element,h=f.options,p=l.attr("id");f.dateView=e=new s.DateView(z({},h,{id:p,anchor:f.wrapper,change:function(){var t,n=e.calendar.value(),r=+n,i=+h.min,s=+h.max;(r===i||r===s)&&(t=new F(+f._value),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),c(t,i,s)&&(n=t)),f._change(n),f.close("date")},close:function(e){f.trigger(y,R)?e.preventDefault():(l.attr(D,!1),n.attr(P,!0),t.popup.visible()||l.removeAttr(H))},open:function(t){f.trigger(g,R)?t.preventDefault():(l.val()!==f._oldText&&(a=u(l.val(),h.parseFormats,h.culture),f.dateView[a?"current":"value"](a)),n.attr(P,!1),l.attr(D,!0).attr(H,e._dateViewID),f._updateARIA(a))}})),n=e.div,i=h.min.getTime(),f.timeView=t=new o({id:p,value:h.value,anchor:f.wrapper,animation:h.animation,format:h.timeFormat,culture:h.culture,height:h.height,interval:h.interval,min:new F(I),max:new F(q),dates:i===h.max.getTime()?[new Date(i)]:[],parseFormats:h.parseFormats,change:function(n,r){n=t._parse(n),h.min>n?(n=new F(+h.min),t.options.min=n):n>h.max&&(n=new F(+h.max),t.options.max=n),r?(f._timeSelected=!0,f._change(n)):(l.val(s.toString(n,h.format,h.culture)),e.value(n),f._updateARIA(n))},close:function(t){f.trigger(y,U)?t.preventDefault():(r.attr(P,!0),l.attr(D,!1),e.popup.visible()||l.removeAttr(H))},open:function(e){t._adjustListWidth(),f.trigger(g,U)?e.preventDefault():(l.val()!==f._oldText&&(a=u(l.val(),h.parseFormats,h.culture),f.timeView.value(a)),r.attr(P,!1),l.attr(D,!0).attr(H,t._timeViewID),t.options.active(t.current()))},active:function(e){l.removeAttr(_),e&&l.attr(_,t._optionID)}}),r=t.ul},_icons:function(){var t,n=this,r=n.element;t=r.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(r)),t=t.children(),n._dateIcon=t.eq(0).attr({role:"button","aria-controls":n.dateView._dateViewID}),n._timeIcon=t.eq(1).attr({role:"button","aria-controls":n.timeView._timeViewID})},_wrapper:function(){var t,n=this,r=n.element;t=r.parents(".k-datetimepicker"),t[0]||(t=r.wrap(M).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(M).parent()),t[0].style.cssText=r[0].style.cssText,r.css({width:"100%",height:r[0].style.height}),n.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(r[0].className),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),i=r?e("#"+r):n.closest("form");i[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue),t.max(t._initialOptions.max),t.min(t._initialOptions.min)},t._form=i.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=s.template(this.options.ARIATemplate)},_calculateMidnight:function(e,t){return d(e)+d(t)===0},_updateARIA:function(e){var t,n=this,r=n.dateView.calendar;n.element.removeAttr(_),r&&(t=r._cell,t.attr("aria-label",n._ariaTemplate({current:e||r.current()})),n.element.attr(_,t.attr("id")))}});v.plugin(W)}(window.kendo.jQuery),function(e,t){function n(e){return g.test(e)}function r(e){return m.test(e)||/^\d+$/.test(e)}function i(e){return!n(e)&&!r(e)}function s(e,t){var r=parseInt(e,10);return n(e)&&(r=Math.floor(r*t/100)),r}function o(e,n){return function(r,i){var s,o=this.element.find(r).data(A);return 1==arguments.length?o[e]:(o[e]=i,n&&(s=this.element.data("kendo"+this.options.name),s.resize(!0)),t)}}function u(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,p(t,n===N?f:a),t._resizable=new l.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:d(t._createHint,t),start:d(t._start,t),max:d(t._max,t),min:d(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:d(t._stop,t)})}var a,f,l=window.kendo,c=l.ui,h=l.keys,p=e.extend,d=e.proxy,v=c.Widget,m=/^\d+(\.\d+)?px$/i,g=/^\d+(\.\d+)?%$/i,y=".kendoSplitter",b="expand",w="collapse",E="contentLoad",S="error",x="resize",T="layoutChange",N="horizontal",C="vertical",k="mouseenter",L="click",A="pane",O="mouseleave",M="k-state-focused",_="k-"+A,D="."+_,P=v.extend({init:function(e,t){var n,r=this;v.fn.init.call(r,e,t),r.wrapper=r.element,n=r.options.orientation.toLowerCase()!=C,r.orientation=n?N:C,r._dimension=n?"width":"height",r._keys={decrease:n?h.LEFT:h.UP,increase:n?h.RIGHT:h.DOWN},r._resizeStep=10,r._marker=l.guid().substring(0,8),r._initPanes(),r.resizing=new u(r),r.element.triggerHandler("init"+y)},events:[b,w,E,S,x,T],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var t=this,n=t.options.orientation;t.element.children(".k-splitbar-draggable-"+n).on("keydown"+y,d(t._keydown,t)).on("mousedown"+y,function(e){e.currentTarget.focus()}).on("focus"+y,function(t){e(t.currentTarget).addClass(M)}).on("blur"+y,function(n){e(n.currentTarget).removeClass(M),t.resizing&&t.resizing.end()}).on(k+y,function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover")}).on(O+y,function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).on("mousedown"+y,d(t._addOverlays,t)).end().children(".k-splitbar").on("dblclick"+y,d(t._togglePane,t)).children(".k-collapse-next, .k-collapse-prev").on(L+y,t._arrowClick(w)).end().children(".k-expand-next, .k-expand-prev").on(L+y,t._arrowClick(b)).end().end(),e(window).on("resize"+y+t._marker,d(t.resize,t,!1)),e(document).on("mouseup"+y+t._marker,d(t._removeOverlays,t))},_detachEvents:function(){var t=this;t.element.children(".k-splitbar-draggable-"+t.orientation).off(y).end().children(".k-splitbar").off("dblclick"+y).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(y),e(window).off(y+t._marker),e(document).off(y+t._marker)},options:{name:"Splitter",orientation:N,panes:[]},destroy:function(){v.fn.destroy.call(this),this._detachEvents(),this.resizing&&this.resizing.destroy(),l.destroy(this.element),this.wrapper=this.element=null},_keydown:function(t){var n,r=this,i=t.keyCode,s=r.resizing,o=e(t.currentTarget),u=r._keys,a=i===u.increase,f=i===u.decrease;a||f?(t.ctrlKey?(n=o[f?"next":"prev"](),s&&s.isResizing()&&s.end(),n[r._dimension]()?r._triggerAction(w,o[f?"prev":"next"]()):r._triggerAction(b,n)):s&&s.move((f?-1:1)*r._resizeStep,o),t.preventDefault()):i===h.ENTER&&s&&(s.end(),t.preventDefault())},_initPanes:function(){var e=this.options.panes||[],t=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(n,r){"script"!=r.nodeName.toLowerCase()&&t._initPane(r,e[n])}),this.resize()},_initPane:function(t,n){t=e(t).attr("role","group").addClass(_),t.data(A,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t)},ajaxRequest:function(e,t,n){var r,i=this;e=i.element.find(e),r=e.data(A),t=t||r.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),l.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function(t){i.angular("cleanup",function(){return{elements:e.get()}}),e.html(t),i.angular("compile",function(){return{elements:e.get()}}),i.trigger(E,{pane:e[0]})},error:function(t,n){i.trigger(S,{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,r=this,i=e(t.target);i.closest(".k-splitter")[0]==r.element[0]&&(n=i.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?r._triggerAction(w,i.prev()):n.is(".k-collapse-next")?r._triggerAction(w,i.next()):n.is(".k-expand-prev")?r._triggerAction(b,i.prev()):n.is(".k-expand-next")&&r._triggerAction(b,i.next())))},_arrowClick:function(t){var n=this;return function(r){var i,s=e(r.target);s.closest(".k-splitter")[0]==n.element[0]&&(i=s.is(".k-"+t+"-prev")?s.parent().prev():s.parent().next(),n._triggerAction(t,i))}},_updateSplitBar:function(e,t,n){var r=function(e,t){return t?"<div class='k-icon "+e+"' />":""},i=this.orientation,s=t.resizable!==!1&&n.resizable!==!1,o=t.collapsible,u=t.collapsed,a=n.collapsible,f=n.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+i).attr("role","separator").attr("aria-expanded",!u&&!f).removeClass("k-splitbar-"+i+"-hover").toggleClass("k-splitbar-draggable-"+i,s&&!u&&!f).toggleClass("k-splitbar-static-"+i,!s&&!o&&!a).html(r("k-collapse-prev",o&&!u&&!f)+r("k-expand-prev",o&&u&&!f)+r("k-resize-handle",s)+r("k-collapse-next",a&&!f&&!u)+r("k-expand-next",a&&f&&!u)),s||o||a||e.removeAttr("tabindex")},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),r=n.prevAll(D).first().data(A),i=n.nextAll(D).first().data(A);i&&t._updateSplitBar(n,r,i)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element?this.element.children(D):e()},_resize:function(){var n,r,o,u,a,f,c,h,p,d,v=this,m=v.element,g=m.children(D),y=v.orientation==N,b=m.children(".k-splitbar"),w=b.length,E=y?"width":"height",S=m[E]();v.wrapper.addClass("k-splitter-resizing"),0===w?(w=g.length-1,g.slice(0,w).after("<div tabindex='0' class='k-splitbar' data-marker='"+v._marker+"' />"),v._updateSplitBars(),b=m.children(".k-splitbar")):v._updateSplitBars(),b.each(function(){S-=this[y?"offsetWidth":"offsetHeight"]}),n=0,r=0,o=e(),g.css({position:"absolute",top:0})[E](function(){var u,a=e(this),f=a.data(A)||{};if(a.removeClass("k-state-collapsed"),f.collapsed)u=f.collapsedSize?s(f.collapsedSize,S):0,a.css("overflow","hidden").addClass("k-state-collapsed");else{if(i(f.size))return o=o.add(this),t;u=s(f.size,S)}return r++,n+=u,u}),S-=n,u=o.length,a=Math.floor(S/u),o.slice(0,u-1).css(E,a).end().eq(u-1).css(E,S-(u-1)*a),f=0,c=y?"height":"width",h=y?"left":"top",p=y?"offsetWidth":"offsetHeight",0===u&&(d=g.filter(function(){return!(e(this).data(A)||{}).collapsed}).last(),d[E](S+d[0][p])),m.children().css(c,m[c]()).each(function(e,t){"script"!=t.tagName.toLowerCase()&&(t.style[h]=Math.floor(f)+"px",f+=t[p])}),v._detachEvents(),v._attachEvents(),v.wrapper.removeClass("k-splitter-resizing"),l.resize(g),v.trigger(T)},toggle:function(e,n){var r,i=this;e=i.element.find(e),r=e.data(A),(n||r.collapsible)&&(1==arguments.length&&(n=r.collapsed===t?!1:r.collapsed),r.collapsed=!n,r.collapsed?e.css("overflow","hidden"):e.css("overflow",""),i.resize(!0))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){var r=this;return n.length&&(r.options.panes.splice(t,0,e),r._initPane(n,e),r._removeSplitBars(),r.resize(!0)),n},append:function(t){t=t||{};var n=this,r=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,r)},insertBefore:function(t,n){n=e(n),t=t||{};var r=this,i=r.wrapper.children(".k-pane").index(n),s=e("<div />").insertBefore(e(n));return r._addPane(t,i,s)},insertAfter:function(t,n){n=e(n),t=t||{};var r=this,i=r.wrapper.children(".k-pane").index(n),s=e("<div />").insertAfter(e(n));return r._addPane(t,i+1,s)},remove:function(t){t=e(t);var n=this;return t.length&&(l.destroy(t),t.each(function(t,r){n.options.panes.splice(n.wrapper.children(".k-pane").index(r),1),e(r).remove()}),n._removeSplitBars(),n.options.panes.length&&n.resize(!0)),n},size:o("size",!0),min:o("min"),max:o("max")});c.plugin(P),a={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},f={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},u.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy(),this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_start:function(t){var n=this,i=e(t.currentTarget),s=i.prev(),o=i.next(),u=s.data(A),a=o.data(A),f=parseInt(s[0].style[n.positioningProperty],10),l=parseInt(o[0].style[n.positioningProperty],10)+o[0][n.sizingDomProperty]-i[0][n.sizingDomProperty],c=parseInt(n._element.css(n.sizingProperty),10),h=function(e){var t=parseInt(e,10);return(r(e)?t:c*t/100)||0},p=h(u.min),d=h(u.max)||l-f,v=h(a.min),m=h(a.max)||l-f;n.previousPane=s,n.nextPane=o,n._maxPosition=Math.min(l-v,f+d),n._minPosition=Math.max(f+p,l-m)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var n,r,s,o,u,a,f,c,h=this,p=e(t.currentTarget),d=h.owner;return d._panes().children(".k-splitter-overlay").remove(),t.keyCode!==l.keys.ESC&&(n=t.position,r=p.prev(),s=p.next(),o=r.data(A),u=s.data(A),a=n-parseInt(r[0].style[h.positioningProperty],10),f=parseInt(s[0].style[h.positioningProperty],10)+s[0][h.sizingDomProperty]-n-p[0][h.sizingDomProperty],c=h._element.children(D).filter(function(){return i(e(this).data(A).size)}).length,(!i(o.size)||c>1)&&(i(o.size)&&c--,o.size=a+"px"),(!i(u.size)||c>1)&&(u.size=f+"px"),d.resize(!0)),!1}}}(window.kendo.jQuery),function(e,t){function n(e){return e[e.length-1]}function r(e){return e instanceof Array?e:[e]}function i(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}function s(e,t,n){return Math.ceil(e*t/n)}function o(e,t,n){var r=document.createElement(n||"div");return t&&(r.className=t),e.appendChild(r),r}function u(){var t,n=e('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>');return n.css({position:"absolute",left:"-200000px",visibility:"hidden"}),n.appendTo(document.body),t=parseFloat(g.getComputedStyles(n.find(".k-item")[0],["line-height"])["line-height"]),n.remove(),t}function a(e,t,n){return{down:e*n,up:e*(t-1-n)}}function f(e,t){var n=(e.listScreens-1-e.threshold)*t,r=e.threshold*t;return function(e,t,i){return t>i?n>t-e.top:0===e.top||t-e.top>r}}function l(e,t){return function(n){return t(e.scrollTop,n)}}function c(e){return function(t,n){return e(t.items,t.index,n),t}}function h(e,t){g.support.browser.msie&&10>g.support.browser.version?e.style.top=t+"px":(e.style.webkitTransform="translateY("+t+"px)",e.style.transform="translateY("+t+"px)")}function p(t,n){return function(r,i){for(var s=0,o=r.length;o>s;s++)t(r[s],i[s],n),i[s].item&&(this.trigger(j,{item:e(r[s]),data:i[s].item,ns:g.ui}),i[s].index===this._selectedIndex&&this.select(this._selectedIndex))}}function d(e,t){var n;return t>0?(n=e.splice(0,t),e.push.apply(e,n)):(n=e.splice(t,-t),e.unshift.apply(e,n)),n}function v(n,r,i){var s=i.template;n=e(n),r.item||(s=i.placeholderTemplate),this.angular("cleanup",function(){return{elements:[n]}}),n.attr("data-uid",r.item?r.item.uid:"").attr("data-offset-index",r.index).html(s(r.item||{})),n.toggleClass(_,r.current),n.toggleClass(M,r.selected),n.toggleClass("k-first",r.newGroup),n.toggleClass("k-loading-item",!r.item),0!==r.index&&r.newGroup&&e("<div class="+O+"></div>").appendTo(n).html(i.groupTemplate({group:r.group})),r.top!==t&&h(n[0],r.top),this.angular("compile",function(){return{elements:[n],data:[{dataItem:r.item,group:r.group,newGroup:r.newGroup}]}})}function m(e,t){var n,r,i,s=t.length,o=[];for(r=0;e.length>r;r++)for(n=e[r],i=0;s>i;i++)n===t[i]&&o.push({index:r,item:n});return o}var g=window.kendo,y=g.ui,b=y.Widget,w=y.DataBoundWidget,E=e.proxy,S="k-virtual-wrap",x="k-virtual-list",T="k-virtual-content",N="k-list",C="k-group-header",k="k-virtual-item",L="k-item",A="k-height-container",O="k-group",M="k-state-selected",_="k-state-focused",D="k-state-hover",P="change",H="click",B="listBound",j="itemChange",F="activate",I="deactivate",q=".VirtualList",R=w.extend({init:function(t,n){var i=this;i._listCreated=!1,i._fetching=!1,i._filter=!1,b.fn.init.call(i,t,n),i.options.itemHeight||(i.options.itemHeight=u()),n=i.options,i.element.addClass(N+" "+x).attr("role","listbox"),i.content=i.element.wrap("<div unselectable='on' class='"+T+"'></div>").parent(),i.wrapper=i.content.wrap("<div class='"+S+"'></div>").parent(),i.header=i.content.before("<div class='"+C+"'></div>").prev(),i.element.on("mouseenter"+q,"li:not(.k-loading-item)",function(){e(this).addClass(D)}).on("mouseleave"+q,"li",function(){e(this).removeClass(D)}),i._values=r(i.options.value),i._selectedDataItems=[],i._selectedIndexes=[],i._rangesList={},i._activeDeferred=null,i._promisesList=[],i._optionID=g.guid(),i.setDataSource(n.dataSource),i.content.on("scroll"+q,g.throttle(function(){i._renderItems()},n.delay)),i._selectable()},options:{name:"VirtualList",autoBind:!0,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:!1,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:group#",fixedGroupTemplate:"fixed header template",valueMapper:null},events:[P,H,B,j,F,I],setOptions:function(e){b.fn.setOptions.call(this,e),this._selectProxy&&this.options.selectable===!1?this.element.off(H,"."+k,this._selectProxy):!this._selectProxy&&this.options.selectable&&this._selectable(),this.refresh()},items:function(){return e(this._items)},destroy:function(){this.wrapper.off(q),this.dataSource.unbind(P,this._refreshHandler),b.fn.destroy.call(this)},setDataSource:function(t){var n,r=this,i=t||{};i=e.isArray(i)?{data:i}:i,i=g.data.DataSource.create(i),r.dataSource?(r.dataSource.unbind(P,r._refreshHandler),r.dataSource.unbind(P,r._rangeChangeHandler),n=r.value(),r.value([]),r.mute(function(){r.value(n)})):(r._refreshHandler=e.proxy(r.refresh,r),r._rangeChangeHandler=e.proxy(r.rangeChange,r)),r.dataSource=i.bind(P,r._refreshHandler).bind(P,r._rangeChangeHandler),0!==r.dataSource.view().length?r.refresh():r.options.autoBind&&r.dataSource.fetch()},rangeChange:function(){var e=this,t=e.dataSource.page();e.isBound()&&e._rangeChange===!0&&e._lastPage!==t&&(e._lastPage=t,e.trigger(B))},refresh:function(e){var t,n=this,r=e&&e.action;n._mute||(n._fetching?n._renderItems&&n._renderItems(!0):(n._filter&&n.focus(0),n._createList(),r||!n._values.length||n._filter?(n._lastPage=n.dataSource.page(),n._listCreated=!0,n.trigger(B)):n.value(n._values,!0).done(function(){n._lastPage=n.dataSource.page(),n._listCreated=!0,n.trigger(B)})),"itemchange"===r&&(t=m(n._selectedDataItems,e.items),t.length&&n.trigger("selectedItemChange",{items:t})),n._fetching=!1)},removeAt:function(e){return this._selectedIndexes.splice(e,1),this._values.splice(e,1),{position:e,dataItem:this._selectedDataItems.splice(e,1)[0]}},setValue:function(e){this._values=r(e)},value:function(n,i){var s=this;return n===t?s._values.slice():(n=r(n),"multiple"===s.options.selectable&&s.select().length&&n.length&&s.select(-1),s._valueDeferred&&"resolved"!==s._valueDeferred.state()||(s._valueDeferred=e.Deferred()),n.length||s.select(-1),s._values=n,(s.isBound()&&!s._mute||i)&&s._prefetchByValue(n),s._valueDeferred)},_prefetchByValue:function(e){var n,s,o,u=this,a=u._dataView,f=u._valueGetter,l=!1,c=[];for(s=0;e.length>s;s++)for(o=0;a.length>o;o++)n=a[o].item,n&&(l=i(n)?e[s]===n:e[s]===f(n),l&&c.push(o));if(c.length===e.length)return u._values=[],u.select(c),t;if("function"!=typeof u.options.valueMapper)throw Error("valueMapper is not provided");u.options.valueMapper({value:"multiple"===this.options.selectable?e:e[0],success:function(e){u._values=[],u._selectedIndexes=[],u._selectedDataItems=[],e=r(e),e.length||(e=[-1]),u.select(e)}})},deferredRange:function(t){var n=this.dataSource,r=this.itemCount,i=this._rangesList,s=e.Deferred(),o=[],u=Math.floor(t/r)*r,a=Math.ceil(t/r)*r,f=a===u?[a]:[u,a];return e.each(f,function(t,s){var u,a=s+r,f=i[s];f&&f.end===a?u=f.deferred:(u=e.Deferred(),i[s]={end:a,deferred:u},n._multiplePrefetch(s,r,function(){u.resolve()})),o.push(u)}),e.when.apply(e,o).then(function(){s.resolve()}),s},prefetch:function(t){var n=this,r=this.itemCount,i=!n._promisesList.length;return n._activeDeferred||(n._activeDeferred=e.Deferred(),n._promisesList=[]),e.each(t,function(e,t){var i=Math.floor(t/r)*r;n._promisesList.push(n.deferredRange(i))}),i&&e.when.apply(e,n._promisesList).done(function(){n._activeDeferred.resolve(),n._activeDeferred=null,n._promisesList=[]}),n._activeDeferred},_findDataItem:function(e){var t,n,r=this.dataSource.view();if("group"===this.options.type)for(n=0;r.length>n;n++){if(t=r[n].items,!(e>=t.length))return t[e];e-=t.length}return r[e]},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollTo:function(e){this.content.scrollTop(e)},scrollToIndex:function(e){this.scrollTo(e*this.options.itemHeight)},focus:function(r){var i,s,o,u,a,f,l=this.options.itemHeight,c=this._optionID,h=!0;if(r===t)return u=this.element.find("."+_),u.length?u:null;if("function"==typeof r)for(o=this.dataSource.flatView(),a=0;o.length>a;a++)if(r(o[a])){r=a;break}return r instanceof Array&&(r=n(r)),isNaN(r)?(i=e(r),s=parseInt(e(i).attr("data-offset-index"),10)):(s=r,i=this._getElementByIndex(s)),-1===s?(this.element.find("."+_).removeClass(_),this._focusedIndex=t,t):(i.length?(i.hasClass(_)&&(h=!1),this._focusedIndex!==t&&(u=this._getElementByIndex(this._focusedIndex),u.removeClass(_).removeAttr("id"),h&&this.trigger(I)),this._focusedIndex=s,i.addClass(_).attr("id",c),f=this._getElementLocation(s),"top"===f?this.scrollTo(s*l):"bottom"===f?this.scrollTo(s*l+l-this.screenHeight):"outScreen"===f&&this.scrollTo(s*l),h&&this.trigger(F)):(this._focusedIndex=s,this.items().removeClass(_),this.scrollToIndex(s)),t)},focusIndex:function(){return this._focusedIndex},first:function(){this.scrollTo(0),this.focus(0)},last:function(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(e)},prev:function(){var e,n=this._focusedIndex;return!isNaN(n)&&n>0?(n-=1,this.focus(n),e=this.focus(),e&&e.hasClass("k-loading-item")&&(n+=1,this.focus(n)),n):t},next:function(){var e,n=this._focusedIndex,r=this.dataSource.total()-1;return!isNaN(n)&&r>n?(n+=1,this.focus(n),e=this.focus(),e&&e.hasClass("k-loading-item")&&(n-=1,this.focus(n)),n):t},select:function(e){var r,i,s,o=this,u="multiple"!==o.options.selectable,a=!!o._activeDeferred,f=[];return e===t?o._selectedIndexes.slice():(r=o._getIndecies(e),o._filter&&!u&&o._deselectFiltered(r)||!r.length||u&&!o._filter&&n(r)===n(this._selectedIndexes)||(f=o._deselect(r),u&&(o._activeDeferred=null,a=!1,r.length&&(r=[n(r)])),s=function(){var e=o._select(r);o.focus(r),(e.length||f.length)&&o.trigger(P,{added:e,removed:f}),o._valueDeferred&&o._valueDeferred.resolve()},i=o.prefetch(r),a||(i?i.done(s):s())),t)},isBound:function(){return this._listCreated},mute:function(e){this._mute=!0,E(e(),this),this._mute=!1},filter:function(e){return e===t?this._filter:(this._filter=e,this._rangeChange=!0,t)},skipUpdate:e.noop,_getElementByIndex:function(t){return this.items().filter(function(n,r){return t===parseInt(e(r).attr("data-offset-index"),10)})},_clean:function(){this.result=t,this._lastScrollTop=t,this._lastPage=t,e(this.heightContainer).remove(),this.heightContainer=t,this.element.empty()},_height:function(){var e=!!this.dataSource.view().length,t=this.options.height,n=this.options.itemHeight,r=this.dataSource.total();return e?t/n>r&&(t=r*n):t=0,t},_screenHeight:function(){var e=this._height(),t=this.content;t.height(e),this.screenHeight=e},_getElementLocation:function(e){var t,n=this.content.scrollTop(),r=this.screenHeight,i=this.options.itemHeight,s=e*i,o=s+i,u=n+r;return t=s===n-i||o>n&&n>s?"top":s===u||u>s&&o>u?"bottom":s>=n&&n+(r-i)>=s?"inScreen":"outScreen"},_templates:function(){var e,t={template:this.options.template,placeholderTemplate:this.options.placeholderTemplate,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate};for(e in t)"function"!=typeof t[e]&&(t[e]=g.template(t[e]));this.templates=t},_generateItems:function(e,t){for(var n,r=[],i=this.options.itemHeight+"px";t-->0;)n=document.createElement("li"),n.tabIndex=-1,n.className=k+" "+L,n.setAttribute("role","option"),n.style.height=i,n.style.minHeight=i,e.appendChild(n),r.push(n);return r},_saveInitialRanges:function(){var t,n=this.dataSource._ranges,r=e.Deferred();for(r.resolve(),this._rangesList={},t=0;n.length>t;t++)this._rangesList[n[t].start]={end:n[t].end,deferred:r}},_createList:function(){var t=this,n=t.content.get(0),r=t.options,i=t.dataSource;i.total(),t._listCreated&&t._clean(),t._saveInitialRanges(),t._screenHeight(),t._buildValueGetter(),t.itemCount=s(t.screenHeight,r.listScreens,r.itemHeight),t.itemCount>i.total()&&(t.itemCount=i.total()),t._templates(),t._items=t._generateItems(t.element[0],t.itemCount),t._setHeight(r.itemHeight*i.total()),t.options.type=(i.group()||[]).length?"group":"flat","flat"===t.options.type?t.header.hide():t.header.show(),t.getter=t._getter(function(){t._renderItems(!0)}),t._onScroll=function(e,n){var r=t._listItems(t.getter);return t._fixedHeader(e,r(e,n))},t._renderItems=t._whenChanged(l(n,t._onScroll),c(t._reorderList(t._items,e.proxy(v,t)))),t._renderItems(),t._calculateGroupPadding(t.screenHeight)},_setHeight:function(e){var t,n,r=this.heightContainer;if(r?t=r.offsetHeight:r=this.heightContainer=o(this.content[0],A),e!==t)for(r.innerHTML="";e>0;)n=Math.min(e,25e4),o(r).style.height=n+"px",e-=n},_getter:function(){var e=null,t=this.dataSource,n=t.skip(),r=this.options.type,i=this.itemCount,s={};return function(o,u){var a,f,l,c,h,p,d,v,m=this;if(t.inRange(u,i)){if(n!==u&&(m._mute=!0,m._fetching=!0,m._rangeChange=!0,t.range(u,i),n=u,m._rangeChange=!1,m._fetching=!1,m._mute=!1),"group"===r){if(!s[u])for(f=s[u]=[],l=t.view(),c=0,h=l.length;h>c;c++)for(p=l[c],d=0,v=p.items.length;v>d;d++)f.push({item:p.items[d],group:p.value});a=s[u][o-u]}else a=t.view()[o-u];return a}return e!==u&&(e=u,n=u,m._fetching=!0,m._getterDeferred&&m._getterDeferred.reject(),m._getterDeferred=m.deferredRange(u),m._getterDeferred.then(function(){var e=m._indexConstraint(m.content[0].scrollTop);m._getterDeferred=null,e>=u&&u+i>=e&&(m._fetching=!0,m._rangeChange=!0,t.range(u,i),m._rangeChange=!1)})),null}},_fixedHeader:function(e,t){var n,r=this.currentVisibleGroup,i=this.options.itemHeight,s=Math.floor((e-t.top)/i),o=t.items[s];return o&&o.item&&(n=o.group,n!==r&&(this.header[0].innerHTML=n||"",this.currentVisibleGroup=n)),t},_itemMapper:function(e,t,n){var r,s=this.options.type,o=this.options.itemHeight,u=this._focusedIndex,a=!1,f=!1,l=!1,c=null,h=!1,p=this._valueGetter;if("group"===s&&(e&&(l=0===t||this._currentGroup&&this._currentGroup!==e.group,this._currentGroup=e.group),c=e?e.group:null,e=e?e.item:null),n.length&&e)for(r=0;n.length>r;r++)if(h=i(e)?n[r]===e:n[r]===p(e)){n.splice(r,1),a=!0;break}return u===t&&(f=!0),{item:e?e:null,group:c,newGroup:l,selected:a,current:f,index:t,top:t*o}},_range:function(e){var t,n,r,i=this.itemCount,s=this._values.slice(),o=[];for(this._view={},this._currentGroup=null,n=e,r=e+i;r>n;n++)t=this._itemMapper(this.getter(n,e),n,s),o.push(t),this._view[t.index]=t;return this._dataView=o,o},_getDataItemsCollection:function(e,t){var n=this._range(this._listIndex(e,t));return{index:n.length?n[0].index:0,top:n.length?n[0].top:0,items:n}},_listItems:function(){var t=this.screenHeight,n=this.options,r=f(n,t);return e.proxy(function(e,t){var n=this.result,i=this._lastScrollTop;return!t&&n&&r(n,e,i)||(n=this._getDataItemsCollection(e,i)),this._lastScrollTop=e,this.result=n,n},this)},_whenChanged:function(e,t){var n;return function(r){var i=e(r);i!==n&&(n=i,t(i,r))}},_reorderList:function(t,n){var r=this,i=t.length,s=-1/0;return n=e.proxy(p(n,this.templates),this),function(e,o,u){var a,f,l=o-s;u||Math.abs(l)>=i?(a=t,f=e):(a=d(t,l),f=l>0?e.slice(-l):e.slice(0,-l)),n(a,f,r._listCreated),s=o}},_bufferSizes:function(){var e=this.options;return a(this.screenHeight,e.listScreens,e.oppositeBuffer)},_indexConstraint:function(e){var t=this.itemCount,n=this.options.itemHeight,r=this.dataSource.total();return Math.min(Math.max(r-t,0),Math.max(0,Math.floor(e/n)))},_listIndex:function(e,t){var n,r=this._bufferSizes();return n=e-(e>t?r.down:r.up),this._indexConstraint(n)},_selectable:function(){this.options.selectable&&(this._selectProxy=e.proxy(this,"_clickHandler"),this.element.on(H+q,"."+k,this._selectProxy))},_getIndecies:function(e){var t,n,r=[];if("function"==typeof e)for(t=this.dataSource.flatView(),n=0;t.length>n;n++)if(e(t[n])){r.push(n);break}return"number"==typeof e&&r.push(e),e instanceof jQuery&&(e=parseInt(e.attr("data-offset-index"),10),isNaN(e)||r.push(e)),e instanceof Array&&(r=e),r},_deselect:function(n){var r,i,s,o,u,a,f=[],l=this._selectedIndexes,c=0,h=this.options.selectable,p=0;if(-1===n[c]){for(u=0;l.length>u;u++)i=l[u],this._getElementByIndex(i).removeClass(M),f.push({index:i,position:u,dataItem:this._selectedDataItems[u]});return this._values=[],this._selectedDataItems=[],this._selectedIndexes=[],n.splice(0,n.length),f}if(h===!0)r=n[c],i=l[c],i!==t&&r!==i&&(this._getElementByIndex(i).removeClass(M),f.push({index:i,position:c,dataItem:this._selectedDataItems[c]}),this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]);else if("multiple"===h)for(a=0;n.length>a;a++)if(c=e.inArray(n[a],l),i=l[c],i!==t){if(o=this._getElementByIndex(i),!o.hasClass("k-state-selected"))continue;o.removeClass(M),this._values.splice(c,1),this._selectedIndexes.splice(c,1),s=this._selectedDataItems.splice(c,1)[0],n.splice(a,1),f.push({index:i,position:c+p,dataItem:s}),p++,a--}return f},_deselectFiltered:function(t){for(var n,r,i,s,o=this.element[0].children,u=this._values,a=[],f=0;t.length>f;f++){for(i=-1,r=t[f],n=this._valueGetter(this._view[r].item),s=0;u.length>s;s++)if(n==u[s]){i=s;break}i>-1&&(a.push(this.removeAt(i)),e(o[r]).removeClass("k-state-selected"))}return a.length?(this.trigger("change",{added:[],removed:a}),!0):!1},_select:function(t){var n,r,s=this,o="multiple"!==this.options.selectable,u=this.dataSource,a=this.itemCount,f=this._valueGetter,l=[];return o&&(s._selectedIndexes=[],s._selectedDataItems=[],s._values=[]),r=u.skip(),e.each(t,function(e,t){var o=a>t?1:Math.floor(t/a)+1,c=(o-1)*a;s.mute(function(){u.range(c,a),n=s._findDataItem([t-c]),s._selectedIndexes.push(t),s._selectedDataItems.push(n),s._values.push(i(n)?n:f(n)),l.push({index:t,dataItem:n}),s._getElementByIndex(t).addClass(M),u.range(r,a)})}),l},_clickHandler:function(t){var n=e(t.currentTarget);!t.isDefaultPrevented()&&n.attr("data-uid")&&this.trigger(H,{item:n})},_buildValueGetter:function(){this._valueGetter=g.getter(this.options.dataValueField)},_calculateGroupPadding:function(e){var t=this.items().first(),n=this.header,r=0;n[0]&&"none"!==n[0].style.display&&("auto"!==e&&(r=g.support.scrollbar()),r+=parseFloat(t.css("border-right-width"),10)+parseFloat(t.children(".k-group").css("right"),10),n.css("padding-right",r))}});g.ui.VirtualList=R,g.ui.plugin(R)}(window.kendo.jQuery),function(e){function t(e,t){function n(e,i){var s,o;if(i=i[t])for(s=r[e]=r[e]||[],o=0;i.length>o;o++)s.push(i[o]),n(e+1,i[o])}var r=[];return n(0,e),r}function n(){return O.support.cssBorderSpacing?"":'cellspacing="0"'}function r(t,r){return t.length?"<table "+n()+' class="'+e.trim("k-scheduler-table "+(r||""))+'"><tr>'+t.join("</tr><tr>")+"</tr></table>":""}function i(e,t){return e.length?"<div style='position:relative'>"+r(e,t)+"</div>":""}function s(t,n,i){var s,o=[];if(i>0)for(s=0;t>s;s++)o.push("<th>&nbsp;</th>");return n&&o.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>"),1>i?e():e('<div class="k-scheduler-times">'+r(o)+"</div>")}function o(t,n,s){var o,u,a,f,l,c,h,p,d,v,m=[];for(u=0;t.length>u;u++){for(a=t[u],f=[],l=n/a.length,o=0;a.length>o;o++)c=a[o],f.push('<th colspan="'+(c.colspan||l)+'" class="'+(c.className||"")+'">'+c.text+"</th>");m.push(f.join(""))}if(h=[],s){for(p=t[t.length-1],d=[],v=s.cellContent,o=0;p.length>o;o++)d.push('<td class="'+(p[o].className||"")+'">'+(v?v(o):"&nbsp;")+"</th>");h.push(d.join(""))}return e('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+r(m)+i(h,"k-scheduler-header-all-day")+"</div></div>")}function u(t,n){var i,s,o,u,a,f=Array(n).join().split(","),l=[];for(s=0;t.length>s;s++)for(o=t[s],u=n/o.length,i=0;o.length>i;i++)a=o[i].className||"",o[i].allDay&&(a="k-scheduler-times-all-day"),f[u*i]+='<th class="'+a+'" rowspan="'+u+'">'+o[i].text+"</th>";for(i=0;n>i;i++)l.push(f[i]);return 1>n?e():e('<div class="k-scheduler-times">'+r(l)+"</div>")}function a(){return e('<div class="k-scheduler-content"><table '+n()+' class="k-scheduler-table"/></div>')}function f(){return k=k?k:O.support.scrollbar()}function l(e,t,n){var r,i,s,o,u;for(r=e.length-1;r>=0;r--)i=c(e[r]),s=i.start,u=i.end,o=t>=s&&u>=t,(o||s>=t&&n>=u||s>=t&&n>=s)&&(t>s&&(t=s),u>n&&(n=u));return h(e,t,n)}function c(e){return{start:e.start,end:e.end}}function h(e,t,n){var r,i,s=[];for(r=0;e.length>r;r++)i=c(e[r]),(t>i.start&&i.end>t||i.start>=t&&n>=i.end)&&s.push(e[r]);return s}function p(e){return v(e)}function d(e){return v(e)}function v(e){var t,n,r,i,s,o,u,a=[];for(t=0;e.length>t;t++){for(n=e[t],r=c(n),i=null,s=0,o=a.length;o>s;s++)if(u=r.start>a[s].end,a[s].start>r.start||u){i=a[s],r.end>i.end&&(i.end=r.end);break}i||(i={start:r.start,end:r.end,events:[]},a.push(i)),i.events.push(n)}return a}function m(e,t,n,r){var i,s,o,u,a=t[0];if(a){for(i=[],s=a.dataSource.view(),o=0;s.length>o;o++)u={text:r({text:O.htmlEncode(O.getter(a.dataTextField)(s[o])),color:O.getter(a.dataColorField)(s[o]),field:a.field,title:a.title,name:a.name,value:O.getter(a.dataValueField)(s[o])}),className:"k-slot-cell"},u[e]=m(e,t.slice(1),n,r),i.push(u);return i}return n}function g(t){return function(n){if(e.isArray(n)||n instanceof O.data.ObservableArray){for(var r=0;n.length>r;r++)if(n[r]==t)return!0;return!1}return n==t}}function y(e){e.className=e.className.replace(A,"")+" k-state-selected"}var b,w,E,S,x,T,N,C,k,L,A,O=window.kendo,M=O.ui,_=M.Widget,D=O.keys,P=".kendoSchedulerView",H=Math,B='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';O.ui.scheduler={},b=O.Class.extend({init:function(e){this._index=e,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollection:function(e,t){return this._addCollection(e,t,this._timeSlotCollections)},addDaySlotCollection:function(e,t){return this._addCollection(e,t,this._daySlotCollections)},_addCollection:function(e,t,n){var r=new x(e,t,this._index,n.length);return n.push(r),r},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(e,t){return this._slotByPosition(e,t,this._daySlotCollections)},timeSlotByPosition:function(e,t){return this._slotByPosition(e,t,this._timeSlotCollections)},_slotByPosition:function(e,t,n){var r,i,s,o,u,a,f=O.support.browser;for(r=0;n.length>r;r++)for(i=n[r],s=0;s<i.count();s++)if(o=i.at(s),u=o.offsetWidth,a=o.clientHeight,f.msie&&(a=o.clientHeight-1,u=o.clientWidth),e>=o.offsetLeft&&o.offsetLeft+u>e&&t>=o.offsetTop&&o.offsetTop+a>=t)return o},refresh:function(){var e;for(e=0;this._daySlotCollections.length>e;e++)this._daySlotCollections[e].refresh();for(e=0;this._timeSlotCollections.length>e;e++)this._timeSlotCollections[e].refresh()},timeSlotRanges:function(e,t){var n,r=this._timeSlotCollections,i=this._startSlot(e,r);return!i.inRange&&e>=i.slot.end&&(i=null),n=i,t>e&&(n=this._endSlot(t,r)),n&&!n.inRange&&n.slot.start>=t&&(n=null),null===i&&null===n?[]:(null===i&&(i={inRange:!0,slot:r[n.slot.collectionIndex].first()}),null===n&&(n={inRange:!0,slot:r[i.slot.collectionIndex].last()}),this._continuousRange(E,r,i,n))},daySlotRanges:function(e,t,n){var r,i=this._daySlotCollections,s=this._startSlot(e,i,n);if(!s.inRange&&e>=s.slot.end&&(s=null),r=s,t>e&&(r=this._endSlot(t,i,n)),r&&!r.inRange&&r.slot.start>=t&&(r=null),null===s&&null===r)return[];if(null===s)do e+=O.date.MS_PER_DAY,s=this._startSlot(e,i,n);while(!s.inRange&&e>=s.slot.end);if(null===r)do t-=O.date.MS_PER_DAY,r=this._endSlot(t,i,n);while(!r.inRange&&r.slot.start>=t);return this._continuousRange(S,i,s,r)},_continuousRange:function(e,t,n,r){var i,s,o,u,a,f,l=n.slot,c=r.slot,h=l.collectionIndex,p=c.collectionIndex,d=[];for(i=h;p>=i;i++)s=t[i],o=s.first(),u=s.last(),a=!1,f=!1,i==h&&(f=!n.inRange),i==p&&(a=!r.inRange),l.start>o.start&&(o=l),u.start>c.start&&(u=c),p>h&&(i==h?a=!0:i==p?f=!0:a=f=!0),d.push(new e({start:o,end:u,collection:s,head:a,tail:f}));return d},slotRanges:function(e,t){var n=e._startTime||O.date.toUtcTime(e.start),r=e._endTime||O.date.toUtcTime(e.end);return void 0===t&&(t=e.isMultiDay()),t?this.daySlotRanges(n,r,e.isAllDay):this.timeSlotRanges(n,r)},ranges:function(e,t,n,r){return"number"!=typeof e&&(e=O.date.toUtcTime(e)),"number"!=typeof t&&(t=O.date.toUtcTime(t)),n?this.daySlotRanges(e,t,r):this.timeSlotRanges(e,t)},_startCollection:function(e,t){var n,r;for(n=0;t.length>n;n++)if(r=t[n],r.startInRange(e))return r;return null},_endCollection:function(e,t,n){var r,i;for(r=0;t.length>r;r++)if(i=t[r],i.endInRange(e,n))return i;return null},_getCollections:function(e){return e?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(e,t){var n=t?-1:1,r=this._getCollections(e.isDaySlot),i=r[e.collectionIndex+n];return i?i[t?"last":"first"]():void 0},firstSlot:function(){var e=this._getCollections(this.daySlotCollectionCount());return e[0].first()},lastSlot:function(){var e=this._getCollections(this.daySlotCollectionCount());return e[e.length-1].last()},upSlot:function(e,t){var n=this,r=function(e,r,i){var s=0===i;return!t&&!e&&s&&n.daySlotCollectionCount()?n._daySlotCollections[0].at(r):void 0};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,-1,r)},downSlot:function(e,t){var n=this,r=function(e,r,i){return!t&&e&&n.timeSlotCollectionCount()?n._timeSlotCollections[i].at(0):void 0};return this.timeSlotCollectionCount()||(t=!0),this._verticalSlot(e,1,r)},leftSlot:function(e){return this._horizontalSlot(e,-1)},rightSlot:function(e){return this._horizontalSlot(e,1)},_horizontalSlot:function(e,t){var n,r=e.index,i=e.isDaySlot,s=e.collectionIndex,o=this._getCollections(i);return i?r+=t:s+=t,n=o[s],n?n.at(r):void 0},_verticalSlot:function(e,t,n){var r,i=e.index,s=e.isDaySlot,o=e.collectionIndex,u=this._getCollections(s);return(e=n(s,o,i))?e:(s?o+=t:i+=t,r=u[o],r?r.at(i):void 0)},_collection:function(e,t){var n=t?this._daySlotCollections:this._timeSlotCollections;return n[e]},_startSlot:function(e,t,n){var r,i=this._startCollection(e,t),s=!0;return i||(i=t[0],s=!1),r=i.slotByStartDate(e,n),r||(r=i.first(),s=!1),{slot:r,inRange:s}},_endSlot:function(e,t,n){var r,i=this._endCollection(e,t,n),s=!0;return i||(i=t[t.length-1],s=!1),r=i.slotByEndDate(e,n),r||(r=i.last(),s=!1),{slot:r,inRange:s}},getSlotCollection:function(e,t){return this[t?"getDaySlotCollection":"getTimeSlotCollection"](e)},getTimeSlotCollection:function(e){return this._timeSlotCollections[e]},getDaySlotCollection:function(e){return this._daySlotCollections[e]}}),w=O.Class.extend({init:function(t){e.extend(this,t)},innerHeight:function(){var e,t=this.collection,n=this.start.index,r=this.end.index,i=0;for(e=n;r>=e;e++)i+=t.at(e).offsetHeight;return i},events:function(){return this.collection.events()},addEvent:function(e){this.events().push(e)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),E=w.extend({innerHeight:function(){var e,t=this.collection,n=this.start.index,r=this.end.index,i=0;for(e=n;r>=e;e++)i+=t.at(e).offsetHeight;return i},outerRect:function(e,t,n){return this._rect("offset",e,t,n)},_rect:function(e,t,n,r){var i,s,o,u,a,f,l,c,h=this.start,p=this.end,d=O.support.isRtl(h.element);return"number"!=typeof t&&(t=O.date.toUtcTime(t)),"number"!=typeof n&&(n=O.date.toUtcTime(n)),r?(i=h.offsetTop,s=p.offsetTop+p[e+"Height"],d?(o=p.offsetLeft,u=h.offsetLeft+h[e+"Width"]):(o=h.offsetLeft,u=p.offsetLeft+p[e+"Width"])):(a=t-h.start,0>a&&(a=0),f=h.end-h.start,i=h.offsetTop+h[e+"Height"]*a/f,l=p.end-n,0>l&&(l=0),c=p.end-p.start,s=p.offsetTop+p[e+"Height"]-p[e+"Height"]*l/c,d?(o=Math.round(p.offsetLeft+p[e+"Width"]*l/c),u=Math.round(h.offsetLeft+h[e+"Width"]-h[e+"Width"]*a/f)):(o=Math.round(h.offsetLeft+h[e+"Width"]*a/f),u=Math.round(p.offsetLeft+p[e+"Width"]-p[e+"Width"]*l/c))),{top:i,bottom:s,left:0===o?o:o+1,right:u}},innerRect:function(e,t,n){return this._rect("client",e,t,n)}}),S=w.extend({innerWidth:function(){var e,t=this.collection,n=this.start.index,r=this.end.index,i=0,s=n!==r?"offsetWidth":"clientWidth";for(e=n;r>=e;e++)i+=t.at(e)[s];return i}}),x=O.Class.extend({init:function(e,t,n,r){this._slots=[],this._events=[],this._start=O.date.toUtcTime(e),this._end=O.date.toUtcTime(t),this._groupIndex=n,this._collectionIndex=r},refresh:function(){for(var e=0;this._slots.length>e;e++)this._slots[e].refresh()},startInRange:function(e){return e>=this._start&&this._end>e},endInRange:function(e,t){var n=t?this._end>e:this._end>=e;return e>=this._start&&n},slotByStartDate:function(e){var t,n,r=e;for("number"!=typeof r&&(r=O.date.toUtcTime(e)),t=0;this._slots.length>t;t++)if(n=this._slots[t],n.startInRange(r))return n;return null},slotByEndDate:function(e,t){var n,r,i=e;if("number"!=typeof i&&(i=O.date.toUtcTime(e)),t)return this.slotByStartDate(e,!1);for(n=0;this._slots.length>n;n++)if(r=this._slots[n],r.endInRange(i))return r;return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(e,t,n,r){var i=new N(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,r);this._slots.push(i)},addDaySlot:function(e,t,n,r){var i=new C(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,r);this._slots.push(i)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(e){return this._slots[e]}}),T=O.Class.extend({init:function(e,t,n,r,i,s){this.element=e,this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft,this.start=t,this.end=n,this.element=e,this.groupIndex=r,this.collectionIndex=i,this.index=s,this.isDaySlot=!1},startDate:function(){return O.timezone.toLocalDate(this.start)},endDate:function(){return O.timezone.toLocalDate(this.end)},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e},startOffset:function(){return this.start},endOffset:function(){return this.end}}),N=T.extend({init:function(e,t,n,r,i,s,o){T.fn.init.apply(this,arguments),this.isHorizontal=o?!0:!1},refresh:function(){var e=this.element;this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft},offsetX:function(e,t){return e?this.offsetLeft+t:this.offsetLeft+t},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e},startOffset:function(t,n,r){var i,s,o,u,a;if(r)return this.start;if(i=e(this.element).offset(),s=this.end-this.start,this.isHorizontal){if(a=O.support.isRtl(this.element),o=t-i.left,u=Math.floor(s*(o/this.offsetWidth)),a)return this.start+s-u}else o=n-i.top,u=Math.floor(s*(o/this.offsetHeight));return this.start+u},endOffset:function(t,n,r){var i,s,o,u,a;if(r)return this.end;if(i=e(this.element).offset(),s=this.end-this.start,this.isHorizontal){if(a=O.support.isRtl(this.element),o=t-i.left,u=Math.floor(s*(o/this.offsetWidth)),a)return this.start+s-u}else o=n-i.top,u=Math.floor(s*(o/this.offsetHeight));return this.start+u}}),C=T.extend({init:function(e,t,n,r,i,s,o){T.fn.init.apply(this,arguments),this.eventCount=o,this.isDaySlot=!0,this.element.children.length?(this.firstChildHeight=this.element.children[0].offsetHeight+3,this.firstChildTop=this.element.children[0].offsetTop):(this.firstChildHeight=3,this.firstChildTop=0)},refresh:function(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDate:function(){var e=new Date(this.start);return O.timezone.apply(e,"Etc/UTC")},endDate:function(){var e=new Date(this.end);return O.timezone.apply(e,"Etc/UTC")},startInRange:function(e){return e>=this.start&&this.end>e},endInRange:function(e){return e>this.start&&this.end>=e}}),O.ui.SchedulerView=_.extend({init:function(t,n){_.fn.init.call(this,t,n),this._scrollbar=f(),this._isRtl=O.support.isRtl(t),this._resizeHint=e(),this._moveHint=e(),this._cellId=O.guid(),this._resourcesForGroups(),this._selectedSlots=[]},_isMobile:function(){var e=this.options;return e.mobile===!0&&O.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isMobilePhoneView:function(){var e=this.options;return e.mobile===!0&&O.support.mobileOS&&!O.support.mobileOS.tablet||"phone"===e.mobile},_addResourceView:function(){var e=new b(this.groups.length);return this.groups.push(e),e},dateForTitle:function(){return O.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return O.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(e,t){var n=t?"prevGroupSlot":"nextGroupSlot",r=this[n](e.start,e.groupIndex,e.isAllDay);return r&&(e.groupIndex+=t?-1:1),r},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_horizontalSlots:function(e,t,n,r){var i,s,o=r?"leftSlot":"rightSlot",u=t[0].start,a=t[t.length-1].end,f=this.groups[e.groupIndex];return n||(i=this._normalizeHorizontalSelection(e,t,r),i&&(u=a=i)),u=f[o](u),a=f[o](a),n||this._isVerticallyGrouped()||u&&a||(u=a=this._changeGroup(e,r)),u&&a||(s=this._continuousSlot(e,t,r),s=this._changeGroupContinuously(e,s,n,r),s&&(u=a=s)),{startSlot:u,endSlot:a}},_verticalSlots:function(e,t,n,r){var i,s,o=t[0].start,u=t[t.length-1].end,a=this.groups[e.groupIndex];return n||(i=this._normalizeVerticalSelection(e,t,r),i&&(o=u=i)),s=r?"upSlot":"downSlot",o=a[s](o,n),u=a[s](u,n),n||!this._isVerticallyGrouped()||o&&u||(o=u=this._changeGroup(e,r)),{startSlot:o,endSlot:u}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(e,t,n){var r;return r=n?t[0].start:t[t.length-1].end},_continuousSlot:function(){return null},constrainSelection:function(e){var t,n=this.groups[0];this.inRange(e)?n.daySlotCollectionCount()||(e.isAllDay=!1):(t=n.firstSlot(),e.isAllDay=t.isDaySlot,e.start=t.startDate(),e.end=t.endDate()),this.groups[e.groupIndex]||(e.groupIndex=0)},move:function(e,t,n){var r,i,s,o,u,a,f=!1,l=this.groups[e.groupIndex];if(l.timeSlotCollectionCount()||(e.isAllDay=!0),r=l.ranges(e.start,e.end,e.isAllDay,!1),t===D.DOWN||t===D.UP){if(f=!0,o=t===D.UP,this._updateDirection(e,r,n,o,!0),u=this._verticalSlots(e,r,n,o),!u.startSlot&&!n&&this._changeViewPeriod(e,o,!0))return f}else if((t===D.LEFT||t===D.RIGHT)&&(f=!0,o=t===D.LEFT,this._updateDirection(e,r,n,o,!1),u=this._horizontalSlots(e,r,n,o),!u.startSlot&&!n&&this._changeViewPeriod(e,o,!1)))return f;return f&&(i=u.startSlot,s=u.endSlot,n?(a=e.backward,a&&i?e.start=i.startDate():!a&&s&&(e.end=s.endDate())):i&&s&&(e.isAllDay=i.isDaySlot,e.start=i.startDate(),e.end=s.endDate()),e.events=[]),f},moveToEventInGroup:function(t,n,r,i){for(var s,o,u=t._continuousEvents||[],a=i?-1:1,f=u.length,l=i?f-1:0;f>l&&l>-1;){if(o=u[l],(!i&&o.start.startDate()>=n.startDate()||i&&o.start.startDate()<=n.startDate())&&(r.length&&(o=u[l+a]),o&&-1===e.inArray(o.uid,r))){s=!!o;break}l+=a}return o},moveToEvent:function(e,t){for(var n,r=e.groupIndex,i=this.groups[r],s=i.ranges(e.start,e.end,e.isAllDay,!1)[0].start,o=this.groups.length,u=t?-1:1,a=e.events;o>r&&r>-1&&(n=this.moveToEventInGroup(i,s,a,t),r+=u,i=this.groups[r],i&&!n);)a=[],s=t?i.lastSlot():i.firstSlot(!0);return n&&(e.events=[n.uid],e.start=n.start.startDate(),e.end=n.end.endDate(),e.isAllDay=n.start.isDaySlot,e.groupIndex=n.start.groupIndex),!!n},current:function(e){return void 0===e?this._current:(this._current=e,void (this.content.has(e)&&this._scrollTo(e,this.content[0])))},select:function(e){this.clearSelection(),this._selectEvents(e)||this._selectSlots(e)},_selectSlots:function(e){var t,n,r,i,s,o,u,a=e.isAllDay,f=this.groups[e.groupIndex];for(f.timeSlotCollectionCount()||(a=!0),this._selectedSlots=[],t=f.ranges(e.start,e.end,a,!1),i=0;t.length>i;i++)for(s=t[i],o=s.collection,u=s.start.index;s.end.index>=u;u++)r=o.at(u),n=r.element,n.setAttribute("aria-selected",!0),y(n),this._selectedSlots.push({start:r.startDate(),end:r.endDate(),element:n});e.backward&&(n=t[0].start.element),this.current(n)},_selectEvents:function(t){var n,r,i=!1,s=t.events,o=this.groups[t.groupIndex]._continuousEvents||[],u=o.length;if(!s[0]||!o[0])return i;for(r=e(),t.events=[],n=0;u>n;n++)e.inArray(o[n].uid,s)>-1&&(r=r.add(o[n].element),t.events.push(o[n].uid));return r[0]&&(r.addClass("k-state-selected").attr("aria-selected",!0),this.current(r.last()[0]),this._selectedSlots=[],i=!0),i},inRange:function(e){var t=this.startDate(),n=O.date.addDays(this.endDate(),1),r=e.start,i=e.end;return r>=t&&n>r&&i>t&&n>=i},_resourceValue:function(e,t){return e.valuePrimitive&&(t=O.getter(e.dataValueField)(t)),t},_resourceBySlot:function(e){var t,n,r,i,s,o=this.groupedResources,u={};if(o.length)for(t=e.groupIndex,n=o.length-1;n>=0;n--)r=o[n],i=this._resourceValue(r,r.dataSource.view()[t%r.dataSource.total()]),r.multiple&&(i=[i]),s=O.setter(r.field),s(u,i),t=Math.floor(t/r.dataSource.total());return u},_createResizeHint:function(t,n,r,i){return e(B).css({left:t,top:n,width:r,height:i})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=e()},_removeMoveHint:function(){this._moveHint.remove(),this._moveHint=e()},_scrollTo:function(e,t){var n=e.offsetTop,r=e.offsetHeight,i=t.scrollTop,s=t.clientHeight,o=n+r,u=0;u=i>n?n:o>i+s?s>=r?o-s:n:i,t.scrollTop=u},_shouldInverseResourceColor:function(e){var t=(new L(e.color)).isDark(),n=this.element.css("color"),r=(new L(n)).isDark();return t==r},_eventTmpl:function(t,n){var r,i=this.options,s=e.extend({},O.Template,i.templateSettings),o=s.paramName,u="",a=typeof t,f={storage:{},count:0};return"function"===a?(f.storage["tmpl"+f.count]=t,u+="#=this.tmpl"+f.count+"("+o+")#",f.count++):"string"===a&&(u+=t),r=O.template(O.format(n,u),s),f.count>0&&(r=e.proxy(r,f.storage)),r},eventResources:function(e){var t,n,r,i,s,o,u,a,f,l,c=[],h=this.options;if(!h.resources)return c;for(t=0;h.resources.length>t;t++)if(n=h.resources[t],r=n.field,i=O.getter(r)(e),null!=i)for(n.multiple||(i=[i]),s=n.dataSource.view(),o=0;i.length>o;o++){for(u=null,a=i[o],n.valuePrimitive||(a=O.getter(n.dataValueField)(a)),f=0;s.length>f;f++)if(s[f].get(n.dataValueField)==a){u=s[f];break}null!==u&&(l=O.getter(n.dataColorField)(u),c.push({field:n.field,title:n.title,name:n.name,text:O.getter(n.dataTextField)(u),value:a,color:l}))}return c},createLayout:function(r){var i,s,o,u,a,f=-1;for(r.rows||(r.rows=[]),i=0;r.rows.length>i;i++)if(r.rows[i].allDay){f=i;break}s=r.rows[f],f>=0&&r.rows.splice(f,1),o=this.columnLevels=t(r,"columns"),u=this.rowLevels=t(r,"rows"),this.table=e("<table "+n()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>'),a=u[u.length-1].length,this.table.append(this._topSection(o,s,a)),this.table.append(this._bottomSection(o,u,a)),this.element.append(this.table),this._scroller()},refreshLayout:function(){var t,n,r,i,s,o,u=this,a=u.element.find(">.k-scheduler-toolbar"),f=u.element.innerHeight(),l=this._scrollbar,c=0,h=this._isRtl?"left":"right";for(t=0;a.length>t;t++)f-=a.eq(t).outerHeight();u.datesHeader&&(c=u.datesHeader.outerHeight()),u.timesHeader&&u.timesHeader.outerHeight()>c&&(c=u.timesHeader.outerHeight()),u.datesHeader&&u.timesHeader&&(n=u.datesHeader.find("table:first tr"),u.timesHeader.find("tr").height(function(t){e(this).height(n.eq(t).height())})),c&&(f-=c),u.footer&&(f-=u.footer.outerHeight()),r=function(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),t!=n?(e.height(""),!0):(e.height(""),!1))},i=u.content[0],s=O.support.kineticScrollNeeded?0:l,r(u.element)&&(u.content.height(f>2*l?f:2*l+1),u.times.height(i.clientHeight),o=u.times.find("table"),o.length&&o.height(u.content.find("table")[0].clientHeight)),i.offsetWidth-i.clientWidth>0?(u.table.addClass("k-scrollbar-v"),u.datesHeader.css("padding-"+h,s-parseInt(u.datesHeader.children().css("border-"+h+"-width"),10))):u.datesHeader.css("padding-"+h,""),i.offsetHeight-i.clientHeight>0||i.clientHeight>u.content.children(".k-scheduler-table").height()?u.table.addClass("k-scrollbar-h"):u.table.removeClass("k-scrollbar-h")},_topSection:function(t,n,r){this.timesHeader=s(t.length,n,r);var i=t[t.length-1].length;return this.datesHeader=o(t,i,n),e("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(t,n,r){return this.times=u(n,r),this.content=a(t[t.length-1],n[n.length-1]),e("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var t,n=this;this.content.bind("scroll"+P,function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop)}),t=O.touchScroller(this.content,{avoidScrolling:function(t){return e(t.event.target).closest(".k-event.k-event-active").length>0}}),t&&t.movable&&(this._touchScroller=t,this.content=t.scrollElement,t.movable.bind("change",function(e){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-e.sender.x),n.times.scrollTop(-e.sender.y)}))},_resourcesForGroups:function(){var e,t,n,r,i=[],s=this.options.group,o=this.options.resources;if(s=s&&s.resources?s.resources:[],o&&s.length)for(e=0,t=o.length;t>e;e++)for(n=0,r=s.length;r>n;n++)o[e].name===s[n]&&i.push(o[e]);this.groupedResources=i},_createColumnsLayout:function(e,t,n){return m("columns",e,t,n)},_groupOrientation:function(){var e=this.options.group;return e&&e.resources?e.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(e,t,n){return m("rows",e,t,n)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){var e=this;_.fn.destroy.call(this),e.table&&(O.destroy(e.table),e.table.remove()),e.groups=null,e.table=null,e.content=null,e.times=null,e.datesHeader=null,e.timesHeader=null,e.footer=null,e._resizeHint=null,e._moveHint=null},calendarInfo:function(){return O.getCulture().calendars.standard},prevGroupSlot:function(e,t,n){var r,i=this.groups[t],s=i.ranges(e,e,n,!1)[0].start;if(!(0>=t))return this._isVerticallyGrouped()?i.timeSlotCollectionCount()?(r=i._collection(n?s.index:s.collectionIndex,!1),r.last()):(r=i._collection(i.daySlotCollectionCount()-1,!0),r.at(s.index)):i.timeSlotCollectionCount()?(r=i._collection(n?0:i.timeSlotCollectionCount()-1,n),n?r.last():r.at(s.index)):(r=i._collection(s.collectionIndex,!0),r.last())},nextGroupSlot:function(e,t,n){var r,i,s=this.groups[t],o=s.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._isVerticallyGrouped()?s.timeSlotCollectionCount()?(i=s.daySlotCollectionCount(),r=s._collection(i?0:o.collectionIndex,i),n?r.first():r.at(o.collectionIndex)):(r=s._collection(0,!0),r.at(o.index)):s.timeSlotCollectionCount()?(r=s._collection(0,n),n?r.first():r.at(o.index)):(r=s._collection(o.collectionIndex,!0),r.first())},_eventOptionsForMove:function(){return{}},_updateEventForResize:function(){},_updateEventForSelection:function(e){return e}}),L=function(e){var t,n,r,i,s,o=this,u=L.formats;if(1===arguments.length)for(e=o.resolveColor(e),i=0;u.length>i;i++)t=u[i].re,n=u[i].process,r=t.exec(e),r&&(s=n(r),o.r=s[0],o.g=s[1],o.b=s[2]);else o.r=arguments[0],o.g=arguments[1],o.b=arguments[2];o.r=o.normalizeByte(o.r),o.g=o.normalizeByte(o.g),o.b=o.normalizeByte(o.b)},L.prototype={resolveColor:function(e){return e=e||"#000","#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase(),e=L.namedColors[e]||e},normalizeByte:function(e){return 0>e||isNaN(e)?0:e>255?255:e},percBrightness:function(){var e=this;return H.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)},isDark:function(){var e=this,t=e.percBrightness();return 180>t}},L.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],L.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},A=/\s*k-state-selected/,e.extend(M.SchedulerView,{createColumns:p,createRows:d,rangeIndex:c,collidingEvents:l,groupEqFilter:g})}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return f(t,m(e)),t}function r(e,t,n){return e>=t&&n>=e}function i(e,t,n,r){return r=r?n>=e:n>e,e>t&&r}function s(e,t,n,r){var i,s=e._continuousEvents,o=s[s.length-1],a=p(t.start.startDate()).getTime();if(r&&o&&p(o.start.startDate()).getTime()==a){for(i=s.length-1;i>-1&&!(s[i].isAllDay||p(s[i].start.startDate()).getTime()<a);i--);s.splice(i+1,0,{element:n,isAllDay:!0,uid:n.attr(u.attr("uid")),start:t.start,end:t.end})}else s.push({element:n,isAllDay:r,uid:n.attr(u.attr("uid")),start:t.start,end:t.end})}function o(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n>6?n-=7:n++,t.push(n);return t}var u=window.kendo,a=u.ui,f=u.date.setTime,l=a.SchedulerView,c=e.extend,h=e.proxy,p=u.date.getDate,d=u.date.MS_PER_MINUTE,v=u.date.MS_PER_DAY,m=u.date.getMilliseconds,g=".kendoMultiDayView",y=u.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),b=u.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),w=u.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),E='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',S='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',x=l.extend({init:function(e,t){var n=this;l.fn.init.call(n,e,t),n.title=n.options.title||n.options.name,n._workDays=o(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime()},_currentTimeMarkerUpdater:function(){var t,n,r,i,s,o,a,f,l,c,h=new Date,p=this.options;for(p.currentTimeMarker.useLocalTimezone===!1&&(t=p.dataSource.options.schema.timezone,p.dataSource&&t&&(n=u.timezone.offset(h,t),h=u.timezone.convert(h,h.getTimezoneOffset(),n))),this.times.find(".k-current-time").remove(),r=p.group&&"horizontal"!=p.group.orientation?this.groups.length:1,i=0;r>i;i++){if(s=this.groups[i],o=u.date.toUtcTime(h),a=s.timeSlotRanges(o,o+1),0===a.length)return;f=a[0].collection,l=f.slotByStartDate(h),l&&(c=e("<div class='k-current-time'></div>"),c.appendTo(this.times).css({top:Math.round(a[0].innerRect(h,new Date(h.getTime()+1),!1).top),height:"1px",right:"1px",left:0}))}},_currentTime:function(){var e,n=this,r=n.options.currentTimeMarker;r!==!1&&r.updateInterval!==t&&(e=r.updateInterval,n._currentTimeMarkerUpdater(),n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),e))},_updateResizeHint:function(e,t,n,r){var i,s,o,a,f,c,h,p,d,v,m=e.isMultiDay(),g=this.groups[t],y=g.ranges(n,r,m,e.isAllDay);for(this._removeResizeHint(),i=0;y.length>i;i++)s=y[i],o=s.startSlot(),a=o.offsetWidth,f=o.clientHeight,c=o.offsetTop,m?a=s.innerWidth():(h=s.outerRect(n,r,this.options.snap),c=h.top,f=h.bottom-h.top),p=l.fn._createResizeHint.call(this,o.offsetLeft,c,a,f),this._resizeHint=this._resizeHint.add(p);d="t",v=this.content,m&&(d="M/dd",v=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),v.length||(v=this.content)),this._resizeHint.appendTo(v),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(u.toString(u.timezone.toLocalDate(n),d)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(u.toString(u.timezone.toLocalDate(r),d))},_updateMoveHint:function(e,t,n){var r,i,s,o,a,f,l,c=e.isMultiDay(),h=this.groups[t],p=u.date.toUtcTime(e.start)+n,d=p+e.duration(),v=h.ranges(p,d,c,e.isAllDay);for(p=u.timezone.toLocalDate(p),d=u.timezone.toLocalDate(d),this._removeMoveHint(),!c&&(0===m(d)||m(d)<m(this.startTime()))&&v.length>1&&v.pop(),r=0;v.length>r;r++)i=v[r],s=i.start,o=this._createEventElement(e.clone({start:p,end:d}),!c),o.addClass("k-event-drag-hint"),a={left:s.offsetLeft+2,top:s.offsetTop},this._isRtl&&(a.left=.1*s.clientWidth+s.offsetLeft+2),c?a.width=i.innerWidth()-4:(f=i.outerRect(p,d,this.options.snap),a.top=f.top,a.height=f.bottom-f.top,a.width=.9*s.clientWidth-4),o.css(a),this._moveHint=this._moveHint.add(o);l=this.content,c&&(l=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),l.length||(l=this.content)),this._moveHint.appendTo(l)},_slotByPosition:function(e,t){var n,r,i,s;for(this._isVerticallyGrouped()?(r=this.content.offset(),t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft):r=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),r&&(e-=r.left,t-=r.top),e=Math.ceil(e),t=Math.ceil(t),s=0;this.groups.length>s;s++)if(i=this.groups[s],n=i.daySlotByPosition(e,t))return n;for(r&&(e+=r.left,t+=r.top),r=this.content.offset(),e-=r.left,t-=r.top,this._isVerticallyGrouped()||(t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft),e=Math.ceil(e),t=Math.ceil(t),s=0;this.groups.length>s;s++)if(i=this.groups[s],n=i.timeSlotByPosition(e,t))return n;return null},_groupCount:function(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnCountInResourceView:function(){var e=this.groupedResources;return!e.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(e.length)},_timeSlotGroups:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,g,y,b=this._timeSlotInterval(),w=this.content.find("tr:not(.k-scheduler-header-all-day)");for(w.attr("role","row"),n=w.length,this._isVerticallyGrouped()&&(n=Math.floor(n/e)),r=0;e>r;r++)for(i=0,this._isVerticallyGrouped()&&(i=r),s=i*n,u=0,this._isVerticallyGrouped()||(u=r);(i+1)*n>s;){for(a=w[s].children,f=this.groups[r],s%n===0&&(o=m(new Date(+this.startTime()))),l=u*t;(u+1)*t>l;l++)c=a[l],h=l%t,p=f.getTimeSlotCollection(h),d=this._dates[h],v=Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()),g=v+o,y=g+b,c.setAttribute("role","gridcell"),c.setAttribute("aria-selected",!1),p.addTimeSlot(c,g,y);o+=b,s++}},_daySlotGroups:function(e,t){var n,r,i,s,o,a,f,l,c,h,p,d;for(n=this.element.find(this._isVerticallyGrouped()?".k-scheduler-header-all-day":".k-scheduler-header-all-day tr"),n.attr("role","row"),r=0;e>r;r++)for(i=0,this._isVerticallyGrouped()&&(i=r),s=this.groups[r],o=s.getDaySlotCollection(0),a=n[i].children,f=0,this._isVerticallyGrouped()||(f=r),l=0,c=f*t;(f+1)*t>c;c++)h=a[c],c%t===0&&(l=0),p=this._dates[l],d=Date.UTC(p.getFullYear(),p.getMonth(),p.getDate()),l++,h.setAttribute("role","gridcell"),h.setAttribute("aria-selected",!1),o.addDaySlot(h,d,d+u.date.MS_PER_DAY)},_groups:function(){var e,t,n,r=this._groupCount(),i=this._columnCountInResourceView();for(this.groups=[],e=0;r>e;e++){for(t=this._addResourceView(e),n=0;i>n;n++)t.addTimeSlotCollection(this._dates[n],u.date.addDays(this._dates[n],1));this.options.allDaySlot&&t.addDaySlotCollection(this._dates[0],u.date.addDays(this._dates[this._dates.length-1],1))}this._timeSlotGroups(r,i),this.options.allDaySlot&&this._daySlotGroups(r,i)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:u.date.today(),endTime:u.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:y,allDayEventTemplate:b,dateHeaderTemplate:w,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=c({},u.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,S),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,E),this.majorTimeHeaderTemplate=u.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=u.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=u.template(e.dateHeaderTemplate,t),this.slotTemplate=u.template(e.slotTemplate,t),this.allDaySlotTemplate=u.template(e.allDaySlotTemplate,t),this.groupHeaderTemplate=u.template(e.groupHeaderTemplate,t)},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+g,".k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(u.attr("uid"))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+g,".k-scheduler-content td",function(n){var r,i;e(this).parent().hasClass("k-scheduler-header-all-day")||(r=t._slotByPosition(n.pageX,n.pageY),r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({start:r.startDate(),end:r.endDate()},i)})),n.preventDefault())}).on("dblclick"+g,".k-scheduler-header-all-day td",function(e){var n,r=t._slotByPosition(e.pageX,e.pageY);r&&(n=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({},{isAllDay:!0,start:u.date.getDate(r.startDate()),end:u.date.getDate(r.startDate())},n)})),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+g,".k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(u.attr("uid"))}),n.preventDefault()})},_touchEditable:function(){var t=this,n=0;u.support.mobileOS.android&&(n=5),t.options.editable.create!==!1&&(t._addUserEvents=new u.UserEvents(t.element,{threshold:n,filter:".k-scheduler-content td",tap:function(n){var r,i;e(n.target).parent().hasClass("k-scheduler-header-all-day")||(r=t._slotByPosition(n.x.location,n.y.location),r&&(i=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({start:r.startDate(),end:r.endDate()},i)})),n.preventDefault())}}),t._allDayUserEvents=new u.UserEvents(t.element,{threshold:n,filter:".k-scheduler-header-all-day td",tap:function(e){var n,r=t._slotByPosition(e.x.location,e.y.location);r&&(n=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({},{isAllDay:!0,start:u.date.getDate(r.startDate()),end:u.date.getDate(r.startDate())},n)})),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new u.UserEvents(t.element,{threshold:n,filter:".k-event",tap:function(n){var r=e(n.target).closest(".k-event");r.hasClass("k-event-active")||t.trigger("edit",{uid:r.attr(u.attr("uid"))}),n.preventDefault()}}))},_layout:function(e){var t,n,r,i=[],s=[],o=this.options,a=this;for(t=0;e.length>t;t++)n={},n.text=a.dateHeaderTemplate({date:e[t]}),u.date.isToday(e[t])&&(n.className="k-today"),i.push(n);return r=this.groupedResources,o.allDaySlot&&s.push({text:o.messages.allDay,allDay:!0,cellContent:function(t){var n=t;return t=r.length&&"vertical"!==a._groupOrientation()?t%e.length:t,a.allDaySlotTemplate({date:e[t],resources:function(){return a._resourceBySlot({groupIndex:n})}})}}),this._forTimeRange(this.startTime(),this.endTime(),function(e,t,n,r){var i=t?a.majorTimeHeaderTemplate:a.minorTimeHeaderTemplate,o={text:i({date:e}),className:r?"k-slot-cell":""};s.push(o)}),r.length&&("vertical"===this._groupOrientation()?s=this._createRowsLayout(r,s,this.groupHeaderTemplate):i=this._createColumnsLayout(r,i,this.groupHeaderTemplate)),{columns:i,rows:s}},_footer:function(){var t,n,r,i=this.options;i.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',n=i.footer.command,n&&"workDay"===n?(t+='<ul class="k-reset k-header">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(i.showWorkHours?i.messages.showFullDay:i.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),r=this,this.footer.on("click"+g,".k-scheduler-fullday",function(e){e.preventDefault(),r.trigger("navigate",{view:r.name||i.name,date:r.startDate(),isWorkDay:!i.showWorkHours})}))},_forTimeRange:function(e,t,r,i){var s,o,u,a,l,c,h,p,g,y,b,w,E,S,x,T;for(e=n(e),t=n(t),s=this,o=m(e),u=m(t),a=s.options.minorTickCount,l=s.options.majorTick*d,c=l/a||1,h=new Date(+e),p=h.getDate(),y=0,w="",b=v/c,o!=u&&(o>u&&(u+=v),b=(u-o)/c),b=Math.round(b);b>y;y++)E=y%(l/c),S=0===E,x=a-1>E,T=E===a-1,w+=r(h,S,x,T),f(h,c,!1);return u&&(g=m(h),p<h.getDate()&&(g+=v),g>u&&(h=new Date(+t))),i&&(w+=i(h)),w},_content:function(e){var t,n,r,i=this,s=i.options,o=i.startTime(),a=this.endTime(),f=1,l=1,c=e.length,h="",p=this.groupedResources,d=this.slotTemplate,v=this.allDaySlotTemplate,m=!1;for(p.length&&(m="vertical"===i._groupOrientation(),m?(l=this._rowCountForLevel(this.rowLevels.length-2),s.allDaySlot&&(t=function(t){var n,r,s='<tr class="k-scheduler-header-all-day">',o=function(){return i._resourceBySlot({groupIndex:t})};for(n=0,r=e.length;r>n;n++)s+="<td>"+v({date:e[n],resources:o})+"</td>";return s+"</tr>"})):f=this._columnCountForLevel(this.columnLevels.length-2)),h+="<tbody>",n=function(t,n){var s,o,a,l,h="",p="",v=0;for(h="<tr"+(n?' class="k-middle-row"':"")+">",l=function(e){return function(){return i._resourceBySlot({groupIndex:e})}};f>v;v++)for(s=0,o=c;o>s;s++)p="",u.date.isToday(e[s])&&(p+="k-today"),(u.date.getMilliseconds(t)<u.date.getMilliseconds(i.options.workDayStart)||u.date.getMilliseconds(t)>=u.date.getMilliseconds(i.options.workDayEnd)||!i._isWorkDay(e[s]))&&(p+=" k-nonwork-hour"),h+="<td"+(""!==p?' class="'+p+'"':"")+">",a=u.date.getDate(e[s]),u.date.setTime(a,u.date.getMilliseconds(t)),h+=d({date:a,resources:l(m?r:v)}),h+="</td>";return h+="</tr>"},r=0;l>r;r++)h+=t?t(r):"",h+=this._forTimeRange(o,a,n);h+="</tbody>",this.content.find("table").append(h)},_isWorkDay:function(e){var t,n=e.getDay(),r=this._workDays;for(t=0;r.length>t;t++)if(r[t]===n)return!0;return!1},_render:function(t){var n,r=this;t=t||[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-1||0],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout(),n=this.element.find(".k-scheduler-header-all-day td"),n.length&&(this._allDayHeaderHeight=n.first()[0].clientHeight),r.datesHeader.on("click"+g,".k-nav-day",function(t){var n=e(t.currentTarget).closest("th"),i=n.offset(),s=r._slotByPosition(i.left,i.top+n.outerHeight());r.trigger("navigate",{view:"day",date:s.startDate()})})},startTime:function(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(e){var t=m(this.endTime())||v;return e&&(t=0),new Date(this._endDate.getTime()+t)},nextDate:function(){return u.date.nextDay(this.endDate())},previousDate:function(){return u.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var e=this;e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),e.datesHeader&&e.datesHeader.off(g),e.element&&e.element.off(g),e.footer&&e.footer.remove(),l.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&(e._addUserEvents.destroy(),e._allDayUserEvents.destroy()),e.options.editable.update!==!1&&e._editUserEvents.destroy())},inRange:function(e){var t=l.fn.inRange.call(this,e),n=m(this.startTime()),r=m(this.endTime())||u.date.MS_PER_DAY,i=m(e.start),s=m(e.end)||u.date.MS_PER_DAY;return t&&i>=n&&r>=s},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*d},_timeSlotIndex:function(e){var t=this.options,n=m(e),r=m(this.startTime()),i=t.majorTick/t.minorTickCount*d;return(n-r)/i},_slotIndex:function(e,t){return t?this._dateSlotIndex(e):this._timeSlotIndex(e)},_dateSlotIndex:function(e,t){var n,i,s,o,a=this._dates||[],f=1;for(n=0,i=a.length;i>n;n++)if(s=u.date.getDate(a[n]),o=new Date(u.date.getDate(a[n]).getTime()+v-(t?0:1)),r(e,s,o))return n*f;return-1},_positionAllDayEvent:function(t,n){var r,i,s,o,u,a,f,c=n.innerWidth(),h=n.start.index,p=n.end.index,d=l.collidingEvents(n.events(),h,p),v=this._headerColumnCount||0,m=2,g=h!==p?5:4,y=this._allDayHeaderHeight,b=n.startSlot();for(t.css({left:b.offsetLeft+m,width:c-g}),n.addEvent({slotIndex:h,start:h,end:p,element:t}),d.push({slotIndex:h,start:h,end:p,element:t}),r=l.createRows(d),r.length&&r.length>v&&(this._headerColumnCount=r.length),i=n.start.offsetTop,s=0,o=r.length;o>s;s++)for(u=r[s].events,a=0,f=u.length;f>a;a++)e(u[a].element).css({top:i+s*y})},_arrangeColumns:function(e,t,n,r){var i,s,o,u,a,f,c,h,p,d,v,m=r.start;for(e={element:e,slotIndex:m.index,start:t,end:t+n},s=m.clientWidth,o=.1*s,a=r.events(),f=l.collidingEvents(a,e.start,e.end),r.addEvent(e),f.push(e),i=l.createColumns(f),c=(s-o)/i.length,h=0,p=i.length;p>h;h++)for(u=i[h].events,d=0,v=u.length;v>d;d++)u[d].element[0].style.width=c-4+"px",u[d].element[0].style.left=(this._isRtl?o:0)+m.offsetLeft+h*c+2+"px"},_positionEvent:function(e,t,n){var r=e._startTime||e.start,i=e._endTime||e.end,s=n.innerRect(r,i,!1),o=s.bottom-s.top-2;0>o&&(o=0),t.css({top:s.top,height:o}),this._arrangeColumns(t,s.top,t[0].clientHeight,n)},_createEventElement:function(t,n,i,s){var o,a,f,l,h,d,g=n?this.eventTemplate:this.allDayEventTemplate,y=this.options,b=y.editable,w=this._isMobile(),E=b&&b.destroy!==!1&&!w,S=b&&b.resize!==!1,x=p(this.startDate()),T=p(this.endDate()),N=m(this.startTime()),C=m(this.endTime()),k=t._time("start"),L=t._time("end");return N>=C&&(C=m(new Date(this.endTime().getTime()+v-1))),n||t.isAllDay||(T=new Date(T.getTime()+v)),a=t.start,f=t.end,t.isAllDay&&(f=p(t.end)),!r(p(a),x,T)&&!r(f,x,T)||n&&N>k&&L>C?o=!0:p(a)<x||n&&N>k?s=!0:(f>T&&!n||n&&L>C)&&(i=!0),l=this.eventResources(t),t._startTime&&(a=new Date(k),a=u.timezone.apply(a,"Etc/UTC")),t.endTime&&(f=new Date(L),f=u.timezone.apply(f,"Etc/UTC")),h=c({},{ns:u.ns,resizable:S,showDelete:E,middle:o,head:i,tail:s,singleDay:1==this._dates.length,resources:l,inverseColor:l&&l[0]?this._shouldInverseResourceColor(l[0]):!1},t,{start:a,end:f}),d=e(g(h)),this.angular("compile",function(){return{elements:d,data:[{dataItem:h}]}}),d},_isInTimeSlot:function(e){var t,n=this.startTime(),r=this.endTime(),s=e._startTime||e.start,o=e._endTime||e.end;return m(r)===m(u.date.getDate(r))&&(r=u.date.getDate(r),f(r,v-1)),e._date("end")>e._date("start")&&(o=+e._date("end")+(v-1)),o-=e._date("end"),s-=e._date("start"),r=m(r),n=m(n),n===s&&s===o?!0:(t=s!==r,i(s,n,r,t)||i(o,n,r,t)||i(n,s,o)||i(r,s,o))},_isInDateSlot:function(e){var t=this.groups[0],n=t.firstSlot().start,i=t.lastSlot().end-1,s=u.date.toUtcTime(e.start),o=u.date.toUtcTime(e.end);return(r(s,n,i)||r(o,n,i)||r(n,s,o)||r(i,s,o))&&(!r(o,n,n)||r(o,s,s)||e.isAllDay)},_updateAllDayHeaderHeight:function(e){var t,n;if(this._height!==e&&(this._height=e,t=this.element.find(".k-scheduler-header-all-day td"),t.length))for(t.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(e),n=0;this.groups.length>n;n++)this.groups[n].refresh()},_renderEvents:function(e,t){var n,r,i,o,u,a,f,l,c,h,p,d,m,g,y,b=this.datesHeader.find(".k-scheduler-header-wrap > div");for(r=0,i=e.length;i>r;r++)if(n=e[r],this._isInDateSlot(n))if(o=n.isAllDay||n.end.getTime()-n.start.getTime()>=v,u=o&&!this._isVerticallyGrouped()?b:this.content,o)this.options.allDaySlot&&(l=this.groups[t],l._continuousEvents||(l._continuousEvents=[]),f=l.slotRanges(n),f.length&&(a=this._createEventElement(n,!o),this._positionAllDayEvent(a,f[0]),s(l,f[0],a,!0),a.appendTo(u)));else if(this._isInTimeSlot(n))for(l=this.groups[t],l._continuousEvents||(l._continuousEvents=[]),f=l.slotRanges(n),c=f.length,h=0;c>h;h++)p=f[h],d=n.start,m=n.end,c>1&&(0===h?m=p.end.endDate():h==c-1?d=p.start.startDate():(d=p.start.startDate(),m=p.end.endDate())),g=n.clone({start:d,end:m,_startTime:n._startTime,_endTime:n.endTime}),this._isInTimeSlot(g)&&(y=p.head,a=this._createEventElement(n,!o,y,p.tail),a.appendTo(u),this._positionEvent(g,a,p),s(l,p,a,!1))},render:function(t){var n,i,s,o,a;for(this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),t=(new u.data.Query(t)).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray(),n=[],this._eventsByResource(t,this.groupedResources,n),i=this,s=e.map(this._dates,function(t){return Math.max.apply(null,e.map(n,function(n){return e.grep(n,function(e){return e.isMultiDay()&&r(t,p(e.start),p(e.end))}).length}))}),o=Math.max.apply(null,s),this._updateAllDayHeaderHeight((o+1)*this._allDayHeaderHeight),a=0;n.length>a;a++)this._renderEvents(n[a],a);this.refreshLayout(),this.trigger("activate")},_eventsByResource:function(e,t,n){var r,i,s,o,a=t[0];if(a)for(r=a.dataSource.view(),i=0;r.length>i;i++)s=this._resourceValue(a,r[i]),o=(new u.data.Query(e)).filter({field:a.field,operator:l.groupEqFilter(s)}).toArray(),t.length>1?this._eventsByResource(o,t.slice(1),n):n.push(o);else n.push(e)},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(e,t,n,r,i){var s=e.isAllDay,o=t[0].start,u=t[t.length-1].end;n&&(i?s||o.index!==u.index||o.collectionIndex!==u.collectionIndex||(e.backward=r):(s&&o.index===u.index||!s&&o.collectionIndex===u.collectionIndex)&&(e.backward=r))},_changeViewPeriod:function(e,n,r){var i,s,o,u;return r?t:(i=n?this.previousDate():this.nextDate(),s=e.start,o=e.end,e.start=new Date(i),e.end=new Date(i),u=e.isAllDay?v:m(o),f(e.start,m(s)),f(e.end,u),this._isVerticallyGrouped()||(e.groupIndex=n?this.groups.length-1:0),e.events=[],!0)}});c(!0,a,{MultiDayView:x,DayView:x.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:x.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var e,t,n=this.options.date,r=u.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),i=[];for(e=0,t=7;t>e;e++)i.push(r),r=u.date.nextDay(r);this._render(i)}}),WorkWeekView:x.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){return u.date.dayOfWeek(u.date.nextDay(this.startDate()),this.calendarInfo().firstDay,1)},previousDate:function(){var e=u.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1);return u.date.previousDay(e)},calculateDateRange:function(){for(var e=this.options.date,t=u.date.dayOfWeek,n=t(e,this.calendarInfo().firstDay,-1),r=t(n,this.options.workWeekStart,1),i=t(r,this.options.workWeekEnd,1),s=[];i>=r;)s.push(r),r=u.date.nextDay(r);this._render(s)}})})}(window.kendo.jQuery),function(e){function t(e){var t,n,r=0;for(t=0,n=e.length;n>t;t++)r+=e[t].items.length;return r}function n(e,t){return e.valuePrimitive&&(t=s.getter(e.dataValueField)(t)),t}function r(e){for(var t,n=0,r=e.length,s=[];r>n;n++)t=e[n],t.groups?(t=i(t.groups),s=s.concat(t)):s=s.concat(i(t.items));return s}function i(e){for(var t=[].concat(e),n=t.shift(),r=[],i=[].push;n;)n.groups?i.apply(t,n.groups):n.items?i.apply(t,n.items):i.call(r,n),n=t.shift();return r}var s=window.kendo,o=s.ui,u=".kendoAgendaView",a='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #{0}#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>';o.AgendaView=o.SchedulerView.extend({init:function(t,n){o.SchedulerView.fn.init.call(this,t,n),n=this.options,n.editable&&(n.editable=e.extend({"delete":!0},n.editable,{create:!1,update:!1})),this.title=n.title,this.name="agenda",this._eventTemplate=this._eventTmpl(n.eventTemplate,a),this._dateTemplate=s.template(n.eventDateTemplate),this._groupTemplate=s.template(n.eventGroupTemplate),this._timeTemplate=s.template(n.eventTimeTemplate),this.element.on("mouseenter"+u,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+u,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+u,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(n.date)},_mouseenter:function(t){e(t.currentTarget).addClass("k-state-hover")},_mouseleave:function(t){e(t.currentTarget).removeClass("k-state-hover")},_remove:function(t){t.preventDefault(),this.trigger("remove",{uid:e(t.currentTarget).closest(".k-task").attr(s.attr("uid"))})},nextDate:function(){return s.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return s.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e,this._endDate=s.date.addDays(e,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda")},_layout:function(){var e,t,n,r=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(this._isMobilePhoneView()||r.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"}),e=this.groupedResources,e.length){for(t=[],n=0;e.length>n;n++)t.push({text:"",className:"k-scheduler-groupcolumn"});r=t.concat(r)}return{columns:r}},_tasks:function(e){var t,n,r,i,o,u,a,f=[];for(t=0;e.length>t;t++)if(n=e[t],r=n.start,i=n.end,o=(s.date.getDate(i)-s.date.getDate(r))/s.date.MS_PER_DAY+1,u=n.clone(),u.startDate=s.date.getDate(r),u.startDate>=this.startDate()&&f.push(u),o>1)for(u.end=s.date.nextDay(r),u.head=!0,a=1;o>a;a++)r=u.end,u=n.clone(),u.start=r,u.startDate=s.date.getDate(r),u.end=s.date.nextDay(r),a==o-1?(u.end=new Date(u.start.getFullYear(),u.start.getMonth(),u.start.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),u.tail=!0):(u.isAllDay=!0,u.middle=!0),u.end<=this.endDate()&&u.start>=this.startDate()&&f.push(u);return(new s.data.Query(f)).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,t){var n,r,i,o,u,a,f,l,c,h=[],p=this.options.editable,d=p&&p.destroy!==!1&&!this._isMobile(),v=this._isMobilePhoneView();for(n=0;e.length>n;n++)for(r=e[n].value,i=e[n].items,o=s.date.isToday(r),u=0;i.length>u;u++){if(a=i[u],f=[],l=v?[]:f,0===n&&0===u&&t.length)for(c=0;t.length>c;c++)l.push(s.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',t[c].rowSpan,this._groupTemplate({value:t[c].text}),t[c].className));0===u&&(v?(l.push(s.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:r}))),h.push('<tr role="row" aria-selected="false"'+(o?' class="k-today">':">")+l.join("")+"</tr>")):f.push(s.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',i.length,this._dateTemplate({date:r}),n!=e.length-1||t.length?"":" k-last",t.length?"":" k-first"))),a.format=a.head?"{0:t}":a.tail?"{1:t}":"{0:t}-{1:t}",a.resources=this.eventResources(a),f.push(s.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',a.tail||a.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(a.clone({start:a._startTime||a.start,end:a.endTime||a.end})),a.head||a.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(a.clone({showDelete:d})))),h.push('<tr role="row" aria-selected="false"'+(o?' class="k-today">':">")+f.join("")+"</tr>")}return h.join("")},render:function(e){var t,n,i=this.content.find("table").empty(),s=[];e.length>0&&(t=this.groupedResources,t.length?(s=this._createGroupConfiguration(e,t,null),this._renderGroups(s,i,[])):(s=this._tasks(e),i.append(this._renderTaskGroups(s,[])))),n=this._eventsList=r(s),this._angularItems(i,n),this.refreshLayout(),this.trigger("activate")},_angularItems:function(e,t){this.angular("compile",function(){var n=[],r=t.map(function(t){return n.push({dataItem:t}),e.find(".k-task["+s.attr("uid")+"="+t.uid+"]")});return{elements:r,data:n}})},_renderGroups:function(e,t,n){var r,i,s;for(r=0,i=e.length;i>r;r++)s=n.splice(0),s.push(e[r]),e[r].groups?this._renderGroups(e[r].groups,t,s):t.append(this._renderTaskGroups(e[r].items,s))},_createGroupConfiguration:function(e,r,i){var u,a,f,l,c,h,p,d=r[0],v=[],m=d.dataSource.view(),g=this._isMobilePhoneView();for(u=0;m.length>u;u++)a=n(d,m[u]),f=(new s.data.Query(e)).filter({field:d.field,operator:o.SchedulerView.groupEqFilter(a)}).toArray(),f.length&&(l=this._tasks(f),c=i?"":" k-first",u===m.length-1&&(!i||i.className.indexOf("k-last")>-1)&&(c+=" k-last"),h={text:s.getter(d.dataTextField)(m[u]),value:a,rowSpan:0,className:c},r.length>1?(h.groups=this._createGroupConfiguration(f,r.slice(1),h),i&&(i.rowSpan+=h.rowSpan)):(h.items=l,p=t(h.items),g&&(p+=h.items.length),h.rowSpan=p,i&&(i.rowSpan+=p)),v.push(h));return v},selectionByElement:function(t){var n,r,i;return t=e(t),!t.hasClass("k-scheduler-datecolumn")&&this._eventsList.length?(t.is(".k-task")&&(t=t.closest("td")),this._isMobile()?(i=t.parent(),n=i.parent().children().filter(function(){return e(this).children(":not(.k-scheduler-datecolumn)").length}).index(i)):n=t.parent().index(),r=this._eventsList[n],{index:n,start:r.start,end:r.end,isAllDay:r.isAllDay,uid:r.uid}):void 0},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-state-selected").attr("aria-selected",!0)[0];this.current(t)},move:function(e,t){var n,r=!1,i=e.index;return t==s.keys.UP?(i--,r=!0):t==s.keys.DOWN&&(i++,r=!0),r&&(n=this._eventsList[i],n&&(e.start=n.start,e.end=n.end,e.isAllDay=n.isAllDay,e.events=[n.uid],e.index=i)),r},moveToEvent:function(){return!1},constrainSelection:function(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(u),o.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}})}(window.kendo.jQuery),function(e){function t(e,t){return e.slice(t).concat(e.slice(0,t))}function n(e,t){for(var n=t.firstDay,r=new Date(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());r.getDay()!=n;)i.date.setTime(r,-1*l);return r}function r(e,t,n){var r,i=t,s=n;return r=e,r>=i&&s>=r}var i=window.kendo,s=i.ui,o=s.SchedulerView,u=".kendoMonthView",a=e.extend,f=i.date.getDate,l=i.date.MS_PER_DAY,c=6,h=7,p=i.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),d='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',v=i.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),m=i.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');s.MonthView=o.extend({init:function(e,t){var n=this;o.fn.init.call(n,e,t),n.title=n.options.title,n.name="month",n._templates(),n._editable(),n._renderLayout(n.options.date),n._groups()},_updateDirection:function(e,t,n,r,i){var s,o,u,a,f;n&&(s=t[0].start,o=t[t.length-1].end,u=s.index===o.index,a=s.collectionIndex===o.collectionIndex,f=i?u&&a||a:u&&a,f&&(e.backward=r))},_changeViewPeriod:function(e,t,n){var r=n?7:1;return t&&(r*=-1),e.start=i.date.addDays(e.start,r),e.end=i.date.addDays(e.end,r),(!n||n&&this._isVerticallyGrouped())&&(e.groupIndex=t?this.groups.length-1:0),e.events=[],!0},_continuousSlot:function(e,t,n){var r=e.backward?0:t.length-1,i=this.groups[e.groupIndex];return i.continuousSlot(t[r].start,n)},_changeGroupContinuously:function(e,t,n,r){var i,s,o,u;return n||(i=e.groupIndex,s=this.groups.length-1,o=this._isVerticallyGrouped(),u=this.groups[i],!t&&o?(t=u[r?"lastSlot":"firstSlot"](),i+=r?-1:1):t&&!o&&(i=r?s:0),(0>i||i>s)&&(i=r?s:0,t=null),e.groupIndex=i),t},_normalizeHorizontalSelection:function(e,t,n){var r;return r=n?t[0].start:t[t.length-1].end},_normalizeVerticalSelection:function(e,t){var n;return n=e.backward?t[0].start:t[t.length-1].end},_templates:function(){var e=this.options,t=a({},i.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,d),this.dayTemplate=i.template(e.dayTemplate,t),this.groupHeaderTemplate=i.template(e.groupHeaderTemplate,t)},dateForTitle:function(){return i.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return i.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return i.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return i.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(t){var r=this;this._firstDayOfMonth=i.date.firstDayOfMonth(t),this._lastDayOfMonth=i.date.lastDayOfMonth(t),this._startDate=n(t,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+u,".k-nav-day,.k-more-events",function(t){var n=e(t.currentTarget).offset(),i=r._slotByPosition(n.left,n.top);t.preventDefault(),r.trigger("navigate",{view:"day",date:i.startDate()})})},_editable:function(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+u,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(i.attr("uid"))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+u,".k-scheduler-monthview .k-scheduler-content td",function(n){var r,i=e(n.currentTarget).offset(),s=t._slotByPosition(i.left,i.top);s&&(r=t._resourceBySlot(s),t.trigger("add",{eventInfo:a({isAllDay:!0,start:s.startDate(),end:s.startDate()},r)})),n.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+u,".k-scheduler-monthview .k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(i.attr("uid"))}),n.preventDefault()})},_touchEditable:function(){var t=this,n=0;i.support.mobileOS.android&&(n=5),t.options.editable.create!==!1&&(t._addUserEvents=new i.UserEvents(t.element,{threshold:n,filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(n){var r,i=e(n.target).offset(),s=t._slotByPosition(i.left,i.top);s&&(r=t._resourceBySlot(s),t.trigger("add",{eventInfo:a({isAllDay:!0,start:s.startDate(),end:s.startDate()},r)})),n.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new i.UserEvents(t.element,{threshold:n,filter:".k-scheduler-monthview .k-event",tap:function(n){0===e(n.event.target).closest("a:has(.k-si-close)").length&&(t.trigger("edit",{uid:e(n.target).closest(".k-event").attr(i.attr("uid"))}),n.preventDefault())}}))},selectionByElement:function(t){var n=e(t).offset();return this._slotByPosition(n.left,n.top)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},_content:function(){var e,t="<tbody>",n=1,r=this.groupedResources;for(r.length&&this._isVerticallyGrouped()&&(n=this._rowCountForLevel(r.length-1)),e=0;n>e;e++)t+=this._createCalendar(e);t+="</tbody>",this.content.find("table").html(t)},_createCalendar:function(e){var t,n,r,s,o=this.startDate(),u=h*c,a=h,f=[o],l="",p=1,d=this._isVerticallyGrouped(),v=this.groupedResources;for(v.length&&(d||(p=this._columnCountForLevel(v.length-1))),this._slotIndices={},t=0,n=u/a;n>t;t++){for(l+="<tr>",f.push(o),r=t*a,s=0;p>s;s++)l+=this._createRow(o,r,a,d?e:s);o=i.date.addDays(o,a),l+="</tr>"}return this._weekStartDates=f,this._endDate=i.date.previousDay(o),l},_createRow:function(e,t,n,r){var s,o=this,u=o._firstDayOfMonth,a=o._lastDayOfMonth,l=o.dayTemplate,c="",h="",p=function(){return o._resourceBySlot({groupIndex:r})};for(s=0;n>s;s++)c="",i.date.isToday(e)&&(c+="k-today"),i.date.isInDateRange(e,u,a)||(c+=" k-other-month"),h+="<td ",""!==c&&(h+='class="'+c+'"'),h+=">",h+=l({date:e,resources:p}),h+="</td>",o._slotIndices[f(e).getTime()]=t+s,e=i.date.nextDay(e);return h},_layout:function(){var n,r,i,s=this.calendarInfo(),o=this._isMobile()?s.days.namesShort:s.days.names,u=t(o,s.firstDay),a=e.map(u,function(e){return{text:e}}),f=this.groupedResources;if(f.length)if(this._isVerticallyGrouped()){for(r=[],i=0;6>i;i++)r.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});n=this._createRowsLayout(f,r,this.groupHeaderTemplate)}else a=this._createColumnsLayout(f,a,this.groupHeaderTemplate);return{columns:a,rows:n}},_createEventElement:function(t){var n,r=this.options,s=r.editable,o=this._isMobile();return t.showDelete=s&&s.destroy!==!1&&!o,t.resizable=s&&s.resize!==!1&&!o,t.ns=i.ns,t.resources=this.eventResources(t),t.inverseColor=t.resources&&t.resources[0]?this._shouldInverseResourceColor(t.resources[0]):!1,n=e(this.eventTemplate(t)),this.angular("compile",function(){return{elements:n,data:[{dataItem:t}]}}),n},_isInDateSlot:function(e){var t=this.groups[0],n=t.firstSlot().start,s=t.lastSlot().end-1,o=i.date.toUtcTime(e.start),u=i.date.toUtcTime(e.end);return(r(o,n,s)||r(u,n,s)||r(n,o,u)||r(s,o,u))&&(!r(u,n,n)||r(u,o,o)||e.isAllDay)},_slotIndex:function(e){return this._slotIndices[f(e).getTime()]},_positionMobileEvent:function(t,n,r){var s,u,a,f,l,c,h,p=t.start;t.start.offsetLeft>t.end.offsetLeft&&(p=t.end),s=t.start.index,u=s,a=3,f=o.collidingEvents(t.events(),s,u),f.push({element:n,start:s,end:u}),l=o.createRows(f),c=t.collection.at(s),h=c.container,h||(h=e(i.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',p.offsetTop+p.firstChildTop+p.firstChildHeight-3+"px",p.offsetLeft+"px",p.offsetWidth+"px")),c.container=h,this.content[0].appendChild(h[0])),a>=l.length&&(t.addEvent({element:n,start:s,end:u,groupIndex:p.groupIndex}),r._continuousEvents.push({element:n,uid:n.attr(i.attr("uid")),start:t.start,end:t.end}),h[0].appendChild(n[0]))},_positionEvent:function(t,n,r){var s,u,a,f,l,c,h,p,d,v,g,y,b,w,E,S=this.options.eventHeight,x=t.start;for(t.start.offsetLeft>t.end.offsetLeft&&(x=t.end),s=t.start.index,u=t.end.index,a=x.eventCount,f=o.collidingEvents(t.events(),s,u),l=s!==u?5:4,f.push({element:n,start:s,end:u}),c=o.createRows(f),h=0,p=Math.min(c.length,a);p>h;h++)for(d=c[h].events,v=x.offsetTop+x.firstChildHeight+h*S+3*h+"px",g=0,y=d.length;y>g;g++)d[g].element[0].style.top=v;if(c.length>a)for(b=s;u>=b;b++){if(w=t.collection,E=w.at(b),E.more)return;E.more=e(m({ns:i.ns,start:b,end:b,width:E.clientWidth-2,left:E.offsetLeft+2,top:E.offsetTop+E.firstChildHeight+a*S+3*a})),this.content[0].appendChild(E.more[0])}else t.addEvent({element:n,start:s,end:u,groupIndex:x.groupIndex}),n[0].style.width=t.innerWidth()-l+"px",n[0].style.left=x.offsetLeft+2+"px",n[0].style.height=S+"px",r._continuousEvents.push({element:n,uid:n.attr(i.attr("uid")),start:t.start,end:t.end}),n.appendTo(this.content)},_slotByPosition:function(e,t){var n,r,i=this.content.offset();for(e-=i.left,t-=i.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t),n=0;this.groups.length>n;n++)if(r=this.groups[n].daySlotByPosition(e,t))return r;return null},_createResizeHint:function(e){var t=e.startSlot().offsetLeft,n=e.start.offsetTop,r=e.innerWidth(),i=e.start.clientHeight-2,s=o.fn._createResizeHint.call(this,t,n,r,i);s.appendTo(this.content),this._resizeHint=this._resizeHint.add(s)},_updateResizeHint:function(e,t,n,r){var s,o,u;for(this._removeResizeHint(),s=this.groups[t],o=s.ranges(n,r,!0,e.isAllDay),u=0;o.length>u;u++)this._createResizeHint(o[u]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(i.toString(i.timezone.toLocalDate(n),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(i.toString(i.timezone.toLocalDate(r),"M/dd"))},_updateMoveHint:function(e,t,n){var r,s,o,u,a,f=i.date.toUtcTime(e.start)+n,l=f+e.duration(),c=this.groups[t],h=c.ranges(f,l,!0,e.isAllDay);for(this._removeMoveHint(),r=0;h.length>r;r++)s=h[r],o=s.startSlot(),u=s.endSlot(),a=this._createEventElement(e.clone({head:s.head,tail:s.tail})),a.css({left:o.offsetLeft+2,top:o.offsetTop+o.firstChildHeight,height:this.options.eventHeight,width:s.innerWidth()-(o.index!==u.index?5:4)}),a.addClass("k-event-drag-hint"),a.appendTo(this.content),this._moveHint=this._moveHint.add(a)},_groups:function(){var e,t,n,r,s,o,u,a,f,l,p,d,v,m,g,y,b,w=this._groupCount(),E=h,S=c;for(this.groups=[],e=0;w>e;e++)this._addResourceView(e);for(t=this.content[0].getElementsByTagName("tr"),n=0;w>n;n++)for(r=0,s=0,this._isVerticallyGrouped()&&(s=n),o=s*S;(s+1)*S>o;o++)for(u=this.groups[n],a=u.addDaySlotCollection(i.date.addDays(this.startDate(),r),i.date.addDays(this.startDate(),r+E)),f=t[o],l=f.children,p=0,f.setAttribute("role","row"),this._isVerticallyGrouped()||(p=n),d=p*E;(p+1)*E>d;d++)v=l[d],m=v.clientHeight,g=v.children.length?v.children[0].offsetHeight+3:0,y=i.date.toUtcTime(i.date.addDays(this.startDate(),r)),r++,b=Math.floor((m-g-this.options.moreButtonHeight)/(this.options.eventHeight+3)),v.setAttribute("role","gridcell"),v.setAttribute("aria-selected",!1),a.addDaySlot(v,y,y+i.date.MS_PER_DAY,b)},render:function(e){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),e=(new i.data.Query(e)).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;t.length?this._renderGroups(e,t,0,1):this._renderEvents(e,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p=this._isMobilePhoneView();for(r=0,i=e.length;i>r;r++)if(n=e[r],this._isInDateSlot(n))for(s=this.groups[t],s._continuousEvents||(s._continuousEvents=[]),o=s.slotRanges(n,!0),u=o.length,a=0;u>a;a++)f=o[a],l=n.start,c=n.end,u>1&&(0===a?c=f.end.endDate():a==u-1?l=f.start.startDate():(l=f.start.startDate(),c=f.end.endDate())),h=n.clone({start:l,end:c,head:f.head,tail:f.tail}),p?this._positionMobileEvent(f,this._createEventElement(h),s):this._positionEvent(f,this._createEventElement(h),s)},_renderGroups:function(e,t,n,r){var s,u,a,f,l=t[0];if(l)for(s=l.dataSource.view(),u=0;s.length>u;u++)a=this._resourceValue(l,s[u]),f=(new i.data.Query(e)).filter({field:l.field,operator:o.groupEqFilter(a)}).toArray(),t.length>1?n=this._renderGroups(f,t.slice(1),n++,r+1):this._renderEvents(f,n++);return n},_groupCount:function(){var e=this.groupedResources;return e.length?this._isVerticallyGrouped()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(u),this.element&&this.element.off(u),o.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:p,eventTemplate:v}})}(window.kendo.jQuery),function(e,t){function n(e,t){var n;return 0!==e&&t>e?n=t-e:(n=e%t,n&&(n=t-n)),n}function r(e){var t=e.getMonth(),n=m(e)?et[t]:tt[t];return n+e.getDate()}function i(e,n){var r,i;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),G(e,0),r=e.getFullYear(),n!==t?(Q(e,n,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),G(e,0),i=Math.floor((e.getTime()-new Date(r,0,1,-6))/864e5),1+Math.floor(i/7)}function s(e,t){var n=Y(e).getDay(),r=7-(n+7-(t||7))||7;return 0>r&&(r+=7),Math.ceil((e.getDate()-r)/7)+1}function o(e,t){return e+(t>e?7:0)}function u(e,t,n){var r,i,u,a,f,l=t.offset;return l?(r=new Date(e.getFullYear(),e.getMonth()+1,0),i=s(r,n),u=o(t.day,n),a=u<o((new Date(e.getFullYear(),e.getMonth(),1)).getDay(),n),f=u>o(r.getDay(),n),0>l?l=i+(l+1-(f?1:0)):a&&(l+=1),i-=f?1:0,(a?1:0)>l||l>i?null:l):s(e,n)}function a(e,t){return s(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function f(e,t,n){return s(e,n)===u(e,t,n)}function l(e,t,n){for(var r,i,a,f,l=o(t.getDay(),n),c=e.length,h=[],p=0;c>p;p++)if(i=e[p],f=s(t,n),r=u(t,i,n),null!==r)if(r>f)h.push(i);else if(f===r)if(a=o(i.day,n),a>l)h.push(i);else if(l===a)return null;return h}function c(e,t,n){for(var r,i=0,s=e.length,o=[];s>i;i++){if(r=e[i],n&&(r=n(r)),t===r)return null;r>t&&o.push(r)}return o}function h(e,t){for(var n,r=0,i=e.length;i>r;r++){if(n=parseInt(e[r],10),isNaN(n)||t.start>n||n>t.end||0===n&&0>t.start)return null;e[r]=n}return e.sort(g)}function p(e){for(var n,r,i,s=0,o=e.length;o>s;s++){if(n=e[s],r=n.length,i=n.substring(r-2).toUpperCase(),i=it[i],i===t)return null;e[s]={offset:parseInt(n.substring(0,r-2),10)||0,day:i}}return e}function d(e){for(var t,n,r=0,i=e.length,s=[];i>r;r++)t=e[r],"string"==typeof t?n=t:(n=""+rt[t.day],t.offset&&(n=t.offset+n)),s.push(n);return""+s}function v(e){var t=e.getMonth();return 1===t?1===(new Date(e.getFullYear(),1,29)).getMonth()?29:28:nt[t]}function m(e){return e=e.getFullYear(),e%4===0&&e%100!==0||e%400===0}function g(e,t){return e-t}function y(e,t){var n,r,i=0,s=[];if(e)for(e=e.split(";"),n=e.length;n>i;i++)r=N(e[i],t),r&&s.push(r);return s}function b(t,n,r){for(var i=e.isArray(t)?t:y(t,r),s=n.getTime()-n.getMilliseconds(),o=0,u=i.length;u>o;o++)if(i[o].getTime()===s)return!0;return!1}function w(e,t){var n,r,i=0,s=[].concat(e);for(n=s.length;n>i;i++)r=s[i],r=U.timezone.convert(r,t||r.getTimezoneOffset(),"Etc/UTC"),s[i]=U.toString(r,at);return s.join(";")+";"}function E(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),0,1);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":Q(n,t.weekStart,-1)}return t.hours&&n.setHours(0),t.minutes&&n.setMinutes(0),t.seconds&&n.setSeconds(0),n}function S(e,t){var n=new Date(e);switch(t.freq){case"yearly":n.setFullYear(n.getFullYear(),11,31);break;case"monthly":n.setFullYear(n.getFullYear(),n.getMonth()+1,0);break;case"weekly":Q(n,t.weekStart,-1),n.setDate(n.getDate()+6)}return t.hours&&n.setHours(23),t.minutes&&n.setMinutes(59),t.seconds&&n.setSeconds(59),n}function x(e,t,n){var r,i,s,o,u=e.slice(n._startIdx),a=u.length,f=n.positions,l=[];for(s=0,o=f.length;o>s;s++)r=f[s],0>r?r=a+r:r-=1,i=u[r],i&&i.start>=t&&l.push(i);return e=e.slice(0,n._startIdx).concat(l),n._startIdx=e.length,e}function T(e,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,T,N,C,L,A,O,M,_,D,P=k(e.recurrenceRule,i),H=[];if(!P)return[e];for(M=P.positions,_=M?0:1,d=P.start,v=P.end,(d||v)&&(e=e.clone({start:d?new Date(d.value[0]):t,end:v?new Date(v.value[0]):t})),L=e.start,C=L.getTime(),N=Z(L),T=y(e.recurrenceException,i),!T[0]&&P.exdates&&(T=P.exdates.value,e.set("recurrenceException",w(T,i))),h=n=new Date(n),r=new Date(r),g=P.freq,O=mt[g],A=P.count,P.until&&r>P.until&&(r=new Date(P.until)),m="yearly"===g||"monthly"===g||"weekly"===g,C>n||A||P.interval>1||m?n=new Date(C):(a=n.getHours(),f=n.getMinutes(),l=n.getSeconds(),P.hours||(a=L.getHours()),P.minutes||(f=L.getMinutes()),P.seconds||(l=L.getSeconds()),n.setHours(a,f,l,L.getMilliseconds())),P._startPeriod=new Date(n),M&&(n=E(n,P),r=S(r,P),D=Z(r)-Z(n),0>D&&(a=n.getHours(),r.setHours(a,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),J.adjustDST(r,a)),P._startPeriod=new Date(n),P._endPeriod=S(n,P),P._startIdx=0),c=e.duration(),P._startTime=s=J.toInvariantTime(n),O.setup&&O.setup(P,L,n),O.limit(n,r,P);r>=n;)if(u=new Date(n),K(u,c),p=n>=h||u>h,(p&&!b(T,n,i)||M)&&(s=J.toUtcTime(J.getDate(n))+Z(P._startTime),o=s+c,C!==n.getTime()||N!==Z(P._startTime)?H.push(e.toOccurrence({start:new Date(n),end:u,_startTime:s,_endTime:o})):(e._startTime=s,e._endTime=o,H.push(e))),M){if(O.next(n,P),O.limit(n,r,P),n>P._endPeriod&&(H=x(H,L,P),P._endPeriod=S(n,P),_=H.length),A&&A===_)break}else{if(A&&A===_)break;_++,O.next(n,P),O.limit(n,r,P)}return H}function N(e,t){return e=U.parseDate(e,st),e&&t&&(e=z.convert(e,e.getTimezoneOffset(),t)),e}function C(e,n){var r,i,s,o,u,a,f,l,c=e.split(";");for(f=0,l=c.length;l>f;f++)if(r=c[f].split(":"),i=r[0],s=r[1],-1!==i.indexOf("TZID")&&(o=i.substring(i.indexOf("TZID")).split("=")[1]),s)for(s=s.split(","),u=0,a=s.length;a>u;u++)s[u]=N(s[u],o||n);return s?{value:s,tzid:o}:t}function k(n,r){var i,s,o,u,a,f,l,c,d,v={},m=0,g=!1,y=function(e,t){var n=e.day,r=t.day;return c>n&&(n+=7),c>r&&(r+=7),n-r};if(!n)return null;for(f=n.split("\n"),f[1]||-1===n.indexOf("DTSTART")&&-1===n.indexOf("DTEND")&&-1===n.indexOf("EXDATE")||(f=n.split(" ")),m=0,o=f.length;o>m;m++)a=e.trim(f[m]),-1!==a.indexOf("DTSTART")?v.start=C(a,r):-1!==a.indexOf("DTEND")?v.end=C(a,r):-1!==a.indexOf("EXDATE")?v.exdates=C(a,r):-1!==a.indexOf("RRULE")?u=a.substring(6):e.trim(a)&&(u=a);for(u=u.split(";"),m=0,o=u.length;o>m;m++)switch(l=u[m],i=l.split("="),s=e.trim(i[1]).split(","),e.trim(i[0]).toUpperCase()){case"FREQ":v.freq=s[0].toLowerCase();break;case"UNTIL":v.until=N(s[0],r);break;case"COUNT":v.count=parseInt(s[0],10);break;case"INTERVAL":v.interval=parseInt(s[0],10);break;case"BYSECOND":v.seconds=h(s,{start:0,end:60}),g=!0;break;case"BYMINUTE":v.minutes=h(s,{start:0,end:59}),g=!0;break;case"BYHOUR":v.hours=h(s,{start:0,end:23}),g=!0;break;case"BYMONTHDAY":v.monthDays=h(s,{start:-31,end:31}),g=!0;break;case"BYYEARDAY":v.yearDays=h(s,{start:-366,end:366}),g=!0;break;case"BYMONTH":v.months=h(s,{start:1,end:12}),g=!0;break;case"BYDAY":v.weekDays=d=p(s),g=!0;break;case"BYWEEKNO":v.weeks=h(s,{start:-53,end:53}),g=!0;break;case"BYSETPOS":v.positions=h(s,{start:-366,end:366});break;case"WKST":v.weekStart=c=it[s[0]]}return v.freq===t||v.count!==t&&v.until?null:(v.interval||(v.interval=1),c===t&&(v.weekStart=c=U.culture().calendar.firstDay),d&&(v.weekDays=d.sort(y)),v.positions&&!g&&(v.positions=null),v._hasRuleValue=g,v)}function L(e,t){for(var n,r=e.value,i=e.tzid||"",s=r.length,o=0;s>o;o++)n=r[o],n=z.convert(n,i||t||n.getTimezoneOffset(),"Etc/UTC"),r[o]=U.toString(n,"yyyyMMddTHHmmssZ");return i&&(i=";TZID="+i),i+":"+r.join(",")+" "}function A(e,n){var r=e.weekStart,i="FREQ="+e.freq.toUpperCase(),s=e.exdates||"",o=e.start||"",u=e.end||"",a=e.until;return e.interval>1&&(i+=";INTERVAL="+e.interval),e.count&&(i+=";COUNT="+e.count),a&&(a=z.convert(a,n||a.getTimezoneOffset(),"Etc/UTC"),i+=";UNTIL="+U.toString(a,"yyyyMMddTHHmmssZ")),e.months&&(i+=";BYMONTH="+e.months),e.weeks&&(i+=";BYWEEKNO="+e.weeks),e.yearDays&&(i+=";BYYEARDAY="+e.yearDays),e.monthDays&&(i+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(i+=";BYDAY="+d(e.weekDays)),e.hours&&(i+=";BYHOUR="+e.hours),e.minutes&&(i+=";BYMINUTE="+e.minutes),e.seconds&&(i+=";BYSECOND="+e.seconds),e.positions&&(i+=";BYSETPOS="+e.positions),r!==t&&(i+=";WKST="+rt[r]),o&&(o="DTSTART"+L(o,n)),u&&(u="DTEND"+L(u,n)),s&&(s="EXDATE"+L(s,n)),(o||u||s)&&(i=o+u+s+"RRULE:"+i),i}var O,M,_,D,P,H,B,j,F,I,q,R,U=window.kendo,z=U.timezone,W=U.Class,X=U.ui,V=X.Widget,$=X.DropDownList,J=U.date,K=J.setTime,Q=J.setDayOfWeek,G=J.adjustDST,Y=J.firstDayOfMonth,Z=J.getMilliseconds,et=[0,31,60,91,121,152,182,213,244,274,305,335,366],tt=[0,31,59,90,120,151,181,212,243,273,304,334,365],nt=[31,28,30,31,30,31,30,31,30,31,30,31],rt={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},it={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},st=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],ot=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],ut=ot.length,at="yyyyMMddTHHmmssZ",ft={months:function(e,t,n){var r=n.months,i=c(r,e.getMonth()+1),s=!1;return null!==i&&(i.length?e.setMonth(i[0]-1,1):e.setFullYear(e.getFullYear()+1,r[0]-1,1),s=!0),s},monthDays:function(e,t,n){for(var r,i,s,o=!1,u=e.getHours(),a=function(e){return 0>e&&(e=r+e),e};t>=e;){if(i=e.getMonth(),r=v(e),s=c(n.monthDays,e.getDate(),a),null===s)return o;if(o=!0,s.length){if(e.setMonth(i,s.sort(g)[0]),G(e,u),i===e.getMonth())break}else e.setMonth(i+1,1)}return o},yearDays:function(e,t,n){for(var i,s,o=!1,u=e.getHours(),a=function(e){return 0>e&&(e=i+e),e};t>e;){if(i=m(e)?366:365,s=c(n.yearDays,r(e),a),null===s)return o;if(o=!0,i=e.getFullYear(),s.length){e.setFullYear(i,0,s.sort(g)[0]),G(e,u);break}e.setFullYear(i+1,0,1)}return o},weeks:function(e,t,n){for(var r,s,o,u=n.weekStart,a=!1,f=e.getHours(),l=function(e){return 0>e&&(e=53+e),e};t>e;){if(s=c(n.weeks,i(e,u),l),null===s)return a;if(a=!0,r=e.getFullYear(),s.length){o=7*s.sort(g)[0]-1,e.setFullYear(r,0,o),Q(e,u,-1),G(e,f);break}e.setFullYear(r+1,0,1)}return a},weekDays:function(e,t,n){var r,i,o=n.weekDays,u=n.weekStart,c=l(o,e,u),h=e.getHours();if(null===c)return!1;if(r=c[0],r||(r=o[0],Q(e,u)),i=r.day,r.offset)for(;t>=e&&!f(e,r,u);)s(e,u)===a(e,u)?(e.setMonth(e.getMonth()+1,1),G(e,h)):(e.setDate(e.getDate()+7),G(e,h),Q(e,u,-1));return e.getDay()!==i&&Q(e,i),!0},hours:function(e,t,n){var r=n.hours,i=n._startTime,s=i.getHours(),o=c(r,s),u=!1;return null!==o&&(u=!0,e.setHours(s),G(e,s),o.length?(o=o[0],e.setHours(o)):(o=e.getHours(),e.setDate(e.getDate()+1),G(e,o),o=r[0],e.setHours(o),G(e,o)),n.minutes&&e.setMinutes(0),i.setHours(o,e.getMinutes())),u},minutes:function(e,t,n){var r=n.minutes,i=e.getMinutes(),s=c(r,i),o=n._startTime.getHours(),u=!1;return null!==s&&(u=!0,s.length?s=s[0]:(o+=1,s=r[0]),n.seconds&&e.setSeconds(0),e.setHours(o,s),o%=24,G(e,o),n._startTime.setHours(o,s,e.getSeconds())),u},seconds:function(e,t,n){var r=n.seconds,i=n._startTime.getHours(),s=c(r,e.getSeconds()),o=e.getMinutes(),u=!1;return null!==s&&(u=!0,s.length?e.setSeconds(s[0]):(o+=1,e.setMinutes(o,r[0]),o>59&&(o%=60,i=(i+1)%24)),n._startTime.setHours(i,o,e.getSeconds())),u}},lt=W.extend({next:function(e,t){var n,r,i=t._startTime,s=i.getDate();if(t.seconds)r=e.getSeconds()+1,e.setSeconds(r),i.setSeconds(r),i.setDate(s);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),i.setMinutes(n),i.setDate(s)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,n,r){for(var i,s,o,u,a,f=r.interval;n>=e;){for(o=s=t,a=e.getDate(),u=0;ut>u;u++){if(i=ot[u],r[i]){if(o=ft[i](e,n,r),s!==t&&o)break;s=o}o&&this.normalize({date:e,rule:r,day:a,idx:u})}if((1===f||!this.interval(r,e))&&u===ut)break}},interval:function(e,t){var r,s,o=new Date(e._startPeriod),u=new Date(t),a=t.getHours(),f=e.weekStart,l=e.interval,c=e.freq,h=!1,p=0,d=0,v=1;return"hourly"===c?(r=u.getTimezoneOffset()-o.getTimezoneOffset(),s=e._startTime.getHours(),u=u.getTime(),a!==s&&(u+=(s-a)*J.MS_PER_HOUR),u-=o,r&&(u-=r*J.MS_PER_MINUTE),r=Math.floor(u/J.MS_PER_HOUR),p=n(r,l),0!==p&&(this._hour(t,e,p),h=!0)):"daily"===c?(J.setTime(u,-o),r=Math.floor(u/J.MS_PER_DAY),p=n(r,l),0!==p&&(this._date(t,e,p),h=!0)):"weekly"===c?(r=52*(t.getFullYear()-o.getFullYear()),p=i(t,f)-i(o,f)+r,p=n(p,l),0!==p&&(J.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7*p),G(t,a),h=!0)):"monthly"===c?(r=t.getFullYear()-o.getFullYear(),r=t.getMonth()-o.getMonth()+12*r,p=n(r,l),0!==p&&(v=e._hasRuleValue?1:t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+p,v),G(t,a),h=!0)):"yearly"===c&&(r=t.getFullYear()-o.getFullYear(),p=n(r,l),e.months||(d=t.getMonth()),e.yearDays||e.monthDays||e.weekDays||(v=t.getDate()),0!==p&&(t.setFullYear(t.getFullYear()+p,d,v),G(t,a),h=!0)),h},_hour:function(e,t,n){var r=t._startTime,i=r.getHours();n&&(i+=n),e.setHours(i),i%=24,r.setHours(i),G(e,i)},_date:function(e,t,n){var r=e.getHours();e.setDate(e.getDate()+n),G(e,r)||this._hour(e,t)}}),ct=lt.extend({next:function(e,t){lt.fn.next(e,t)||this._hour(e,t,1)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),ht=lt.extend({next:function(e,t){lt.fn.next(e,t)||this[t.hours?"_hour":"_date"](e,t,1)}}),pt=ht.extend({setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),dt=lt.extend({next:function(e,t){var n,r;if(!lt.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(n=e.getDate(),r=e.getHours(),e.setMonth(e.getMonth()+1),G(e,r);e.getDate()!==n;)e.setDate(n),G(e,r);this._hour(e,t)}},normalize:function(e){var t=e.rule,n=e.date,r=n.getHours();0!==e.idx||t.monthDays||t.weekDays?lt.fn.normalize(e):(n.setDate(e.day),G(n,r))},setup:function(e,t,n){e.monthDays||e.weekDays||n.setDate(t.getDate())}}),vt=dt.extend({next:function(e,t){var n,r=e.getHours();if(!lt.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),G(e,r);e.getDate()!==n;)e.setDate(n),G(e,r);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),G(e,r),this._hour(e,t)},setup:function(){}}),mt={hourly:new ct,daily:new ht,weekly:new pt,monthly:new dt,yearly:new vt},gt="click";U.recurrence={rule:{parse:k,serialize:A},expand:T,dayInYear:r,weekInYear:i,weekInMonth:s,numberOfWeeks:a,isException:b,toExceptionString:w},O=function(e){for(var t=U.culture().calendar.days.namesShort,n=t.length,r="",i=0,s=[];n>i;i++)s.push(i);for(t=t.slice(e).concat(t.slice(0,e)),s=s.slice(e).concat(s.slice(0,e)),i=0;n>i;i++)r+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+s[i]+'" /> '+t[i]+"</label>";return r},M=U.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #'),_=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],D=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],P=[{day:0,offset:0},{day:6,offset:0}],H=V.extend({init:function(e,t){var n,r=this,i=t&&t.frequencies;V.fn.init.call(r,e,t),r.wrapper=r.element,t=r.options,t.start=n=t.start||J.today(),i&&(t.frequencies=i),"string"==typeof n&&(t.start=U.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=U.culture().calendar.firstDay),r._namespace="."+t.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var e=this,t=e._value;e._container.find(".k-recur-interval").kendoNumericTextBox({spinners:e.options.spinners,value:t.interval||1,decimals:0,format:"#",min:1,change:function(){t.interval=this.value(),e._trigger()}})},_weekDayRule:function(e){var t=this,n=(t._weekDay.element||t._weekDay).val(),r=+(t._weekDayOffset.element||t._weekDayOffset).val(),i=null,s=null;e||("day"===n?(i=_,s=r):"weekday"===n?(i=D,s=r):"weekend"===n?(i=P,s=r):i=[{offset:r,day:+n}]),t._value.weekDays=i,t._value.positions=s},_weekDayView:function(){var e,t,n,r,i=this,s=i._value.weekDays,o=i._value.positions,u=i._weekDayOffset;s&&(n=s.length,o&&(7===n?(t="day",e=o):5===n?(t="weekday",e=o):2===n&&(t="weekend",e=o)),t||(s=s[0],t=s.day,e=s.offset||""),r=u.value?"value":"val",u[r](e),i._weekDay[r](t))},_initWeekDay:function(){var t,n=this,r=n.options.messages.weekdays,i=n.options.messages.offsetPositions,s=n._container.find(".k-recur-weekday"),o=function(){n._weekDayRule(),n._trigger()};s[0]&&(n._weekDayOffset=new $(n._container.find(".k-recur-weekday-offset"),{change:o,dataTextField:"text",dataValueField:"value",dataSource:[{text:i.first,value:"1"},{text:i.second,value:"2"},{text:i.third,value:"3"},{text:i.fourth,value:"4"},{text:i.last,value:"-1"}]}),t=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}],n._weekDay=new $(s,{value:n.options.start.getDay(),change:o,dataTextField:"text",dataValueField:"value",dataSource:t.concat(e.map(U.culture().calendar.days.names,function(e,t){return{text:e,value:t}}))}),n._weekDayView())},_initWeekDays:function(){var t,n,r,i,s,o=this,u=o._value,a=o._container.find(".k-recur-weekday-checkbox");if(a[0]&&(a.on(gt+o._namespace,function(){u.weekDays=e.map(a.filter(":checked"),function(e){return{day:+e.value,offset:0}}),o.options.mobile||o._trigger()}),u.weekDays))for(r=0,i=a.length,s=u.weekDays.length;i>r;r++)for(n=a[r],t=0;s>t;t++)n.value==u.weekDays[t].day&&(n.checked=!0)},_initMonthDay:function(){var e=this,t=e._value,n=e._container.find(".k-recur-monthday");n[0]&&(e._monthDay=new U.ui.NumericTextBox(n,{spinners:e.options.spinners,min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var n=this.value();t.monthDays=n?[n]:n,e._trigger()}}))},_initCount:function(){var e=this,t=e._container.find(".k-recur-count"),n=e._value;e._count=t.kendoNumericTextBox({spinners:e.options.spinners,value:n.count||1,decimals:0,format:"#",min:1,change:function(){n.count=this.value(),e._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,r=e._value,i=r.until;e._until=t.kendoDatePicker({min:i&&n>i?i:n,value:i||new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59),change:function(){var t=this.value();r.until=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59),e._trigger()}}).data("kendoDatePicker")},_trigger:function(){this.options.mobile||this.trigger("change")}}),B=H.extend({init:function(e,t){var n=this;H.fn.init.call(n,e,t),n._initFrequency(),n._initContainer(),n.value(n.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var e=this;e._frequency.destroy(),e._container.find("input[type=radio],input[type=checkbox]").off(gt+e._namespace),U.destroy(e._container),H.fn.destroy.call(e)},value:function(e){var n,r=this,i=r.options.timezone;return e===t?r._value.freq?A(r._value,i):"":(r._value=k(e,i)||{},n=r._value.freq,n?r._frequency.value(n):r._frequency.select(0),r._initView(r._frequency.value()),t)},_initContainer:function(){var t=this.element,n=e('<div class="k-recur-view" />'),r=t.parent(".k-edit-field");r[0]?n.insertAfter(r):t.append(n),this._container=n},_initFrequency:function(){var t,n=this,r=n.options,i=r.frequencies,s=r.messages.frequencies,o=e("<input />");i=e.map(i,function(e){return{text:s[e],value:e}}),t=i[0],t&&"never"===t.value&&(t.value=""),n.element.append(o),n._frequency=new $(o,{dataTextField:"text",dataValueField:"value",dataSource:i,change:function(){n._value={},n._initView(n._frequency.value()),n.trigger("change")}})},_initView:function(e){var n=this,r=n._value,i=n.options,s={frequency:e||"never",weekDayCheckBoxes:O,firstWeekDay:i.firstWeekDay,messages:i.messages[e],end:i.messages.end};return U.destroy(n._container),n._container.html(M(s)),e?(r.freq=e,"weekly"!==e||r.weekDays||(r.weekDays=[{day:i.start.getDay(),offset:0}]),n._initInterval(),n._initWeekDays(),n._initMonthDay(),n._initWeekDay(),n._initMonth(),n._initCount(),n._initUntil(),n._period(),n._end(),t):(n._value={},t)},_initMonth:function(){var t,n=this,r=n._value,i=r.months||[n.options.start.getMonth()+1],s=n._container.find(".k-recur-month");s[0]&&(t={change:function(){r.months=[+this.value()],n.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:e.map(U.culture().calendar.months.names,function(e,t){return{text:e,value:t+1}})},n._month1=new $(s[0],t),n._month2=new $(s[1],t),i&&(i=i[0],n._month1.value(i),n._month2.value(i)))},_end:function(){var e,t=this,n=t._value,r=t._container,i=t._namespace,s=function(e){t._toggleEnd(e.currentTarget.value),t.trigger("change")};t._buttonNever=r.find(".k-recur-end-never").on(gt+i,s),t._buttonCount=r.find(".k-recur-end-count").on(gt+i,s),t._buttonUntil=r.find(".k-recur-end-until").on(gt+i,s),n.count?e="count":n.until&&(e="until"),t._toggleEnd(e)},_period:function(){var e=this,t=e._value,n="monthly"===t.freq,r=n?e._toggleMonthDay:e._toggleYear,i=".k-recur-"+(n?"month":"year")+"-radio",s=e._container.find(i);(n||"yearly"===t.freq)&&(s.on(gt+e._namespace,function(t){r.call(e,t.currentTarget.value),e.trigger("change")}),e._buttonMonthDay=s.eq(0),e._buttonWeekDay=s.eq(1),r.call(e,t.weekDays?"weekday":"monthday"))},_toggleEnd:function(e){var t,n,r,i,s=this;"count"===e?(s._buttonCount.prop("checked",!0),r=!0,i=!1,t=s._count.value(),n=null):"until"===e?(s._buttonUntil.prop("checked",!0),r=!1,i=!0,t=null,n=s._until.value()):(s._buttonNever.prop("checked",!0),r=i=!1,t=n=null),s._count.enable(r),s._until.enable(i),s._value.count=t,s._value.until=n},_toggleMonthDay:function(e){var t,n=this,r=!1,i=!0,s=!1;"monthday"===e?(n._buttonMonthDay.prop("checked",!0),t=[n._monthDay.value()],r=!0,i=!1,s=!0):(n._buttonWeekDay.prop("checked",!0),t=null),n._weekDay.enable(i),n._weekDayOffset.enable(i),n._monthDay.enable(r),n._value.monthDays=t,n._weekDayRule(s)},_toggleYear:function(e){var t,n=this,r=!1,i=!0;"monthday"===e?(r=!0,i=!1,t=n._month1.value()):t=n._month2.value(),n._month1.enable(r),n._month2.enable(i),n._value.months=[t],n._toggleMonthDay(e)}}),X.plugin(B),j=U.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>'),F=U.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #'),I=U.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #'),q=U.template('<ul class="k-reset k-header k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>'),R=H.extend({init:function(e,t){var n=this;H.fn.init.call(n,e,t),t=n.options,n._optionTemplate=U.template('<option value="#:value#">#:text#</option>'),n.value(t.value),n._pane=t.pane,n._initRepeatButton(),n._initRepeatEnd(),n._defaultValue=n._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(e){var n=this,r=n.options.timezone;return e===t?n._value.freq?A(n._value,r):"":(n._value=k(e,r)||{},t)},destroy:function(){this._destroyView(),U.destroy(this._endFields),this._repeatButton.off(gt+this._namespace),H.fn.destroy.call(this)},_initRepeatButton:function(){var t=this,n=t.options.messages.frequencies[this._value.freq||"never"];t._repeatButton=e('<a href="#" class="k-button k-scheduler-recur">'+n+"</a>").on(gt+t._namespace,function(e){e.preventDefault(),t._createView("repeat"),t._pane.navigate("recurrence",t.options.animations.left)}),t.element.append(t._repeatButton)},_initRepeatEnd:function(){var t=this,n=e('<div class="k-edit-label"><label>'+t.options.messages.end.mobileLabel+"</label></div>").insertAfter(t.element.parent(".k-edit-field")),r=e('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(gt+t._namespace,function(e){e.preventDefault(),t._value.freq&&(t._createView("end"),t._pane.navigate("recurrence",t.options.animations.left))}).insertAfter(n);t._endFields=n.add(r).toggleClass("k-state-disabled",!t._value.freq),t._endButton=r.find(".k-scheduler-recur-end").text(t._endText())},_endText:function(){var e=this._value,t=this.options.messages.end,n=t.never;return e.count?n=U.format("{0} {1}",t.after,e.count):e.until&&(n=U.format("{0} {1:d}",t.on,e.until)),n},_initFrequency:function(){var t=this,n=t.options.messages.frequencies,r=q({dataSource:e.map(this.options.frequencies,function(e){return{text:n[e],value:"never"!==e?e:""}}),value:t._value.freq||"",ns:U.ns});t._view.element.find(".k-recur-pattern").append(r).on(gt+t._namespace,".k-scheduler-navigation li",function(n){var r=e(this);n.preventDefault(),r.addClass("k-state-selected").siblings().removeClass("k-state-selected"),t._value={freq:r.children("a").attr(U.attr("value"))},t._initRepeatView()})},_initEndNavigation:function(){var t,n=this,r=n.options.messages.end.patterns,i=n._value,s="";i.count?s="count":i.until&&(s="until"),t=q({dataSource:[{text:r.never,value:""},{text:r.after,value:"count"},{text:r.on,value:"until"}],value:s,ns:U.ns}),n._view.element.find(".k-recur-pattern").append(t).on(gt+n._namespace,".k-scheduler-navigation li",function(t){var r=e(this),s=null,o=null;t.preventDefault(),r.addClass("k-state-selected").siblings().removeClass("k-state-selected"),n._initEndView(r.children("a").attr(U.attr("value"))),n._count?(s=n._count.value(),o=null):n._until&&(s=null,o=n._until.val?U.parseDate(n._until.val(),"yyyy-MM-dd"):n._until.value()),i.count=s,i.until=o})},_createView:function(t){var n=this,r=n.options,i=r.messages,s=i["repeat"===t?"repeatTitle":"endTitle"],o='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+i.cancel+"</a>"+i.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+i.update+"</a></div>",u=n._pane.view().id;n._view=n._pane.append(o+j({headerTitle:s})),n._view.element.on(gt+n._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass("k-scheduler-update")?(n.trigger("change"),n._defaultValue=e.extend({},n._value)):n._value=n._defaultValue;var r=n._value.freq;n._endButton.text(n._endText()),n._endFields.toggleClass("k-state-disabled",!r),n._repeatButton.text(i.frequencies[r||"never"]),n._pane.one("viewShow",function(){n._destroyView()}),n._pane.navigate(u,n.options.animations.right)}),n._container=n._view.element.find(".k-recur-view"),"repeat"===t?(n._initFrequency(),n._initRepeatView()):(n._initEndNavigation(),n._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null},_initRepeatView:function(){var e=this,n=e._value.freq||"never",r={frequency:n,weekDayCheckBoxes:O,firstWeekDay:e.options.firstWeekDay,messages:e.options.messages[n]},i=F(r),s=e._container,o=e._value;return U.destroy(s),s.html(i),i?("weekly"!==n||o.weekDays||(o.weekDays=[{day:e.options.start.getDay(),offset:0}]),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period(),t):(e._value={},t)},_initEndView:function(e){var n,r=this,i=r._value;e===t&&(i.count?e="count":i.until&&(e="until")),n={endPattern:e,messages:r.options.messages.end},U.destroy(r._container),r._container.html(I(n)),r._initCount(),r._initUntil()},_initWeekDay:function(){var t,n=this,r=n.options.messages.weekdays,i=n.options.messages.offsetPositions,s=n._container.find(".k-recur-weekday"),o=function(){n._weekDayRule(),n.trigger("change")};s[0]&&(n._weekDayOffset=n._container.find(".k-recur-weekday-offset").html(n._options([{text:i.first,value:"1"},{text:i.second,value:"2"},{text:i.third,value:"3"},{text:i.fourth,value:"4"},{text:i.last,value:"-1"}])).change(o),t=[{text:r.day,value:"day"},{text:r.weekday,value:"weekday"},{text:r.weekend,value:"weekend"}],t=t.concat(e.map(U.culture().calendar.days.names,function(e,t){return{text:e,value:t}})),n._weekDay=s.html(n._options(t)).change(o).val(n.options.start.getDay()),n._weekDayView())},_initMonth:function(){var t,n=this,r=n._value,i=n.options.start,s=r.months||[i.getMonth()+1],o=n._container.find(".k-recur-month"),u=U.culture().calendar.months.names;o[0]&&(t=e.map(u,function(e,t){return{text:e,value:t+1}}),o.html(n._options(t)).change(function(){r.months=[+this.value]}),n._monthSelect=o,s&&o.val(s[0]))},_period:function(){var t,n,r,i=this,s=i._value,o=i._container,u=i.options.messages[s.freq],a=o.find(".k-repeat-rule"),f=o.find(".k-weekday-view"),l=o.find(".k-monthday-view");a[0]&&(t=s.weekDays?"weekday":"monthday",n=q({value:t,dataSource:[{text:u.dayOfMonth,value:"monthday"},{text:u.dayOfWeek,value:"weekday"}],ns:U.ns}),r=function(e){var t=i._weekDay.val(),n=i._weekDayOffset.val(),r=i._monthDay.value(),o=i._monthSelect?i._monthSelect.val():null;"monthday"===e?(s.weekDays=null,s.monthDays=r?[r]:r,s.months=o?[+o]:o,f.hide(),l.show()):(s.monthDays=null,s.months=o?[+o]:o,s.weekDays=[{offset:+n,day:+t}],f.show(),l.hide())},a.append(n).on(gt+i._namespace,".k-scheduler-navigation li",function(t){var n,i=e(this).addClass("k-state-selected");t.preventDefault(),i.siblings().removeClass("k-state-selected"),n=i.children("a").attr(U.attr("value")),r(n)}),r(t))},_initUntil:function(){var e=this,t=e._container.find(".k-recur-until"),n=e.options.start,r=e._value,i=r.until,s=i&&n>i?i:n;e._until=U.support.input.date?t.attr("min",U.toString(s,"yyyy-MM-dd")).val(U.toString(i||n,"yyyy-MM-dd")).on("change",function(){r.until=U.parseDate(this.value,"yyyy-MM-dd")}):t.kendoDatePicker({min:s,value:i||n,change:function(){r.until=this.value()}}).data("kendoDatePicker")},_options:function(e,t){var n=0,r="",i=e.length,s=this._optionTemplate;for(t&&(r+=s({value:"",text:t}));i>n;n++)r+=s(e[n]);return r}}),X.plugin(R)}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return f(t,d(e)),t}function r(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n>6?n-=7:n++,t.push(n);return t}function i(e){var t,n=0;if(e.columns){for(t=0;e.columns.length>t;t++)n+=i(e.columns[t]);return e.colspan=n,n}return e.colspan=1,1}function s(e,t,n){var r,i,s,u;for(r=e.length-1;r>=0;r--)i=e[r].rectLeft,u=e[r].rectRight,s=t>=i&&u>=t,(s||i>=t&&n>=u||i>=t&&n>=i)&&(t>i&&(t=i),u>n&&(n=u));return o(e,t,n)}function o(e,t,n){var r,i,s=[];for(r=0;e.length>r;r++)i={rectLeft:e[r].rectLeft,rectRight:e[r].rectRight},(t>i.rectLeft&&i.rectRight>t||i.rectLeft>=t&&n>=i.rectRight)&&s.push(e[r]);return s}var u=window.kendo,a=u.ui,f=u.date.setTime,l=a.SchedulerView,c=e.extend,h=e.proxy,p=u.date.getDate,d=u.date.getMilliseconds,v=u.date.MS_PER_DAY,m=u.date.MS_PER_MINUTE,g=".kendoTimelineView",y=u.template('<div><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),b=u.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),w='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !data.tail){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !data.head){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',E=l.extend({init:function(e,t){var n=this;l.fn.init.call(n,e,t),n.title=n.options.title||n.options.name,n._workDays=r(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime()},name:"timeline",_currentTimeMarkerUpdater:function(){var t,n,r,i,s,o,a,f,l,c,h,p,d=new Date,v=this.options;if(this.datesHeader.find(".k-current-time").remove(),this._isInDateSlot({start:d,end:d}))for(v.currentTimeMarker.useLocalTimezone===!1&&(t=v.dataSource.options.schema.timezone,v.dataSource&&t&&(n=u.timezone.offset(d,t),d=u.timezone.convert(d,d.getTimezoneOffset(),n))),r=v.group&&"vertical"!=v.group.orientation?this.groups.length:1,i=0;r>i;i++){if(s=this.groups[i],o=u.date.toUtcTime(d),a=s.timeSlotRanges(o,o+1),0===a.length)return;f=a[0].collection,l=f.slotByStartDate(d),l&&(c=e("<div class='k-current-time'></div>"),h=this.datesHeader,p=Math.round(a[0].innerRect(d,new Date(d.getTime()+1),!1).left),c.appendTo(h.find(".k-scheduler-header-wrap")).css({left:this._adjustLeftPosition(p),width:"1px",bottom:"1px",top:0}))}},_adjustLeftPosition:function(e){return this._isRtl&&(e-=this.content[0].scrollWidth-this.content[0].offsetWidth),e},_currentTime:function(){var e,n=this,r=n.options.currentTimeMarker;r!==!1&&r.updateInterval!==t&&(e=r.updateInterval,n._currentTimeMarkerUpdater(),n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),e))},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+g,".k-event a:has(.k-si-close)",function(n){t.trigger("remove",{uid:e(this).closest(".k-event").attr(u.attr("uid"))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+g,".k-scheduler-content td",function(e){var n,r=t._slotByPosition(e.pageX,e.pageY);r&&(n=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({start:r.startDate(),end:r.endDate()},n)})),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+g,".k-event",function(n){t.trigger("edit",{uid:e(this).closest(".k-event").attr(u.attr("uid"))}),n.preventDefault()})},_touchEditable:function(){var t=this,n=0;u.support.mobileOS.android&&(n=5),t.options.editable.create!==!1&&(t._addUserEvents=new u.UserEvents(t.element,{threshold:n,filter:".k-scheduler-content td",tap:function(e){var n,r=t._slotByPosition(e.x.location,e.y.location);r&&(n=t._resourceBySlot(r),t.trigger("add",{eventInfo:c({start:r.startDate(),end:r.endDate()},n)})),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new u.UserEvents(t.element,{threshold:n,filter:".k-event",tap:function(n){var r=e(n.target).closest(".k-event");r.hasClass("k-event-active")||t.trigger("edit",{uid:r.attr(u.attr("uid"))}),n.preventDefault()}}))},_slotByPosition:function(e,t){var n,r,i,s,o=this.content,a=o.offset();for(e-=a.left,t-=a.top,this._isRtl?(s=u.support.browser,s.mozilla?(e+=o[0].scrollWidth-o[0].offsetWidth,e+=o[0].scrollLeft):s.msie?(e-=o.scrollLeft(),e+=o[0].scrollWidth-o[0].offsetWidth):s.webkit&&(e+=o[0].scrollLeft)):e+=o[0].scrollLeft,t+=o[0].scrollTop,e=Math.ceil(e),t=Math.ceil(t),i=0;this.groups.length>i;i++)if(r=this.groups[i],n=r.timeSlotByPosition(e,t))return n;return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:u.date.today(),startTime:u.date.today(),endTime:u.date.today(),showWorkHours:!1,minorTickCount:2,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:y,dateHeaderTemplate:b,footer:{command:"workDay"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:!0},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=c({},u.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,w),this.majorTimeHeaderTemplate=u.template(e.majorTimeHeaderTemplate,t),this.dateHeaderTemplate=u.template(e.dateHeaderTemplate,t),this.slotTemplate=u.template(e.slotTemplate,t),this.groupHeaderTemplate=u.template(e.groupHeaderTemplate,t)},_render:function(t){var n=this;t=t||[],n._dates=t,n._startDate=t[0],n._endDate=t[t.length-1||0],n._calculateSlotRanges(),n.createLayout(n._layout(t)),n._content(t),n._footer(),n._setContentWidth(),n.refreshLayout(),n.datesHeader.on("click"+g,".k-nav-day",function(t){var r=e(t.currentTarget).closest("th"),i=n._slotByPosition(r.offset().left,n.content.offset().top);n.trigger("navigate",{view:"timeline",date:i.startDate()})}),n.timesHeader.find("table tr:last").hide(),n.datesHeader.find("table tr:last").hide()},_setContentWidth:function(){var e=this.content,t=e.width(),n=this.content.find("table"),r=n.find("tr:first").children().length,i=100,s=r*this.options.columnWidth;s>t&&(i=Math.ceil(s/t*100)),n.add(this.datesHeader.find("table")).css("width",i+"%")},_calculateSlotRanges:function(){var e,t,n,r,i=this._dates,s=this.startTime(),o=this.endTime();for(d(o)===d(u.date.getDate(o))&&(o=u.date.getDate(o),f(o,v-1)),o=d(o),s=d(s),e=[],t=0;i.length>t;t++)n=p(i[t]),f(n,s),r=p(i[t]),f(r,o),e.push({start:u.date.toUtcTime(n),end:u.date.toUtcTime(r)});this._slotRanges=e},_forTimeRange:function(e,t,r,i){var s,o,u,a,l,c,h,p,g,y,b,w,E,S,x,T,N,C;for(e=n(e),t=n(t),s=this,o=d(e),u=d(t),a=s.options.minorTickCount,l=s.options.majorTick*m,c=l/a||1,h=new Date(+e),p=h.getDate(),y=0,w="",b=v/c,o!=u&&(o>u&&(u+=v),b=(u-o)/c),b=Math.round(b);b>y;y++)E=y%(l/c),S=0===E,x=a-1>E,T=E===a-1,N=a,b%a!==0&&(C=a>b-(y+1),S&&C&&(N=b%a)),w+=r(h,S,x,T,N),f(h,c,!1);return u&&(g=d(h),p<h.getDate()&&(g+=v),g>u&&(h=new Date(+t))),i&&(w+=i(h)),w},_layout:function(e){var t,n,r,s=[],o=[],u=this,a=[{text:u.options.messages.defaultRowText}],f=[];for(t=0;u.options.minorTickCount>t;t++)f.push({text:"",className:""});for(this._forTimeRange(u.startTime(),u.endTime(),function(e,t,n,r,o){var a,l=u.majorTimeHeaderTemplate;t&&(a={text:l({date:e}),className:r?"k-slot-cell":"",columns:f.slice(0,o)},i(a),s.push(a))}),n=0;e.length>n;n++)o.push({text:u.dateHeaderTemplate({date:e[n]}),className:"k-slot-cell",columns:s.slice(0)});return r=this.groupedResources,r.length&&("vertical"===this._groupOrientation()?a=u._createRowsLayout(r,null,this.groupHeaderTemplate):o=u._createColumnsLayout(r,o,this.groupHeaderTemplate)),{columns:o,rows:a}},_footer:function(){var t,n,r,i=this.options;i.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',n=i.footer.command,n&&"workDay"===n?(t+='<ul class="k-reset k-header">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(i.showWorkHours?i.messages.showFullDay:i.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),r=this,this.footer.on("click"+g,".k-scheduler-fullday",function(e){e.preventDefault(),r.trigger("navigate",{view:r.name||i.name,date:r.startDate(),isWorkDay:!i.showWorkHours})}))},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},_isWorkDay:function(e){var t,n=e.getDay(),r=this._workDays;for(t=0;r.length>t;t++)if(r[t]===n)return!0;return!1},_content:function(e){var t,n,r,i,s,o=this,a=o.options,f=o.startTime(),l=this.endTime(),c=1,h=1,p=e.length,d="",v=this.groupedResources,m=this.slotTemplate,g=!1;for(v.length&&(g="vertical"===o._groupOrientation(),g?h=o._groupCount():c=o._groupCount()),d+="<tbody>",t=function(t){var s,f="",l="",c=function(e){return function(){return o._resourceBySlot({groupIndex:e})}};return u.date.isToday(e[i])&&(l+="k-today"),(u.date.getMilliseconds(t)<u.date.getMilliseconds(a.workDayStart)||u.date.getMilliseconds(t)>=u.date.getMilliseconds(a.workDayEnd)||!o._isWorkDay(e[i]))&&(l+=" k-nonwork-hour"),f+="<td"+(""!==l?' class="'+l+'"':"")+">",s=u.date.getDate(e[i]),u.date.setTime(s,u.date.getMilliseconds(t)),f+=m({date:s,resources:c(g?n:r)}),f+="</td>"},n=0;h>n;n++){for(d+="<tr>",r=0;c>r;r++)for(i=0,s=p;s>i;i++)d+=this._forTimeRange(f,l,t);d+="</tr>"}d+="</tbody>",this.content.find("table").append(d)},_groups:function(){var e,t,n,r,i=this._groupCount(),s=this._dates,o=s.length;for(this.groups=[],e=0;i>e;e++)t=this._addResourceView(e),n=s[0],r=s[s.length-1||0],t.addTimeSlotCollection(n,u.date.addDays(r,1));this._timeSlotGroups(i,o)},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_isHorizontallyGrouped:function(){return this.groupedResources.length&&"horizontal"===this._groupOrientation()},_timeSlotGroups:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,v,m,g,y,b,w,E=this._timeSlotInterval(),S=this._isVerticallyGrouped(),x=this.content.find("tr"),T=x.length;for(x.attr("role","row"),S&&(T=Math.floor(T/e)),n=0;e>n;n++)for(r=0,i=this.groups[n],S&&(r=n),o=r*T,u=0,S||(u=n),a=x[o].children,f=a.length/(S?1:e),l=f/t,c=0;t>c;c++)for(h=c*l+f*u,s=d(new Date(+this.startTime())),p=0;l>p;p++)v=a[p+h],m=i.getTimeSlotCollection(0),g=this._dates[c],y=Date.UTC(g.getFullYear(),g.getMonth(),g.getDate()),b=y+s,w=b+E,v.setAttribute("role","gridcell"),v.setAttribute("aria-selected",!1),m.addTimeSlot(v,b,w,!0),s+=E},startDate:function(){return this._startDate},endDate:function(){return this._endDate},startTime:function(){var e=this.options;return e.showWorkHours?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.showWorkHours?e.workDayEnd:e.endTime},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*m},nextDate:function(){return u.date.nextDay(this.endDate())},previousDate:function(){return u.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(e){var t,n,r,i,s;for(this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),e=(new u.data.Query(e)).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray(),t=[],this._eventsByResource(e,this.groupedResources,t),n=[],r=0,i=0;t.length>i;i++)s={groupIndex:i,maxRowCount:0,events:{}},n.push(s),this._renderEvents(t[i],i,s),s.maxRowCount>r&&(r=s.maxRowCount);this._setRowsHeight(n,t.length,r),this._positionEvents(n,t.length),this.trigger("activate")},_positionEvents:function(e,t){var n,r,i,s;for(n=0;t>n;n++){r=e[n].events;for(i in r)s=r[i],this._positionEvent(s)}},_setRowsHeight:function(t,n,r){var i,s,o,u,a,f=this.options.eventHeight+2,l=this._getBottomRowOffset();for(n=this._isVerticallyGrouped()?n:1,i=0;n>i;i++)s=this._isVerticallyGrouped()?t[i].maxRowCount:r,s=s?s:1,o=(f+2)*s+l,u=e(this.times.find("tr")[i]),a=e(this.content.find("tr")[i]),u.height(o),a.height(o);this._setContentWidth(),this.refreshLayout(),this._refreshSlots()},_getBottomRowOffset:function(){var e,t,n=.5*this.options.eventHeight,r=this._isMobile();return r?(e=30,t=60):(e=15,t=30),n>t?n=t:e>n&&(n=e),n},_positionEvent:function(e){var t,n,r,i=this.options.eventHeight+2,s=e.slotRange.innerRect(e.start,e.end,!1),o=this._adjustLeftPosition(s.left),u=s.right-s.left-2;0>u&&(u=0),this.options.eventMinWidth>u&&(t=e.slotRange.collection,n=t._slots[t._slots.length-1],r=n.offsetLeft+n.offsetWidth,u=this.options.eventMinWidth,o+u>r&&(u=r-s.left-2)),e.element.css({top:e.slotRange.start.offsetTop+e.rowIndex*(i+2)+"px",left:o,width:u})},_refreshSlots:function(){for(var e=0;this.groups.length>e;e++)this.groups[e].refresh()},_eventsByResource:function(e,t,n){var r,i,s,o,a=t[0];if(a)for(r=a.dataSource.view(),i=0;r.length>i;i++)s=this._resourceValue(a,r[i]),o=(new u.data.Query(e)).filter({field:a.field,operator:l.groupEqFilter(s)}).toArray(),t.length>1?this._eventsByResource(o,t.slice(1),n):n.push(o);else n.push(e)},_isInDateSlot:function(e){var t=e.start,n=e.end,r=p(this._startDate),i=u.date.addDays(p(this._endDate),1);return i>t&&n>=r?!0:!1},_isInTimeSlot:function(e){var t,n=e._startTime||u.date.toUtcTime(e.start),r=e._endTime||u.date.toUtcTime(e.end),i=this._slotRanges;for(n===r&&(r+=1),t=0;i.length>t;t++)if(i[t].end>n&&r>i[t].start)return!0;return!1},_adjustEvent:function(e){var t,n=e.start,r=e.end,i=e._time("start"),s=e._time("end"),o=d(this.startTime()),a=d(this.endTime()),l=null,c=null,h=!1,m=!1;return e.isAllDay?(l=p(n),o>i&&(f(l,o),m=!0),c=p(r),a===d(p(this.endTime()))?c=u.date.addDays(c,1):(f(c,a),h=!0)):(a=0===a?v:a,o>i?(l=p(n),f(l,o),m=!0):i>a&&(l=p(n),l=u.date.addDays(l,1),f(l,o),m=!0),s>a?(c=p(r),f(c,a),h=!0):o>s&&(c=p(r),c=u.date.addDays(c,-1),f(c,a),h=!0)),t=e.clone({start:l?l:n,end:c?c:r,_startTime:l?u.date.toUtcTime(l):e._startTime,_endTime:c?u.date.toUtcTime(c):e._endTime,isAllDay:!1}),{occurrence:t,head:h,tail:m}},_renderEvents:function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p;for(i=0,s=e.length;s>i;i++)r=e[i],this._isInDateSlot(r)&&(o=r.isAllDay||r.end.getTime()-r.start.getTime()>=v,u=this.content,(o||this._isInTimeSlot(r))&&(a=this._adjustEvent(r),f=this.groups[t],f._continuousEvents||(f._continuousEvents=[]),l=f.slotRanges(a.occurrence,!1),c=l[0],this._isInTimeSlot(a.occurrence)&&(h=this._createEventElement(a.occurrence,r,c.head||a.head,c.tail||a.tail),h.appendTo(u).css({top:0,height:this.options.eventHeight}),p={start:a.occurrence._startTime||a.occurrence.start,end:a.occurrence._endTime||a.occurrence.end,element:h,uid:r.uid,slotRange:c,rowIndex:0,offsetTop:0},n.events[r.uid]=p,this.addContinuousEvent(f,c,h,r.isAllDay),this._arrangeRows(p,c,n))))},addContinuousEvent:function(e,t,n,r){var i=e._continuousEvents;i.push({element:n,isAllDay:r,uid:n.attr(u.attr("uid")),start:t.start,end:t.end})},_createEventElement:function(t,n,r,i){var s,o,a=this.eventTemplate,f=this.options.editable,l=this._isMobile(),h=f&&f.destroy!==!1&&!l,p=f&&f.resize!==!1,d=n._time("start"),v=n._time("end"),m=n.start,g=n.end,y=this.eventResources(n);return n._startTime&&(m=new Date(d),m=u.timezone.apply(m,"Etc/UTC")),n.endTime&&(g=new Date(v),g=u.timezone.apply(g,"Etc/UTC")),s=c({},{ns:u.ns,resizable:p,showDelete:h,head:r,tail:i,singleDay:1==this._dates.length,resources:y,inverseColor:y&&y[0]?this._shouldInverseResourceColor(y[0]):!1},n,{start:m,end:g}),o=e(a(s)),this.angular("compile",function(){return{elements:o,data:[{dataItem:s}]}}),o},_arrangeRows:function(e,t,n){var r,i,o,u,a,f,c=t.start.index,h=t.end.index,p=e.slotRange.innerRect(e.start,e.end,!1),d=p.right+this.options.eventMinWidth,v=s(t.events(),p.left,d);for(t.addEvent({slotIndex:c,start:c,end:h,rectLeft:p.left,rectRight:d,element:e.element,uid:e.uid}),v.push({start:c,end:h,uid:e.uid}),r=l.createRows(v),r.length>n.maxRowCount&&(n.maxRowCount=r.length),i=0,o=r.length;o>i;i++)for(u=r[i].events,a=0,f=u.length;f>a;a++)n.events[u[a].uid].rowIndex=i},_groupCount:function(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length-1):1},_updateEventForSelection:function(e){var t=this._adjustEvent(e.clone());return t.occurrence},_eventOptionsForMove:function(e){return e.isAllDay?{isAllDay:!1}:{}},_updateEventForResize:function(e){e.isAllDay&&e.set("isAllDay",!1)},_updateMoveHint:function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d=this.groups[t],v=e.clone({start:e.start,end:e.end}),m=v.duration();for(v.start=new Date(v.start.getTime()+n),v.end=new Date(+v.start+m),r=this._adjustEvent(v),i=d.slotRanges(r.occurrence,!1),this._removeMoveHint(),s=0;i.length>s;s++)o=i[s],u=o.start,a=this._createEventElement(r.occurrence,r.occurrence,!1,!1),a.addClass("k-event-drag-hint"),f=o.innerRect(r.occurrence.start,r.occurrence.end,this.options.snap),l=f.right-f.left-2,0>l&&(l=0),c=this._adjustLeftPosition(f.left),h={left:c,top:u.offsetTop,height:u.offsetHeight-2,width:l},a.css(h),this._moveHint=this._moveHint.add(a);p=this.content,this._moveHint.appendTo(p)},_updateResizeHint:function(e,t,n,r){var i,s,o,a,f,c,h,p,d,v,m=this.groups[t],g=m.ranges(n,r,!1,!1);for(this._removeResizeHint(),i=0;g.length>i;i++)s=g[i],o=s.startSlot(),a=s.innerRect(n,r,!1),a.top=o.offsetTop,f=a.right-a.left,c=o.offsetHeight,h=this._adjustLeftPosition(a.left),p=l.fn._createResizeHint.call(this,h,a.top,f,c),this._resizeHint=this._resizeHint.add(p);d="t",v=this.content,this._resizeHint.appendTo(v),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(u.toString(u.timezone.toLocalDate(n),d)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(u.toString(u.timezone.toLocalDate(r),d))},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_updateDirection:function(e,t,n,r,i){var s=t[0].start,o=t[t.length-1].end;n&&!i&&s.index===o.index&&s.collectionIndex===o.collectionIndex&&(e.backward=r)},_changeGroup:function(e,t){var n=t?"prevGroupSlot":"nextGroupSlot",r=this[n](e.start,e.groupIndex,!1);return r&&(e.groupIndex+=t?-1:1),r},prevGroupSlot:function(e,t,n){var r,i=this.groups[t],s=i.ranges(e,e,n,!1)[0].start;if(!(0>=t))return this._isVerticallyGrouped()?s:(r=i._collection(0,n),r.last())},nextGroupSlot:function(e,t,n){var r,i=this.groups[t],s=i.ranges(e,e,n,!1)[0].start;if(!(t>=this.groups.length-1))return this._isVerticallyGrouped()?s:(r=i._collection(0,n),r.first())},_verticalSlots:function(e,t,n,r){var i=r?"leftSlot":"rightSlot",s=t[0].start,o=t[t.length-1].end,u=this.groups[e.groupIndex];return s=u[i](s),o=u[i](o),n||!this._isVerticallyGrouped()||s&&o||(s=o=this._changeGroup(e,r)),{startSlot:s,endSlot:o}},_horizontalSlots:function(e,t,n,r){var i=r?"upSlot":"downSlot",s=t[0].start,o=t[t.length-1].end,u=this.groups[e.groupIndex];return s=u[i](s),o=u[i](o),n||!this._isHorizontallyGrouped()||s&&o||(s=o=this._changeGroup(e,r)),{startSlot:s,endSlot:o}},_changeViewPeriod:function(e,t){var n,r=t?this.previousDate():this.nextDate(),i=e.start,s=e.end;return e.start=new Date(r),e.end=new Date(r),this._isHorizontallyGrouped()&&(e.groupIndex=t?this.groups.length-1:0),n=s-i,t?(s=d(this.endTime()),s=0===s?v:s,f(e.start,s-n),f(e.end,s)):(i=d(this.startTime()),f(e.start,i),f(e.end,i+n)),e.events=[],!0},move:function(e,t,n){var r,i,s,o,a,f=!1,l=this.groups[e.groupIndex],c=u.keys,h=l.ranges(e.start,e.end,!1,!1);if(t===c.DOWN||t===c.UP)f=!0,s=t===c.UP,this._updateDirection(e,h,n,s,!0),o=this._verticalSlots(e,h,n,s);else if(!(t!==c.LEFT&&t!==c.RIGHT||(f=!0,s=t===c.LEFT,this._updateDirection(e,h,n,s,!1),o=this._horizontalSlots(e,h,n,s),o.startSlot&&o.endSlot||n||!this._changeViewPeriod(e,s,!1))))return f;return f&&(r=o.startSlot,i=o.endSlot,n?(a=e.backward,a&&r?e.start=r.startDate():!a&&i&&(e.end=i.endDate())):r&&i&&(e.start=r.startDate(),e.end=i.endDate()),e.events=[]),f},destroy:function(){var e=this;e.element&&e.element.off(g),e.footer&&e.footer.remove(),e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),l.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&e._addUserEvents.destroy(),e.options.editable.update!==!1&&e._editUserEvents.destroy())}});c(!0,a,{TimelineView:E,TimelineWeekView:E.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var e,t,n=this.options.date,r=u.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),i=[];for(e=0,t=7;t>e;e++)i.push(r),r=u.date.nextDay(r);this._render(i)}}),TimelineWorkWeekView:E.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){return u.date.dayOfWeek(u.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return u.date.previousDay(this.startDate())},calculateDateRange:function(){for(var e=this.options.date,t=u.date.dayOfWeek(e,this.options.workWeekStart,-1),n=u.date.dayOfWeek(t,this.options.workWeekEnd,1),r=[];n>=t;)r.push(t),t=u.date.nextDay(t);this._render(r)}}),TimelineMonthView:E.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:!1,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var e,t,n=this.options.date,r=u.date.firstDayOfMonth(n),i=u.date.lastDayOfMonth(n),s=[];for(e=0,t=i.getDate();t>e;e++)s.push(r),r=u.date.nextDay(r);this._render(s)}})})}(window.kendo.jQuery),function(e,t){function n(e,t){return t=t||"",e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=" | "+e.endTimezone)),t}function r(e,t){var n=t.timezone;n&&(e[_.attr("timezone")]=n)}function i(e,t){var n,r=t.model.fields[t.field].validation;r&&(n=r.dateCompare,n&&$(n)&&n.message&&(e[_.attr("dateCompare-msg")]=n.message))}function s(e,t){return function(n){return n=e(n),u(n,"apply",t),n||[]}}function o(e,t){return function(n){return n&&("[object Array]"===Q.call(n)||n instanceof _.data.ObservableArray||(n=[n])),u(n,"remove",t,!0),n=e(n),n||[]}}function u(e,t,n,r){var i,s,o;for(e=e||[],s=0,o=e.length;o>s;s++)i=e[s],r?i.startTimezone||i.endTimezone?n?(i.start=_.timezone.convert(i.start,i.startTimezone||i.endTimezone,n),i.end=_.timezone.convert(i.end,i.endTimezone||i.startTimezone,n),i.start=_.timezone[t](i.start,n),i.end=_.timezone[t](i.end,n)):(i.start=_.timezone[t](i.start,i.startTimezone||i.endTimezone),i.end=_.timezone[t](i.end,i.endTimezone||i.startTimezone)):n&&(i.start=_.timezone[t](i.start,n),i.end=_.timezone[t](i.end,n)):i.startTimezone||i.endTimezone?(i.start=_.timezone[t](i.start,i.startTimezone||i.endTimezone),i.end=_.timezone[t](i.end,i.endTimezone||i.startTimezone),n&&(i.start=_.timezone.convert(i.start,i.startTimezone||i.endTimezone,n),i.end=_.timezone.convert(i.end,i.endTimezone||i.startTimezone,n))):n&&(i.start=_.timezone[t](i.start,n),i.end=_.timezone[t](i.end,n)),r&&delete i.uid;return e}function a(e,t){for(var n,r=e.length,i=0;r>i;i++)if(n=e[i],n.uid===t)return n}function f(e,t,n){return e=n?_.timezone.convert(e,t,n):_.timezone.remove(e,t)}function l(e){var t,n,r,i,s,o,u,a,l,c,h,p;return e.filter("[name=end]").length&&(t=e.closest(".k-scheduler-edit-form"),n=t.find("[name=start]:visible"),r=t.find("[name=end]:visible"),r[0]&&n[0]&&(o=_.widgetInstance(n,_.ui),u=_.widgetInstance(r,_.ui),a=t.data("kendoEditable"),l=a?a.options.model:null,o&&u?(i=o.value(),s=u.value()):(i=_.parseDate(n.val()),s=_.parseDate(r.val())),i&&s))?(l&&(c=n.attr(_.attr("timezone")),h=l.startTimezone,p=l.endTimezone,h=h||p,p=p||h,h&&(i=f(i,h,c),s=f(s,p,c))),s>=i):!0}function c(e,t,n,r){for(var i=e.length,s=[],o=0;i>o;o++)s=s.concat(e[o].expand(t,n,r));return s}function h(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function p(t){return t=null!=t?t:"",t.type||e.type(t)||"string"}function d(t,n){var r,i,s=(t.fields||t)[n],o=["url","email","number","date","boolean"],u=s?s.validation:{},a=(p(s),_.attr("type")),f=e.inArray,l={};for(r in u)i=u[r],f(r,o)>=0?l[a]=r:_.isFunction(i)||(l[r]=$(i)?i.value||r:i),l[_.attr(r+"-msg")]=i.message;return l}function v(t,n){var r=d(n,t.field);return function(n){e(_.format('<select data-{0}bind="value:{1}">',_.ns,t.field)).appendTo(n).attr(r).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function m(t){var n=d(t.model,t.field);return function(t){e('<textarea name="description" class="k-textbox"/>').attr(n).appendTo(t)}}function g(t,n){var r=d(n,t.field);return function(n){e(_.format('<select data-{0}bind="value:{1}">',_.ns,t.field)).appendTo(n).attr(r).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function y(t,n){var r=d(n,t.field);return function(n){var i,s,o="",u=t.dataSource.view();for(i=0,s=u.length;s>i;i++)o+=_.format('<option value="{0}">{1}</option>',_.getter(t.dataValueField)(u[i]),_.getter(t.dataTextField)(u[i]));e(_.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',_.ns,t.field,o,t.valuePrimitive)).appendTo(n).attr(r)}}function b(e,t){var n,r=e.end.getTime()-e.start.getTime(),i=new Date(e.start.getTime());return _.date.setTime(i,t),n=new Date(i.getTime()),_.date.setTime(n,r,!0),{start:i,end:n}}var w,E,S,x,T,N,C,k,L,A,O,M,_=window.kendo,D=_.date,P=_.support.input,H=D.MS_PER_DAY,B=D.getDate,j=_.date.getMilliseconds,F=_.recurrence,I=_.keys,q=_.ui,R=q.Widget,U=q.DataBoundWidget,z="string",W=q.Popup,X=q.Calendar,V=_.data.DataSource,$=e.isPlainObject,J=e.extend,K=e.proxy,Q=Object.prototype.toString,G=e.isArray,Y=".kendoScheduler",Z="click",et="change",tt="cancel",nt="remove",rt="save",it="add",st="edit",ot=/(?:value:start|value:end)(?:,|$)/,ut=B(new Date),at="recurrenceException",ft="Are you sure you want to delete this event?",lt="Do you want to delete only this event occurrence or the whole series?",ct="Do you want to edit only this event occurrence or the whole series?",ht="Are you sure you want to delete this event occurrence?",pt="Are you sure you want to delete the whole series?",dt='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',vt=_.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),mt=_.template('<div class="k-floatwrap k-header k-scheduler-toolbar"># if (pdf) { #<ul class="k-reset k-scheduler-tools"><li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-pdf"></span>${messages.pdf}</a></li></ul># } #<ul class="k-reset k-scheduler-navigation"><li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div>'),gt=_.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul>#if(viewsCount === 1){#<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh"><span class="k-icon k-i-refresh"></span></a>#}else{#<ul class="k-reset k-header k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul>#}#</div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span><span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),yt=function(t,n){var s={name:n.field},o=P.date?"":_.attr("role")+'="datepicker" ',u=_.attr("role")+'="datetimepicker" ',a=n.model.isAllDay,f=_.attr("validate")+"='"+!a+"'",l=_.attr("validate")+"='"+a+"'";r(s,n),i(s,n),e('<input type="datetime-local" required '+_.attr("type")+'="date" '+u+_.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+f+"/>").attr(s).appendTo(t),e('<input type="date" required '+_.attr("type")+'="date" '+o+_.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+l+"/>").attr(s).appendTo(t),e("<span "+_.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},bt=function(t,n){var s={name:n.field},o=n.model.isAllDay,u=_.attr("validate")+"='"+!o+"' ",a=_.attr("validate")+"='"+o+"' ";r(s,n),i(s,n),e('<input type="text" required '+_.attr("type")+'="date" '+_.attr("role")+'="datetimepicker" '+_.attr("bind")+'="value:'+n.field+',invisible:isAllDay" '+u+"/>").attr(s).appendTo(t),e('<input type="text" required '+_.attr("type")+'="date" '+_.attr("role")+'="datepicker" '+_.attr("bind")+'="value:'+n.field+',visible:isAllDay" '+a+"/>").attr(s).appendTo(t),e("<span "+_.attr("bind")+'="text: '+n.field+'Timezone"></span>').appendTo(t),"end"===n.field&&e("<span "+_.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+_.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},wt=function(t,n){e("<div "+_.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages})},Et=function(t,n){e("<div "+_.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).appendTo(t).kendoMobileRecurrenceEditor({start:n.model.start,timezone:n.timezone,messages:n.messages,pane:n.pane,value:n.model[n.field]})},St=function(t,r){var i=n(r.model,r.messages.noTimezone);e('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+i+"</a>").click(r.click).appendTo(t)},xt=function(t,n){e('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+n.messages.timezoneEditorButton+"</a>").click(n.click).appendTo(t)},Tt=function(t,n){e("<div "+_.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoMobileTimezoneEditor({optionLabel:n.noTimezone})},Nt=function(t,n){e("<div "+_.attr("bind")+'="value:'+n.field+'" />').attr({name:n.field}).toggle(n.visible).appendTo(t).kendoTimezoneEditor({optionLabel:n.noTimezone})},Ct=_.Class.extend({init:function(t,n){var r=t.timezone;this.reader=n,n.model&&(this.model=n.model),this.timezone=r,this.data=s(e.proxy(this.data,this),r),this.serialize=o(e.proxy(this.serialize,this),r)},errors:function(e){return this.reader.errors(e)},parse:function(e){return this.reader.parse(e)},data:function(e){return this.reader.data(e)},total:function(e){return this.reader.total(e)},groups:function(e){return this.reader.groups(e)},aggregates:function(e){return this.reader.aggregates(e)},serialize:function(e){return this.reader.serialize(e)}}),kt=_.data.Model.define({init:function(e){var t=this;_.data.Model.fn.init.call(t,e),t._defaultId=t.defaults[t.idField]},_time:function(e){var t=this[e],n="_"+e+"Time";return this[n]?this[n]-_.date.toUtcTime(_.date.getDate(t)):j(t)},_date:function(e){var t="_"+e+"Time";return this[t]?this[t]-this._time(e):_.date.getDate(this[e])},clone:function(t,n){var r=this.uid,i=new this.constructor(e.extend({},this.toJSON(),t));return n||(i.uid=r),i},duration:function(){var e=this.end,t=this.start,n=(e.getTimezoneOffset()-t.getTimezoneOffset())*_.date.MS_PER_MINUTE;return e-t-n},expand:function(e,t,n){return F?F.expand(this,e,t,n):[this]},update:function(e){for(var t in e)this.set(t,e[t]);this._startTime&&this.set("_startTime",_.date.toUtcTime(this.start)),this._endTime&&this.set("_endTime",_.date.toUtcTime(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=_.date.MS_PER_DAY},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!!this.recurrenceRule||!!this.recurrenceId},isRecurrenceHead:function(){return!!this.id&&!!this.recurrenceRule},toOccurrence:function(t){return t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}),t[this.idField]=this.defaults[this.idField],this.clone(t,!0)},toJSON:function(){var e=_.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e._startTime,delete e._endTime,e},shouldSerialize:function(e){return _.data.Model.fn.shouldSerialize.call(this,e)&&"_defaultId"!==e},set:function(e,t){var n,r,i,s=this.isAllDay||!1;_.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=s&&(n=_.date.getDate(this.start),r=new Date(this.end),i=_.date.getMilliseconds(r),0===i&&t&&(i=H),this.set("start",n),t===!0?(_.date.setTime(r,-i),n>r&&(r=n)):_.date.setTime(r,H-i),this.set("end",r))},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:l}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),Lt=V.extend({init:function(e){V.fn.init.call(this,J(!0,{},{schema:{modelBase:kt,model:kt}},e)),this.reader=new Ct(this.options.schema,this.reader)},expand:function(e,t){var n=this.view(),r={};return e&&t&&(t=new Date(t.getTime()+H-1),r={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+H-1)},{field:"end",operator:"gte",value:e}]}]},n=(new _.data.Query(c(n,e,t,this.reader.timezone))).filter(r).toArray()),n},cancelChanges:function(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),V.fn.cancelChanges.call(this,e)},insert:function(e,t){if(t){if(!(t instanceof kt)){var n=t;t=this._createNewModel(),t.accept(n)}return(!this._pushCreated&&t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),V.fn.insert.call(this,e,t)}},pushCreate:function(e){this._pushCreated=!0,V.fn.pushCreate.call(this,e),this._pushCreated=!1},remove:function(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),V.fn.remove.call(this,e)},_removeExceptions:function(e){for(var t=this.data().slice(0),n=t.shift(),r=e.id;n;)n.recurrenceId===r&&V.fn.remove.call(this,n),n=t.shift();e.set(at,"")},_removeExceptionDate:function(e){var t,n;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(n=e.start,t.set(at,t.recurrenceException.replace(F.toExceptionString(n,this.reader.timezone),""))))},_addExceptionDate:function(e){var t=e.start,n=this.reader.timezone,r=this.get(e.recurrenceId),i=r.recurrenceException||"";F.isException(i,t,n)||r.set(at,i+F.toExceptionString(t,n))}});Lt.create=function(e){(G(e)||e instanceof _.data.ObservableArray)&&(e={data:e});var t=e||{},n=t.data;if(t.data=n,!(t instanceof Lt)&&t instanceof _.data.DataSource)throw Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof Lt?t:new Lt(t)},J(!0,_.data,{SchedulerDataSource:Lt,SchedulerDataReader:Ct,SchedulerEvent:kt}),w={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}},E={mobile:{dateRange:yt,timezonePopUp:St,timezone:Tt,recurrence:Et,description:m,multipleResources:y,resources:v},desktop:{dateRange:bt,timezonePopUp:xt,timezone:Nt,recurrence:wt,description:m,multipleResources:g,resources:v}},S=_.Observable.extend({init:function(e,t){_.Observable.fn.init.call(this),this.element=e,this.options=J(!0,{},this.options,t),this.createButton=this.options.createButton,this.toggleDateValidationHandler=K(this._toggleDateValidation,this)},_toggleDateValidation:function(t){if("isAllDay"==t.field){var n,r,i,s=this.container,o=this.editable.options.model.isAllDay,u=_.attr("bind");s.find("["+u+"*=end],["+u+"*=start]").each(function(){n=e(this),ot.test(n.attr(u))&&(r=n.is("["+_.attr("role")+"=datetimepicker],[type*=datetime]"),i=o!==r,n.attr(_.attr("validate"),i))})}},fields:function(e,t){var n,r,i=this,s=i.options.messages,o=i.options.timezone,u=function(e){e.preventDefault(),i._initTimezoneEditor(t,this)},a=[{field:"title",title:s.editor.title},{field:"start",title:s.editor.start,editor:e.dateRange,timezone:o},{field:"end",title:s.editor.end,editor:e.dateRange,timezone:o},{field:"isAllDay",title:s.editor.allDayEvent}];_.timezone.windows_zones&&(a.push({field:"timezone",title:s.editor.timezone,editor:e.timezonePopUp,click:u,messages:s.editor,model:t}),a.push({field:"startTimezone",title:s.editor.startTimezone,editor:e.timezone,noTimezone:s.editor.noTimezone}),a.push({field:"endTimezone",title:s.editor.endTimezone,editor:e.timezone,noTimezone:s.editor.noTimezone})),t.recurrenceId||a.push({field:"recurrenceRule",title:s.editor.repeat,editor:e.recurrence,timezone:o,messages:s.recurrenceEditor,pane:this.pane}),"description"in t&&a.push({field:"description",title:s.editor.description,editor:e.description({model:t,field:"description"})});for(n=0;this.options.resources.length>n;n++)r=this.options.resources[n],a.push({field:r.field,title:r.title,editor:r.multiple?e.multipleResources(r,t):e.resources(r,t)});return a},end:function(){return this.editable.end()},_buildEditTemplate:function(e,t,n){var r,i,s,o,u=this.options.messages,a=J({},_.Template,this.options.templateSettings),f=a.paramName,l=this.options.editable.template,c="";if(l)typeof l===z&&(l=window.unescape(l)),c+=_.template(l,a)(e);else for(r=0,i=t.length;i>r;r++)s=t[r],"startTimezone"===s.field&&(c+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',c+='<div class="k-edit-form-container">',c+='<div class="k-edit-label"></div>',c+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+u.editor.separateTimezones+"</label></div>"),c+='<div class="k-edit-label"><label for="'+s.field+'">'+(s.title||s.field||"")+"</label></div>",!e.editable||e.editable(s.field)?(n.push(s),c+="<div "+_.attr("container-for")+'="'+s.field+'" class="k-edit-field"></div>'):(o="#:",s.field?(s=_.expr(s.field,f),o+=s+"==null?'':"+s):o+="''",o+="#",o=_.template(o,a),c+='<div class="k-edit-field">'+o(e)+"</div>"),"endTimezone"===s.field&&(c+=this._createEndTimezoneButton());return c},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),x=S.extend({init:function(){S.fn.init.apply(this,arguments),this.pane=_.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=_.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(t){var r,i=this,s=i.pane,o=i.options.messages,u=i.timezoneView,a=i.container.find(".k-scheduler-timezones"),f=a.find(".k-timezone-toggle"),l=a.find(".k-edit-label:last").add(a.find(".k-edit-field:last")),c=function(e){if("startTimezone"===e.field){var n=t.startTimezone;f.prop("disabled",!n),n||(l.hide(),t.set("endTimezone",""),f.prop("checked",!1))}};i._startTimezone=t.startTimezone||"",i._endTimezone=t.endTimezone||"",u||(r='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+o.cancel+"</a>"+o.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+o.save+"</a></div></div>",this.timezoneView=u=s.append(r),u.contentElement().append(a.show()),u.element.on(Z+Y,".k-scheduler-cancel, .k-scheduler-update",function(r){var u,a;r.preventDefault(),r.stopPropagation(),e(this).hasClass("k-scheduler-cancel")&&i._revertTimezones(t),t.unbind("change",c),u=s.element.find("#edit").data("kendoMobileView"),a=n(t,o.editor.noTimezone),u.contentElement().find(".k-timezone-button").text(a),s.navigate(u,i.options.animations.right)}),f.click(function(){l.toggle(f.prop("checked")),t.set("endTimezone","")}),t.bind("change",c)),f.prop("checked",t.endTimezone).prop("disabled",!t.startTimezone),t.endTimezone?l.show():l.hide(),s.navigate(u,i.options.animations.left)},_createActionSheetButton:function(e){return e.template=this._actionSheetButtonTemplate,this.createButton(e)},showDialog:function(t){var n,r,i="",s='<ul><li class="km-actionsheet-title">'+t.title+"</li>",o=this.element.find(".k-event["+_.attr("uid")+"='"+t.model.uid+"']");for(this.container&&(o=this.container.find(".k-scheduler-delete"),o[0]&&(i="phone")),n=0;t.buttons.length>n;n++)s+=this._createActionSheetButton(t.buttons[n]);s+="</ul>",r=e(s).appendTo(this.pane.view().element).kendoMobileActionSheet({type:i,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(n){var i=r.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(e(n.currentTarget));i>-1&&(r.close(),t.buttons[i].click())},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet"),r.open(o)},editEvent:function(t){var n,r,i,s,o,u=this.pane,a="",f=this.options.messages,l=f.save,c=f.destroy,h=f.cancel,p=f.editor.editorTitle;return a+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+_.attr("uid")+'="'+t.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+h+"</a>"+p+'<a href="#" class="k-button k-scheduler-update">'+l+"</a></div>",n=this.fields(E.mobile,t),r=this,i=[],a+=this._buildEditTemplate(t,n,i),!t.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(a+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+c+"</a></div>"),a+="</div>",s=u.append(a),o=this.container=s.element,this.editable=o.kendoEditable({fields:i,model:t,clearContainer:!1,target:r.options.target,validateOnBlur:!0}).data("kendoEditable"),o.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),this.trigger("edit",{container:o,model:t})?this.trigger("cancel",{container:o,model:t}):(o.on(Z+Y,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(n){var i,s;n.preventDefault(),n.stopPropagation(),i=e(this),i.hasClass("k-scheduler-edit")?u.navigate("#edit",r.options.animations.right):(s="cancel",i.hasClass("k-scheduler-update")?s="save":i.hasClass("k-scheduler-delete")&&(s="remove"),r.trigger(s,{container:o,model:t}))}),u.navigate(s,r.options.animations.left),t.bind("change",r.toggleDateValidationHandler)),this.editable},_views:function(){return this.pane.element.find(_.roleSelector("view")).not(this.view.element)},close:function(){var e,t,n,r;if(this.container){for(this.pane.navigate("",this.options.animations.right),e=this._views(),n=0,r=e.length;r>n;n++)t=e.eq(n).data("kendoMobileView"),t&&t.purge();e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind("change",this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),T=S.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(t){var n,r,i,s=this,o=s.options.editable,u="<div "+_.attr("uid")+'="'+t.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',a=s.options.messages,f=a.save,l=a.cancel,c=a.destroy,h=this.fields(E.desktop,t),p=[];return u+=this._buildEditTemplate(t,h,p),r=$(o)?o.window:{},u+='<div class="k-edit-buttons k-state-default">',u+=this.createButton({name:"update",text:f,attr:n})+this.createButton({name:"canceledit",text:l,attr:n}),t.isNew()||o.destroy===!1||(u+=this.createButton({name:"delete",text:c,attr:n})),u+="</div></div></div>",i=this.container=e(u).appendTo(s.element).eq(0).kendoWindow(J({modal:!0,resizable:!1,draggable:!0,title:a.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&s.trigger(tt,{container:i,model:t})&&e.preventDefault()}},r)),s.editable=i.kendoEditable({fields:p,model:t,clearContainer:!1,validateOnBlur:!0,target:s.options.target}).data("kendoEditable"),s.trigger(st,{container:i,model:t})?s.trigger(tt,{container:i,model:t}):(i.data("kendoWindow").center().open(),i.on(Z+Y,"a.k-scheduler-cancel",function(e){e.preventDefault(),e.stopPropagation(),s.trigger(tt,{container:i,model:t})}),i.on(Z+Y,"a.k-scheduler-update",function(e){e.preventDefault(),e.stopPropagation(),s.trigger("save",{container:i,model:t})}),i.on(Z+Y,"a.k-scheduler-delete",function(e){e.preventDefault(),e.stopPropagation(),s.trigger(nt,{container:i,model:t})}),_.cycleForm(i),t.bind("change",s.toggleDateValidationHandler)),s.editable},close:function(){var e=this,t=function(){e.editable&&(e.editable.options.model.unbind("change",e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};e.editable?(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e.container.is(":visible")?e.container.data("kendoWindow").bind("deactivate",t).close():t()):t()},_createEndTimezoneButton:function(){var e=this.options.messages,t="";return t+='<div class="k-edit-buttons k-state-default">',t+=this.createButton({name:"savetimezone",text:e.save})+this.createButton({name:"canceltimezone",text:e.cancel}),t+="</div></div></div>"},showDialog:function(t){var n,r,i,s=_.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text);for(s+='<div class="k-edit-buttons k-state-default">',n=0;t.buttons.length>n;n++)s+=this.createButton(t.buttons[n]);s+="</div></div></div>",r=this.element,this.popup&&this.popup.destroy(),i=this.popup=e(s).appendTo(r).eq(0).on("click",".k-button",function(n){n.preventDefault(),i.close();var r=e(n.currentTarget).index();t.buttons[r].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),r.focus()}}).getKendoWindow(),i.center().open()},_initTimezoneEditor:function(e,t){var n,r=this,i=r.container.find(".k-scheduler-timezones"),s=i.find(".k-timezone-toggle"),o=i.find(".k-edit-label:last").add(i.find(".k-edit-field:last")),u=i.find(".k-scheduler-savetimezone"),a=i.find(".k-scheduler-canceltimezone"),f=r._timezonePopup,l=function(t){if("startTimezone"===t.field){var n=e.startTimezone;s.prop("disabled",!n),n||(o.hide(),e.set("endTimezone",""),s.prop("checked",!1))}};r._startTimezone=e.startTimezone,r._endTimezone=e.endTimezone,f||(r._timezonePopup=f=i.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:r.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(n){e.unbind("change",l),n.userTriggered&&r._revertTimezones(e),t&&t.focus()}}),s.click(function(){o.toggle(s.prop("checked")),e.set("endTimezone","")}),u.click(function(e){e.preventDefault(),n.close()}),a.click(function(t){t.preventDefault(),r._revertTimezones(e),n.close()}),e.bind("change",l)),s.prop("checked",e.endTimezone).prop("disabled",!e.startTimezone),e.endTimezone?o.show():o.hide(),n=f.data("kendoWindow"),n.center().open()}}),N=U.extend({init:function(t,n){var r=this;R.fn.init.call(r,t,n),r.options.views&&r.options.views.length||(r.options.views=["day","week"]),r.resources=[],r._initModel(),r._wrapper(),r._views(),r._toolbar(),r._dataSource(),r._resources(),r._resizeHandler=function(){r.resize()},r.wrapper.on("mousedown"+Y+" selectstart"+Y,function(t){e(t.target).is(":kendoFocusable")||t.preventDefault()}),r.options.editable&&r.options.editable.resize!==!1&&r._resizable(),r._movable(),r._bindResize(),r.options.messages&&r.options.messages.recurrence&&(F.options=r.options.messages.recurrence),r._selectable(),r._ariaId=_.guid(),r._createEditor()},_bindResize:function(){e(window).on("resize"+Y,this._resizeHandler)},_unbindResize:function(){e(window).off("resize"+Y,this._resizeHandler)},dataItems:function(){var n,r,i,s,o,u=this,a=u.items(),f=u._data,l=e.map(a,function(t){return e(t).attr("data-uid")}),c={},h=l.length;for(n=0;h>n;n++)c[l[n]]=null;for(i=f.length,n=0;i>n;n++)s=f[n],c[s.uid]!==t&&(c[s.uid]=s);o=[];for(r in c)o.push(c[r]);return o},_isMobile:function(){var e=this.options;return e.mobile===!0&&_.support.mobileOS||"phone"===e.mobile||"tablet"===e.mobile},_isMobilePhoneView:function(){var e=this.options;return e.mobile===!0&&_.support.mobileOS&&!_.support.mobileOS.tablet||"phone"===e.mobile},_groupsByResource:function(e,t,n,r,i){var s,o,u,a,f,l,c;if(n||(n=[]),s=e[0]){for(u=s.dataSource.view(),a=0,f=0;u.length>f;f++)l=_.getter(s.dataValueField)(u[f]),c=t+a+f,o=this._groupsByResource(e.slice(1),c,n,l,s.field),o[s.field]=l,a=o.groupIndex,i&&r&&(o[i]=r),1===e.length&&(o.groupIndex=t+f,n.push(o));return o}return{}},data:function(){return this._data},select:function(n){var r,i,s,o,u,a,f,l,c,h,p=this,d=p.view(),v=p._selection,m=d.groups;if(n===t)return s=d._selectedSlots,v?(v&&v.events&&(i=p._selectedEvents()),{start:v.start,end:v.end,events:i,slots:s,resources:d._resourceBySlot(v)}):[];if(!n)return p._selection=null,d.clearSelection(),t;if(e.isArray(n)&&(n={events:n.splice(0)}),n.resources){u=[],a=[],d.groupedResources&&p._groupsByResource(d.groupedResources,0,a);for(o in n.resources)u.push({field:o,operator:"eq",value:n.resources[o]});r=(new _.data.Query(a)).filter(u).toArray()}return n.events&&n.events.length?(p._selectEvents(n.events,r),p._select(),t):(m&&n.start&&n.end&&(f=B(d._startDate),l=_.date.addDays(B(d._endDate),1),l>n.start&&n.end>=f&&(c=r&&r.length?m[r[0].groupIndex]:m[0],h=c.ranges(n.start,n.end,n.isAllDay,!1),h.length&&(p._selection={start:_.timezone.toLocalDate(h[0].start.start),end:_.timezone.toLocalDate(h[h.length-1].end.end),groupIndex:h[0].start.groupIndex,index:h[0].start.index,isAllDay:h[0].start.isDaySlot,events:[]},p._select()))),t)},_selectEvents:function(e,t){var n,r,i,s,o,u,a,f,l=this,c=l.view(),h=c.groups,p=e.length,d=t&&t.length;for(n=0;p>n;n++)if(h&&d){for(r=h[t[0].groupIndex],i=[],s=r.timeSlotCollectionCount(),o=r.daySlotCollectionCount(),u=0;s>u;u++)i=i.concat(r.getTimeSlotCollection(u).events());for(a=0;o>a;a++)i=i.concat(r.getDaySlotCollection(a).events());i=(new _.data.Query(i)).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:e[n]}).toArray(),i[0]&&l._createSelection(i[0].element)}else f=c.element.find(_.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",e[n])),f.length&&l._createSelection(f[0])},_selectable:function(){var t,n=this,r=n.wrapper,i=_.support.mobileOS?"touchend":"mousedown";n.options.selectable&&(n._tabindex(),r.on(i+Y,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(e){var t=e.which,i=e.button,s=_.support.browser,o=t&&3===t||i&&2==i;_.support.mobileOS&&e.isDefaultPrevented()||(o||n._createSelection(e.currentTarget),r.focus(),s.msie&&9>s.version&&setTimeout(function(){r.focus()}))}),t=e.proxy(n._mouseMove,n),r.on("mousedown"+Y,".k-scheduler-header-all-day td, .k-scheduler-content td",function(e){var n=e.which,i=e.button,s=n&&3===n||i&&2==i;s||r.on("mousemove"+Y,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),r.on("mouseup"+Y+" mouseleave"+Y,function(){r.off("mousemove"+Y,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),r.on("focus"+Y,function(){n._selection||n._createSelection(n.wrapper.find(".k-scheduler-content").find("td:first")),n._select()}),r.on("focusout"+Y,function(){n.view().clearSelection(),n._ctrlKey=n._shiftKey=!1}),r.on("keydown"+Y,K(n._keydown,n)),r.on("keyup"+Y,function(e){n._ctrlKey=e.ctrlKey,n._shiftKey=e.shiftKey}))},_select:function(){var t,n,r,i,s,o=this,u=o.view(),a=o.wrapper,f=u.current(),l=o._selection;if(f&&(f.removeAttribute("id"),f.removeAttribute("aria-label"),a.removeAttr("aria-activedescendant")),u.select(l),f=u.current(),f&&o._old!==f){if(t=e(f).data("uid"),o._old&&t&&t===e(o._old).data("uid"))return;r=l,i=o._selectedEvents(),s=u._selectedSlots,i[0]?(r=i[0]||l,n=_.format(o.options.messages.ariaEventLabel,r.title,r.start,r.start)):n=_.format(o.options.messages.ariaSlotLabel,r.start,r.end),f.setAttribute("id",o._ariaId),f.setAttribute("aria-label",n),a.attr("aria-activedescendant",o._ariaId),o._old=f,o.trigger("change",{start:l.start,end:l.end,events:i,slots:s,resources:u._resourceBySlot(l)})}},_selectedEvents:function(){for(var e,t=this._selection.events,n=t.length,r=0,i=[];n>r;r++)e=this.occurrenceByUid(t[r]),e&&i.push(e);return i},_mouseMove:function(t){var n=this;clearTimeout(n._moveTimer),n._moveTimer=setTimeout(function(){var r,i,s,o=n.view(),u=n._selection;u&&(r=o.selectionByElement(e(t.currentTarget)),r&&u.groupIndex===r.groupIndex&&(i=r.startDate(),s=r.endDate(),i>=u.end?u.backward=!1:u.start>=s&&(u.backward=!0),u.backward?u.start=i:u.end=s,n._select()))},5)},_viewByIndex:function(e){var t,n=this.views;for(t in n){if(!e)return t;e--}},_keydown:function(t){var n=this,r=t.keyCode,i=n.view(),s=i.options.editable,o=n._selection,u=t.shiftKey;n._ctrlKey=t.ctrlKey,n._shiftKey=t.shiftKey,r===I.TAB?i.moveToEvent(o,u)&&(n._select(),t.preventDefault()):s&&r===I.ENTER?o.events.length?s.update!==!1&&n.editEvent(o.events[0]):s.create!==!1&&(o.isAllDay&&(o=e.extend({},o,{end:_.date.addDays(o.end,-1)})),n.addEvent(J({},o,i._resourceBySlot(o)))):r===I.DELETE&&s!==!1&&s.destroy!==!1?n.removeEvent(o.events[0]):r>=49&&57>=r?n.view(n._viewByIndex(r-49)):i.move(o,r,u)&&(i.inRange(o)?n._select():n.date(o.start),t.preventDefault()),n._adjustSelectedDate()},_createSelection:function(t){var n,r,i;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),t=e(t),i=this._selection,t.is(".k-event")&&(n=t.attr(_.attr("uid"))),r=this.view().selectionByElement(t),r&&(i.groupIndex=r.groupIndex||0),n&&(r=a(this._data,n)),r&&r.uid&&(n=[r.uid]),this._updateSelection(r,n),this._adjustSelectedDate()},_updateSelection:function(e,t){var n,r,i=this._selection;e&&i&&(n=this.view(),e.uid&&(e=n._updateEventForSelection(e)),this._shiftKey&&i.start&&i.end?(r=i.end>e.end,i.end=e.endDate?e.endDate():e.end,r&&n._timeSlotInterval&&_.date.setTime(i.end,-n._timeSlotInterval())):(i.start=e.startDate?e.startDate():e.start,i.end=e.endDate?e.endDate():e.end),i.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,i.index=e.index,i.events=this._ctrlKey?i.events.concat(t||[]):t||[])},options:{name:"Scheduler",date:ut,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",allDaySlot:!0,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:ft},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:!1},events:[nt,st,tt,rt,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var t,n=this;R.fn.destroy.call(n),n.dataSource&&(n.dataSource.unbind(et,n._refreshHandler),n.dataSource.unbind("progress",n._progressHandler),n.dataSource.unbind("error",n._errorHandler)),n.calendar&&(n.calendar.destroy(),n.popup.destroy()),n.view()&&n.view().destroy(),n._editor&&n._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),t=n.element.add(n.wrapper).add(n.toolbar).add(n.popup),t.off(Y),clearTimeout(n._moveTimer),n._model=null,n.toolbar=null,n.element=null,e(window).off("resize"+Y,n._resizeHandler),_.destroy(n.wrapper)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.find(".k-scheduler-content").children(".k-event, .k-task")},_movable:function(){var n,r,i,s,o,u,a,f=this,l=0,c=f._isMobile(),h=f.options.editable&&f.options.editable.move!==!1,p=f.options.editable&&f.options.editable.resize!==!1;(h||p&&c)&&(c&&_.support.mobileOS.android&&(l=5),f._moveDraggable=new _.ui.Draggable(f.element,{distance:l,filter:".k-event",ignore:".k-resize-handle",holdToDrag:c}),h&&f._moveDraggable.bind("dragstart",function(e){var s=f.view(),l=e.currentTarget;return s.options.editable&&s.options.editable.move!==!1?c&&!l.hasClass("k-event-active")?(f.element.find(".k-event-active").removeClass("k-event-active"),e.preventDefault(),t):(o=f.occurrenceByUid(l.attr(_.attr("uid"))),u=o.clone(),u.update(s._eventOptionsForMove(u)),n=s._slotByPosition(e.x.startLocation,e.y.startLocation),i=n.startOffset(e.x.startLocation,e.y.startLocation,f.options.snap),r=n,a=n,(!n||f.trigger("moveStart",{event:o}))&&e.preventDefault(),t):(e.preventDefault(),t)}).bind("drag",function(e){var t,a,l=f.view(),c=l._slotByPosition(e.x.location,e.y.location);c&&(s=c.startOffset(e.x.location,e.y.location,f.options.snap),c.isDaySlot!==n.isDaySlot?(n=l._slotByPosition(e.x.location,e.y.location),i=n.startOffset(e.x.location,e.y.location,f.options.snap),t=s-i,u.isAllDay=c.isDaySlot,u.start=_.timezone.toLocalDate(i),u.end=_.timezone.toLocalDate(s),l._updateMoveHint(u,c.groupIndex,t),a={start:u.start,end:u.end}):(t=s-i,l._updateMoveHint(u,c.groupIndex,t),a=b(u,t)),f.trigger("move",{event:o,slot:{element:c.element,start:c.startDate(),end:c.endDate(),isDaySlot:c.isDaySlot},resources:l._resourceBySlot(c),start:a.start,end:a.end})?l._updateMoveHint(u,c.groupIndex,t):r=c)}).bind("dragend",function(t){var l,c,h,p,d,v,m,g,y;f.view()._removeMoveHint(),l=s-i,c=b(u,l),h=c.start,p=c.end,d=f.view()._resourceBySlot(r),v=f.view()._resourceBySlot(n),m=f.trigger("moveEnd",{event:o,slot:{element:r.element,start:r.startDate(),end:r.endDate()},start:h,end:p,resources:d}),m||o.start.getTime()===h.getTime()&&o.end.getTime()===p.getTime()&&a.isDaySlot===r.isDaySlot&&_.stringify(d)===_.stringify(v)||(g=f.view()._eventOptionsForMove(o),y=a.isDaySlot!==r.isDaySlot?r.isDaySlot?e.extend({start:r.startDate(),end:r.startDate(),isAllDay:r.isDaySlot},g,d):e.extend({isAllDay:r.isDaySlot,start:h,end:p},g,d):e.extend({isAllDay:o.isAllDay,start:h,end:p},g,d),f._updateEvent(null,o,y)),t.currentTarget.removeClass("k-event-active"),this.cancelHold()}).bind("dragcancel",function(){f.view()._removeMoveHint(),this.cancelHold()}),c&&(f._moveDraggable.bind("hold",function(e){f.element.find(".k-scheduler-monthview").length&&e.preventDefault(),f.element.find(".k-event-active").removeClass("k-event-active"),e.currentTarget.addClass("k-event-active")}),f._moveDraggable.userEvents.bind("press",function(e){e.preventDefault()})))},_resizable:function(){function t(e){var t,n={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(t in n)if(e.hasClass(t))return n[t]}var n,r,i,s,o,u=this,a=0;u._isMobile()&&_.support.mobileOS.android&&(a=5),u._resizeDraggable=new _.ui.Draggable(u.element,{distance:a,filter:".k-resize-handle",dragstart:function(t){var a=e(t.currentTarget),f=a.closest(".k-event"),l=f.attr(_.attr("uid")),c=u.view();i=u.occurrenceByUid(l),s=i.clone(),c._updateEventForResize(s),o=c._slotByPosition(t.x.startLocation,t.y.startLocation),u.trigger("resizeStart",{event:i})&&t.preventDefault(),n=_.date.toUtcTime(s.start),r=_.date.toUtcTime(s.end)},drag:function(a){var f,l,c,h,p,d;o&&(f=e(a.currentTarget),l=t(f),c=u.view(),h=c._slotByPosition(a.x.location,a.y.location),h&&o.groupIndex==h.groupIndex&&(o=h,p=n,d=r,"south"==l?!o.isDaySlot&&o.end-_.date.toUtcTime(s.start)>=c._timeSlotInterval()&&(r=s.isAllDay?o.startOffset(a.x.location,a.y.location,u.options.snap):o.endOffset(a.x.location,a.y.location,u.options.snap)):"north"==l?!o.isDaySlot&&_.date.toUtcTime(s.end)-o.start>=c._timeSlotInterval()&&(n=o.startOffset(a.x.location,a.y.location,u.options.snap)):"east"==l?o.isDaySlot&&_.date.toUtcTime(_.date.getDate(o.endDate()))>=_.date.toUtcTime(_.date.getDate(s.start))?r=s.isAllDay?o.startOffset(a.x.location,a.y.location,u.options.snap):o.endOffset(a.x.location,a.y.location,u.options.snap):!o.isDaySlot&&o.end-_.date.toUtcTime(s.start)>=c._timeSlotInterval()&&(r=o.endOffset(a.x.location,a.y.location,u.options.snap)):"west"==l&&(o.isDaySlot&&_.date.toUtcTime(_.date.getDate(s.end))>=_.date.toUtcTime(_.date.getDate(o.startDate()))?n=o.startOffset(a.x.location,a.y.location,u.options.snap):!o.isDaySlot&&_.date.toUtcTime(s.end)-o.start>=c._timeSlotInterval()&&(n=o.startOffset(a.x.location,a.y.location,u.options.snap))),u.trigger("resize",{event:i,slot:{element:o.element,start:o.startDate(),end:o.endDate()},start:_.timezone.toLocalDate(n),end:_.timezone.toLocalDate(r),resources:c._resourceBySlot(o)})?(n=p,r=d):c._updateResizeHint(s,o.groupIndex,n,r)))},dragend:function(a){var f,l=e(a.currentTarget),c=new Date(s.start.getTime()),h=new Date(s.end.getTime()),p=t(l);u.view()._removeResizeHint(),"south"==p?h=_.timezone.toLocalDate(r):"north"==p?c=_.timezone.toLocalDate(n):"east"==p?h=o.isDaySlot?_.date.getDate(_.timezone.toLocalDate(r)):_.timezone.toLocalDate(r):"west"==p&&(o.isDaySlot?(c=new Date(_.timezone.toLocalDate(n)),c.setHours(0),c.setMinutes(0)):c=_.timezone.toLocalDate(n)),f=u.trigger("resizeEnd",{event:i,slot:{element:o.element,start:o.startDate(),end:o.endDate()},start:c,end:h,resources:u.view()._resourceBySlot(o)}),!f&&h.getTime()>=c.getTime()&&(s.start.getTime()!=c.getTime()||s.end.getTime()!=h.getTime())&&(u.view()._updateEventForResize(i),u._updateEvent(p,i,{start:c,end:h})),o=null,i=null},dragcancel:function(){u.view()._removeResizeHint(),o=null,i=null}})},_updateEvent:function(e,t,n){var r,i=this,s=function(e,t){try{i._preventRefresh=!0,e.update(n),i._convertDates(e)}finally{i._preventRefresh=!1}i.trigger(rt,{event:e})||(t&&t(),i._updateSelection(e),i.dataSource.sync())},o=function(e){return e.recurrenceRule?i.dataSource.getByUid(e.uid):i.dataSource.get(e.recurrenceId)},u=function(){var r,u,a=o(t);("south"==e||"north"==e)&&(n.start&&(r=_.date.getDate(a.start),_.date.setTime(r,j(n.start)),n.start=r),n.end&&(u=_.date.getDate(a.end),_.date.setTime(u,j(n.end)),n.end=u)),i.dataSource._removeExceptions(a),s(a)},a=function(){var e=o(t),n=function(){i._convertDates(e)},r=e.toOccurrence({start:t.start,end:t.end});s(i.dataSource.add(r),n)};t.recurrenceRule||t.isOccurrence()?(r=i.options.messages.recurrenceMessages,i._showRecurringDialog(t,a,u,{title:r.editWindowTitle,text:r.editRecurring?r.editRecurring:ct,occurrenceText:r.editWindowOccurrence,seriesText:r.editWindowSeries})):s(i.dataSource.getByUid(t.uid))},_modelForContainer:function(t){return t=e(t).closest("["+_.attr("uid")+"]"),this.dataSource.getByUid(t.attr(_.attr("uid")))},showDialog:function(e){this._editor.showDialog(e)},focus:function(){this.wrapper.focus()},_confirmation:function(e,t){var n,r,i,s,o,u=this.options.editable;u===!0||u.confirmation!==!1?(n=this.options.messages,r=n.deleteWindowTitle,i=typeof u.confirmation===z?u.confirmation:n.editable.confirmation,this._isEditorOpened()&&t.isRecurring()&&(s=this.options.messages.recurrenceMessages,r=s.deleteWindowTitle,i=t.isException()?s.deleteRecurringConfirmation?s.deleteRecurringConfirmation:ht:s.deleteSeriesConfirmation?s.deleteSeriesConfirmation:pt),o=[{name:"destroy",text:n.destroy,click:function(){e()}}],this._isMobile()&&_.mobile.ui.Pane||o.push({name:"canceledit",text:n.cancel,click:function(){e(!0)}}),this._unbindResize(),this.showDialog({model:t,text:i,title:r,buttons:o}),this._bindResize()):e()},addEvent:function(e){var t,n,r=this._editor.editable,i=this.dataSource;e=e||{},n=this.trigger("add",{event:e}),!n&&(r&&r.end()||!r)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=i.add(e),t&&(this.cancelEvent(),this._editEvent(t)))},saveEvent:function(){var e,t,n,r=this._editor;r&&(e=r.editable,t=r.container,n=this._modelForContainer(t),t&&e&&e.end()&&!this.trigger(rt,{container:t,event:n})&&(n.isRecurrenceHead()&&this.dataSource._removeExceptions(n),n.dirty||n.isOccurrence()||this._convertDates(n,"remove"),this.dataSource.sync()))},cancelEvent:function(){var e,t=this._editor,n=t.container;n&&(e=this._modelForContainer(n),e&&e.isOccurrence()&&(this._convertDates(e,"remove"),this._convertDates(this.dataSource.get(e.recurrenceId),"remove")),this.dataSource.cancelChanges(e),t.close())},editEvent:function(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t))},_editEvent:function(e){this._unbindResize(),this._createPopupEditor(e),this._bindResize()},_editRecurringDialog:function(e){var t=this,n=function(){e.isException()?t._editEvent(e):t.addEvent(e)},r=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)},i=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,n,r,{title:i.editWindowTitle,text:i.editRecurring?i.editRecurring:ct,occurrenceText:i.editWindowOccurrence,seriesText:i.editWindowSeries})},_showRecurringDialog:function(e,t,n,r){var i=this,s=i.options.editable,o=$(s)?s.editRecurringMode:"dialog";"series"===o?n():"occurrence"===o?t():(this._unbindResize(),i.showDialog({model:e,title:r.title,text:r.text,buttons:[{text:r.occurrenceText,click:t},{text:r.seriesText,click:n}]}),this._bindResize())},_createButton:function(e){var t=e.template||dt,n=typeof e===z?e:e.name||e.text,r={className:"k-scheduler-"+(n||"").replace(/\s/g,""),text:n,attr:""};if(!(n||$(e)&&e.template))throw Error("Custom commands should have name specified");return $(e)?(e.className&&(e.className+=" "+r.className),"edit"===n&&$(e.text)&&(e=J(!0,{},e),e.text=e.text.edit),r=J(!0,r,w[n],e)):r=J(!0,r,w[n]),_.template(t)(r)},_convertDates:function(e,t){var n=this.dataSource.reader.timezone,r=e.startTimezone,i=e.endTimezone,s=e.start,o=e.start;t=t||"apply",r=r||i,i=i||r,r&&(n?"apply"===t?(s=_.timezone.convert(e.start,n,r),o=_.timezone.convert(e.end,n,i)):(s=_.timezone.convert(e.start,r,n),o=_.timezone.convert(e.end,i,n)):(s=_.timezone[t](e.start,r),o=_.timezone[t](e.end,i)),e._set("start",s),e._set("end",o))},_createEditor:function(){var e,n=this;e=n._editor=this._isMobile()&&_.mobile.ui.Pane?new x(this.wrapper,J({},this.options,{target:this,timezone:n.dataSource.reader.timezone,resources:n.resources,createButton:K(this._createButton,this)})):new T(this.wrapper,J({},this.options,{target:this,createButton:K(this._createButton,this),timezone:n.dataSource.reader.timezone,resources:n.resources})),e.bind("cancel",function(e){return n.trigger("cancel",{container:e.container,event:e.model})?(e.preventDefault(),t):(n.cancelEvent(),n.focus(),t)}),e.bind("edit",function(e){n.trigger(st,{container:e.container,event:e.model})&&e.preventDefault()}),e.bind("save",function(){n.saveEvent()}),e.bind("remove",function(e){n.removeEvent(e.model)})},_createPopupEditor:function(e){var t=this._editor;(!e.isNew()||e.isOccurrence())&&(e.isOccurrence()&&this._convertDates(e.recurrenceId?this.dataSource.get(e.recurrenceId):e),this._convertDates(e)),this.editable=t.editEvent(e)},removeEvent:function(e){var t=this,n="string"==typeof e?t.occurrenceByUid(e):e;n&&(n.isRecurring()?t._deleteRecurringDialog(n):t._confirmation(function(e){e||t._removeEvent(n)},n))},occurrenceByUid:function(e){var t=this.dataSource.getByUid(e);return t||(t=a(this._data,e)),t},occurrencesInRange:function(e,t){return(new _.data.Query(this._data)).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray()},_removeEvent:function(e){this.trigger(nt,{event:e})||this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialog:function(e){var t,n,r,i,s,o=this,u=e,a=o.options.editable,f=$(a)?a.editRecurringMode:"dialog",l=function(){var e=u.recurrenceId?u:u.toOccurrence(),t=o.dataSource.get(e.recurrenceId);o._convertDates(t),o._removeEvent(e)},c=function(){u.recurrenceId&&(u=o.dataSource.get(u.recurrenceId)),o._removeEvent(u)};("dialog"!=f||o._isEditorOpened())&&(t=function(){o._confirmation(function(e){e||l()},u)},n=function(){o._confirmation(function(e){e||c()},u)}),r=n||c,i=t||l,o._isEditorOpened()?e.isException()?i():r():(s=o.options.messages.recurrenceMessages,o._showRecurringDialog(e,i,r,{title:s.deleteWindowTitle,text:s.deleteRecurring?s.deleteRecurring:lt,occurrenceText:s.deleteWindowOccurrence,seriesText:s.deleteWindowSeries}))},_isEditorOpened:function(){return!!this._editor.container},_unbindView:function(e){var t=this;t.angular("cleanup",function(){return{elements:t.items()}}),e.destroy()},_bindView:function(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(nt,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid)},e.bind(nt,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(it,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo)},e.bind(it,this._viewAddHandler),t._viewEditHandler&&e.unbind(st,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid)},e.bind(st,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind("navigate",t._viewNavigateHandler),t._viewNavigateHandler=function(e){var n,r;e.view&&(n="isWorkDay"in e,r=n?"changeWorkDay":"changeView",t.trigger("navigate",{view:e.view,isWorkDay:e.isWorkDay,action:r,date:e.date})||(n&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)))},e.bind("navigate",t._viewNavigateHandler),t._viewActivateHandler&&e.unbind("activate",t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate())},e.bind("activate",t._viewActivateHandler)},_selectView:function(e){var t,n,r,i=this;e&&i.views[e]&&(i._selectedView&&i._unbindView(i._selectedView),i._selectedView=i._renderView(e),i._selectedViewName=e,i._viewsCount>1&&(t=vt({views:i.views,view:e,ns:_.ns}),n=i.toolbar.find(".k-scheduler-views li:first-child"),n.is(".k-current-view")?n.replaceWith(t):i.toolbar.find(".k-scheduler-views").prepend(t),r=i.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected"),r.end().find(".k-view-"+e.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")))},view:function(e){var n=this;return e?(n._selectView(e),n.rebind(),t):n._selectedView},viewName:function(){return this.view().name},_renderView:function(e){var t=this._initializeView(e);return this._bindView(t),this._model.set("formattedDate",t.dateForTitle()),this._model.set("formattedShortDate",t.shortDateForTitle()),t},resize:function(e){var t=this.getSize(),n=this._size,r=this.view();r&&r.groups&&(e||!n||t.width!==n.width||t.height!==n.height)&&(this.refresh({action:"resize"}),this._size=t)},_adjustSelectedDate:function(){var e=this._model.selectedDate,t=this._selection,n=t.start;n&&!_.date.isInDateRange(e,B(n),B(t.end))&&e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())},_initializeView:function(e){var t,n,r=this.views[e];if(r){if(t=$(r),n=r.type,typeof n===z&&(n=_.getter(r.type)(window)),!n)throw Error("There is no such view");r=new n(this.wrapper,h(J(!0,{},this.options,t?r:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}return r},_views:function(){var e,t,n,r,i,s,o,u,a,f=this.options.views;for(this.views={},this._viewsCount=0,o=0,u=f.length;u>o;o++)a=!1,e=f[o],r=$(e),r?(s=i=e.type?e.type:e,typeof s!==z&&(i=e.title,a=!0)):s=i=e,t=C[i],t&&!a&&(e.type=t.type,t.title=this.options.messages.views[i],"day"===t.type?t.messages={allDay:this.options.messages.allDay}:"agenda"===t.type&&(t.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),e=J({title:i},t,r?e:{}),i&&(this.views[i]=e,this._viewsCount++,(!n||e.selected)&&(n=i));n&&(this._selectedViewName=n)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var e=this,t=e.options,n=t.dataSource;n=G(n)?{data:n}:n,!t.timezone||n instanceof Lt?n instanceof Lt&&(t.timezone=n.options.schema?n.options.schema.timezone:""):n=J(!0,n,{schema:{timezone:t.timezone}}),e.dataSource&&e._refreshHandler?e.dataSource.unbind(et,e._refreshHandler).unbind("progress",e._progressHandler).unbind("error",e._errorHandler):(e._refreshHandler=K(e.refresh,e),e._progressHandler=K(e._requestStart,e),e._errorHandler=K(e._error,e)),e.dataSource=_.data.SchedulerDataSource.create(n).bind(et,e._refreshHandler).bind("progress",e._progressHandler).bind("error",e._errorHandler),e.options.dataSource=e.dataSource},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(e){var t=this.element.find(".k-scheduler-content");_.ui.progress(t,e)},_resources:function(){var t,n,r,i,s,o=this,u=o.options.resources;for(t=0;u.length>t;t++){if(n=u[t],r=n.field,i=n.dataSource,!r||!i)throw Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');o.resources.push({field:r,name:n.name||r,title:n.title||r,dataTextField:n.dataTextField||"text",dataValueField:n.dataValueField||"value",dataColorField:n.dataColorField||"color",valuePrimitive:null!=n.valuePrimitive?n.valuePrimitive:!0,multiple:n.multiple||!1,dataSource:_.data.DataSource.create(i)})}s=e.map(o.resources,function(e){return e.dataSource.fetch()}),e.when.apply(null,s).then(function(){o.options.autoBind?o.view(o._selectedViewName):o._selectView(o._selectedViewName)})},_initModel:function(){var e=this;e._model=_.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""}),e._model.bind("change",function(t){"selectedDate"===t.field&&e.view(e._selectedViewName)})},_wrapper:function(){var e=this,t=e.options,n=t.height,r=t.width;e.wrapper=e.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),e._isMobile()&&e.wrapper.addClass("k-scheduler-mobile"),e._isMobilePhoneView()&&e.wrapper.addClass("k-scheduler-phone"),n&&e.wrapper.height(n),r&&e.wrapper.width(r)},date:function(e){return null!=e&&B(e)>=B(this.options.min)&&B(e)<=B(this.options.max)&&this._model.set("selectedDate",e),B(this._model.get("selectedDate"))},_toolbar:function(){var n,r,i=this,s=i.options,o=[];s.toolbar&&(o=e.isArray(s.toolbar)?s.toolbar:[s.toolbar]),n=this._isMobilePhoneView()?gt:mt,r=e(n({messages:s.messages,pdf:e.grep(o,function(e){return"pdf"==e||"pdf"==e.name}).length>0,ns:_.ns,views:i.views,viewsCount:i._viewsCount})),i.wrapper.append(r),i.toolbar=r,_.bind(i.toolbar,i._model),r.on(Z+Y,".k-pdf",function(e){e.preventDefault(),i.saveAsPDF()}),r.on(Z+Y,".k-scheduler-navigation li",function(n){var r=e(this),s=new Date(i.date()),o="";if(n.preventDefault(),r.hasClass("k-nav-today"))o="today",s=new Date;else if(r.hasClass("k-nav-next"))o="next",s=i.view().nextDate();else if(r.hasClass("k-nav-prev"))o="previous",s=i.view().previousDate();else if(r.hasClass("k-nav-current")&&!i._isMobilePhoneView())return i._showCalendar(),t;i.trigger("navigate",{view:i._selectedViewName,action:o,date:s})||i.date(s)}),r.on(Z+Y,".k-scheduler-views li, .k-scheduler-refresh",function(t){t.preventDefault();var n=e(this).attr(_.attr("name"));i.trigger("navigate",{view:n,action:"changeView",date:i.date()})||(i.view(n),i.element.find(".k-state-expanded").removeClass("k-state-expanded"))}),r.on(Z+Y,".k-scheduler-views li.k-current-view",function(){i.element.find(".k-scheduler-views").toggleClass("k-state-expanded")}),r.find("li").hover(function(){e(this).addClass("k-state-hover")},function(){e(this).removeClass("k-state-hover")})},_showCalendar:function(){var t=this,n=t.toolbar.find(".k-nav-current"),r=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');t.popup||(t.popup=new W(r,{anchor:n,activate:function(){t.calendar||(t.calendar=new X(this.element.find(".k-scheduler-calendar"),{change:function(){var e=this.value();t.trigger("navigate",{view:t._selectedViewName,action:"changeDate",date:e})||(t.date(e),t.popup.close())},min:t.options.min,max:t.options.max})),t.calendar.value(t.date())},copyAnchorStyles:!1})),t.popup.open()},refresh:function(e){var t=this,n=this.view();this._progress(!1),this.angular("cleanup",function(){return{elements:t.items()}}),e=e||{},n&&(e&&"itemchange"===e.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})||(e&&"resize"===e.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(n.startDate(),n.endDate()),n.render(this._data),this.trigger("dataBound")))},slotByPosition:function(e,t){var n,r=this.view();return r._slotByPosition?(n=r._slotByPosition(e,t),n?{startDate:n.startDate(),endDate:n.endDate(),groupIndex:n.groupIndex,element:n.element,isDaySlot:n.isDaySlot}:null):null},slotByElement:function(t){var n=e(t).offset();return this.slotByPosition(n.left,n.top)},resourcesBySlot:function(e){return this.view()._resourceBySlot(e)}}),C={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}},q.plugin(N),_.PDFMixin&&(_.PDFMixin.extend(N.prototype),k="k-scheduler-pdf-export",N.fn._drawPDF=function(t){var n,r,i=this.wrapper,s=i[0].style.cssText;return i.css({width:i.width(),height:i.height()}),i.addClass(k),this.resize(!0),n=this,r=new e.Deferred,this._drawPDFShadow().done(function(e){var n={page:e,pageNumber:1,progress:1,totalPages:1};t.notify(n),r.resolve(n.page)}).fail(function(e){r.reject(e)}).always(function(){i[0].style.cssText=s,i.removeClass(k),n.resize(!0)}),r}),L=R.extend({init:function(e,t){var n=this,r=_.timezone.windows_zones;if(!r||!_.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");R.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new _.data.Query(r),n._zoneTitleId=_.guid(),n._zoneTitlePicker(),n._zonePicker(),n._zoneTitle.bind("cascade",function(){this.value()||n._zone.wrapper.hide()}),n._zone.bind("cascade",function(){n._value=this.value(),n.trigger("change")}),n.value(n.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var t=this,n=e('<input id="'+t._zoneTitleId+'"/>').appendTo(t.wrapper);t._zoneTitle=new _.ui.DropDownList(n,{dataSource:_.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:t.options.optionLabel})},_zonePicker:function(){var t=this,n=e("<input />").appendTo(this.wrapper);t._zone=new _.ui.DropDownList(n,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,dataBound:function(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),t._zone.wrapper.hide()},destroy:function(){R.fn.destroy.call(this),_.destroy(this.wrapper)},value:function(e){var n,r=this;return e===t?r._value:(n=r._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n?(r._zoneTitle.value(n.other_zone),r._zone.value(n.zone)):r._zoneTitle.select(0),t)}}),q.plugin(L),A=_.template('<option value="#=other_zone#">#=name#</option>'),O=_.template('<option value="#=zone#">#=territory#</option>'),M=R.extend({init:function(e,t){var n=this,r=_.timezone.windows_zones;if(!r||!_.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");R.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new _.data.Query(r),n._zoneTitlePicker(),n._zonePicker(),n.value(n.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(e){var t=e?this._filter(e):[];this._zone.html(this._options(t,O))},_filter:function(e){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:e}).data},_options:function(e,t,n){var r=0,i="",s=e.length;for(n&&(i+=t({other_zone:"",name:n}));s>r;r++)i+=t(e[r]);return i},_zoneTitlePicker:function(){var t=this,n=t._options(_.timezone.zones_titles,A,t.options.optionLabel);t._zoneTitle=e("<select>"+n+"</select>").appendTo(t.wrapper).change(function(){var e=this.value,n=t._zone;t._bindZones(e),e&&n[0].children.length>1?n.show():n.hide(),t._value=n[0].value,t.trigger("change")})},_zonePicker:function(){var t=this;t._zone=e('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){t._value=this.value,t.trigger("change")}),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value},destroy:function(){R.fn.destroy.call(this),_.destroy(this.wrapper)},value:function(e){var n,r=this,i=r._zone,s="",o="";return e===t?r._value:(n=r._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],n&&(o=n.zone,s=n.other_zone),r._zoneTitle.val(s),r._bindZones(s),i.val(o),o=i[0].value,o&&i[0].children.length>1?i.show():i.hide(),r._value=o,t)}}),q.plugin(M)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.Widget,r=e.proxy,i=Math.abs,s=20,o=n.extend({init:function(e,i){function s(e){return function(t){u._triggerTouch(e,t)}}function o(e){return function(t){u.trigger(e,{touches:t.touches,distance:t.distance,center:t.center,event:t.event})}}var u=this;n.fn.init.call(u,e,i),i=u.options,e=u.element,u.wrapper=e,u.events=new t.UserEvents(e,{filter:i.filter,surface:i.surface,minHold:i.minHold,multiTouch:i.multiTouch,allowSelection:!0,press:s("touchstart"),hold:s("hold"),tap:r(u,"_tap"),gesturestart:o("gesturestart"),gesturechange:o("gesturechange"),gestureend:o("gestureend")}),i.enableSwipe?(u.events.bind("start",r(u,"_swipestart")),u.events.bind("move",r(u,"_swipemove"))):(u.events.bind("start",r(u,"_dragstart")),u.events.bind("move",s("drag")),u.events.bind("end",s("dragend"))),t.notify(u)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(e,t){this.trigger(e,{touch:t.touch,event:t.event})&&t.preventDefault()},_tap:function(e){var n=this,r=n.lastTap,i=e.touch;r&&n.options.doubleTapTimeout>i.endTime-r.endTime&&t.touchDelta(i,r).distance<s?(n._triggerTouch("doubletap",e),n.lastTap=null):(n._triggerTouch("tap",e),n.lastTap=i)},_dragstart:function(e){this._triggerTouch("dragstart",e)},_swipestart:function(e){2*i(e.x.velocity)>=i(e.y.velocity)&&e.sender.capture()},_swipemove:function(e){var t=this,n=t.options,r=e.touch,s=e.event.timeStamp-r.startTime,o=r.x.initialDelta>0?"right":"left";i(r.x.initialDelta)>=n.minXDelta&&i(r.y.initialDelta)<n.maxYDelta&&n.maxDuration>s&&(t.trigger("swipe",{direction:o,touch:e.touch}),r.cancel())}});t.ui.plugin(o)}(window.kendo.jQuery),function(e){function t(e){var t,n,r=[],i=e.className;for(t=0,n=e.level;n>t;t++)r.push(s("span",{className:i}));return r}function n(){var t=r._activeElement();"body"!==t.nodeName.toLowerCase()&&e(t).blur()}var r=window.kendo,i=r.dom,s=i.element,o=i.text,u=r.support.browser,a=r.support.mobileOS,f=r.ui,l=f.Widget,c=e.extend,h=e.map,p=e.isFunction,d=u.msie&&9>u.version,v=r.keys,m={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"},g="string",y=".kendoGanttList",b="click",w=".",E={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",link:"k-link",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},S=f.GanttList=l.extend({init:function(e,t){l.fn.init.call(this,e,t),0===this.options.columns.length&&this.options.columns.push("title"),this.dataSource=this.options.dataSource,this._columns(),this._layout(),this._domTrees(),this._header(),this._sortable(),this._editable(),this._selectable(),this._draggable(),this._attachEvents(),this._adjustHeight()},_adjustHeight:function(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroy:function(){l.fn.destroy.call(this),this._reorderDraggable&&this._reorderDraggable.destroy(),this._tableDropArea&&this._tableDropArea.destroy(),this._contentDropArea&&this._contentDropArea.destroy(),this.touch&&this.touch.destroy(),this.timer&&clearTimeout(this.timer),this.content.off(y),this.header.find(w+S.link).off(y),this.header=null,this.content=null,this.levels=null,r.destroy(this.element)},options:{name:"GanttList",selectable:!0,editable:!0},_attachEvents:function(){var t=this,n=S.styles;t.content.on(b+y,"td > span."+n.icon+":not(."+n.iconHidden+")",function(n){var r=e(this),i=t._modelFromElement(r);i.set("expanded",!i.get("expanded")),n.stopPropagation()})},_domTrees:function(){this.headerTree=new i.Tree(this.header[0]),this.contentTree=new i.Tree(this.content[0])},_columns:function(){var e=this.options.columns,t=function(){this.field="",this.title="",this.editable=!1,this.sortable=!1};this.columns=h(e,function(e){return e="string"==typeof e?{field:e,title:m[e]}:e,c(new t,e)})},_layout:function(){var e=this.element,t=S.styles;e.addClass(t.wrapper).append("<div class='"+t.gridHeader+"'><div class='"+t.gridHeaderWrap+"'></div></div>").append("<div class='"+t.gridContentWrap+"'></div>"),this.header=e.find(w+t.gridHeaderWrap),this.content=e.find(w+t.gridContent)},_header:function(){var e=this.headerTree,t=s("colgroup",null,this._cols()),n=s("thead",{role:"rowgroup"},[s("tr",{role:"row"},this._ths())]),r=s("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[t,n]);e.render([r])},_render:function(e){var t,n,r;this.levels=[{field:null,value:0}],t=s("colgroup",null,this._cols()),n=s("tbody",{role:"rowgroup"},this._trs(e)),r=s("table",{style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"},[t,n]),this.contentTree.render([r]),this.trigger("render")},_ths:function(){var e,t,n,r,i=this.columns,u=[];for(n=0,r=i.length;r>n;n++)e=i[n],t={"data-field":e.field,"data-title":e.title,className:S.styles.header,role:"columnheader"},u.push(s("th",t,[o(e.title)]));return u},_cols:function(){var e,t,n,r,i,o=this.columns,u=[];for(r=0,i=o.length;i>r;r++)e=o[r],n=e.width,t=n&&0!==parseInt(n,10)?{style:{width:typeof n===g?n:n+"px"}}:null,u.push(s("col",t,[]));return u},_trs:function(e){var t,n,r,i,s,o=[],u=[],a=S.styles;for(i=0,s=e.length;s>i;i++)t=e[i],r=this._levels({idx:t.parentId,id:t.id,summary:t.summary}),n={"data-uid":t.uid,"data-level":r,role:"row"},t.summary&&(n["aria-expanded"]=t.expanded),i%2!==0&&u.push(a.alt),t.summary&&u.push(a.group),u.length&&(n.className=u.join(" ")),o.push(this._tds({task:t,attr:n,level:r})),u=[];return o},_tds:function(e){var t,n,r,i=[],o=this.columns;for(n=0,r=o.length;r>n;n++)t=o[n],i.push(this._td({task:e.task,column:t,level:e.level}));return s("tr",e.attr,i)},_td:function(e){var n,i,u,a=[],f=this.options.resourcesField,l=S.styles,c=e.task,h=e.column,p=c.get(h.field)||[];if(h.field==f){for(n=[],i=0;p.length>i;i++)n.push(r.format("{0} [{1}]",p[i].get("name"),p[i].get("formatedValue")));n=n.join(", ")}else n=h.format?r.format(h.format,p):p;return"title"===h.field&&(a=t({level:e.level,className:l.iconPlaceHolder}),a.push(s("span",{className:l.icon+" "+(c.summary?c.expanded?l.iconCollapse:l.iconExpand:l.iconHidden)})),u=r.format("{0}, {1:P0}",n,c.percentComplete)),a.push(s("span",{"aria-label":u},[o(n)])),s("td",{role:"gridcell"},a)},_levels:function(e){var t,n,r,i=this.levels,s=e.summary,o=e.idx,u=e.id;for(n=0,r=i.length;r>n;n++)if(t=i[n],t.field==o)return s&&i.push({field:u,value:t.value+1}),t.value},_sortable:function(){var e,t,n,i,s,o=this,u=this.options.resourcesField,a=this.columns,f=this.header.find("th"),l=function(e){o.editable&&o.editable.trigger("validate")&&(e.preventDefault(),e.stopImmediatePropagation())};for(i=0,s=f.length;s>i;i++)e=a[i],e.sortable&&e.field!==u&&(n=f.eq(i),t=n.data("kendoColumnSorter"),t&&t.destroy(),n.attr("data-"+r.ns+"field",e.field).kendoColumnSorter({dataSource:this.dataSource}).find(w+S.link).on("click"+y,l));f=null},_selectable:function(){var t=this,n=this.options.selectable;n&&this.content.on(b+y,"tr",function(n){var r=e(this);t.editable&&t.editable.trigger("validate"),n.ctrlKey?t.clearSelection():t.select(r)})},select:function(e){var t=this.content.find(e),n=S.styles.selected;return t.length?(t.siblings(w+n).removeClass(n).attr("aria-selected",!1).end().addClass(n).attr("aria-selected",!0),void this.trigger("change")):this.content.find(w+n)},clearSelection:function(){var e=this.select();e.length&&(e.removeClass(S.styles.selected),this.trigger("change"))},_setDataSource:function(e){this.dataSource=e},_editable:function(){var t=this,r=S.styles,i="span."+r.icon+":not("+r.iconHidden+")",s=function(){var e=t.editable;e&&(e.end()?t._closeCell():e.trigger("validate"))},o=function(t){var i=e(t.currentTarget);i.hasClass(r.editCell)||n()};this.options.editable&&(this._startEditHandler=function(n){var r=n.currentTarget?e(n.currentTarget):n,i=t._columnFromElement(r);t.editable||i.editable&&t._editCell({cell:r,column:i})},t.content.on("focusin"+y,function(){clearTimeout(t.timer),t.timer=null}).on("focusout"+y,function(){t.timer=setTimeout(s,1)}).on("keyup"+y,function(e){var r,i,o=e.keyCode;switch(o){case v.ENTER:n(),s();break;case v.ESC:t.editable&&(r=t._editableContainer,i=t._modelFromElement(r),t.trigger("cancel",{model:i,cell:r})||t._closeCell(!0))}}),a?t.touch=t.content.kendoTouch({filter:"td",touchstart:function(e){o(e.touch)},doubletap:function(n){e(n.touch.initialTouch).is(i)||t._startEditHandler(n.touch)}}).data("kendoTouch"):t.content.on("mousedown"+y,"td",function(e){o(e)}).on("dblclick"+y,"td",function(n){e(n.target).is(i)||t._startEditHandler(n)}))},_editCell:function(t){var n,i=this.options.resourcesField,s=S.styles,o=t.cell,u=t.column,a=this._modelFromElement(o),f=this.dataSource._createNewModel(a.toJSON()),l=f.fields[u.field]||f[u.field],c=l.validation,h=r.attr("type"),v=r.attr("bind"),m=r.attr("format"),g={name:u.field,required:l.validation?l.validation.required===!0:!1};return u.field===i?void u.editor(o,f):(this._editableContent=o.children().detach(),this._editableContainer=o,o.data("modelCopy",f),"date"!==l.type&&"date"!==e.type(l)||u.format&&!/H|m|s|F|g|u/.test(u.format)||(g[v]="value:"+u.field,g[h]="date",u.format&&(g[m]=r._extractFormat(u.format)),n=function(t,n){e('<input type="text"/>').attr(g).appendTo(t).kendoDateTimePicker({format:n.format})}),this.editable=o.addClass(s.editCell).kendoEditable({fields:{field:u.field,format:u.format,editor:u.editor||n},model:f,clearContainer:!1}).data("kendoEditable"),c&&c.dateCompare&&p(c.dateCompare)&&c.message&&(e("<span "+r.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(o),o.find("[name="+u.field+"]").attr(r.attr("dateCompare-msg"),c.message)),this.trigger("edit",{model:a,cell:o})&&this._closeCell(!0),void this.editable.bind("validate",function(e){var t=this.element.find(":kendoFocusable:first").focus();d&&t.focus(),e.preventDefault()}))},_closeCell:function(e){var t=S.styles,n=this._editableContainer,r=this._modelFromElement(n),i=this._columnFromElement(n),s=i.field,o=n.data("modelCopy"),u={};u[s]=o.get(s),n.empty().removeData("modelCopy").removeClass(t.editCell).append(this._editableContent),this.editable.unbind(),this.editable.destroy(),this.editable=null,this._editableContainer=null,this._editableContent=null,e||("start"===s&&(u.end=new Date(u.start.getTime()+r.duration())),this.trigger("update",{task:r,updateInfo:u}))},_draggable:function(){var t,n=this,i=null,s=!0,o=S.styles,u="tr["+r.attr("level")+" = 0]:last",f={},l=function(){i=null,t=null,s=!0,f={}},h=function(e){for(var t=e;t;){if(i.get("id")===t.get("id")){s=!1;break}t=n.dataSource.taskParent(t)}},p=function(){var n=e(t).height(),i=r.getOffset(t).top;c(t,{beforeLimit:i+.25*n,afterLimit:i+.75*n})},d=function(e){var n,i=e.location,s=o.dropAdd,u="add",a=parseInt(t.attr(r.attr("level")),10);t.beforeLimit>=i?(n=t.prev(),s=o.dropTop,u="insert-before"):i>=t.afterLimit&&(n=t.next(),s=o.dropBottom,u="insert-after"),n&&parseInt(n.attr(r.attr("level")),10)===a&&(s=o.dropMiddle),f.className=s,f.command=u},v=function(){return n._reorderDraggable.hint.children(w+o.dragStatus).removeClass(o.dropPositions)};this.options.editable&&(this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:a,group:"listGroup",filter:"tr[data-uid]",ignore:w+o.input,hint:function(t){return e('<div class="'+o.header+" "+o.dragClue+'"/>').css({width:300,paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).append('<span class="'+o.icon+" "+o.dragStatus+'" /><span class="'+o.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(e){return n.editable&&n.editable.trigger("validate")?void e.preventDefault():(i=n._modelFromElement(e.currentTarget),void this.hint.children(w+o.dragClueText).text(i.get("title")))},drag:function(e){s&&(d(e.y),v().addClass(f.className))},dragend:function(){l()},dragcancel:function(){l()}}).data("kendoDraggable"),this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(e){t=e.dropTarget,h(n._modelFromElement(t)),p(),v().toggleClass(o.dropDenied,!s)},dragleave:function(){s=!0,v()},drop:function(){var e=n._modelFromElement(t),r=e.orderId,o={parentId:e.parentId};if(s){switch(f.command){case"add":o.parentId=e.id;break;case"insert-before":o.orderId=e.parentId===i.parentId&&e.orderId>i.orderId?r-1:r;break;case"insert-after":o.orderId=e.parentId===i.parentId&&e.orderId>i.orderId?r:r+1}n.trigger("update",{task:i,updateInfo:o})}}}).data("kendoDropTargetArea"),this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:w+o.gridContent,drop:function(){var e=n._modelFromElement(n.content.find(u)),t=e.orderId,r={parentId:null,orderId:null!==i.parentId?t+1:t};n.trigger("update",{task:i,updateInfo:r})}}).data("kendoDropTargetArea"))},_modelFromElement:function(e){var t=e.closest("tr"),n=this.dataSource.getByUid(t.attr(r.attr("uid")));return n},_columnFromElement:function(e){var t=e.closest("td"),n=t.parent(),r=n.children().index(t);return this.columns[r]}});c(!0,f.GanttList,{styles:E})}(window.kendo.jQuery),function(e){function t(e){return delete e.name,delete e.prefix,delete e.views,e}function n(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n>6?n-=7:n++,t.push(n);return t}function r(){var t=kendo._activeElement();"body"!==t.nodeName.toLowerCase()&&e(t).blur()}var i,s,o=kendo.ui.Widget,u=kendo.dom.element,a=kendo.dom.text,f=e.isPlainObject,l=e.extend,c=e.proxy,h=kendo.support.browser,p=!1,d=kendo.keys,v=kendo.data.Query,m=".kendoGanttTimeline",g="click",y="dblclick",b="mousemove",w="mouseenter",E="mouseleave",S="keydown",x=".",T=kendo.template("#=kendo.toString(start, 't')#"),N=kendo.template("#=kendo.toString(start, 'ddd M/dd')#"),C=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#"),k=kendo.template("#=kendo.toString(start, 'MMM')#"),L=kendo.template("#=kendo.toString(start, 'yyyy')#"),A=kendo.template('<div class="#=styles.marquee#"><div class="#=styles.marqueeColor#"></div></div>'),O=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#"><div class="#=styles.tooltipContent#"><div>#=messages.start#: #=kendo.toString(start, format)#</div><div>#=messages.end#: #=kendo.toString(end, format)#</div></div></div>'),M=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" ><div class="#=styles.tooltipContent#">#=text#%</div><div class="#=styles.tooltipCallout#" style="left:13px;"></div></div>'),_=kendo.template('<div class="#=styles.taskDetails#"><strong>#=task.title#</strong><div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div><ul class="#=styles.reset#"><li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li><li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li></ul></div>'),D={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}},P={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-si-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"},H=kendo.ui.GanttView=o.extend({init:function(e,t){o.fn.init.call(this,e,t),this.title=this.options.title||this.options.name,this.header=this.element.find(x+H.styles.gridHeader),this.content=this.element.find(x+H.styles.gridContent),this.contentWidth=this.content.width(),this._workDays=n(this.options),this._headerTree=t.headerTree,this._taskTree=t.taskTree,this._dependencyTree=t.dependencyTree,this._taskCoordinates={},this._currentTime()},destroy:function(){o.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this.headerRow=null,this.header=null,this.content=null,this._dragHint=null,this._resizeHint=null,this._resizeTooltip=null,this._taskTooltip=null,this._percentCompleteResizeTooltip=null,this._headerTree=null,this._taskTree=null,this._dependencyTree=null},options:{showWorkHours:!1,showWorkDays:!1,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:1e4}},renderLayout:function(){this._slots=this._createSlots(),this._tableWidth=this._calculateTableWidth(),this.createLayout(this._layout()),this._slotDimensions(),this._adjustHeight(),this.content.find(x+H.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){this.content.height(this.element.height()-this.header.outerHeight())},createLayout:function(e){var t=this._headers(e),n=this._colgroup(),r=this._headerTree,i=u("thead",null,t),s=u("table",{style:{width:this._tableWidth+"px"}},[n,i]);r.render([s]),this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var e,t,n,r,i=this.headerRow[0].children,s=this._timeSlots();for(n=0,r=i.length;r>n;n++)t=i[n],e=s[n],e.offsetLeft=t.offsetLeft,e.offsetWidth=t.offsetWidth},render:function(e){var t,n=e.length,r=H.styles,i=this._rowsTable(n),s=this._columnsTable(n),o=this._tasksTable(e),u=this.options.currentTimeMarker;this._taskTree.render([i,s,o]),t=this.content.find(x+r.rowsTable),this._contentHeight=t.height(),this._rowHeight=this._contentHeight/t.find("tr").length,this.content.find(x+r.columnsTable).height(this._contentHeight),u!==!1&&void 0!==u.updateInterval&&this._renderCurrentTime()},_rowsTable:function(e){var t,n,r=[],i=H.styles,s=[null,{className:i.alt}];for(n=0;e>n;n++)t=u("tr",s[n%2],[u("td",null,[a(" ")])]),r.push(t);return this._createTable(1,r,{className:i.rowsTable})},_columnsTable:function(){var e,t,n,r,i,s=[],o=H.styles,f=this._timeSlots(),l=f.length,c=0;for(i=0;l>i;i++)t=f[i],r={},n=t.span,c+=n,1!==n&&(r.colspan=n),t.isNonWorking&&(r.className=o.nonWorking),s.push(u("td",r,[a(" ")]));return e=u("tr",null,s),this._createTable(c,[e],{className:o.columnsTable})},_tasksTable:function(e){var t,n,r,i,s,o,a,f,l=[],c=H.styles,h=this._taskCoordinates={},d=this._calculateMilestoneWidth(),v=Math.round(d.width),m=this.options.resourcesField,g=[c.resource,c.resourceAlt],y=this._calculateResourcesMargin(),b=this._calculateTaskBorderWidth(),w=function(e){var t=r.left,n=t+r.width;i.isMilestone()&&(t-=v/2,n=t+v),h[i.id]={start:t,end:n,rowIndex:e}};for(a=0,f=e.length;f>a;a++)i=e[a],r=this._taskPosition(i),r.borderWidth=b,t=u("tr",null),n=u("td",null,[this._renderTask(e[a],r)]),i[m]&&i[m].length&&(s=p?this._tableWidth-r.left:Math.max(r.width||d.clientWidth,0)+r.left,o={width:this._tableWidth-(s+y)+"px"},o[p?"right":"left"]=s+"px",n.children.push(u("div",{className:c.resourcesWrap,style:o},this._renderResources(i[m],g[a%2])))),t.children.push(n),l.push(t),w(a);return this._createTable(1,l,{className:H.styles.tasksTable})},_createTable:function(e,t,n){var r,i,s,o=[];for(s=0;e>s;s++)o.push(u("col"));return r=u("colgroup",null,o),i=u("tbody",null,t),n.style||(n.style={}),n.style.width=this._tableWidth+"px",u("table",n,[r,i])},_calculateTableWidth:function(){var e,t,n,r,i=this._timeSlots(),s=0,o=0;for(n=0,r=i.length;r>n;n++)e=i[n].span,o+=e,e>s&&(s=e);return t=Math.round(o*this.options.slotSize/s)},_calculateMilestoneWidth:function(){var t,n,r=H.styles.task+" "+H.styles.taskMilestone,i=e("<div class='"+r+"' style='visibility: hidden; position: absolute'>");return this.content.append(i),n=i[0].getBoundingClientRect(),t={width:n.right-n.left,clientWidth:i[0].clientWidth},i.remove(),t},_calculateResourcesMargin:function(){var t,n=e("<div class='"+H.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");return this.content.append(n),t=parseInt(n.css(p?"margin-right":"margin-left"),10),n.remove(),t},_calculateTaskBorderWidth:function(){var t,n,r=H.styles.task+" "+H.styles.taskSingle,i=e("<div class='"+r+"' style='visibility: hidden; position: absolute'>");return this.content.append(i),n=kendo.getComputedStyles(i[0],["border-left-width"]),t=parseFloat(n["border-left-width"],10),i.remove(),t},_renderTask:function(e,t){var n,r,i,s=this.options.editable,o=t.left,a=H.styles,f=a.taskWrap,l={};return e.summary?r=this._renderSummary(e,t):e.isMilestone()?(r=this._renderMilestone(e,t),f+=" "+a.taskMilestoneWrap):r=this._renderSingleTask(e,t),n=u("div",{className:f,style:{left:o+"px"}},[r]),s&&(n.children.push(u("div",{className:a.taskDot+" "+a.taskDotStart})),n.children.push(u("div",{className:a.taskDot+" "+a.taskDotEnd}))),e.summary||e.isMilestone()||!s||(i=Math.round(t.width*e.percentComplete),l[p?"right":"left"]=i+"px",n.children.push(u("div",{className:a.taskDragHandle,style:l}))),n},_renderSingleTask:function(e,t){var n,r=H.styles,i=Math.round(t.width*e.percentComplete),s=u("div",{className:r.taskContent},[u("div",{className:r.taskTemplate},[a(e.title)])]);return this.options.editable&&(s.children.push(u("span",{className:r.taskActions},[u("a",{className:r.link+" "+r.taskDelete,href:"#"},[u("span",{className:r.icon+" "+r.iconDelete})])])),s.children.push(u("span",{className:r.taskResizeHandle+" "+r.taskResizeHandleWest})),s.children.push(u("span",{className:r.taskResizeHandle+" "+r.taskResizeHandleEast}))),n=u("div",{className:r.task+" "+r.taskSingle,"data-uid":e.uid,style:{width:Math.max(t.width-2*t.borderWidth,0)+"px"}},[u("div",{className:r.taskComplete,style:{width:i+"px"}}),s])},_renderMilestone:function(e){var t=H.styles,n=u("div",{className:t.task+" "+t.taskMilestone,"data-uid":e.uid});return n},_renderSummary:function(e,t){var n=H.styles,r=Math.round(t.width*e.percentComplete),i=u("div",{className:n.task+" "+n.taskSummary,"data-uid":e.uid,style:{width:t.width+"px"}},[u("div",{className:n.taskSummaryProgress,style:{width:r+"px"}},[u("div",{className:n.taskSummaryComplete,style:{width:t.width+"px"}})])]);return i},_renderResources:function(e,t){var n,r,i,s=[];for(r=0,i=e.length;i>r;r++)n=e[r],s.push(u("span",{className:t,style:{color:n.get("color")}},[a(n.get("name"))]));return p&&s.reverse(),s},_taskPosition:function(e){var t=Math.round,n=t(this._offset(p?e.end:e.start)),r=t(this._offset(p?e.start:e.end));return{left:n,width:r-n}},_offset:function(e){var t,n,r,i,s=this._timeSlots(),o=0;return s.length?(i=this._slotIndex("start",e),t=s[i],e>t.end?o=t.offsetWidth:e>=t.start&&(n=e-t.start,r=t.end-t.start,o=n/r*t.offsetWidth),p&&(o=t.offsetWidth+1-o),t.offsetLeft+o):0},_slotIndex:function(e,t,n){var r,i=this._timeSlots(),s=0,o=i.length-1;n&&(i=[].slice.call(i).reverse());do r=Math.ceil((o+s)/2),t>i[r][e]?s=r:(r===o&&r--,o=r);while(s!==o);return n&&(s=i.length-1-s),s},_timeByPosition:function(t,n,r){var i,s,o,u=this._slotByPosition(t);return n?r?u.end:u.start:(i=t-e(x+H.styles.tasksTable).offset().left,s=u.end-u.start,o=i-u.offsetLeft,p&&(o=u.offsetWidth-o),new Date(u.start.getTime()+s*(o/u.offsetWidth)))},_slotByPosition:function(t){var n=t-e(x+H.styles.tasksTable).offset().left,r=this._slotIndex("offsetLeft",n,p);return this._timeSlots()[r]},_renderDependencies:function(e){var t,n,r=[],i=this._dependencyTree;for(t=0,n=e.length;n>t;t++)r.push.apply(r,this._renderDependency(e[t]));i.render(r)},_renderDependency:function(e){var t,n,r,i,s=this._taskCoordinates[e.predecessorId],o=this._taskCoordinates[e.successorId];if(!s||!o)return[];for(n="_render"+["FF","FS","SF","SS"][p?3-e.type:e.type],t=this[n](s,o),r=0,i=t.length;i>r;r++)t[r].attr["data-uid"]=e.uid;return t},_renderFF:function(e,t){var n=this._dependencyFF(e,t,!1);return n[n.length-1].children[0]=this._arrow(!0),n},_renderSS:function(e,t){var n=this._dependencyFF(t,e,!0);return n[0].children[0]=this._arrow(!1),n.reverse()},_renderFS:function(e,t){var n=this._dependencyFS(e,t,!1);return n[n.length-1].children[0]=this._arrow(!1),n},_renderSF:function(e,t){var n=this._dependencyFS(t,e,!0);return n[0].children[0]=this._arrow(!0),n.reverse()},_dependencyFF:function(e,t,n){var r,i=this,s=[],o=0,u=0,a=0,f=0,l=n?"start":"end",c=2,h=1,p=this._rowHeight,d=10,v=e.rowIndex*p+Math.floor(p/2)-1,m=t.rowIndex*p+Math.floor(p/2)-1,g=H.styles,y=function(){s.push(i._line(g.line+" "+g.lineHorizontal,{left:o+"px",top:u+"px",width:a+"px"}))},b=function(){s.push(i._line(g.line+" "+g.lineVertical,{left:o+"px",top:u+"px",height:f+"px"}))};return o=e[l],u=v,a=d,r=t[l]-e[l],r>0!==n&&(a=Math.abs(r)+d),n?(o-=a,a-=h,y()):(y(),o+=a-c),u>m?(f=u-m,f+=c,u=m,b()):(f=m-u,f+=c,b(),u+=f-c),a=Math.abs(o-t[l]),n||(a-=h,o-=a),y(),s},_dependencyFS:function(e,t,n){var r=this,i=[],s=0,o=0,u=0,a=0,f=this._rowHeight,l=Math.floor(f/2),c=10,h=2*c,p=t.start-e.end,d=2,v=1,m=e.rowIndex*f+Math.floor(f/2)-1,g=t.rowIndex*f+Math.floor(f/2)-1,y=H.styles,b=function(){i.push(r._line(y.line+" "+y.lineHorizontal,{left:s+"px",top:o+"px",width:u+"px"}))},w=function(){i.push(r._line(y.line+" "+y.lineVertical,{left:s+"px",top:o+"px",height:a+"px"}))};return s=e.end,o=m,u=c,n&&(s+=v,p>h&&(u=p-(c-d)),u-=v),b(),s+=u-d,h>=p&&(a=n?Math.abs(g-m)-l:l,m>g?(o-=a,a+=d,w()):(w(),o+=a),u=e.end-t.start+h,c>u&&(u=c),s-=u-d,b()),m>g?(a=o-g,o=g,a+=d,w()):(a=g-o,w(),o+=a),u=t.start-s,n||(u-=v),b(),i},_line:function(e,t){return u("div",{className:e,style:t})},_arrow:function(e){return u("span",{className:e?H.styles.arrowWest:H.styles.arrowEast})},_colgroup:function(){var e,t,n,r=this._timeSlots(),i=r.length,s=[];for(e=0;i>e;e++)for(t=0,n=r[e].span;n>t;t++)s.push(u("col"));return u("colgroup",null,s)},_createDragHint:function(e){this._dragHint=e.clone().addClass(H.styles.dragHint).css("cursor","move"),e.parent().append(this._dragHint)},_updateDragHint:function(e){var t=this._offset(e);this._dragHint.css({left:t})},_removeDragHint:function(){this._dragHint.remove(),this._dragHint=null},_createResizeHint:function(t){var n,r,i=H.styles,s=this._taskCoordinates[t.id].rowIndex*this._rowHeight,o=this.options,u=o.messages;this._resizeHint=e(A({styles:i})).css({top:0,height:this._contentHeight}),this.content.append(this._resizeHint),this._resizeTooltip=e(O({styles:i,start:t.start,end:t.end,messages:u.views,format:o.resizeTooltipFormat})).css({top:0,left:0}),this.content.append(this._resizeTooltip),this._resizeTooltipWidth=this._resizeTooltip.outerWidth(),n=this._resizeTooltip.outerHeight(),r=s-n,0>r&&(r=s+this._rowHeight),this._resizeTooltipTop=r},_updateResizeHint:function(t,n,r){var i=this._offset(p?n:t),s=this._offset(p?t:n),o=s-i,u=r!==p?i:s,a=this._tableWidth-kendo.support.scrollbar(),f=this._resizeTooltipWidth,l=this.options,c=l.messages,h=e(x+H.styles.tasksTable).offset().left-e(x+H.styles.tasksWrapper).offset().left;p&&(i+=h),this._resizeHint.css({left:i,width:o}),this._resizeTooltip&&this._resizeTooltip.remove(),u-=Math.round(f/2),0>u?u=0:u+f>a&&(u=a-f),p&&(u+=h),this._resizeTooltip=e(O({styles:H.styles,start:t,end:n,messages:c.views,format:l.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:u,"min-width":f}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=null,this._resizeTooltip.remove(),this._resizeTooltip=null},_updatePercentCompleteTooltip:function(t,n,r){var i,s,o,u;this._removePercentCompleteTooltip(),i=this._percentCompleteResizeTooltip=e(M({styles:H.styles,text:r})).appendTo(this.element),s=Math.round(i.outerWidth()/2),o=i.find(x+H.styles.callout),u=Math.round(o.outerWidth()/2),i.css({top:t-(i.outerHeight()+u),left:n-s}),o.css("left",s-u)},_removePercentCompleteTooltip:function(){this._percentCompleteResizeTooltip&&this._percentCompleteResizeTooltip.remove(),this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(e,t,n){this._removeDependencyDragHint(),n?this._creteVmlDependencyDragHint(e,t):this._creteDependencyDragHint(e,t)},_creteDependencyDragHint:function(t,n){var r=H.styles,i=n.x-t.x,s=n.y-t.y,o=Math.sqrt(i*i+s*s),u=Math.atan(s/i);0>i&&(u+=Math.PI),e("<div class='"+r.line+" "+r.lineHorizontal+" "+r.dependencyHint+"'></div>").css({top:t.y,left:t.x,width:o,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+u+"rad)","-ms-transform":"rotate("+u+"rad)","-webkit-transform":"rotate("+u+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(t,n){var r=e("<kvml:line class='"+H.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+t.x+"px,"+t.y+"px' to='"+n.x+"px,"+n.y+"px'></kvml:line>").appendTo(this.content);r[0].outerHTML=r[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(x+H.styles.dependencyHint).remove()},_createTaskTooltip:function(t,n,r){var i,s=H.styles,o=this.options,u=this.content,a=u.offset(),f=u.width(),l=u.scrollLeft(),c=e(n).parents("tr").first(),h=c.offset(),p=o.tooltip&&o.tooltip.template?kendo.template(o.tooltip.template):_,d=r-(a.left-u.scrollLeft()),v=h.top+c.outerHeight()-a.top+u.scrollTop(),m=this._taskTooltip=e('<div style="z-index: 100002;" class="'+s.tooltipWrapper+'" ><div class="'+s.taskContent+'"></div></div>');m.css({left:d,top:v}).appendTo(u).find(x+s.taskContent).append(p({styles:s,task:t,messages:o.messages.views})),m.outerHeight()<h.top-a.top&&m.css("top",h.top-a.top-m.outerHeight()+u.scrollTop()),i=m.outerWidth(),i+d-l>f&&(d-=i,l>d&&(d=l+f-(i+17)),m.css("left",d))},_removeTaskTooltip:function(){this._taskTooltip&&this._taskTooltip.remove(),this._taskTooltip=null},_scrollTo:function(e){var t=e.offset().left,n=e.width(),r=t+n,i=e.closest("tr"),s=i.offset().top,o=i.height(),u=s+o,a=this.content,f=a.offset(),l=f.top,c=a.height(),h=l+c,p=f.left,d=a.width(),v=p+d,m=kendo.support.scrollbar();l>s?a.scrollTop(a.scrollTop()+(s-l)):u>h&&a.scrollTop(a.scrollTop()+(u+m-h)),p>t&&n>d&&v>r||r>v&&d>n?a.scrollLeft(a.scrollLeft()+(r+m-v)):(r>v&&n>d&&t>p||p>t&&d>n)&&a.scrollLeft(a.scrollLeft()+(t-p))},_timeSlots:function(){return this._slots&&this._slots.length?this._slots[this._slots.length-1]:[]},_headers:function(e){var t,n,r,i,s,o,f,l,c=[],h=H.styles;for(s=0,o=e.length;o>s;s++){for(t=e[s],n=[],f=0,l=t.length;l>f;f++)r=t[f],i=a(r.text),n.push(u("th",{colspan:r.span,className:h.header+(r.isNonWorking?" "+h.nonWorking:"")},[i]));c.push(u("tr",null,n))}return c},_hours:function(e,t){var n,r,i,s=[],o=this.options,u=o.workDayStart.getHours(),a=o.workDayEnd.getHours(),f=o.hourSpan;for(e=new Date(e),t=new Date(t);t>e;)n=new Date(e),i=n.getHours(),r=i>=u&&a>i,n.setHours(n.getHours()+f),i==n.getHours()&&n.setHours(n.getHours()+2*f),(!o.showWorkHours||r)&&s.push({start:e,end:n,isNonWorking:!r,span:1}),e=n;return s},_days:function(e,t){var n,r,i=[];for(e=new Date(e),t=new Date(t);t>e;)n=kendo.date.nextDay(e),r=this._isWorkDay(e),(!this.options.showWorkDays||r)&&i.push({start:e,end:n,isNonWorking:!r,span:1}),e=n;return i},_weeks:function(e,t){var n,r,i,s=[],o=this.calendarInfo().firstDay;for(e=new Date(e),t=new Date(t);t>e;)n=kendo.date.dayOfWeek(kendo.date.addDays(e,1),o,1),n>t&&(n=t),r=this._days(e,n),i=r.length,i>0&&s.push({start:r[0].start,end:r[i-1].end,span:i}),e=n;return s},_months:function(e,t){var n,r,i,s=[];for(e=new Date(e),t=new Date(t);t>e;)n=new Date(e),n.setMonth(n.getMonth()+1),r=this._days(e,n),i=r.length,i>0&&s.push({start:r[0].start,end:r[i-1].end,span:i}),e=n;return s},_years:function(e,t){var n,r=[];for(e=new Date(e),t=new Date(t);t>e;)n=new Date(e),n.setFullYear(n.getFullYear()+1),r.push({start:e,end:n,span:12}),e=n;return r},_slotHeaders:function(e,t){var n,r,i,s=[];for(r=0,i=e.length;i>r;r++)n=e[r],s.push({text:t(n),isNonWorking:!!n.isNonWorking,span:n.span});return s},_isWorkDay:function(e){var t,n,r=e.getDay(),i=this._workDays;for(t=0,n=i.length;n>t;t++)if(i[t]===r)return!0;return!1},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var t,n=this._getCurrentTime(),r=this._offset(n),i=e("<div class='k-current-time'></div>"),s=H.styles,o=e(x+s.tasksWrapper),u=e(x+s.tasksTable);this.content&&this._timeSlots().length&&(this.content.find(".k-current-time").remove(),t=this._timeSlots()[this._slotIndex("start",n)],t.start>n||n>t.end||(o.length&&u.length&&(r+=u.offset().left-o.offset().left),i.css({left:r+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)))},_getCurrentTime:function(){return new Date},_currentTime:function(){var e=this.options.currentTimeMarker;e!==!1&&void 0!==e.updateInterval&&(this._renderCurrentTime(),this._currentTimeUpdateTimer=setInterval(c(this._renderCurrentTime,this),e.updateInterval))}});l(!0,H,{styles:P}),kendo.ui.GanttDayView=H.extend({name:"day",options:{timeHeaderTemplate:T,dayHeaderTemplate:N,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(e){this.start=kendo.date.getDate(e.start),this.end=kendo.date.getDate(e.end),(kendo.date.getMilliseconds(e.end)>0||this.end.getTime()===this.start.getTime())&&(this.end=kendo.date.addDays(this.end,1))},_createSlots:function(){var e,t,n,r,i=[],s=this._days(this.start,this.end),o=[];for(n=0,r=s.length;r>n;n++)e=s[n],t=this._hours(e.start,e.end),e.span=t.length,o.push.apply(o,t);return i.push(s),i.push(o),i},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.dayHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.timeHeaderTemplate))),e}}),kendo.ui.GanttWeekView=H.extend({name:"week",options:{dayHeaderTemplate:N,weekHeaderTemplate:C,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(e){var t=this.calendarInfo(),n=t.firstDay,r=e.end;n===r.getDay()&&r.setDate(r.getDate()+7),this.start=kendo.date.getDate(kendo.date.dayOfWeek(e.start,n,-1)),this.end=kendo.date.getDate(kendo.date.dayOfWeek(r,n,1))},_createSlots:function(){var e=[];return e.push(this._weeks(this.start,this.end)),e.push(this._days(this.start,this.end)),e},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.weekHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.dayHeaderTemplate))),e}}),kendo.ui.GanttMonthView=H.extend({name:"month",options:{weekHeaderTemplate:C,monthHeaderTemplate:k,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(e){this.start=kendo.date.firstDayOfMonth(e.start),this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(e.end)),1)},_createSlots:function(){var e=[];return e.push(this._months(this.start,this.end)),e.push(this._weeks(this.start,this.end)),e},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.monthHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.weekHeaderTemplate))),e}}),kendo.ui.GanttYearView=H.extend({name:"year",options:{yearHeaderTemplate:L,monthHeaderTemplate:k,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(e){this.start=kendo.date.firstDayOfMonth(new Date(e.start.setMonth(0))),this.end=kendo.date.firstDayOfMonth(new Date(e.end.setMonth(12)))},_createSlots:function(){var t=[],n=this._months(this.start,this.end);return e(n).each(function(e,t){t.span=1}),t.push(this._years(this.start,this.end)),t.push(n),t},_layout:function(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.yearHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.monthHeaderTemplate))),e}}),i={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"},s=kendo.ui.GanttTimeline=o.extend({init:function(e,t){o.fn.init.call(this,e,t),this.options.views&&this.options.views.length||(this.options.views=["day","week","month"]),p=kendo.support.isRtl(e),this._wrapper(),this._domTrees(),this._views(),this._selectable(),this._draggable(),this._resizable(),this._percentResizeDraggable(),this._createDependencyDraggable(),this._attachEvents(),this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:!0,selectable:!0,editable:!0},destroy:function(){o.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this._unbindView(this._selectedView),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this._percentDraggable&&this._percentDraggable.destroy(),this._dependencyDraggable&&this._dependencyDraggable.destroy(),this.touch&&this.touch.destroy(),this._headerTree=null,this._taskTree=null,this._dependencyTree=null,this.wrapper.off(m),kendo.destroy(this.wrapper)},_wrapper:function(){var e=s.styles;this.wrapper=this.element.addClass(e.wrapper).append("<div class='"+e.gridHeader+"'><div class='"+e.gridHeaderWrap+"'></div></div>").append("<div class='"+e.gridContentWrap+"'><div class='"+e.tasksWrapper+"'></div><div class='"+e.dependenciesWrapper+"'></div></div>")},_domTrees:function(){var e=s.styles,t=kendo.dom.Tree,n=this.wrapper;this._headerTree=new t(n.find(x+e.gridHeaderWrap)[0]),this._taskTree=new t(n.find(x+e.tasksWrapper)[0]),this._dependencyTree=new t(n.find(x+e.dependenciesWrapper)[0])},_views:function(){var e,t,n,r,i,s,o,u=this.options.views;for(this.views={},s=0,o=u.length;o>s;s++)e=u[s],t=f(e),t&&e.selectable===!1||(n=t?"string"!=typeof e.type?e.title:e.type:e,r=D[n],r&&(t&&(e.type=r.type),r.title=this.options.messages.views[n]),e=l({title:n},r,t?e:{}),n&&(this.views[n]=e,(!i||e.selected)&&(i=n)));i&&(this._selectedViewName=i)},view:function(e){return e&&(this._selectView(e),this.trigger("navigate",{view:e,action:"changeView"})),this._selectedView},_selectView:function(e){e&&this.views[e]&&(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._initializeView(e),this._selectedViewName=e)},_viewByIndex:function(e){var t,n=this.views;for(t in n){if(!e)return t;e--}},_initializeView:function(e){var n,r=this.views[e];if(r){if(n=r.type,"string"==typeof n&&(n=kendo.getter(r.type)(window)),!n)throw Error("There is no such view");r=new n(this.wrapper,t(l(!0,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree},r,this.options)))}return r},_unbindView:function(e){e&&e.destroy()},_range:function(e){var t,n,r={field:"start",dir:"asc"},i={field:"end",dir:"desc"};return e&&e.length?(t=(new v(e)).sort(r).toArray()[0].start||new Date,n=(new v(e)).sort(i).toArray()[0].end||new Date,{start:new Date(t),end:new Date(n)}):{start:new Date,end:new Date}},_render:function(e){var t=this.view(),n=this._range(e);this._tasks=e,t.range(n),t.renderLayout(),t.render(e)},_renderDependencies:function(e){this.view()._renderDependencies(e)},_taskByUid:function(e){var t,n,r=this._tasks,i=r.length;for(n=0;i>n;n++)if(t=r[n],t.uid===e)return t},_draggable:function(){var e,t,n,i,o=this,u=this.options.snap,a=s.styles,f=function(){o.view()._removeDragHint(),e&&e.css("opacity",1),e=null,t=null,o.dragInProgress=!1};this.options.editable&&(this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:x+a.task,holdToDrag:kendo.support.mobileOS,ignore:x+a.taskResizeHandle}),this._moveDraggable.bind("dragstart",function(r){var s=o.view();return e=r.currentTarget.parent(),t=o._taskByUid(r.currentTarget.attr("data-uid")),o.trigger("moveStart",{task:t})?void r.preventDefault():(n=t.start,i=s._timeByPosition(r.x.location,u)-n,s._createDragHint(e),e.css("opacity",.5),clearTimeout(o._tooltipTimeout),void (o.dragInProgress=!0))}).bind("drag",kendo.throttle(function(e){var r,s,a;o.dragInProgress&&(r=o.view(),s=new Date(r._timeByPosition(e.x.location,u)-i),a=s,o.trigger("move",{task:t,start:s})||(n=s,p&&(a=new Date(n.getTime()+t.duration())),r._updateDragHint(a)))},15)).bind("dragend",function(){o.trigger("moveEnd",{task:t,start:n}),f()}).bind("dragcancel",function(){f()}).userEvents.bind("select",function(){r()}))},_resizable:function(){var e,t,n,i,o,u=this,a=this.options.snap,f=s.styles,l=function(){u.view()._removeResizeHint(),e=null,t=null,u.dragInProgress=!1};this.options.editable&&(this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:x+f.taskResizeHandle,holdToDrag:!1}),this._resizeDraggable.bind("dragstart",function(r){return o=r.currentTarget.hasClass(f.taskResizeHandleWest),p&&(o=!o),e=r.currentTarget.closest(x+f.task),t=u._taskByUid(e.attr("data-uid")),u.trigger("resizeStart",{task:t})?void r.preventDefault():(n=t.start,i=t.end,u.view()._createResizeHint(t),clearTimeout(u._tooltipTimeout),void (u.dragInProgress=!0))}).bind("drag",kendo.throttle(function(e){var r,s;u.dragInProgress&&(r=u.view(),s=r._timeByPosition(e.x.location,a,!o),o?n=i>s?s:i:i=s>n?s:n,u.trigger("resize",{task:t,start:n,end:i})||r._updateResizeHint(n,i,o))},15)).bind("dragend",function(){u.trigger("resizeEnd",{task:t,resizeStart:o,start:n,end:i}),l()}).bind("dragcancel",function(){l()}).userEvents.bind("select",function(){r()}))},_percentResizeDraggable:function(){var e,t,n,i,o,u,a,f,l,c,h=this,d=s.styles,v=function(){h.view()._removePercentCompleteTooltip(),t=null,e=null,h.dragInProgress=!1},m=function(e){t.find(x+d.taskComplete).width(e).end().siblings(x+d.taskDragHandle).css(p?"right":"left",e)};this.options.editable&&(this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:x+d.taskDragHandle,holdToDrag:!1}),this._percentDraggable.bind("dragstart",function(r){return h.trigger("percentResizeStart")?void r.preventDefault():(t=r.currentTarget.siblings(x+d.task),e=h._taskByUid(t.attr("data-uid")),a=e.percentComplete,n=t.offset(),i=this.element.offset(),o=t.find(x+d.taskComplete).width(),u=t.outerWidth(),clearTimeout(h._tooltipTimeout),void (h.dragInProgress=!0))}).bind("drag",kendo.throttle(function(e){if(h.dragInProgress){c=p?-e.x.initialDelta:e.x.initialDelta;var t=Math.max(0,Math.min(u,o+c));a=Math.round(t/u*100),m(t),f=n.top-i.top,l=n.left+t-i.left,p&&(l+=u-2*t),h.view()._updatePercentCompleteTooltip(f,l,a)}},15)).bind("dragend",function(){h.trigger("percentResizeEnd",{task:e,percentComplete:a/100}),v()}).bind("dragcancel",function(){m(o),v()}).userEvents.bind("select",function(){r()}))},_createDependencyDraggable:function(){var t,n,i,o=this,u=e(),a=e(),f=h.msie&&9>h.version,l=s.styles,c=function(){t.css("display","").removeClass(l.hovered),t.parent().removeClass(l.origin),t=null,p(!1),a=e(),u=e(),o.view()._removeDependencyDragHint(),o.dragInProgress=!1},p=function(e){a.hasClass(l.origin)||(a.find(x+l.taskDot).css("display",e?"block":""),u.toggleClass(l.hovered,e))};this.options.editable&&(f&&document.namespaces&&document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:x+l.taskDot,holdToDrag:!1}),this._dependencyDraggable.bind("dragstart",function(r){var s,u;return o.trigger("dependencyDragStart")?void r.preventDefault():(t=r.currentTarget.css("display","block").addClass(l.hovered),t.parent().addClass(l.origin),s=t.offset(),u=e(x+l.tasksWrapper).offset(),n=Math.round(s.left-u.left+t.outerHeight()/2),i=Math.round(s.top-u.top+t.outerWidth()/2),clearTimeout(o._tooltipTimeout),void (o.dragInProgress=!0))}).bind("drag",kendo.throttle(function(t){var r,s,c,h;o.dragInProgress&&(o.view()._removeDependencyDragHint(),r=e(kendo.elementUnderCursor(t)),s=e(x+l.tasksWrapper).offset(),c=t.x.location-s.left,h=t.y.location-s.top,o.view()._updateDependencyDragHint({x:n,y:i},{x:c,y:h},f),p(!1),u=r.hasClass(l.taskDot)?r:e(),a=r.closest(x+l.taskWrap),p(!0))},15)).bind("dragend",function(){var e,n,r,i,s;u.length&&(e=t.hasClass(l.taskDotStart),n=u.hasClass(l.taskDotStart),r=e?n?3:2:n?1:0,i=o._taskByUid(t.siblings(x+l.task).attr("data-uid")),s=o._taskByUid(u.siblings(x+l.task).attr("data-uid")),i!==s&&o.trigger("dependencyDragEnd",{type:r,predecessor:i,successor:s})),c()}).bind("dragcancel",function(){c()}).userEvents.bind("select",function(){r()}))},_selectable:function(){var t=this,n=s.styles;this.options.selectable&&this.wrapper.on(g+m,x+n.task,function(n){n.stopPropagation(),n.ctrlKey?t.trigger("clear"):t.trigger("select",{uid:e(this).attr("data-uid")})}).on(g+m,x+n.taskWrap,function(t){t.stopPropagation(),e(this).css("z-index","0");var r=e(document.elementFromPoint(t.clientX,t.clientY));r.hasClass(n.line)&&r.click(),e(this).css("z-index","")}).on(g+m,x+n.tasksWrapper,function(){t.selectDependency().length>0?t.clearSelection():t.trigger("clear")}).on(g+m,x+n.line,function(e){e.stopPropagation(),t.selectDependency(this)})},select:function(e){var t=this.wrapper.find(e),n=s.styles;return t.length?(this.clearSelection(),t.addClass(n.selected),void (kendo.support.mobileOS&&t.parent().addClass(n.taskWrapActive))):this.wrapper.find(x+n.task+x+n.selected)},selectDependency:function(t){var n,r=this.wrapper.find(t),i=s.styles;return r.length?(this.clearSelection(),this.trigger("clear"),n=e(r).attr("data-uid"),void this.wrapper.find(x+i.line+"[data-uid='"+n+"']").addClass(i.selected)):this.wrapper.find(x+i.line+x+i.selected)},clearSelection:function(){var e=s.styles;this.wrapper.find(x+e.selected).removeClass(e.selected),kendo.support.mobileOS&&this.wrapper.find(x+e.taskWrapActive).removeClass(e.taskWrapActive)},_attachEvents:function(){var t=this,n=s.styles;this.options.editable&&(this._tabindex(),this.wrapper.on(g+m,x+n.taskDelete,function(r){t.trigger("removeTask",{uid:e(this).closest(x+n.task).attr("data-uid")}),r.stopPropagation(),r.preventDefault()}).on(S+m,function(e){var n;e.keyCode===d.DELETE&&(n=t.selectDependency(),n.length&&(t.trigger("removeDependency",{uid:n.attr("data-uid")}),t.clearSelection()))}),kendo.support.mobileOS?this.touch=this.wrapper.kendoTouch({filter:x+n.task,doubletap:function(n){t.trigger("editTask",{uid:e(n.touch.currentTarget).attr("data-uid")})}}).data("kendoTouch"):this.wrapper.on(y+m,x+n.task,function(n){t.trigger("editTask",{uid:e(this).attr("data-uid")}),n.stopPropagation(),n.preventDefault()}))},_tooltip:function(){var t,n=this,r=this.options.tooltip,i=s.styles,o=function(e){t=e.clientX};r&&r.visible===!1||(kendo.support.mobileOS?(this.wrapper.on(g+m,x+i.taskDelete,function(e){e.stopPropagation(),n.view()._removeTaskTooltip()}).on(E+m,x+i.task,function(t){var r=e(t.relatedTarget).parents(x+i.taskWrap,x+i.task);0===r.length&&n.view()._removeTaskTooltip()}),this.touch.bind("tap",function(t){var r=t.touch.target,i=n._taskByUid(e(r).attr("data-uid")),s=t.touch.x.client;n.view()._taskTooltip&&n.view()._removeTaskTooltip(),n.view()._createTaskTooltip(i,r,s)}).bind("doubletap",function(){n.view()._removeTaskTooltip()})):this.wrapper.on(w+m,x+i.task,function(){var r=this,i=n._taskByUid(e(this).attr("data-uid"));n.dragInProgress||(n._tooltipTimeout=setTimeout(function(){n.view()._createTaskTooltip(i,r,t)},800),e(this).on(b,o))}).on(E+m,x+i.task,function(){clearTimeout(n._tooltipTimeout),n.view()._removeTaskTooltip(),e(this).off(b,o)}))}}),l(!0,s,{styles:i})}(window.kendo.jQuery),function(e,t){function n(e){return"["+d.attr("uid")+(e?"='"+e+"']":"]")}function r(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function i(e){var t,n,r,i,s,o;if(e.filter("[name=end], [name=start]").length){for(t=e.attr("name"),n=d.widgetInstance(e,d.ui),r={},i=e;i!==window&&!s;)i=i.parent(),s=i.data("kendoEditable");return(o=s?s.options.model:null)?(r.start=o.start,r.end=o.end,r[t]=n?n.value():d.parseDate(e.value()),r.end>=r.start):!0}return!0}function s(t,n){var r=t.parents("["+d.attr("role")+'="gantt"]'),i=[],s=o(r);t.attr(D,0),n&&s.each(function(t,n){i[t]=e(n).scrollTop()});try{t[0].setActive()}catch(u){t[0].focus()}n&&s.each(function(t,n){e(n).scrollTop(i[t])})}function o(t){return e(t).parentsUntil("body").filter(function(e,t){var n=d.getComputedStyles(t,["overflow"]);return"visible"!=n.overflow}).add(window)}var u,a,f,l,c,h,p,d=window.kendo,v=d.support.browser,m=d.support.mobileOS,g=d.Observable,y=d.ui.Widget,b=d.data.DataSource,w=d.data.ObservableObject,E=d.data.ObservableArray,S=d.data.Query,x=e.isArray,T=e.inArray,N=d.isFunction,C=e.proxy,k=e.extend,L=e.isPlainObject,A=e.map,O=d.keys,M=".kendoGantt",_="p0",D="tabIndex",P="click",H="width",B="string",j={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"}},F="aria-activedescendant",I="gantt_active_cell",q="action-option-focused",R=".",U="Are you sure you want to delete this task?",z="Are you sure you want to delete this dependency?",W='<button class="#=styles.button# #=className#" #if (action) {#data-action="#=action#"#}#><span class="#=iconClass#"></span>#=text#</button>',X='<a class="#=className#" #=attr# href="\\#">#=text#</a>',V=d.template('<ul class="#=styles.viewsWrapper#">#for(var view in views){#<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>#}#</ul>'),$=d.template('<div class="#=styles.popupWrapper#"><ul class="#=styles.popupList#" role="listbox">#for(var i = 0, l = actions.length; i < l; i++){#<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>#}#</ul></div>'),J=function(t,n){var r={name:n.field},i=n.model.fields[n.field].validation;i&&L(i)&&i.message&&(r[d.attr("dateCompare-msg")]=i.message),e('<input type="text" required '+d.attr("type")+'="date" '+d.attr("role")+'="datetimepicker" '+d.attr("bind")+'="value:'+n.field+'" '+d.attr("validate")+"='true' />").attr(r).appendTo(t),e("<span "+d.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},K=function(t,n){e('<a href="#" class="'+n.styles.button+'">'+n.messages.assignButton+"</a>").click(n.click).appendTo(t)},Q={wrapper:"k-widget k-gantt",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-pdf",viewButtonDefault:"k-state-default",viewButton:"k-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}},G={append:{text:"Add Task",action:"add",className:Q.toolbar.appendButton,iconClass:Q.toolbar.iconPlus},pdf:{text:"Export to PDF",className:Q.toolbar.pdfButton,iconClass:Q.toolbar.iconPdf}},Y=g.extend({init:function(e,t){g.fn.init.call(this),this.element=e,this.options=k(!0,{},this.options,t),this._popup()},options:{direction:"down",navigatable:!1},_current:function(e){var t=p.styles,n=this.list.find(R+t.focused),r=n[e]();r.length&&(n.removeClass(t.focused).removeAttr("id"),r.addClass(t.focused).attr("id",q),this.list.find("ul").removeAttr(F).attr(F,q))},_popup:function(){var t=this,n=p.styles,r="li"+R+n.item,i=R+n.toolbar.appendButton,s=this.options.messages.actions,o=this.options.navigatable;this.list=e($({styles:n,actions:[{data:"add",text:s.addChild},{data:"insert-before",text:s.insertBefore},{data:"insert-after",text:s.insertAfter}]})),this.element.append(this.list),this.popup=new d.ui.Popup(this.list,k({anchor:this.element.find(i),open:function(){t._adjustListWidth()},animation:this.options.animation},j[this.options.direction])),this.element.on(P+M,i,function(r){var i=e(this),s=i.attr(d.attr("action"));r.preventDefault(),s?t.trigger("command",{type:s}):(t.popup.open(),o&&t.list.find("li:first").addClass(n.focused).attr("id",q).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":q}).focus())}),this.list.find(r).hover(function(){e(this).addClass(n.hovered)},function(){e(this).removeClass(n.hovered)}).end().on(P+M,r,function(){t.trigger("command",{type:e(this).attr(d.attr("action"))}),t.popup.close()}),o&&(this.popup.bind("close",function(){t.list.find(r).removeClass(n.focused).end().find("ul").attr(D,0),t.element.parents("["+d.attr("role")+'="gantt"]').find(R+n.gridContent+" > table:first").focus()}),this.list.find("ul").on("keydown"+M,function(e){var r=e.keyCode;switch(r){case O.UP:e.preventDefault(),t._current("prev");break;case O.DOWN:e.preventDefault(),t._current("next");break;case O.ENTER:t.list.find(R+n.focused).click();break;case O.ESC:e.preventDefault(),t.popup.close()}}))},_adjustListWidth:function(){var e,t,n=this.list,r=p.styles,i=n[0].style.width,s=this.element.find(R+r.toolbar.appendButton);(n.data(H)||!i)&&(e=window.getComputedStyle?window.getComputedStyle(s[0],null):0,t=e?parseFloat(e.width):s.outerWidth(),e&&(v.mozilla||v.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i="border-box"!==n.css("box-sizing")?t-(n.outerWidth()-n.width()):t,n.css({fontFamily:s.css("font-family"),width:i}).data(H,i))},destroy:function(){clearTimeout(this._focusTimeout),this.popup.destroy(),this.element.off(M),this.list.off(M),this.unbind()}}),Z=function(e,t){return function(n){var r,i;if(n=x(r)?{data:n}:n,r=n||{},i=r.data,r.data=i,!(r instanceof e)&&r instanceof b)throw Error("Incorrect DataSource type. Only "+t+" instances are supported");return r instanceof e?r:new e(r)}},et=d.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}}),tt=b.extend({init:function(e){b.fn.init.call(this,k(!0,{},{schema:{modelBase:et,model:et}},e))},successors:function(e){return this._dependencies("predecessorId",e)},predecessors:function(e){return this._dependencies("successorId",e)},dependencies:function(e){var t=this.predecessors(e),n=this.successors(e);return t.push.apply(t,n),t},_dependencies:function(e,t){var n=this.view(),r={field:e,operator:"eq",value:t};return n=(new S(n)).filter(r).toArray()}});tt.create=Z(tt,"GanttDependencyDataSource"),u=d.data.Model.define({duration:function(){var e=this.end,t=this.start;return e-t},isMilestone:function(){return 0===this.duration()},_offset:function(e){var t,n,r=["start","end"];for(n=0;r.length>n;n++)t=new Date(this.get(r[n]).getTime()+e),this.set(r[n],t)},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:!0}},orderId:{type:"number",validation:{required:!0}},title:{type:"string",defaultValue:""},start:{type:"date",validation:{required:!0}},end:{type:"date",validation:{required:!0,dateCompare:i,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:!0,min:0,max:1,step:.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:!0}}}),a=b.extend({init:function(e){b.fn.init.call(this,k(!0,{},{schema:{modelBase:u,model:u}},e))},remove:function(e){var t=e.get("parentId"),n=this.taskAllChildren(e);return this._removeItems(n),e=b.fn.remove.call(this,e),this._childRemoved(t,e.get("orderId")),e},add:function(e){return e?(e=this._toGanttTask(e),this.insert(this.taskSiblings(e).length,e)):t},insert:function(e,n){return n?(n=this._toGanttTask(n),n.set("orderId",e),n=b.fn.insert.call(this,e,n),this._reorderSiblings(n,this.taskSiblings(n).length-1),this._resolveSummaryFields(this.taskParent(n)),n):t},taskChildren:function(e){var n,r=this.view(),i={field:"parentId",operator:"eq",value:null},s=this._sort||{field:"orderId",dir:"asc"};if(e){if(n=e.get("id"),n===t||null===n||""===n)return[];i.value=n}return r=(new S(r)).filter(i).sort(s).toArray()},taskAllChildren:function(e){var t=[],n=this,r=function(e){var i=n.taskChildren(e);t.push.apply(t,i),A(i,r)};return e?r(e):t=this.view(),t},taskSiblings:function(e){if(!e)return null;var t=this.taskParent(e);return this.taskChildren(t)},taskParent:function(e){return e&&null!==e.get("parentId")?this.get(e.parentId):null},taskLevel:function(e){for(var t=0,n=this.taskParent(e);null!==n;)t+=1,n=this.taskParent(n);return t},taskTree:function(e){var t,n,r,i,s=[],o=this.taskChildren(e);for(n=0,r=o.length;r>n;n++)t=o[n],s.push(t),t.get("expanded")&&(i=this.taskTree(t),s.push.apply(s,i));return s},update:function(e,n){var r,i,s=this,o=function(e,t){var n,r,i=s.taskAllChildren(e);for(n=0,r=i.length;r>n;n++)i[n]._offset(t)},u=function(e){var t=e.field,n=e.sender;switch(t){case"start":s._resolveSummaryStart(s.taskParent(n)),o(n,n.get(t).getTime()-r.getTime());break;case"end":s._resolveSummaryEnd(s.taskParent(n));break;case"percentComplete":s._resolveSummaryPercentComplete(s.taskParent(n));break;case"orderId":s._reorderSiblings(n,r)}};n.parentId!==t&&(r=e.get("parentId"),r!==n.parentId&&(e.set("parentId",n.parentId),s._childRemoved(r,e.get("orderId")),e.set("orderId",s.taskSiblings(e).length-1),s._resolveSummaryFields(s.taskParent(e))),delete n.parentId),e.bind("change",u);for(i in n)r=e.get(i),e.set(i,n[i]);e.unbind("change",u)},_resolveSummaryFields:function(e){e&&(this._updateSummary(e),this.taskChildren(e).length&&(this._resolveSummaryStart(e),this._resolveSummaryEnd(e),this._resolveSummaryPercentComplete(e)))},_resolveSummaryStart:function(e){var t=this,n=function(e){var n,r,i,s=t.taskChildren(e),o=s[0].start.getTime();for(r=1,i=s.length;i>r;r++)n=s[r].start.getTime(),o>n&&(o=n);return new Date(o)};this._updateSummaryRecursive(e,"start",n)},_resolveSummaryEnd:function(e){var t=this,n=function(e){var n,r,i,s=t.taskChildren(e),o=s[0].end.getTime();for(r=1,i=s.length;i>r;r++)n=s[r].end.getTime(),n>o&&(o=n);return new Date(o)};this._updateSummaryRecursive(e,"end",n)},_resolveSummaryPercentComplete:function(e){var t=this,n=function(e){var n=t.taskChildren(e),r=(new S(n)).aggregate([{field:"percentComplete",aggregate:"average"}]);return r.percentComplete.average};this._updateSummaryRecursive(e,"percentComplete",n)},_updateSummaryRecursive:function(e,t,n){var r,i;e&&(r=n(e),e.set(t,r),i=this.taskParent(e),i&&this._updateSummaryRecursive(i,t,n))},_childRemoved:function(e,t){var n,r,i=null===e?null:this.get(e),s=this.taskChildren(i);for(n=t,r=s.length;r>n;n++)s[n].set("orderId",n);this._resolveSummaryFields(i)},_reorderSiblings:function(e,t){var n,r=e.get("orderId"),i=r>t,s=i?t:r,o=i?r:t,u=i?s:s+1,a=this.taskSiblings(e);for(o=Math.min(o,a.length-1),n=s;o>=n;n++)a[n]!==e&&(a[n].set("orderId",u),u+=1)},_updateSummary:function(e){if(null!==e){var t=this.taskChildren(e).length;e.set("summary",t>0)}},_toGanttTask:function(e){if(!(e instanceof u)){var t=e;e=this._createNewModel(),e.accept(t)}return e}}),a.create=Z(a,"GanttDataSource"),k(!0,d.data,{GanttDataSource:a,GanttTask:u,GanttDependencyDataSource:tt,GanttDependency:et}),f={desktop:{dateRange:J,resources:K}},l=d.Observable.extend({init:function(e,t){d.Observable.fn.init.call(this),this.element=e,this.options=k(!0,{},this.options,t),this.createButton=this.options.createButton},fields:function(t,n){var r,i=this,s=this.options,o=s.messages.editor,u=s.resources,a=function(e){e.preventDefault(),u.editor(i.container.find(R+p.styles.popup.resourcesField),n)};return s.editable.template?r=e.map(n.fields,function(e,t){return{field:t}}):(r=[{field:"title",title:o.title},{field:"start",title:o.start,editor:t.dateRange},{field:"end",title:o.end,editor:t.dateRange},{field:"percentComplete",title:o.percentComplete,format:_}],n.get(u.field)&&r.push({field:u.field,title:o.resources,messages:o,editor:t.resources,click:a,styles:p.styles.popup})),r},_buildEditTemplate:function(e,t,n){var r,i,s,o,u=this.options.resources,a=this.options.editable.template,f=k({},d.Template,this.options.templateSettings),l=f.paramName,c=p.styles.popup,h="";if(a)typeof a===B&&(a=window.unescape(a)),h+=d.template(a,f)(e);else for(r=0,i=t.length;i>r;r++)s=t[r],h+='<div class="'+c.editLabel+'"><label for="'+s.field+'">'+(s.title||s.field||"")+"</label></div>",s.field===u.field&&(h+='<div class="'+c.resourcesField+'" style="display:none"></div>'),!e.editable||e.editable(s.field)?(n.push(s),h+="<div "+d.attr("container-for")+'="'+s.field+'" class="'+c.editField+'"></div>'):(o="#:",s.field?(s=d.expr(s.field,l),o+=s+"==null?'':"+s):o+="''",o+="#",o=d.template(o,f),h+='<div class="'+c.editField+'">'+o(e)+"</div>");return h}}),c=l.extend({destroy:function(){this.close(),this.unbind()},editTask:function(e){this.editable=this._createPopupEditor(e)},close:function(){var e=this,t=function(){e.editable&&(e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};this.editable&&this.container.is(":visible")?this.container.data("kendoWindow").bind("deactivate",t).close():t()},showDialog:function(t){var n,r,i,s,o=t.buttons,u=p.styles.popup,a=d.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',u.form,u.formContainer,u.message,t.text,u.buttonsContainer);for(n=0,r=o.length;r>n;n++)a+=this.createButton(o[n]);a+="</div></div></div>",i=this.element,this.popup&&this.popup.destroy(),s=this.popup=e(a).appendTo(i).eq(0).on("click",R+u.button,function(t){t.preventDefault(),s.close();var n=e(t.currentTarget).index();o[n].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),i.focus()}}).getKendoWindow(),s.center().open()},_createPopupEditor:function(t){var n,r,i=this,s={},o=this.options.messages,u=p.styles,a=u.popup,l=d.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',d.attr("uid"),t.uid,a.form,a.editForm,a.formContainer),c=this.fields(f.desktop,t),h=[];return l+=this._buildEditTemplate(t,c,h),l+='<div class="'+a.buttonsContainer+'">',l+=this.createButton({name:"update",text:o.save,className:p.styles.primary}),l+=this.createButton({name:"cancel",text:o.cancel}),l+=this.createButton({name:"delete",text:o.destroy}),l+="</div></div></div>",n=this.container=e(l).appendTo(this.element).eq(0).kendoWindow(k({modal:!0,resizable:!1,draggable:!0,title:o.editor.editorTitle,visible:!1,close:function(e){e.userTriggered&&i.trigger("cancel",{container:n,model:t})&&e.preventDefault()}},s)),r=n.kendoEditable({fields:h,model:t,clearContainer:!1,validateOnBlur:!0,target:i.options.target}).data("kendoEditable"),d.cycleForm(n),this.trigger("edit",{container:n,model:t})?i.trigger("cancel",{container:n,model:t}):(n.data("kendoWindow").center().open(),n.on(P+M,R+u.buttonCancel,function(e){e.preventDefault(),e.stopPropagation(),i.trigger("cancel",{container:n,model:t})}),n.on(P+M,R+u.buttonSave,function(e){var r,s,o,u,a;for(e.preventDefault(),e.stopPropagation(),r=i.fields(f.desktop,t),s={},u=0,a=r.length;a>u;u++)o=r[u].field,s[o]=t.get(o);i.trigger("save",{container:n,model:t,updateInfo:s})}),n.on(P+M,R+u.buttonDelete,function(e){e.preventDefault(),e.stopPropagation(),i.trigger("remove",{container:n,model:t})})),r}}),h=y.extend({init:function(e,t){y.fn.init.call(this,e,t),this.wrapper=this.element,this.model=this.options.model,this.resourcesField=this.options.resourcesField,this.createButton=this.options.createButton,this._initContainer(),this._attachHandlers()},events:["save"],open:function(){this.window.center().open(),this.grid.resize(!0)},close:function(){this.window.bind("deactivate",C(this.destroy,this)).close()},destroy:function(){this._dettachHandlers(),this.grid.destroy(),this.grid=null,this.window.destroy(),this.window=null,y.fn.destroy.call(this),d.destroy(this.wrapper),this.element=this.wrapper=null},_attachHandlers:function(){var t=p.styles,n=this.grid,r=this._cancelProxy=C(this._cancel,this);this.container.on(P+M,R+t.buttonCancel,this._cancelProxy),this._saveProxy=C(this._save,this),this.container.on(P+M,R+t.buttonSave,this._saveProxy),this.window.bind("close",function(e){e.userTriggered&&r(e)}),n.wrapper.on(P+M,"input[type='checkbox']",function(){var t=e(this),r=e(t).closest("tr"),i=n.dataSource.getByUid(r.attr(d.attr("uid"))),s=e(t).is(":checked")?1:"";i.set("value",s)})},_dettachHandlers:function(){this._cancelProxy=null,this._saveProxy=null,this.container.off(M),this.grid.wrapper.off()},_cancel:function(e){e.preventDefault(),this.close()},_save:function(e){e.preventDefault(),this._updateModel(),this.wrapper.is(R+p.styles.popup.resourcesField)||this.trigger("save",{container:this.wrapper,model:this.model}),this.close()},_initContainer:function(){var t=p.styles.popup,n=d.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',t.form,t.editForm,t.formContainer,t.resourcesFormContainer);n=e(n),this.container=n.find(R+t.resourcesFormContainer),this.window=n.kendoWindow({modal:!0,resizable:!1,draggable:!0,visible:!1,title:this.options.messages.resourcesEditorTitle}).data("kendoWindow"),this._resourceGrid(),this._createButtons()},_resourceGrid:function(){var t=this,n=this.options.messages,r=e('<div id="resources-grid"/>').appendTo(this.container);this.grid=new d.ui.Grid(r,{columns:[{field:"name",title:n.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'# if (value > 0 && value !== null) {#checked='checked'# } #/>#=name#</labe>"},{field:"value",title:n.unitsHeader,template:function(e){var t=e.format,n=null!==e.value?e.value:"";return t?d.toString(n,t):n}}],height:280,sortable:!0,editable:!0,filterable:!0,dataSource:{data:t.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:!1},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(e){var t=!!e.values.value;e.container.parent().find("input[type='checkbox']").prop("checked",t)}})},_createButtons:function(){var e,t,n=this.options.buttons,r='<div class="'+p.styles.popup.buttonsContainer+'">';for(e=0,t=n.length;t>e;e++)r+=this.createButton(n[e]);r+="</div>",this.container.append(r)},_updateModel:function(){var e,t,n,r=[],i=this.grid.dataSource.data();for(t=0,n=i.length;n>t;t++)e=i[t].get("value"),null!==e&&e>0&&r.push(i[t]);this.model[this.resourcesField]=r}}),p=y.extend({init:function(e,t){x(t)&&(t={dataSource:t}),y.fn.init.call(this,e,t),this._wrapper(),this._resources(),this._timeline(),this._toolbar(),this._footer(),this._adjustDimensions(),this._preventRefresh=!0,this.view(this.timeline._selectedViewName),this._preventRefresh=!1,this._dataSource(),this._assignments(),this._dropDowns(),this._list(),this._dependencies(),this._resizable(),this._scrollable(),this._dataBind(),this._attachEvents(),this._createEditor(),d.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd"],options:{name:"Gantt",autoBind:!0,navigatable:!1,selectable:!0,editable:!0,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:U,deleteDependencyConfirmation:z,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:!0,showWorkDays:!0,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:!0,height:600,listWidth:"30%"},select:function(e){var n=this.list;return e?(n.select(e),t):n.select()},clearSelection:function(){this.list.clearSelection()},destroy:function(){y.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource.unbind("progress",this._progressHandler),this.dataSource.unbind("error",this._errorHandler)),this.dependencies&&(this.dependencies.unbind("change",this._dependencyRefreshHandler),this.dependencies.unbind("error",this._dependencyErrorHandler)),this.timeline&&(this.timeline.unbind(),this.timeline.destroy()),this.list&&(this.list.unbind(),this.list.destroy()),this.footerDropDown&&this.footerDropDown.destroy(),this.headerDropDown&&this.headerDropDown.destroy(),this._editor&&this._editor.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.toolbar.off(M),e(window).off("resize"+M,this._resizeHandler),e(this.wrapper).off(M),this.toolbar=null,this.footer=null},_attachEvents:function(){this._resizeHandler=C(this.resize,this,!1),e(window).on("resize"+M,this._resizeHandler)},_wrapper:function(){var e=p.styles,t=[e.icon,e.resizeHandle].join(" "),n=this.options,r=n.height,i=n.width;this.wrapper=this.element.addClass(e.wrapper).append("<div class='"+e.listWrapper+"'><div></div></div>").append("<div class='"+e.splitBarWrapper+"'><div class='"+t+"'></div></div>").append("<div class='"+e.timelineWrapper+"'><div></div></div>"),this.wrapper.find(R+e.list).width(n.listWidth),r&&this.wrapper.height(r),i&&this.wrapper.width(i)},_toolbar:function(){var t,n,r=this,i=p.styles,s=R+i.toolbar.views+" > li",o=R+i.toolbar.pdfButton,u=i.hovered,a=this.options.toolbar,f=e("<div class='"+i.toolbar.actions+"'>");N(a)||(a=typeof a===B?a:this._actions(a),a=C(d.template(a),this)),n=e(V({ns:d.ns,views:this.timeline.views,styles:i.toolbar})),f.append(a({})),t=e("<div class='"+i.toolbar.headerWrapper+"'>").append(f).append(n),this.wrapper.prepend(t),this.toolbar=t,t.on(P+M,s,function(t){var n,i;t.preventDefault(),n=r.list,i=e(this).attr(d.attr("name")),n.editable&&n.editable.trigger("validate")||r.trigger("navigate",{view:i})||r.view(i)}).on(P+M,o,function(){r.saveAsPDF()}),this.wrapper.find(R+i.toolbar.toolbar+" li").hover(function(){e(this).addClass(u)},function(){e(this).removeClass(u)})},_actions:function(){var e,t,n=this.options,r=n.toolbar,i="";if(!x(r)){if(!n.editable)return i;r=["append"]}for(e=0,t=r.length;t>e;e++)i+=this._createButton(r[e]);return i},_footer:function(){var t,n,r,i,s;this.options.editable&&(t=p.styles.toolbar,n=this.options.messages.actions,r=e(d.template(W)(k(!0,{styles:t},G.append,{text:n.append}))),i=e("<div class='"+t.actions+"'>").append(r),s=e("<div class='"+t.footerWrapper+"'>").append(i),this.wrapper.append(s),this.footer=s)},_createButton:function(e){var t=e.template||W,n=this.options.messages.actions,r=typeof e===B?e:e.name||e.text,i=G[r]?G[r].className:"k-gantt-"+(r||"").replace(/\s/g,""),s={iconClass:"",action:"",text:r,className:i,styles:p.styles.toolbar};if(!(r||L(e)&&e.template))throw Error("Custom commands should have name specified");return s=k(!0,s,G[r],{text:n[r]}),L(e)&&(e.className&&T(s.className,e.className.split(" "))<0&&(e.className+=" "+s.className),s=k(!0,s,e)),d.template(t)(s)},_adjustDimensions:function(){var e=this.element,t=p.styles,n=R+t.list,r=R+t.timeline,i=R+t.splitBar,s=this.toolbar.outerHeight(),o=this.footer?this.footer.outerHeight():0,u=e.height(),a=e.width(),f=e.find(i).outerWidth(),l=e.find(n).outerWidth();e.children([n,r,i].join(",")).height(u-(s+o)).end().children(r).width(a-(f+l))},_scrollTo:function(e){var t=this.timeline.view(),r=d.attr("uid"),i="string"==typeof e?e:e.closest("tr"+n()).attr(r),s=t.content.find(n(i));0!==s.length&&t._scrollTo(s)},_dropDowns:function(){var e=this,t=R+p.styles.toolbar.actions,n=this.options.messages.actions,r=this.dataSource,i=this.timeline,s=function(t){var n,s=t.type,o=r._createNewModel(),u=e.dataItem(e.select()),a=r.taskParent(u),f=i.view()._timeSlots()[0],l="add"===s?u:a,c=e.list.editable;c&&c.trigger("validate")||(o.set("title","New task"),l?(o.set("parentId",l.get("id")),o.set("start",l.get("start")),o.set("end",l.get("end"))):(o.set("start",f.start),o.set("end",f.end)),"add"!==s&&(n=u.get("orderId"),n="insert-before"===s?n:n+1),e._createTask(o,n))};this.options.editable&&(this.footerDropDown=new Y(this.footer.children(t).eq(0),{messages:{actions:n},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:e.options.navigatable}),this.headerDropDown=new Y(this.toolbar.children(t).eq(0),{messages:{actions:n},navigatable:e.options.navigatable}),this.footerDropDown.bind("command",s),this.headerDropDown.bind("command",s))},_list:function(){var e,t,n=this,r=n.options.navigatable,i=p.styles,o=this.wrapper.find(R+i.list),u=o.find("> div"),a=this.wrapper.find(R+i.toolbar.actions+" > button"),f={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,listWidth:o.outerWidth(),resourcesField:this.resources.field},l=f.columns,c=function(){r&&(n._current(n._cachedCurrent),s(n.list.content.find("table"),!0)),delete n._cachedCurrent};for(t=0;l.length>t;t++)e=l[t],e.field===this.resources.field&&"function"!=typeof e.editor&&(e.editor=C(this._createResourceEditor,this));this.list=new d.ui.GanttList(u,f),this.list.bind("render",function(){n._navigatable()},!0).bind("edit",function(e){n._cachedCurrent=e.cell,n.trigger("edit",{task:e.model,container:e.cell})&&e.preventDefault()}).bind("cancel",function(e){n.trigger("cancel",{task:e.model,container:e.cell})&&e.preventDefault(),c()}).bind("update",function(e){n._updateTask(e.task,e.updateInfo),c()}).bind("change",function(){n.trigger("change");var e=n.list.select();e.length?(a.removeAttr("data-action","add"),n.timeline.select("[data-uid='"+e.attr("data-uid")+"']")):(a.attr("data-action","add"),n.timeline.clearSelection())})},_timeline:function(){var e=this,n=p.styles,i=r(k(!0,{resourcesField:this.resources.field},this.options)),s=this.wrapper.find(R+n.timeline+" > div");this.timeline=new d.ui.GanttTimeline(s,i),this.timeline.bind("navigate",function(t){e.toolbar.find(R+n.toolbar.views+" > li").removeClass(n.selected).end().find(R+n.toolbar.viewButton+"-"+t.view.replace(/\./g,"\\.").toLowerCase()).addClass(n.selected),e.refresh()}).bind("moveStart",function(n){var r=e.list.editable;return r&&r.trigger("validate")?(n.preventDefault(),t):(e.trigger("moveStart",{task:n.task})&&n.preventDefault(),t)}).bind("move",function(t){var n=t.task,r=t.start,i=new Date(r.getTime()+n.duration());e.trigger("move",{task:n,start:r,end:i})&&t.preventDefault()}).bind("moveEnd",function(t){var n=t.task,r=t.start,i=new Date(r.getTime()+n.duration());e.trigger("moveEnd",{task:n,start:r,end:i})||e._updateTask(e.dataSource.getByUid(n.uid),{start:r,end:i})}).bind("resizeStart",function(n){var r=e.list.editable;return r&&r.trigger("validate")?(n.preventDefault(),t):(e.trigger("resizeStart",{task:n.task})&&n.preventDefault(),t)}).bind("resize",function(t){e.trigger("resize",{task:t.task,start:t.start,end:t.end})&&t.preventDefault()}).bind("resizeEnd",function(t){var n=t.task,r={};t.resizeStart?r.start=t.start:r.end=t.end,e.trigger("resizeEnd",{task:n,start:t.start,end:t.end})||e._updateTask(e.dataSource.getByUid(n.uid),r)}).bind("percentResizeStart",function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault()}).bind("percentResizeEnd",function(t){e._updateTask(e.dataSource.getByUid(t.task.uid),{percentComplete:t.percentComplete})}).bind("dependencyDragStart",function(t){var n=e.list.editable;n&&n.trigger("validate")&&t.preventDefault()}).bind("dependencyDragEnd",function(t){var n=e.dependencies._createNewModel({type:t.type,predecessorId:t.predecessor.id,successorId:t.successor.id});e._createDependency(n)}).bind("select",function(t){var n=e.list.editable;n&&n.trigger("validate"),e.select("[data-uid='"+t.uid+"']")}).bind("editTask",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.editTask(t.uid)}).bind("clear",function(){e.clearSelection()}).bind("removeTask",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeTask(e.dataSource.getByUid(t.uid))}).bind("removeDependency",function(t){var n=e.list.editable;n&&n.trigger("validate")||e.removeDependency(e.dependencies.getByUid(t.uid))})},_dataSource:function(){var e=this.options,t=e.dataSource;t=x(t)?{data:t}:t,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=C(this.refresh,this),this._progressHandler=C(this._requestStart,this),this._errorHandler=C(this._error,this)),this.dataSource=d.data.GanttDataSource.create(t).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var e=this.options.dependencies||{},t=x(e)?{data:e}:e;this.dependencies&&this._dependencyRefreshHandler?this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler):(this._dependencyRefreshHandler=C(this.refreshDependencies,this),this._dependencyErrorHandler=C(this._error,this)),this.dependencies=d.data.GanttDependencyDataSource.create(t).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var e=this.options.resources,t=e.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"},k(this.resources,e),this.resources.dataSource=d.data.DataSource.create(t)},_assignments:function(){var e=this.options.assignments,t=e.dataSource||{};this.assignments?this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler):this._assignmentsRefreshHandler=C(this.refresh,this),this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"},k(this.assignments,e),this.assignments.dataSource=d.data.DataSource.create(t),this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(){var e=this,n=this._editor=new c(this.wrapper,k({},this.options,{target:this,resources:{field:this.resources.field,editor:C(this._createResourceEditor,this)},createButton:C(this._createPopupButton,this)}));n.bind("cancel",function(n){var r=e.dataSource.getByUid(n.model.uid);return e.trigger("cancel",{container:n.container,task:r})?(n.preventDefault(),t):(e.cancelTask(),t)}).bind("edit",function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger("edit",{container:t.container,task:n})&&t.preventDefault()}).bind("save",function(t){var n=e.dataSource.getByUid(t.model.uid);e.saveTask(n,t.updateInfo)}).bind("remove",function(t){e.removeTask(t.model.uid)})},_createResourceEditor:function(e,t){var n=this,r=t instanceof w?t:t.model,i=r.get("id"),s=this.options.messages,o=n.resources.field,u=this._resourceEditor=new h(e,{resourcesField:o,data:this._wrapResourceData(i),model:r,messages:k({},s.editor),buttons:[{name:"update",text:s.save,className:p.styles.primary},{name:"cancel",text:s.cancel}],createButton:C(this._createPopupButton,this),save:function(e){n._updateAssignments(e.model.get("id"),e.model.get(o))}});u.open()},_createPopupButton:function(e){var t=e.name||e.text,n={className:p.styles.popup.button+" k-gantt-"+(t||"").replace(/\s/g,""),text:t,attr:""};if(!(t||L(e)&&e.template))throw Error("Custom commands should have name specified");return L(e)&&(e.className&&(e.className+=" "+n.className),n=k(!0,n,e)),d.template(X)(n)},view:function(e){return this.timeline.view(e)},dataItem:function(e){var t,n;return e?(t=this.list,n=t.content.find(e),t._modelFromElement(n)):null},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.list._setDataSource(this.dataSource),this.options.autoBind&&e.fetch()},setDependenciesDataSource:function(e){this.options.dependencies=e,this._dependencies(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(e,t){for(var n,r,i,s,o,u,a,f=this.assignments.dataSource,l=this.assignments.dataTaskIdField,c=this.assignments.dataResourceIdField,h=!1,p=(new S(f.view())).filter({field:l,operator:"eq",value:e}).toArray();p.length;){for(n=p[0],s=0,o=t.length;o>s;s++)if(r=t[s],n.get(c)===r.get("id")){i=t[s].get("value"),this._updateAssignment(n,i),t.splice(s,1),h=!0;break}h||this._removeAssignment(n),h=!1,p.shift()}for(u=0,a=t.length;a>u;u++)r=t[u],this._createAssignment(r,e);f.sync()},cancelTask:function(){var e=this._editor,t=e.container;t&&e.close()},editTask:function(e){var t,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&(t=this.dataSource._createNewModel(n.toJSON()),t.uid=n.uid,this.cancelTask(),this._editTask(t))},_editTask:function(e){this._editor.editTask(e)},saveTask:function(e,t){var n=this._editor,r=n.container,i=n.editable;r&&i&&i.end()&&this._updateTask(e,t)},_updateTask:function(e,t){var n=this.resources.field;this.trigger("save",{task:e,values:t})||(this._preventRefresh=!0,this.dataSource.update(e,t),t[n]&&this._updateAssignments(e.get("id"),t[n]),this._syncDataSource())},_updateAssignment:function(e,t){var n=this.assignments.dataValueField;e.set(n,t)},removeTask:function(e){var t=this,n="string"==typeof e?this.dataSource.getByUid(e):e;n&&this._taskConfirm(function(e){e||t._removeTask(n)},n)},_createTask:function(e,n){if(!this.trigger("add",{task:e,dependency:null})){var r=this.dataSource;this._preventRefresh=!0,n===t?r.add(e):r.insert(n,e),this._scrollToUid=e.uid,this._syncDataSource()}},_createDependency:function(e){this.trigger("add",{task:null,dependency:e})||(this._preventDependencyRefresh=!0,this.dependencies.add(e),this._preventDependencyRefresh=!1,this.dependencies.sync())},_createAssignment:function(e,t){var n=this.assignments,r=n.dataSource,i=n.dataTaskIdField,s=n.dataResourceIdField,o=n.dataValueField,u=r._createNewModel();u[i]=t,u[s]=e.get("id"),u[o]=e.get("value"),r.add(u)},removeDependency:function(e){var t=this,n="string"==typeof e?this.dependencies.getByUid(e):e;n&&this._dependencyConfirm(function(e){e||t._removeDependency(n)},n)},_removeTaskDependencies:function(e,t){this._preventDependencyRefresh=!0;for(var n=0,r=t.length;r>n;n++)this.dependencies.remove(t[n]);this._preventDependencyRefresh=!1,this.dependencies.sync()},_removeTaskAssignments:function(e){var t,n,r=this.assignments.dataSource,i=r.view(),s={field:this.assignments.dataTaskIdField,operator:"eq",value:e.get("id")};for(i=(new S(i)).filter(s).toArray(),this._preventRefresh=!0,t=0,n=i.length;n>t;t++)r.remove(i[t]);this._preventRefresh=!1,r.sync()},_removeTask:function(e){var t=this.dependencies.dependencies(e.id);this.trigger("remove",{task:e,dependencies:t})||(this._removeTaskDependencies(e,t),this._removeTaskAssignments(e),this._preventRefresh=!0,this.dataSource.remove(e)&&this._syncDataSource(),this._preventRefresh=!1)},_removeDependency:function(e){this.trigger("remove",{task:null,dependencies:[e]})||this.dependencies.remove(e)&&this.dependencies.sync()},_removeAssignment:function(e){this.assignments.dataSource.remove(e)},_taskConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteTaskConfirmation,title:n.deleteTaskWindowTitle})},_dependencyConfirm:function(e,t){var n=this.options.messages;this._confirm(e,{model:t,text:n.deleteDependencyConfirmation,title:n.deleteDependencyWindowTitle})},_confirm:function(e,t){var n,r,i=this.options.editable;i===!0||i.confirmation!==!1?(n=this.options.messages,r=[{name:"delete",text:n.destroy,className:p.styles.primary,click:function(){e()}},{name:"cancel",text:n.cancel,click:function(){e(!0)}}],this.showDialog(k(!0,{},t,{buttons:r}))):e()},showDialog:function(e){this._editor.showDialog(e)},refresh:function(){var e,t,r,i,s,o;this._preventRefresh||this.list.editable||(this._progress(!1),e=this.dataSource,t=e.taskTree(),r=this._scrollToUid,o=-1,this.current&&(s=this.current.closest("tr").attr(d.attr("uid")),o=this.current.index()),this.trigger("dataBinding")||(0!==this.resources.dataSource.data().length&&this._assignResources(t),this._editor&&this._editor.close(),this.clearSelection(),this.list._render(t),this.timeline._render(t),this.timeline._renderDependencies(this.dependencies.view()),r&&(this._scrollTo(r),this.select(n(r))),(r||s)&&o>=0&&(i=this.list.content.find("tr"+n(r||s)+" > td:eq("+o+")"),this._current(i)),this._scrollToUid=null,this.trigger("dataBound")))},refreshDependencies:function(){this._preventDependencyRefresh||this.trigger("dataBinding")||(this.timeline._renderDependencies(this.dependencies.view()),this.trigger("dataBound"))},_assignResources:function(e){var t,n,r=this.resources,i=this.assignments,s=function(){var e=i.dataSource.view(),t={field:i.dataTaskIdField};return e=(new S(e)).group(t).toArray()},o=s(),u=function(e,t){var n,i,s=e.get("id");for(d.setter(r.field)(e,new E([])),n=0,i=o.length;i>n;n++)o[n].value===s&&t(e,o[n].items)},a=function(e,t){var n,s,o,u,a,f,l,c;for(n=0,s=t.length;s>n;n++)o=t[n],u=r.dataSource.get(o.get(i.dataResourceIdField)),a=o.get(i.dataValueField),f=o.get(i.dataResourceIdField),l=u.get(r.dataFormatField)||_,c=d.toString(a,l),e[r.field].push(new w({id:f,name:u.get(r.dataTextField),color:u.get(r.dataColorField),value:a,formatedValue:c}))};for(t=0,n=e.length;n>t;t++)u(e[t],a)},_wrapResourceData:function(e){var t,n,r,i=this,s=[],o=this.resources.dataSource.view(),u=this.assignments.dataSource.view(),a=(new S(u)).filter({field:i.assignments.dataTaskIdField,operator:"eq",value:e}).toArray(),f=function(e){var t=null;return(new S(a)).filter({field:i.assignments.dataResourceIdField,operator:"eq",value:e}).select(function(e){t+=e.get(i.assignments.dataValueField)}),t};for(n=0,r=o.length;r>n;n++)t=o[n],s.push({id:t.get("id"),name:t.get(i.resources.dataTextField),format:t.get(i.resources.dataFormatField)||_,value:f(t.id)});return s},_syncDataSource:function(){this._preventRefresh=!1,this._requestStart(),this.dataSource.sync()},_requestStart:function(){this._progress(!0)},_error:function(){this._progress(!1)},_progress:function(e){d.ui.progress(this.element,e)},_resizable:function(){var t,n,r,i=this,s=this.wrapper,o=p.styles,u=R+o.gridContent,a=s.find(R+o.list),f=s.find(R+o.timeline);this._resizeDraggable=s.find(R+o.splitBar).height(a.height()).hover(function(){e(this).addClass(o.splitBarHover)},function(){e(this).removeClass(o.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:R+o.splitBar,start:function(){t=a.width(),n=f.width(),r=f.find(u).scrollLeft()},resize:function(e){var o=e.x.initialDelta;d.support.isRtl(s)&&(o*=-1),0>t+o||0>n-o||(a.width(t+o),f.width(n-o),f.find(u).scrollLeft(r+o),i.timeline.view()._renderCurrentTime())}}).data("kendoResizable")},_scrollable:function(){var t=p.styles,n=R+t.gridContent,r=R+t.gridHeaderWrap,i=this.timeline.element.find(r),s=this.timeline.element.find(n),o=this.list.element.find(r),u=this.list.element.find(n);m&&u.css("overflow-y","auto"),s.on("scroll",function(){i.scrollLeft(this.scrollLeft),u.scrollTop(this.scrollTop)}),u.on("scroll",function(){o.scrollLeft(this.scrollLeft),s.scrollTop(this.scrollTop)}).on("DOMMouseScroll"+M+" mousewheel"+M,function(t){var n=s.scrollTop(),r=d.wheelDeltaY(t);r&&(t.preventDefault(),e(t.currentTarget).one("wheel"+M,!1),s.scrollTop(n+ -r))})},_navigatable:function(){var r,i=this,o=this.options.navigatable,u=this.options.editable,a=this.list.header.find("table"),f=this.list.content.find("table"),l=p.styles,c=d.support.isRtl(this.wrapper),h=this.timeline.element.find(R+l.gridContent),v=a.add(f),m=n(),g={collapse:!1,expand:!0},y=function(e){var t=i.timeline.view()._timeSlots()[0].offsetWidth;h.scrollLeft(h.scrollLeft()+(e?-t:t))},b=function(e){var t=i.current.parent("tr"+n()),r=i.current.index(),o=t[e]();0!==i.select().length&&i.clearSelection(),0!==o.length?(i._current(o.children("td:eq("+r+")")),i._scrollTo(i.current)):i.current.is("td")&&"prev"==e?s(a):i.current.is("th")&&"next"==e&&s(f)},w=function(e){var t=i.current[e]();0!==t.length&&(i._current(t),r=i.current.index())},E=function(e){var t=i.dataItem(i.current);t.summary&&t.expanded!==e&&t.set("expanded",e)},S=function(){var e,t;i.options.editable&&!i.list.editable&&(e=i.select(),t=d.attr("uid"),e.length&&i.removeTask(e.attr(t)))};return e(this.wrapper).on("mousedown"+M,"tr"+m+", div"+m+":not("+R+l.line+")",function(t){var r,a=e(t.currentTarget),f=e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");t.ctrlKey||(o&&(r=a.is("tr")?e(t.target).closest("td"):i.list.content.find("tr"+n(a.attr(d.attr("uid")))+" > td:first"),i._current(r)),!o&&!u||f||(i._focusTimeout=setTimeout(function(){s(i.list.content.find("table"),!0)},2)))}),o!==!0?(f.on("keydown"+M,function(e){e.keyCode==O.DELETE&&S()}),t):(v.on("focus"+M,function(){var t=this===f.get(0)?"td":"th",n=(e(this),i.select()),s=i.current||e(n.length?n:this).find(t+":eq("+(r||0)+")");i._current(s)}).on("blur"+M,function(){i._current(),this==a&&e(this).attr(D,-1)}).on("keydown"+M,function(e){var t,n=e.keyCode;if(i.current)switch(t=i.current.is("td"),n){case O.RIGHT:e.preventDefault(),e.altKey?y():e.ctrlKey?E(c?g.collapse:g.expand):w(c?"prev":"next");break;case O.LEFT:e.preventDefault(),e.altKey?y(!0):e.ctrlKey?E(c?g.expand:g.collapse):w(c?"next":"prev");break;case O.UP:e.preventDefault(),b("prev");break;case O.DOWN:e.preventDefault(),b("next");break;case O.SPACEBAR:e.preventDefault(),t&&i.select(i.current.closest("tr"));break;case O.ENTER:e.preventDefault(),t?i.options.editable&&(i._cachedCurrent=i.current,i.list._startEditHandler(i.current),e.stopPropagation()):i.current.children("a.k-link").click();break;case O.ESC:e.stopPropagation();break;case O.DELETE:t&&S();break;default:n>=49&&57>=n&&i.view(i.timeline._viewByIndex(n-49))}}),t)},_current:function(t){var n,r=p.styles;this.current&&this.current.length&&this.current.removeClass(r.focused).removeAttr("id"),t&&t.length?(this.current=t.addClass(r.focused).attr("id",I),n=e(d._activeElement()),n.is("table")&&this.wrapper.find(n).length>0&&n.removeAttr(F).attr(F,I)):this.current=null},_dataBind:function(){var t,n=this;n.options.autoBind&&(this._preventRefresh=!0,this._preventDependencyRefresh=!0,t=e.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(e){return e.fetch()}),e.when.apply(null,t).done(function(){n._preventRefresh=!1,n._preventDependencyRefresh=!1,n.refresh()}))},_resize:function(){this._adjustDimensions(),this.timeline.view()._adjustHeight(),this.timeline.view()._renderCurrentTime(),this.list._adjustHeight()}}),d.PDFMixin&&(d.PDFMixin.extend(p.fn),p.fn._drawPDF=function(){var e="."+Q.list,t=this.wrapper.find(e).width(),n=this.wrapper.clone();return n.find(e).css("width",t),this._drawPDFShadow({content:n})}),d.ui.plugin(p),k(!0,p,{styles:Q})}(window.kendo.jQuery),function(e,t){function n(e){return function(t){return t[e]}}function r(e){return function(t){return!e(t)}}function i(){return"none"!==this.style.display}function s(n){var r,i=n.find(">tr:not(.k-filter-row)"),s=function(){var t=e(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},o=e();return i.length>1&&(o=i.find("th").filter(s).filter(function(){return this.rowSpan>1})),o=o.add(i.last().find("th").filter(s)),r=kendo.attr("index"),o.sort(function(n,i){var s,o;return n=e(n),i=e(i),s=n.attr(r),o=i.attr(r),s===t&&(s=e(n).index()),o===t&&(o=e(i).index()),s=parseInt(s,10),o=parseInt(o,10),s>o?1:o>s?-1:0}),o}function o(e){var t,n,r=[],i=e.className;for(t=0,n=e.level;n>t;t++)r.push(m("span",{className:i}));return r}function u(e){var t,n,r,i=0;for(n=0,r=e.length;r>n;n++)t=e[n].style.width,t&&-1==t.indexOf("%")&&(i+=parseInt(t,10));return i}function a(e,t){var n,r,i,s;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,r=t.offsetHeight,n>r?(i=t.rows[t.rows.length-1],s=n-r):(i=e.rows[e.rows.length-1],s=r-n),i.style.height=i.offsetHeight+s+"px")}var f,l,c,h,p=kendo.data,d=e.extend,v=kendo.dom,m=v.element,g=v.text,y=v.html,b=kendo.ui,w=b.DataBoundWidget,E=p.DataSource,S=p.ObservableArray,x=p.Query,T=p.Model,N=e.proxy,C=e.map,k=e.grep,L=e.inArray,A=e.isPlainObject,O=Array.prototype.push,M="string",_="change",D="error",P="progress",H=".",B=".kendoTreeList",j="click",F="mousedown",I="edit",q="save",R="expand",U="collapse",z="remove",W="dataBinding",X="dataBound",V="cancel",$="filterMenuInit",J="columnHide",K="columnShow",Q="th.k-header",G="columnReorder",Y="columnResize",Z="columnMenuInit",et="columnLock",tt="columnUnlock",nt="parentId",rt={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},it={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}},st=T.define({id:"id",parentId:nt,fields:{id:{type:"number"},parentId:{type:"number",nullable:!0}},init:function(e){T.fn.init.call(this,e),this._loaded=!1,this.parentIdField||(this.parentIdField=nt),this.parentId=this.get(this.parentIdField)},accept:function(e){T.fn.accept.call(this,e),this.parentId=this.get(this.parentIdField)},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return T.fn.shouldSerialize.call(this,e)&&"_loaded"!==e&&"_error"!=e&&"_edit"!=e&&("parentId"===this.parentIdField||"parentId"!==e)}});st.parentIdField=nt,st.define=function(e,n){var r,i;return n===t&&(n=e,e=st),r=n.parentId||nt,delete n.parentId,n.parentIdField=r,i=T.define(e,n),r&&(i.parentIdField=r),i},f=E.extend({init:function(e){E.fn.init.call(this,d(!0,{},{schema:{modelBase:st,model:st}},e))},_createNewModel:function(e){var t={},n=e instanceof T;return n&&(t=e),t=E.fn._createNewModel.call(this,t),n||(e.parentId&&(e[t.parentIdField]=e.parentId),t.accept(e)),t},_shouldWrap:function(){return!0},_readData:function(e){var t=this.data();return e=E.fn._readData.call(this,e),this._concat(e,t),e instanceof S?e:t},_concat:function(e,t){var n,r=t.length;for(n=0;e.length>n;n++)t[r++]=e[n];t.length=r},_readAggregates:function(e){var t=d(this._aggregateResult,this.reader.aggregates(e));return""in t&&(t[this._defaultParentId()]=t[""],delete t[""]),t},remove:function(e){var t=this._subtree(this._childrenMap(this.data()),e.id);this._removeItems(t),E.fn.remove.call(this,e)},_filterCallback:function(e){var t,n,r={},i=[],s=e.toArray();for(t=0;s.length>t;t++)for(n=s[t];n&&(r[n.id]||(r[n.id]=!0,i.push(n)),!r[n.parentId]);)r[n.parentId]=!0,n=this.parentNode(n),n&&i.push(n);return new x(i)},_subtree:function(e,t){var n,r,i=e[t]||[],s=this._defaultParentId();for(n=0,r=i.length;r>n;n++)i[n].id!==s&&(i=i.concat(this._subtree(e,i[n].id)));return i},_childrenMap:function(e){var t,n,r,i,s={};for(e=this._observeView(e),t=0;e.length>t;t++)n=e[t],r=n.id,i=n.parentId,s[r]=s[r]||[],s[i]=s[i]||[],s[i].push(n);return s},_calculateAggregates:function(e,t){var n,r,i,s,o,u;for(t=t||{},n={},o=t.filter,o&&(e=x.process(e,{filter:o,filterCallback:N(this._filterCallback,this)}).data),u=this._childrenMap(e),n[this._defaultParentId()]=(new x(this._subtree(u,this._defaultParentId()))).aggregate(t.aggregate),s=0;e.length>s;s++)r=e[s],i=this._subtree(u,r.id),n[r.id]=(new x(i)).aggregate(t.aggregate);return n},_queryProcess:function(e,t){var n,r,i,s,o,u,a;for(t=t||{},t.filterCallback=N(this._filterCallback,this),n=this._defaultParentId(),r=x.process(e,t),i=this._childrenMap(r.data),e=i[n]||[],o=0;e.length>o;o++)u=e[o],u.id!==n&&(a=i[u.id],s=!!a&&!!a.length,u.loaded()||u.loaded(s||!u.hasChildren),(u.loaded()||u.hasChildren!==!0)&&(u.hasChildren=s),s&&(e=e.slice(0,o+1).concat(a,e.slice(o+1))));return r.data=e,r},_queueRequest:function(e,t){t.call(this)},_modelLoaded:function(e){var t=this.get(e);t.loaded(!0),t.hasChildren=this.childNodes(t).length>0},_modelError:function(e,t){this.get(e)._error=t},success:function(e,t){return t&&t.id||(this._data=this._observe([])),E.fn.success.call(this,e,t)},load:function(t){var n="_query",r=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates,i=e.Deferred().resolve().promise();if(t.loaded()){if(r)return i}else t.hasChildren&&(n="read");return this[n]({id:t.id}).then(N(this._modelLoaded,this,t.id),N(this._modelError,this,t.id))},contains:function(e,t){for(var n=e.id;t;){if(t.parentId===n)return!0;t=this.parentNode(t)}return!1},_byParentId:function(e,t){var n,r,i=[],s=this.view();if(e===t)return[];for(r=0;s.length>r;r++)n=s.at(r),n.parentId==e&&i.push(n);return i},_defaultParentId:function(){return this.reader.model.fn.defaults[this.reader.model.parentIdField]},childNodes:function(e){return this._byParentId(e.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(e){return this.get(e.parentId)},level:function(e){var t=-1;e instanceof st||(e=this.get(e));do e=this.parentNode(e),t++;while(e);return t},filter:function(e){var n=E.fn.filter;return e===t?n.call(this,e):(n.call(this,e),t)}}),f.create=function(t){return e.isArray(t)?t={data:t}:t instanceof S&&(t={data:t.toJSON()}),t instanceof f?t:new f(t)},l=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this),t=this.options=d(!0,{},this.options,t),this.element=e,this.bind(this.events,t),this.model=this.options.model,this.fields=this._fields(this.options.columns),this._initContainer(),this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var e=this.options;this.editable=new b.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:e.clearContainer,model:this.model})},_isEditable:function(e){return e.field&&this.model.editable(e.field)},_fields:function(e){var t,n,r,i=[];for(t=0,n=e.length;n>t;t++)r=e[t],this._isEditable(r)&&i.push({field:r.field,format:r.format,editor:r.editor});return i},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role")),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),c=l.extend({init:function(e,t){l.fn.init.call(this,e,t),this._attachHandlers(),kendo.cycleForm(this.wrapper),this.open()},events:[V,q],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var t=this.options,n=[];this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>'),t.template?(this._appendTemplate(n),this.fields=[]):this._appendFields(n),this._appendButtons(n),(new v.Tree(this.wrapper.children()[0])).render(n),this.wrapper.appendTo(t.appendTo),this.window=new b.Window(this.wrapper,t.window)},_appendTemplate:function(e){var t=this.options.template;typeof t===M&&(t=window.unescape(t)),t=kendo.template(t)(this.model),e.push(y(t))},_appendFields:function(e){var t,n,r,i=this.options.columns;for(t=0,n=i.length;n>t;t++)r=i[t],r.command||(e.push(y('<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>")),e.push(this._isEditable(r)?y("<div "+kendo.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'):m("div",{"class":"k-edit-field"},[this.options.fieldRenderer(r,this.model)])))},_appendButtons:function(e){e.push(m("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var e=this._cancelProxy=N(this._cancel,this);this.wrapper.on(j+B,".k-grid-cancel",this._cancelProxy),this._saveProxy=N(this._save,this),this.wrapper.on(j+B,".k-grid-update",this._saveProxy),this.window.bind("close",function(t){t.userTriggered&&e(t)})},_dettachHandlers:function(){this._cancelProxy=null,this._saveProxy=null,this.wrapper.off(B)},_cancel:function(e){this.trigger(V,e)},_save:function(){this.trigger(q)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",N(this.destroy,this)).close()},destroy:function(){this.window.destroy(),this.window=null,this._dettachHandlers(),l.fn.destroy.call(this)}}),h=w.extend({init:function(t,n){if(w.fn.init.call(this,t,n),this._dataSource(this.options.dataSource),this._columns(),this._layout(),this._selectable(),this._sortable(),this._resizable(),this._filterable(),this._attachEvents(),this._toolbar(),this._scrollable(),this._reorderable(),this._columnMenu(),this._minScreenSupport(),this._draggable(),this.options.autoBind&&this.dataSource.fetch(),this._hasLockedColumns){var r=this;this.wrapper.addClass("k-grid-lockedcolumns"),this._resizeHandler=function(){r.resize()},e(window).on("resize"+B,this._resizeHandler)}kendo.notify(this)},_draggable:function(){var t=this.options.editable;t&&t.move&&(this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:!0,filter:"tbody>tr",itemSelector:"tr",allowedContainers:this.wrapper,hintText:function(t){var n=function(){return e(this).text()},r="<span class='k-header k-drag-separator' />";return t.children("td").map(n).toArray().join(r)},contains:N(function(e,t){var n=this.dataItem(t),r=this.dataItem(e);return r==n||this.dataSource.contains(r,n)},this),itemFromTarget:function(e){var t=e.closest("tr");return{item:t,content:t}},dragstart:N(function(){this.wrapper.addClass("k-treelist-dragging")},this),drop:N(function(){this.wrapper.removeClass("k-treelist-dragging")},this),dragend:N(function(e){var t=this.dataItem(e.destination),n=this.dataItem(e.source);n.set("parentId",t?t.id:null)},this),reorderable:!1,dropHintContainer:function(e){return e.children("td:eq(1)")},dropPositionFrom:function(e){return e.prevAll(".k-i-none").length>0?"after":"before"}}))},_scrollable:function(){var t,n,r;this.options.scrollable&&(t=this.thead.closest(".k-grid-header-wrap"),n=e(this.lockedContent).bind("DOMMouseScroll"+B+" mousewheel"+B,N(this._wheelScroll,this)),this.content.bind("scroll"+B,function(){t.scrollLeft(this.scrollLeft),n.scrollTop(this.scrollTop)}),r=kendo.touchScroller(this.content),r&&r.movable&&(this._touchScroller=r,r.movable.bind("change",function(e){t.scrollLeft(-e.sender.x),n&&n.scrollTop(-e.sender.y)})))},_wheelScroll:function(t){if(!t.ctrlKey){var n=kendo.wheelDeltaY(t);n&&(t.preventDefault(),e(t.currentTarget).one("wheel"+B,!1),this.content.scrollTop(this.content.scrollTop()+ -n))}},_progress:function(){var e=this.options.messages;this.tbody.find("tr").length||this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:rt.icon+" "+rt.loading,messages:e}))},_error:function(e){this.dataSource.rootNodes().length||this._render({error:e})},refresh:function(e){e=e||{},"itemchange"==e.action&&this.editor||this.trigger(W)||(this._cancelEditor(),this._render(),this._adjustHeight(),this.trigger(X))},_angularFooters:function(e){var t,n,r,i=this.dataSource.aggregates(),s=this._footerItems();for(t=0;s.length>t;t++)n=s.eq(t),r=i[n.attr("data-parentId")],this._angularFooter(e,n.find("td").get(),r)},_angularFooter:function(e,t,n){var r=this.columns;this.angular(e,function(){return{elements:t,data:C(r,function(e){return{column:e,aggregate:n&&n[e.field]}})}})},items:function(){return this._hasLockedColumns?this._items(this.tbody).add(this._items(this.lockedTable)):this._items(this.tbody)},_items:function(t){return t.find("tr").filter(function(){return!e(this).hasClass(rt.footerTemplate)})},_footerItems:function(){var t=this.tbody;return this._hasLockedColumns&&(t=t.add(this.lockedTable)),t.find("tr").filter(function(){return e(this).hasClass(rt.footerTemplate)})},dataItems:function(){var e,t,n,r=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){for(e=r.length,t=Array(2*e),n=e;--n>=0;)t[n]=t[n+e]=r[n];r=t}return r},_showStatus:function(t){var n=this.element.find(".k-status"),r=e(this.content).add(this.lockedContent);n.length||(n=e("<div class='k-status' />").appendTo(this.element)),this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]),r.hide(),n.html(t)},_hideStatus:function(){this.element.find(".k-status").remove(),e(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var e,t,n=this.element,r=n.find(H+rt.gridContentWrap),i=n.find(H+rt.gridHeader),s=n.find(H+rt.gridToolbar),o=kendo.support.scrollbar();n.height(this.options.height),t=function(e){var t,n;return e[0].style.height?!0:(t=e.height(),e.height("auto"),n=e.height(),e.height(""),t!=n)},t(n)&&(e=n.height()-i.outerHeight()-s.outerHeight(),r.height(e),this._hasLockedColumns&&(o=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?o:0,this.lockedContent.height(e-o)))},_resize:function(){this._applyLockedContainersWidth(),this._adjustHeight()},_minScreenSupport:function(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=N(this.hideMinScreenCols,this),e(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var e,n,r,i=this.columns,s=!1,o=window.innerWidth>0?window.innerWidth:screen.width;for(e=0;i.length>e;e++)n=i[e],r=n.minScreenWidth,r!==t&&null!==r&&(s=!0,r>o?this.hideColumn(n):this.showColumn(n));return s},destroy:function(){w.fn.destroy.call(this);var t=this.dataSource;t.unbind(_,this._refreshHandler),t.unbind(D,this._errorHandler),t.unbind(P,this._progressHandler),this._resizeHandler&&e(window).off("resize"+B,this._resizeHandler),this._dragging&&(this._dragging.destroy(),this._dragging=null),this.resizable&&(this.resizable.destroy(),this.resizable=null),this.reorderable&&(this.reorderable.destroy(),this.reorderable=null),this._draggableInstance&&this._draggableInstance.element&&(this._draggableInstance.destroy(),this._draggableInstance=null),this.minScreenResizeHandler&&e(window).off("resize",this.minScreenResizeHandler),this._destroyEditor(),this.element.off(B),this._touchScroller&&this._touchScroller.destroy(),this._autoExpandable=null,this._refreshHandler=this._errorHandler=this._progressHandler=null,this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null,this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:!0,scrollable:!0,selectable:!1,sortable:!1,toolbar:null,height:null,columnMenu:!1,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:!0},resizable:!1,filterable:!1,editable:!1,reorderable:!1},events:[_,I,q,z,R,U,W,X,V,$,J,K,G,Y,Z,et,tt],_toggle:function(e,n){var r=e.loaded();e._error&&(e.expanded=!1,e._error=t),(r||!e.expanded)&&(t===n&&(n=!e.expanded),e.expanded=n,r||this.dataSource.load(e).always(N(function(){this._render(),this._syncLockedContentHeight()},this)),this._render(),this._syncLockedContentHeight())},expand:function(e){this._toggle(this.dataItem(e),!0)},collapse:function(e){this._toggle(this.dataItem(e),!1)},_toggleChildren:function(t){var n=e(t.currentTarget),r=this.dataItem(n),i=r.expanded?U:R;this.trigger(i,{model:r})||this._toggle(r),t.preventDefault()},_attachEvents:function(){var e=H+rt.iconCollapse+", ."+rt.iconExpand+", ."+rt.refresh,t=H+rt.retry,n=this.dataSource;this.element.on(F+B,e,N(this._toggleChildren,this)).on(j+B,t,N(n.fetch,n)).on(j+B,".k-button[data-command]",N(this._commandClick,this))},_commandByName:function(t){var n,r,i,s,o=this.columns,u=e.isArray(this.options.toolbar)?this.options.toolbar:[];if(t=t.toLowerCase(),it[t])return it[t];for(n=0;o.length>n;n++)if(i=o[n].command)for(r=0;i.length>r;r++)if(s=i[r].name,s&&s.toLowerCase()==t)return i[r];for(n=0;u.length>n;n++)if(s=u[n].name,s&&s.toLowerCase()==t)return u[n]},_commandClick:function(n){var r=e(n.currentTarget),i=r.attr("data-command"),s=this._commandByName(i),o=r.parentsUntil(this.wrapper,"tr");o=o.length?o:t,s&&(s.methodName?this[s.methodName](o):s.click&&s.click.call(this,n),n.preventDefault())},_ensureExpandableColumn:function(){var e,t;this._autoExpandable&&delete this._autoExpandable.expandable,e=k(this.columns,r(n("hidden"))),t=k(e,n("expandable")),this.columns.length&&!t.length&&(this._autoExpandable=e[0],e[0].expandable=!0)},_columns:function(){var e,t=this.options.columns||[];this.columns=C(t,function(e){return e="string"==typeof e?{field:e}:e,d({encoded:!0},e)}),e=this._lockedColumns(),e.length>0&&(this._hasLockedColumns=!0,this.columns=e.concat(this._nonLockedColumns())),this._ensureExpandableColumn(),this._columnTemplates(),this._columnAttributes()},_columnTemplates:function(){var e,t,n,r=this.columns;for(e=0,t=r.length;t>e;e++)n=r[e],n.template&&(n.template=kendo.template(n.template)),n.headerTemplate&&(n.headerTemplate=kendo.template(n.headerTemplate)),n.footerTemplate&&(n.footerTemplate=kendo.template(n.footerTemplate))},_columnAttributes:function(){function t(t){var n,r,i,s;if(t&&t.style)for(n=t.style.split(";"),t.style={},r=0;n.length>r;r++)i=n[r].split(":"),s=e.trim(i[0]),s&&(t.style[e.camelCase(s)]=e.trim(i[1]))}var n,r,i=this.columns;for(n=0,r=i.length;r>n;n++)t(i[n].attributes),t(i[n].headerAttributes)},_layout:function(){var e,t,n=this.columns,r=this.element,i="";this.wrapper=r.addClass(rt.wrapper),i="<div class='#= gridHeader #' style=\"padding-right: "+kendo.support.scrollbar()+'px;">',this._hasLockedColumns&&(i+="<div class='k-grid-header-locked'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div>"),i+="<div class='#= gridHeaderWrap #'><table role='grid'><colgroup></colgroup><thead role='rowgroup' /></table></div></div>",this._hasLockedColumns&&(i+="<div class='k-grid-content-locked'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>"),i+="<div class='#= gridContentWrap #'><table role='treegrid' tabindex='0'><colgroup></colgroup><tbody /></table></div>",this.options.scrollable||(i="<table role='treegrid' tabindex='0'><colgroup></colgroup><thead class='#= gridHeader #' role='rowgroup' /><tbody /></table>"),this.options.toolbar&&(i="<div class='#= header # #= gridToolbar #' />"+i),r.append(kendo.template(i)(rt)+"<div class='k-status' />"),this.toolbar=r.find(H+rt.gridToolbar),e=r.find(H+rt.gridHeader).find("thead").addBack().filter("thead"),this.thead=e.last(),t=r.find(H+rt.gridContentWrap),t.length?this.content=t:t=r,this.table=t.find(">table"),this.tbody=this.table.find(">tbody"),this._hasLockedColumns&&(this.lockedHeader=e.first().closest(".k-grid-header-locked"),this.lockedContent=r.find(".k-grid-content-locked"),this.lockedTable=this.lockedContent.children()),this._initVirtualTrees(),this._renderCols(),this._renderHeader(),this.angular("compile",function(){return{elements:e.find("th.k-header").get(),data:C(n,function(e){return{column:e}})}})},_initVirtualTrees:function(){this._headerColsTree=new v.Tree(this.thead.prev()[0]),this._contentColsTree=new v.Tree(this.tbody.prev()[0]),this._headerTree=new v.Tree(this.thead[0]),this._contentTree=new v.Tree(this.tbody[0]),this._statusTree=new v.Tree(this.element.children(".k-status")[0]),this.lockedHeader&&(this._lockedHeaderColsTree=new v.Tree(this.lockedHeader.find("colgroup")[0]),this._lockedContentColsTree=new v.Tree(this.lockedTable.find(">colgroup")[0]),this._lockedHeaderTree=new v.Tree(this.lockedHeader.find("thead")[0]),this._lockedContentTree=new v.Tree(this.lockedTable.find(">tbody")[0]))},_toolbar:function(){var t,n=this.options.toolbar,r=this.toolbar;n&&(e.isArray(n)?(t=this._buildCommands(n),(new v.Tree(r[0])).render(t)):r.append(kendo.template(n)({})),this.angular("compile",function(){return{elements:r.get()}}))},_lockedColumns:function(){return k(this.columns,n("locked"))},_nonLockedColumns:function(){return k(this.columns,r(n("locked")))},_flushCache:function(){this.options.$angular&&(this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]))},_render:function(t){var n,r,i,s;t=t||{},n=this.options.messages,r=this.dataSource.rootNodes(),i=this.dataSource.aggregates(),s=this.select().map(function(t,n){return e(n).attr("data-uid")}),this._absoluteIndex=0,this._angularItems("cleanup"),this._angularFooters("cleanup"),this._flushCache(),t.error?this._showStatus(kendo.template("#: messages.requestFailed # <button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[rt.button,rt.retry].join(" "),messages:n})):r.length?(this._hideStatus(),this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:t.aggregates,selected:s,data:r,visible:!0,level:0})),this._hasLockedColumns&&(this._absoluteIndex=0,this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:t.aggregates,selected:s,data:r,visible:!0,level:0})))):this._showStatus(kendo.htmlEncode(n.noRows)),this._touchScroller&&this._touchScroller.contentResized(),this._angularItems("compile"),this._angularFooters("compile"),this._adjustRowsHeight()},_adjustRowsHeight:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;if(this._hasLockedColumns){for(e=this.table,t=this.lockedTable,n=e[0].rows,r=n.length,s=t[0].rows,o=e.add(t),u=o.length,a=[],f=this.lockedHeader.find("tr"),l=this.thead.find("tr"),f.add(l).height("auto").height(Math.max(f.height(),l.height())),i=0;r>i&&s[i];i++)n[i].style.height&&(n[i].style.height=s[i].style.height=""),c=n[i].offsetHeight,h=s[i].offsetHeight,p=0,c>h?p=c:h>c&&(p=h),a.push(p);for(i=0;u>i;i++)o[i].style.display="none";for(i=0;r>i;i++)a[i]&&(n[i].style.height=s[i].style.height=a[i]+1+"px");for(i=0;u>i;i++)o[i].style.display=""}},_ths:function(e){var t,n,r,i,s,o,u,a,f=[];for(u=0,a=e.length;a>u;u++)t=e[u],r=[],i=[rt.header],n=t.headerTemplate?t.headerTemplate({}):t.title||t.field||"",o=t.headerTemplate?y(n):g(n),r.push(t.sortable?m("a",{href:"#",className:rt.link},[o]):o),s={"data-field":t.field,"data-title":t.title,style:t.hidden===!0?{display:"none"}:{},className:i.join(" "),role:"columnheader"},s=d(!0,{},s,t.headerAttributes),f.push(m("th",s,r));return f},_cols:function(e){var t,n,r,i=[];for(r=0;e.length>r;r++)e[r].hidden!==!0&&(t=e[r].width,n={},t&&0!==parseInt(t,10)&&(n.style={width:"string"==typeof t?t:t+"px"}),i.push(m("col",n)));return i},_renderCols:function(){var e=this._nonLockedColumns();this._headerColsTree.render(this._cols(e)),this.options.scrollable&&this._contentColsTree.render(this._cols(e)),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderColsTree.render(this._cols(e)),this._lockedContentColsTree.render(this._cols(e)))},_renderHeader:function(){var e=this._nonLockedColumns();this._headerTree.render([m("tr",{role:"row"},this._ths(e))]),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderTree.render([m("tr",{role:"row"},this._ths(e))]),this._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){var e,t,n,r,i,s;this._hasLockedColumns&&(e=u(this.lockedHeader.find(">table>colgroup>col")),t=this.thead.parent(),n=u(t.find(">colgroup>col")),r=this.wrapper[0].clientWidth,i=kendo.support.scrollbar(),e>=r&&(e=r-3*i),this.lockedHeader.add(this.lockedContent).width(e),t.add(this.table).width(n),s=r-e-2,this.content.width(s),t.parent().width(s-i))},_trs:function(t){var n,r,i,s,o,u,a,f,l=[],c=t.level,h=t.data,p=this.dataSource,d=p.aggregates()||{},v=t.columns;for(u=0,a=h.length;a>u;u++)i=[],n=h[u],o=n.loaded()&&p.childNodes(n),s=o&&o.length,r={"data-uid":n.uid,role:"row"},s&&(r["aria-expanded"]=!!n.expanded),t.visible?(this._absoluteIndex%2!==0&&i.push(rt.alt),this._absoluteIndex++):r.style={display:"none"},e.inArray(n.uid,t.selected)>=0&&i.push(rt.selected),s&&i.push(rt.group),n._edit&&i.push("k-grid-edit-row"),r.className=i.join(" "),l.push(this._tds({model:n,attr:r,level:c},v,N(this._td,this))),s&&(l=l.concat(this._trs({columns:v,parentId:n.id,aggregates:d,selected:t.selected,visible:t.visible&&!!n.expanded,data:o,level:c+1})));return this._hasFooterTemplate()&&(f=t.parentId||null,r={className:rt.footerTemplate,"data-parentId":f},t.visible||(r.style={display:"none"}),l.push(this._tds({model:d[f],attr:r,level:c},v,this._footerTd))),l},_footerTd:function(t){var n=[],r=t.column,i=t.column.footerTemplate||e.noop,s=t.model[r.field]||{},u={role:"gridcell",style:r.hidden===!0?{display:"none"}:{}};return r.expandable&&(n=n.concat(o({level:t.level+1,className:rt.iconPlaceHolder}))),r.attributes&&d(u,r.attributes),n.push(y(i(s)||"")),m("td",u,n)},_hasFooterTemplate:function(){return!!k(this.columns,function(e){return e.footerTemplate}).length},_tds:function(e,t,n){var r,i,s,o=[];for(i=0,s=t.length;s>i;i++)r=t[i],o.push(n({model:e.model,column:r,level:e.level}));return m("tr",e.attr,o)},_td:function(e){var t,n=[],r=e.model,i=e.column,s={role:"gridcell",style:i.hidden===!0?{display:"none"}:{}};return r._edit&&i.field&&r.editable(i.field)?s[kendo.attr("container-for")]=i.field:(i.expandable&&(n=o({level:e.level,className:rt.iconPlaceHolder}),t=[rt.icon],t.push(r.hasChildren?r.expanded?rt.iconCollapse:rt.iconExpand:rt.iconHidden),r._error?t.push(rt.refresh):!r.loaded()&&r.expanded&&t.push(rt.loading),n.push(m("span",{className:t.join(" ")})),s.style["white-space"]="nowrap"),i.attributes&&d(!0,s,i.attributes),i.command?n=this._buildCommands(r._edit?["update","canceledit"]:i.command):n.push(this._cellContent(i,r))),m("td",s,n)},_cellContent:function(e,n){var r;return e.template?r=e.template(n):e.field&&(r=n.get(e.field),null!==r&&e.format&&(r=kendo.format(e.format,r))),(null===r||t===r)&&(r=""),e.template||!e.encoded?y(r):g(r)},_buildCommands:function(e){var t,n=[];for(t=0;e.length>t;t++)n.push(this._button(e[t]));return n},_button:function(e){var t=(e.name||e).toLowerCase(),n=this.options.messages.commands[t],r=[];return e=d({},it[t],{text:n},e),e.imageClass&&r.push(m("span",{className:["k-icon",e.imageClass].join(" ")})),m("button",{"data-command":t,className:["k-button k-button-icontext",e.className].join(" ")},r.concat([g(e.text||e.name)]))},_positionResizeHandle:function(n){var r,i,s,o=e(n.currentTarget),u=this.resizeHandle,a=o.position(),f=a.left,l=o.outerWidth(),c=o.closest("div"),h=n.clientX+e(window).scrollLeft(),p=this.options.columnResizeHandleWidth||3;return f+=c.scrollLeft(),u||(u=this.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')),r=o.offset().left+l,(i=h>r-p&&r+p>h)?(c.append(u),u.show().css({top:a.top,left:f+l-p-1,height:o.outerHeight(),width:3*p}).data("th",o),s=this,u.off("dblclick"+B).on("dblclick"+B,function(){var t=o.index();e.contains(s.thead[0],o[0])&&(t+=k(s.columns,function(e){return e.locked&&!e.hidden}).length),s.autoFitColumn(t)}),t):(u.hide(),t)},autoFitColumn:function(t){var n,r,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=this,x=S.options,T=S.columns,N=kendo.support.browser,C=S.lockedHeader?s(S.lockedHeader.find(">table>thead")).filter(i).length:0;if(t="number"==typeof t?T[t]:A(t)?k(T,function(e){return e===t})[0]:k(T,function(e){return e.field===t})[0],t&&!t.hidden){for(n=L(t,T),u=t.locked,o=u?S.lockedHeader.children("table"):S.thead.parent(),r=o.find("[data-index='"+n+"']"),f=u?S.lockedTable:S.table,l=S.footer||e(),S.footer&&S.lockedContent&&(l=S.footer.children(u?".k-grid-footer-locked":".k-grid-footer-wrap")),c=l.find("table").first(),S.lockedHeader&&C>=n&&!u&&(n-=C),h=0;T.length>h&&T[h]!==t;h++)T[h].hidden&&n--;if(a=x.scrollable?o.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")").add(f.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")).add(c.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")")):f.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+n+")"),p=o.add(f).add(c),d=r.outerWidth(),a.width(""),p.css("table-layout","fixed"),a.width("auto"),p.addClass("k-autofitting"),p.css("table-layout",""),v=Math.max(o.width(),f.width(),c.width()),m=Math.ceil(Math.max(r.outerWidth(),f.find("tr").eq(0).children("td:visible").eq(n).outerWidth(),c.find("tr").eq(0).children("td:visible").eq(n).outerWidth())),a.width(m),t.width=m,x.scrollable){for(g=o.find("col"),b=0,w=0,E=g.length;E>w;w+=1){if(y=g[w].style.width,!y||-1!=y.indexOf("%")){b=0;break}b+=parseInt(y,10)}b&&p.each(function(){this.style.width=b+"px"})}N.msie&&8==N.version&&(p.css("display","inline-table"),setTimeout(function(){p.css("display","table")},1)),p.removeClass("k-autofitting"),S.trigger(Y,{column:t,oldWidth:d,newWidth:m}),S._applyLockedContainersWidth(),S._syncLockedContentHeight(),S._syncLockedHeaderHeight()}},_adjustLockedHorizontalScrollBar:function(){var e=this.table,t=e.parent(),n=e[0].offsetWidth>t[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(t.height()-n)},_syncLockedContentHeight:function(){this.lockedTable&&(this._touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(e,t),a(e,t))},_resizable:function(){if(this.options.resizable){this.resizable&&this.resizable.destroy();var t=this;e(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+B,"th",e.proxy(this._positionResizeHandle,this)),this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(n){var r,i,s=e(n.currentTarget).data("th"),o="col:eq("+s.index()+")";t.wrapper.addClass("k-grid-column-resizing"),t.lockedHeader&&e.contains(t.lockedHeader[0],s[0])?(r=t.lockedHeader,i=t.lockedTable):(r=t.thead.parent(),i=t.table),this.col=i.children("colgroup").find(o).add(r.find(o)),this.th=s,this.startLocation=n.x.location,this.columnWidth=s.outerWidth(),this.table=this.col.closest("table"),this.totalWidth=this.table.width()},resize:function(e){var t=11,n=e.x.location-this.startLocation;t>this.columnWidth+n&&(n=t-this.columnWidth),this.table.width(this.totalWidth+n),this.col.width(this.columnWidth+n)},resizeend:function(){var e,n,r;t.wrapper.removeClass("k-grid-column-resizing"),e=this.th.attr("data-field"),n=k(t.columns,function(t){return t.field==e}),r=Math.floor(this.th.outerWidth()),n[0].width=r,t._resize(),t._adjustRowsHeight(),t.trigger(Y,{column:n,oldWidth:this.columnWidth,newWidth:r}),this.table=this.col=this.th=null}})}},_sortable:function(){var t,n,r,i,s,o=this.columns,u=e(this.lockedHeader).add(this.thead).find("th"),a=kendo.attr("field"),f=this.options.sortable;if(f)for(i=0,s=u.length;s>i;i++)t=o[i],t.sortable!==!1&&!t.command&&t.field&&(r=u.eq(i),n=r.data("kendoColumnSorter"),n&&n.destroy(),r.attr(a,t.field).kendoColumnSorter(d({},f,t.sortable,{dataSource:this.dataSource})))},_filterable:function(){var t,n,r,i,s,o,u=e(this.lockedHeader).add(this.thead).find("th"),a=this.options.filterable;if(a&&!this.options.columnMenu)for(o=N(function(e){this.trigger($,{field:e.field,container:e.container})},this),t=0,n=u.length;n>t;t++)r=this.columns[t],i=u.eq(t),s=i.data("kendoFilterMenu"),s&&s.destroy(),r.command||r.filterable===!1||i.kendoFilterMenu(d(!0,{},a,r.filterable,{dataSource:this.dataSource,init:o}))},_change:function(){this.trigger(_)},_selectable:function(){var e,n,r=this.options.selectable,i=this.table;r&&(r=kendo.ui.Selectable.parseOptions(r),this._hasLockedColumns&&(i=i.add(this.lockedTable),n=r.multiple&&r.cell),e=">tbody>tr:not(.k-footer-template)",r.cell&&(e+=">td"),this.selectable=new kendo.ui.Selectable(i,{filter:e,aria:!0,multiple:r.multiple,change:N(this._change,this),useAllItems:n,continuousItems:N(this._continuousItems,this,e,r.cell),relatedTarget:!r.cell&&this._hasLockedColumns?N(this._selectableTarget,this):t}))},_continuousItems:function(t,n){var r,i,s,o,u,a;if(this.lockedContent){for(r=e(t,this.lockedTable),i=e(t,this.table),s=n?this._lockedColumns().length:1,o=n?this.columns.length-s:1,u=[],a=0;r.length>a;a+=s)O.apply(u,r.slice(a,a+s)),O.apply(u,i.splice(0,o));return u}},_selectableTarget:function(t){var n,r,i,s=e();for(r=0,i=t.length;i>r;r++)n=this._relatedRow(t[r]),L(n[0],t)<0&&(s=s.add(n));return s},_relatedRow:function(t){var n,r,i=this.lockedTable;return t=e(t),i?(n=t.closest(this.table.add(this.lockedTable)),r=n.find(">tbody>tr").index(t),n=n[0]===this.table[0]?i:this.table,n.find(">tbody>tr").eq(r)):t},select:function(n){var r=this.selectable;return r?(t!==n&&(r.options.multiple||(r.clear(),n=n.first()),this._hasLockedColumns&&(n=n.add(e.map(n,N(this._relatedRow,this))))),r.value(n)):e()},clearSelection:function(){var e=this.select();e.length&&(this.selectable.clear(),this.trigger(_))},_dataSource:function(e){var t=this.dataSource;t&&(t.unbind(_,this._refreshHandler),t.unbind(D,this._errorHandler),t.unbind(P,this._progressHandler)),this._refreshHandler=N(this.refresh,this),this._errorHandler=N(this._error,this),this._progressHandler=N(this._progress,this),t=this.dataSource=f.create(e),t.bind(_,this._refreshHandler),t.bind(D,this._errorHandler),t.bind(P,this._progressHandler)},setDataSource:function(e){this._dataSource(e),this._sortable(),this._filterable(),this._contentTree.render([]),this.options.autoBind&&this.dataSource.fetch()},dataItem:function(t){var n=e(t).closest("tr"),r=this.dataSource.getByUid(n.attr(kendo.attr("uid")));return r},editRow:function(e){var t;typeof e===M&&(e=this.tbody.find(e)),t=this.dataItem(e),t&&("popup"!=this._editMode()&&(t._edit=!0),this._cancelEditor(),this._render(),this._createEditor(t),this.trigger(I,{container:this.editor.wrapper,model:t}))},_cancelEdit:function(e){e=d(e,{container:this.editor.wrapper,model:this.editor.model}),this.trigger(V,e)||this.cancelRow()},cancelRow:function(){this._cancelEditor(),this._render()},saveRow:function(){var e,t=this.editor;t&&(e={model:t.model,container:t.wrapper},t.end()&&!this.trigger(q,e)&&this.dataSource.sync())},addRow:function(e){var n=this.editor,r=0,i={};if(!n||n.end())return e?(e instanceof st||(e=this.dataItem(e)),i[e.parentIdField]=e.id,r=this.dataSource.indexOf(e)+1,e.set("expanded",!0),this.dataSource.load(e).then(N(this._insertAt,this,i,r)),t):(this._insertAt(i,r),t)},_insertAt:function(e,t){e=this.dataSource.insert(t,e);var n=this.tbody.find("["+kendo.attr("uid")+"="+e.uid+"]");this.editRow(n)},removeRow:function(e){var t=this.dataItem(e),n={model:t,row:e};t&&!this.trigger(z,n)&&(this.dataSource.remove(t),this.dataSource.sync())},_cancelEditor:function(){var e,t=this.editor;t&&(e=t.model,this._destroyEditor(),this.dataSource.cancelChanges(e),e._edit=!1)},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_createEditor:function(e){var t,n,r=this.tbody.find("["+kendo.attr("uid")+"="+e.uid+"]");r=r.add(this._relatedRow(r)),t=this._editMode(),n={columns:this.columns,model:e,target:this,clearContainer:!1,template:this.options.editable.template},"inline"==t?this.editor=new l(r,n):(d(n,{window:this.options.editable.window,commandRenderer:N(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:N(this.saveRow,this),cancel:N(this._cancelEdit,this),appendTo:this.wrapper}),this.editor=new c(r,n))},_editMode:function(){var e="inline",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e.toLowerCase()},hideColumn:function(e){this._toggleColumnVisibility(e,!0)},showColumn:function(e){this._toggleColumnVisibility(e,!1)},_toggleColumnVisibility:function(e,t){e=this._findColumn(e),e&&e.hidden!==t&&(e.hidden=t,this._ensureExpandableColumn(),this._renderCols(),this._renderHeader(),this._render(),this._adjustTablesWidth(),this.trigger(t?J:K,{column:e}),t||e.width||this.table.add(this.thead.closest("table")).width(""))},_findColumn:function(e){return e="number"==typeof e?this.columns[e]:A(e)?k(this.columns,function(t){return t===e})[0]:k(this.columns,function(t){return t.field===e})[0]},_adjustTablesWidth:function(){var e,t,n,r=this.thead.prev().children(),i=0;for(e=0,t=r.length;t>e;e++){if(n=r[e].style.width,!n||-1!=n.indexOf("%")){i=0;break}i+=parseInt(n,10)}i&&this.table.add(this.thead.closest("table")).width(i)},_reorderable:function(){var t,n,r;this.options.reorderable&&(t=this.options.scrollable===!0,n=(t?".k-grid-header:first ":"table:first>.k-grid-header ")+Q,r=this,this._draggableInstance=new b.Draggable(this.wrapper,{group:kendo.guid(),filter:n,hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(kendo.attr("title"))||t.attr(kendo.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}),this.reorderable=new b.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:N(this._allowDragOverContainers,this),inSameContainer:function(t){return e(t.source).parent()[0]===e(t.target).parent()[0]},change:function(e){var t=e.newIndex,n=e.oldIndex,i="before"===e.position,s=r.columns[n];r.trigger(G,{newIndex:t,oldIndex:n,column:s}),r.reorderColumn(t,s,i)}}))},_allowDragOverContainers:function(e){return this.columns[e].lockable!==!1},reorderColumn:function(n,r,i){var s,o,u,a=this.columns,f=L(r,a),l=a[n],c=!!l.locked,h=this._nonLockedColumns().length;f!==n&&(!c||r.locked||1!=h)&&(c||!r.locked||a.length-h!=1)&&(i===t&&(i=f>n),s=!!r.locked,s=s!=c,r.locked=c,a.splice(i?n:n+1,0,r),a.splice(n>f?f:f+1,1),this._renderCols(),o=e(this.lockedHeader).add(this.thead).find("th"),o.eq(f)[i?"insertBefore":"insertAfter"](o.eq(n)),u=this._headerTree.children[0].children,this._hasLockedColumns&&(u=this._lockedHeaderTree.children[0].children.concat(u)),u.splice(i?n:n+1,0,u[f]),u.splice(n>f?f:f+1,1),this._hasLockedColumns&&(this._lockedHeaderTree.children[0].children=u.splice(0,this._lockedColumns().length),this._headerTree.children[0].children=u),this._applyLockedContainersWidth(),this.refresh(),s&&(c?this.trigger(et,{column:r}):this.trigger(tt,{column:r})))},lockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:k(n,function(t){return t.field===e})[0],e&&!e.hidden&&(t=this._lockedColumns().length-1,this.reorderColumn(t,e,!1))},unlockColumn:function(e){var t,n=this.columns;e="number"==typeof e?n[e]:k(n,function(t){return t.field===e})[0],e&&!e.hidden&&(t=this._lockedColumns().length,this.reorderColumn(t,e,!0))},_columnMenu:function(){var t,n,r,i,s,o,u=e(this.lockedHeader).add(this.thead).find("th"),a=this.columns,f=this.options,l=f.columnMenu,c=N(this._columnMenuInit,this),h=this._lockedColumns().length;if(l)for("boolean"==typeof l&&(l={}),o=0;u.length>o;o++)t=a[o],t.field&&(n=u.eq(o).data("kendoColumnMenu"),n&&n.destroy(),i=!1,t.sortable!==!1&&l.sortable!==!1&&f.sortable!==!1&&(i=d({},f.sortable,{compare:(t.sortable||{}).compare})),s=!1,f.filterable&&t.filterable!==!1&&l.filterable!==!1&&(s=d({pane:this.pane},t.filterable,f.filterable)),r={dataSource:this.dataSource,values:t.values,columns:l.columns,sortable:i,filterable:s,messages:l.messages,owner:this,closeCallback:e.noop,init:c,pane:this.pane,lockedColumns:t.lockable!==!1&&h>0},f.$angular&&(r.$angular=f.$angular),u.eq(o).kendoColumnMenu(r))},_columnMenuInit:function(e){this.trigger(Z,{field:e.field,container:e.container})}}),kendo.ExcelMixin&&kendo.ExcelMixin.extend(h.prototype),kendo.PDFMixin&&kendo.PDFMixin.extend(h.prototype),d(!0,kendo.data,{TreeListDataSource:f,TreeListModel:st}),d(!0,kendo.ui,{TreeList:h}),b.plugin(h)}(window.kendo.jQuery),function(e){function t(e){for(var t,n=0,r=e.length;r>n;n++)if(2==e[n].type){t=!0;break}t&&e.splice(n+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}function n(e){return{name:e.uniqueName,type:e.type}}function r(e){for(var t=0,n=e.length;n>t;t++)e[t].uniqueName=e[t].name,e[t].type="kpi";return e}function i(t){var n=e(t).closest(".k-pivot-setting");return n.length?n.data("kendoPivotSettingTarget"):null}function s(e,t,n){return{hierarchyUniqueName:e,uniqueName:t,caption:t,measure:t,name:t,type:n,kpi:!0}}function o(e){var t=e.name;return[s(t,e.value,"value"),s(t,e.goal,"goal"),s(t,e.status,"status"),s(t,e.trend,"trend")]}var u=window.kendo,a=u.ui,f=a.Widget,l=".kendoPivotConfigurator",c="mouseenter"+l+" mouseleave"+l,h=u.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p><div class="k-list-container k-reset"/>'),p=f.extend({init:function(e,t){f.fn.init.call(this,e,t),this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container"),this._dataSource(),this._layout(),this.refresh(),u.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:!1,sortable:!1,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler).unbind("error",t._errorHandler).unbind("progress",t._progressHandler):(t._errorHandler=e.proxy(t._error,t),t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t)),t.dataSource=u.data.PivotDataSource.create(t.options.dataSource),t.dataSource.bind("change",t._refreshHandler).bind("error",t._errorHandler).bind("progress",t._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.measures&&this.measures.setDataSource(e),this.rows&&this.rows.setDataSource(e),this.columns&&this.columns.setDataSource(e),this.refresh()},_treeViewDataSource:function(){var n=this;return u.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(e){return!("hierarchyUniqueName"in e||"aggregator"in e)}}},transport:{read:function(i){var s,u,a;e.isEmptyObject(i.data)?(s=n.dataSource.schemaDimensions(),s.done(function(e){n.dataSource.cubeBuilder||t(e),i.success(e)}).fail(i.error)):(u=n.treeView.dataSource.get(i.data.uniqueName),"[KPIs]"===u.uniqueName?(a=!0,s=n.dataSource.schemaKPIs(),s.done(function(e){i.success(r(e))}).fail(i.error)):"kpi"==u.type&&(a=!0,i.success(o(u))),a||(s=2==u.type?n.dataSource.schemaMeasures():u.dimensionUniqueName?n.dataSource.schemaLevels(i.data.uniqueName):n.dataSource.schemaHierarchies(i.data.uniqueName),s.done(i.success).fail(i.error)))}}})},_progress:function(e){u.ui.progress(this.element,e)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_layout:function(){this.form=e('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element),this._fields(),this._targets()},_fields:function(){var t=e('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form),r='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span># } else if (item.type && item.type !== "kpi") { #<span class="k-icon k-i-dimension"></span># } ##: item.caption || item.name #';this.treeView=e("<div/>").appendTo(t).kendoTreeView({template:r,dataTextField:"caption",dragAndDrop:!0,autoBind:!1,dataSource:this._treeViewDataSource(),dragstart:function(e){var t=this.dataItem(e.sourceNode);(t.hasChildren||t.aggregator||t.measure)&&2!=t.type&&"[KPIs]"!==t.uniqueName||e.preventDefault()},drag:function(e){var t="k-denied",n=i(e.dropTarget);n&&n.validate(this.dataItem(e.sourceNode))&&(t="k-add"),e.setStatusClass(t)},drop:function(e){var t,r,s,u,a,f;if(e.preventDefault(),t=i(e.dropTarget),r=this.dataItem(e.sourceNode),t&&t.validate(r)){if(f=r.defaultHierarchy||r.uniqueName,"kpi"===r.type)for(a=o(r),u=a.length,f=[],s=0;u>s;s++)f.push(n(a[s]));else r.kpi&&(f=[n(r)]);t.add(f)}}}).data("kendoTreeView")},_createTarget:function(t,n){var r='<li class="k-item k-header" data-'+u.ns+'name="${data.name}">${data.name}',i=n.sortable,s="";return i&&(s+="#if (data.sortIcon) {#",s+='<span class="k-icon ${data.sortIcon} k-setting-sort"></span>',s+="#}#"),(n.filterable||i)&&(s+='<span class="k-icon k-i-arrowhead-s k-setting-fieldmenu"></span>'),s+='<span class="k-icon k-si-close k-setting-delete"></span>',r+='<span class="k-field-actions">'+s+"</span></li>",new u.ui.PivotSettingTarget(t,e.extend({dataSource:this.dataSource,hint:function(t){var n=e('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');return n.find(".k-list").append(t.clone()),n},template:r,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},n))},_targets:function(){var t=e('<div class="k-state-default"/>').appendTo(this.form),n=e(h({name:this.options.messages.columnsLabel,icon:"k-i-vbars"})).appendTo(t),r=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(n.last()),i=e(h({name:this.options.messages.rowsLabel,icon:"k-i-hbars"})).appendTo(t),s=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(i.last()),o=e(h({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(t),u=e('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(o.last()),a=this.options;this.columns=this._createTarget(r,{filterable:a.filterable,sortable:a.sortable,connectWith:s,messages:{empty:a.messages.columns,fieldMenu:a.messages.fieldMenu}}),this.rows=this._createTarget(s,{filterable:a.filterable,setting:"rows",connectWith:r,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}}),this.measures=this._createTarget(u,{setting:"measures",messages:{empty:a.messages.measures}}),r.add(s).add(u).on(c,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-state-hover","mouseenter"===t.type)},_resize:function(){var e,t,n=this.element,r=this.options.height;r&&(n.height(r),n.is(":visible")&&(t=n.children(".k-columns").children("div.k-state-default"),r=n.innerHeight(),e=(n.outerHeight()-r)/2,r=r-(t.outerHeight(!0)-t.height())-e,t.height(r)))},refresh:function(){var e=this.dataSource;(e.cubeBuilder||this._cube!==e.cube()||this._catalog!==e.catalog())&&this.treeView.dataSource.fetch(),this._catalog=this.dataSource.catalog(),this._cube=this.dataSource.cube(),this._resize(),this._progress(!1)},destroy:function(){f.fn.destroy.call(this),this.dataSource.unbind("change",this._refreshHandler),this.form.find(".k-list").off(l),this.rows.destroy(),this.columns.destroy(),this.measures.destroy(),this.treeView.destroy(),this.element=null,this._refreshHandler=null}});a.plugin(p)}(window.kendo.jQuery),function(e,t,n){"use strict";function r(e){var t=T;try{return T=function(e){return e()},e()}finally{T=t}}function i(e,r,i,s){r[i]=t.copy(e.$eval(s)),r[i]===n&&s.match(/^\w*$/)&&C.warn(i+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+s+"'?")}function s(r,s,f,l,m,g){function y(){var n,g,y,b,w,x,T,N,C,M,_,D,P;return f.kRebind&&(n=e(e(s)[0].cloneNode(!0))),g=l.replace(/^kendo/,""),y=t.extend({},f.defaultOptions,r.$eval(f.kOptions||f.options)),(b=e(s)[l])?(w=b.widget.prototype.options,x=b.widget.prototype.events,e.each(f,function(e,t){var n,s,o,u;"source"!==e&&"kDataSource"!==e&&"kScopeField"!==e&&(n="data"+e.charAt(0).toUpperCase()+e.slice(1),0===e.indexOf("on")&&(s=e.replace(/^on./,function(e){return e.charAt(2).toLowerCase()}),x.indexOf(s)>-1&&(y[s]=t)),w.hasOwnProperty(n)?i(r,y,n,t):w.hasOwnProperty(e)&&!O[e]?i(r,y,e,t):A[e]||(o=e.match(/^k(On)?([A-Z].*)/),o&&(u=o[2].charAt(0).toLowerCase()+o[2].slice(1),o[1]&&"kOnLabel"!=e?y[u]=t:("kOnLabel"==e&&(u="onLabel"),i(r,y,u,t)))))}),T=f.kDataSource||f.source,T&&(y.dataSource=L(r,s,g,T)),y.$angular=[r],s.is("select")&&!function(t){if(t.length>0){var n=e(t[0]);!/\S/.test(n.text())&&/^\?/.test(n.val())&&n.remove()}}(s[0].options),N=b.call(s,k=y).data(l),a(N,r,f,l,m),r.$emit("kendoWidgetCreated",N),C=p(r,N),f.kRebind&&v(N,r,s,n,f.kRebind,C,f),f.kNgDisabled&&(M=f.kNgDisabled,_=r.$eval(M),_&&N.enable(!_),o(N,r,s,M)),f.kNgReadonly&&(D=f.kNgReadonly,P=r.$eval(D),P&&N.readonly(P),u(N,r,s,D)),f.kNgModel&&h(N,r,f.kNgModel),E&&c(N,r,s,E,S),N&&d(N,s),N):(window.console.error("Could not find: "+l),null)}var b,w,E,S,x,N;if(s instanceof jQuery)return b=f.kNgDelay,w=r.$eval(b),g=g||[],E=g[0],S=g[1],b&&!w?(x=r.$root||r,N=function(){var e=r.$watch(b,function(t,n){t!==n&&(e(),s.removeAttr(f.$attr.kNgDelay),b=null,T(y))})},/^\$(digest|apply)$/.test(x.$$phase)?N():r.$apply(N),n):y();throw Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.")}function o(e,t,r,i){return kendo.ui.PanelBar&&e instanceof kendo.ui.PanelBar||kendo.ui.Menu&&e instanceof kendo.ui.Menu?(C.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+e.options.name),n):(t.$watch(i,function(t,n){t!=n&&e.enable(!t)}),n)}function u(e,t,r,i){return"function"!=typeof e.readonly?(C.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+e.options.name),n):(t.$watch(i,function(t,n){t!=n&&e.readonly(t)}),n)}function a(e,t,n,r,i){if(n[i]){var s=x(n[i]).assign;if(!s)throw Error(i+" attribute used but expression in it is not assignable: "+n[r]);s(t,e)}}function f(e){return/checkbox|radio/i.test(e.attr("type"))?e.prop("checked"):e.val()}function l(e){return M.test(e[0].tagName)}function c(e,t,r,i,s){var o,u,a,c;e.value&&(o=l(r)?function(){return f(r)}:function(){return e.value()},i.$render=function(){var t=i.$viewValue;t===n&&(t=i.$modelValue),t===n&&(t=null),setTimeout(function(){e&&e.value(t)},0)},u=!1,l(r)&&r.on("change",function(){u=!0}),a=function(e){return function(){var n;u||(u=!1,e&&s&&(n=s.$pristine),i.$setViewValue(o()),e&&(i.$setPristine(),n&&s.$setPristine()),y(t))}},e.first("change",a(!1)),kendo.ui.AutoComplete&&e instanceof kendo.ui.AutoComplete||e.first("dataBound",a(!0)),c=o(),c!=i.$viewValue&&(i.$isEmpty(i.$viewValue)?null!=c&&""!==c&&c!=i.$viewValue&&i.$setViewValue(c):e.value(i.$viewValue)),i.$setPristine())}function h(t,r,i){var s,o,u,a,f,l;return"function"!=typeof t.value?(C.warn("k-ng-model specified on a widget that does not have the value() method: "+t.options.name),n):(s=e(t.element).parents("form"),o=r[s.attr("name")],u=x(i),a=u.assign,f=!1,t.$angular_setLogicValue(u(r)),l=function(e,r){e===n&&(e=null),f||e!==r&&t.$angular_setLogicValue(e)},kendo.ui.MultiSelect&&t instanceof kendo.ui.MultiSelect?r.$watchCollection(i,l):r.$watch(i,l),t.first("change",function(){f=!0,o&&o.$pristine&&o.$setDirty(),r.$apply(function(){a(r,t.$angular_getLogicValue())}),f=!1}),n)}function p(e,t){var n=e.$on("$destroy",function(){n(),t&&(t.element&&(t=g(t.element),t&&t.destroy()),t=null)});return n}function d(t,n){function r(){o.disconnect()}function i(){o.observe(e(n)[0],{attributes:!0})}var s,o;window.MutationObserver&&t.wrapper&&(s=[].slice.call(e(n)[0].classList),o=new MutationObserver(function(n){r(),t&&(n.forEach(function(n){var r,i=e(t.wrapper)[0];switch(n.attributeName){case"class":r=[].slice.call(n.target.classList),r.forEach(function(e){s.indexOf(e)<0&&(i.classList.add(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(e))}),s.forEach(function(e){r.indexOf(e)<0&&(i.classList.remove(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(e))}),s=r;break;case"disabled":"function"==typeof t.enable&&t.enable(!e(n.target).attr("disabled"));break;case"readonly":"function"==typeof t.readonly&&t.readonly(!!e(n.target).attr("readonly"))}}),i())}),i(),t.first("destroy",r))}function v(t,n,r,i,s,o,u){var a=n.$watch(s,function(s,f){var l,c,h,p;s!==f&&(a(),l=B[t.options.name],l&&l.forEach(function(t){var r=n.$eval(u["k"+t]);r&&i.append(e(r).attr(kendo.toHyphens("k"+t),""))}),c=e(t.wrapper)[0],h=e(t.element)[0],p=r.injector().get("$compile"),t._destroy(),o&&o(),t=null,c&&h&&(c.parentNode.replaceChild(h,c),e(r).replaceWith(i)),p(i)(n))},!0);y(n)}function m(e,n){function r(e,t){E.directive(e,["directiveFactory",function(n){return n.create(t,e)}])}var i,s,o,u,a=n?"Mobile":"";a+=e.fn.options.name,i=a,s="kendo"+a.charAt(0)+a.substr(1).toLowerCase(),a="kendo"+a,o=a.replace(/([A-Z])/g,"-$1"),-1==D.indexOf(a.replace("kendo",""))&&(u=a===s?[a]:[a,s],t.forEach(u,function(e){E.directive(e,function(){return{restrict:"E",replace:!0,template:function(e,t){var n=_[i]||"div",r=t.kScopeField;return"<"+n+" "+o+(r?'="'+r+'"':"")+">"+e.html()+"</"+n+">"}}})})),P.indexOf(a.replace("kendo",""))>-1||(r(a,a),s!=a&&r(s,a))}function g(t){return t=e(t),kendo.widgetInstance(t,kendo.ui)||kendo.widgetInstance(t,kendo.mobile.ui)||kendo.widgetInstance(t,kendo.dataviz.ui)}function y(e,t){var n=e.$root||e,r=/^\$(digest|apply)$/.test(n.$$phase);t?r?t():n.$apply(t):r||n.$digest()}function b(t,n){t.$destroy(),n&&e(n).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function w(n,r,i){var s,o,u;if(e.isArray(n))return t.forEach(n,function(e){w(e,r,i)});if("string"==typeof n){for(s=n.split("."),o=kendo;o&&s.length>0;)o=o[s.shift()];if(!o)return H.push([n,r,i]),!1;n=o.prototype}return u=n[r],n[r]=function(){var e=this,t=arguments;return i.apply({self:e,next:function(){return u.apply(e,arguments.length>0?arguments:t)}},t)},!0}var E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B;t&&(E=t.module("kendo.directives",[]),S=t.injector(["ng"]),x=S.get("$parse"),T=S.get("$timeout"),C=S.get("$log"),L=function(){var e={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"},t=function(e,t){return"$PLAIN"==t?e:kendo.data[t].create(e)};return function(n,r,i,s){var o=e[i]||"DataSource",u=t(n.$eval(s),o);return n.$watch(s,function(e,n){var i,s;e!==n&&(i=t(e,o),s=g(r),s&&"function"==typeof s.setDataSource&&s.setDataSource(i))}),u}}(),A={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},O={name:!0,title:!0,style:!0},M=/^(input|select|textarea)$/i,E.factory("directiveFactory",["$compile",function(t){var n,r,i=!1;return N=t,r=function(t,r){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(e,t){var n=this;n.template=function(e,n){t[e]=kendo.stringify(n)},e.$on("$destroy",function(){n.template=null,n=null})}],link:function(o,u,a,f){var l,c=e(u),h=t.replace(/([A-Z])/g,"-$1");c.attr(h,c.attr("data-"+h)),c[0].removeAttribute("data-"+h),l=s(o,u,a,t,r,f),l&&(n&&clearTimeout(n),n=setTimeout(function(){o.$emit("kendoRendered"),i||(i=!0,e("form").each(function(){var t=e(this).controller("form");t&&t.$setPristine()}))}))}}},{create:r}}]),_={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},D=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],P=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"],t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(e){P.push(e),e="kendo"+e,E.directive(e,function(){return{restrict:"A",link:function(t,n,r){s(t,n,r,e,e)}}})}),function(){function e(e){return function(n){t.forEach(n,function(t){t.fn&&t.fn.options&&t.fn.options.name&&/^[A-Z]/.test(t.fn.options.name)&&m(t,e)})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],e(!1)),t.forEach([kendo.mobile&&kendo.mobile.ui],e(!0))}(),H=[],w(kendo.ui,"plugin",function(t,n,r){this.next(),H=e.grep(H,function(e){return!w.apply(null,e)}),m(t,"Mobile"==r)}),w(["ui.Widget","mobile.ui.Widget"],"angular",function(i,s){var o,u=this.self;return"init"==i?(!s&&k&&(s=k),k=null,s&&s.$angular&&(u.$angular_scope=s.$angular[0],u.$angular_init(u.element,s)),n):(o=u.$angular_scope,o&&r(function(){var r,a,f=s(),l=f.elements,c=f.data;if(l.length>0)switch(i){case"cleanup":t.forEach(l,function(t){var n=e(t).data("$$kendoScope");n&&n!==o&&n.$$kendoScope&&b(n,t)});break;case"compile":r=u.element.injector(),a=r?r.get("$compile"):N,t.forEach(l,function(t,r){var i,s;f.scopeFrom?i=f.scopeFrom:(s=c&&c[r],s!==n?(i=e.extend(o.$new(),s),i.$$kendoScope=!0):i=o),e(t).data("$$kendoScope",i),a(t)(i)}),y(o)}}),n)}),w("ui.Widget","$angular_getLogicValue",function(){return this.self.value()}),w("ui.Widget","$angular_setLogicValue",function(e){this.self.value(e)}),w("ui.Select","$angular_getLogicValue",function(){var e=this.self.dataItem(),t=this.self.options.dataValueField;return e?this.self.options.valuePrimitive?t?e[t]:e:e.toJSON():null}),w("ui.Select","$angular_setLogicValue",function(e){var t=this.self,r=t.options,i=r.dataValueField,s=r.text||"";e===n&&(e=""),i&&!r.valuePrimitive&&e&&(s=e[r.dataTextField]||"",e=e[i||r.dataTextField]),t.options.autoBind!==!1||t.listView.isBound()?t.value(e):!s&&e&&r.valuePrimitive?t.value(e):t._preselect(e,s)}),w("ui.MultiSelect","$angular_getLogicValue",function(){var t=this.self.dataItems().slice(0),n=this.self.options.dataValueField;return n&&this.self.options.valuePrimitive&&(t=e.map(t,function(e){return e[n]})),t}),w("ui.MultiSelect","$angular_setLogicValue",function(t){var n,r,i,s;null==t&&(t=[]),n=this.self,r=n.options,i=r.dataValueField,s=t,i&&!r.valuePrimitive&&(t=e.map(t,function(e){return e[i]})),r.autoBind!==!1||r.valuePrimitive||n.listView.isBound()?n.value(t):n._preselect(s,t)}),w("ui.AutoComplete","$angular_getLogicValue",function(){var e,t,n,r,i,s=this.self.options,o=this.self.value().split(s.separator),u=s.valuePrimitive,a=this.self.dataSource.data(),f=[];for(e=0,t=a.length;t>e;e++)for(n=a[e],r=s.dataTextField?n[s.dataTextField]:n,i=0;o.length>i;i++)if(r===o[i]){f.push(u?r:n.toJSON());break}return f}),w("ui.AutoComplete","$angular_setLogicValue",function(t){null==t&&(t=[]);var n=this.self,r=n.options.dataTextField;r&&!n.options.valuePrimitive&&(t=e.map(t,function(e){return e[r]})),n.value(t)}),w("ui.Widget","$angular_init",function(t,n){var r,i,s,o,u=this.self;if(n&&!e.isArray(n))for(r=u.$angular_scope,i=u.events.length;--i>=0;)s=u.events[i],o=n[s],o&&"string"==typeof o&&(n[s]=u.$angular_makeEventHandler(s,r,o))}),w("ui.Widget","$angular_makeEventHandler",function(e,t,n){return n=x(n),function(e){y(t,function(){n(t,{kendoEvent:e})})}}),w(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(e,n,r){return"change"!=e?this.next():(r=x(r),function(e){var i,s,o,u,a,f,l,c,h,p=e.sender,d=p.options,v={kendoEvent:e};for(t.isString(d.selectable)&&(i=-1!==d.selectable.indexOf("cell"),s=-1!==d.selectable.indexOf("multiple")),o=v.selected=this.select(),u=v.data=[],a=v.columns=[],l=0;o.length>l;l++)c=i?o[l].parentNode:o[l],h=p.dataItem(c),i?(t.element.inArray(h,u)<0&&u.push(h),f=t.element(o[l]).index(),t.element.inArray(f,a)<0&&a.push(f)):u.push(h);s||(v.dataItem=v.data=u[0],v.selected=o[0]),y(n,function(){r(n,v)})})}),w("ui.Grid","$angular_init",function(r,i){if(this.next(),i.columns){var s=e.extend({},kendo.Template,i.templateSettings);t.forEach(i.columns,function(e){!e.field||e.template||e.format||e.values||e.encoded!==n&&!e.encoded||(e.template="<span ng-bind='"+kendo.expr(e.field,"dataItem")+"'>#: "+kendo.expr(e.field,s.paramName)+"#</span>")})}}),w("mobile.ui.ButtonGroup","value",function(e){var t=this.self;return null!=e&&(t.select(t.element.children("li.km-button").eq(e)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex}),w("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}),E.directive("kendoMobileApplication",function(){return{terminal:!0,link:function(e,t,n){s(e,t,n,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=s(e,t,n,"kendoMobileView","kendoMobileView")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=s(e,t,n,"kendoMobileDrawer","kendoMobileDrawer")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=s(e,t,n,"kendoMobileModalView","kendoMobileModalView")},post:function(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,n._instance=s(e,t,n,"kendoMobileSplitView","kendoMobileSplitView")},post:function(e,t,n){n._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,s(e,t,n,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(e,t,n){s(e,t,n,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(t,n,r){n.find("a[k-action]").each(function(){e(this).attr("data-"+kendo.ns+"action",e(this).attr("k-action"))}),s(t,n,r,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function(e,t,n){n.defaultOptions=e.viewOptions,s(e,t,n,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function(e){return"<span data-"+kendo.ns+"role='view-title'>"+e.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(e,t){t.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(e,t){t.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function(e){return"<div data-"+kendo.ns+"role='page'>"+e.html()+"</div>"}}}),t.forEach(["align","icon","rel","transition","actionsheetContext"],function(e){var t="k"+e.slice(0,1).toUpperCase()+e.slice(1);E.directive(t,function(){return{restrict:"A",priority:2,link:function(n,r,i){r.attr(kendo.attr(kendo.toHyphens(e)),n.$eval(i[t]))}}})}),B={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]},function(){var e={};t.forEach(B,function(n,r){t.forEach(n,function(t){e[t]||(e[t]=[]),e[t].push("?^^kendo"+r)})}),t.forEach(e,function(e,t){var n="k"+t,r=kendo.toHyphens(n);E.directive(n,function(){return{restrict:"A",require:e,terminal:!0,compile:function(t,i){if(""===i[n]){t.removeAttr(r);var s=t[0].outerHTML;return function(i,o,u,a){for(var f;!f&&a.length;)f=a.shift();f?(f.template(n,s),t.remove()):C.warn(r+" without a matching parent widget found. It can be one of the following: "+e.join(", "))}}}}})})}())}(window.kendo.jQuery,window.angular),function(e,t){function n(e,t){var n={top:0,right:0,bottom:0,left:0};return t=t||0,"number"==typeof e?n[Bt]=n[Ht]=n[ft]=n[Ct]=e:(n[Bt]=e[Bt]||t,n[Ht]=e[Ht]||t,n[ft]=e[ft]||t,n[Ct]=e[Ct]||t),n}function r(e,t){var n=e.tickX,r=e.tickY,i=e.position,s=new G.Path({stroke:{width:t.width,color:t.color}});return e.vertical?s.moveTo(n,i).lineTo(n+t.size,i):s.moveTo(i,r).lineTo(i,r+t.size),E(s),s}function i(e,t){var n=e.lineStart,r=e.lineEnd,i=e.position,s=new G.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?s.moveTo(n,i).lineTo(r,i):s.moveTo(i,n).lineTo(i,r),E(s),s}function s(e,t){var n,r,i,s=c(t-e,yt-1);if(0===s){if(0===t)return.1;s=st.abs(t)}return n=st.pow(10,st.floor(st.log(s)/st.log(10))),r=c(s/n,yt),i=1,i=1.904762>r?.2:4.761904>r?.5:9.523809>r?1:2,c(n*i,yt)}function o(e,t,n,r,i){var s=i*wt;return new zt(n+(e-n)*st.cos(s)+(t-r)*st.sin(s),r-(e-n)*st.sin(s)+(t-r)*st.cos(s))}function u(t,n){if(t.x1==n.x1&&t.y1==n.y1&&t.x2==n.x2&&t.y2==n.y2)return n;var r=st.min(t.x1,n.x1),i=st.max(t.x1,n.x1),s=st.min(t.x2,n.x2),o=st.max(t.x2,n.x2),u=st.min(t.y1,n.y1),a=st.max(t.y1,n.y1),f=st.min(t.y2,n.y2),l=st.max(t.y2,n.y2),c=[];return c[0]=T(i,u,s,a),c[1]=T(r,a,i,f),c[2]=T(s,a,o,f),c[3]=T(i,f,s,l),t.x1==r&&t.y1==u||n.x1==r&&n.y1==u?(c[4]=T(r,u,i,a),c[5]=T(s,f,o,l)):(c[4]=T(s,u,o,a),c[5]=T(r,f,i,l)),e.grep(c,function(e){return e.height()>0&&e.width()>0})[0]}function a(e,t){return-1!=nt(e,t)}function f(e,t){return c(st.ceil(e/t)*t,yt)}function l(e,t){return c(st.floor(e/t)*t,yt)}function c(e,t){var n=st.pow(10,t||0);return st.round(e*n)/n}function h(e,t){return st.log(e)/st.log(t)}function p(e,t,n){var r=c(st.abs(e%t),yt),i=t*(1-n);return 0===r||r>i}function d(e,t,n){return c(e+(t-e)*n,ct)}function v(e,t){return e-t}function m(e,t){return e.match(Et)?z.format.apply(this,arguments):z.toString(t,e)}function g(e,t){return 0>-e.x*t.y+e.y*t.x}function y(e,t){return e&&t?e.getTime()-t.getTime():-1}function b(e){var t=e.originalEvent,n=0;return t.wheelDelta&&(n=-t.wheelDelta/120,n=n>0?st.ceil(n):st.floor(n)),t.detail&&(n=c(t.detail/3)),n}function w(e){if(!e||!e.indexOf||e.indexOf("&")<0)return e;var t=w._element;return t.innerHTML=e,t.textContent||t.innerText}function E(e){if(!z.support.vml)for(var t=0;e.segments.length>t;t++)e.segments[t].anchor().round(0).translate(.5,.5);return e}function S(e){var t,n,r=e.stops,i=e.innerRadius/e.radius*100,s=r.length,o=[];for(t=0;s>t;t++)n=ot({},r[t]),n.offset=(n.offset*(100-i)+i)/100,o.push(n);return o}function x(e){var t=e.origin,n=e.bottomRight();return new T(t.x,t.y,n.x,n.y)}var T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z=window.kendo,W=z.util,X=W.append,V=W.defined,$=W.last,J=W.valueOrDefault,K=z.dataviz,Q=K.geometry,G=K.drawing,Y=G.util.measureText,Z=z.Class,et=z.template,tt=e.noop,nt=e.inArray,rt=e.isPlainObject,it=e.trim,st=Math,ot=z.deepExtend,ut="axisLabelClick",at="#000",ft="bottom",lt="center",ct=3,ht="clip",pt="circle",dt="cross",vt="12px sans-serif",mt=400,gt=7,yt=6,bt=600,wt=st.PI/180,Et=/\{\d+:?/,St="height",xt=1e5,Tt=600,Nt="inside",Ct="left",kt="linear",Lt=Number.MAX_VALUE,At=-Number.MAX_VALUE,Ot="none",Mt="noteClick",_t="noteHover",Dt="outside",Pt="radial",Ht="right",Bt="top",jt="triangle",Ft="width",It="#fff",qt="x",Rt="y",Ut=.2,zt=function(e,n){var r=this;return r instanceof zt?(r.x=e||0,r.y=n||0,t):new zt(e,n)};zt.fn=zt.prototype={clone:function(){var e=this;return new zt(e.x,e.y)},equals:function(e){return e&&e.x===this.x&&e.y===this.y},rotate:function(e,t){var n=this,r=t*wt,i=st.cos(r),s=st.sin(r),o=e.x,u=e.y,a=n.x,f=n.y;return n.x=c(o+(a-o)*i+(f-u)*s,ct),n.y=c(u+(f-u)*i-(a-o)*s,ct),n},multiply:function(e){var t=this;return t.x*=e,t.y*=e,t},distanceTo:function(e){var t=this.x-e.x,n=this.y-e.y;return st.sqrt(t*t+n*n)}},zt.onCircle=function(e,t,n){return t*=wt,new zt(e.x-n*st.cos(t),e.y-n*st.sin(t))},T=function(e,n,r,i){var s=this;return s instanceof T?(s.x1=e||0,s.x2=r||0,s.y1=n||0,s.y2=i||0,t):new T(e,n,r,i)},T.fn=T.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(e,t){var n=this;return n.x1+=e,n.x2+=e,n.y1+=t,n.y2+=t,n},move:function(e,t){var n=this,r=n.height(),i=n.width();return V(e)&&(n.x1=e,n.x2=n.x1+i),V(t)&&(n.y1=t,n.y2=n.y1+r),n},wrap:function(e){var t=this;return t.x1=st.min(t.x1,e.x1),t.y1=st.min(t.y1,e.y1),t.x2=st.max(t.x2,e.x2),t.y2=st.max(t.y2,e.y2),t},wrapPoint:function(e){return this.wrap(new T(e.x,e.y,e.x,e.y)),this},snapTo:function(e,t){var n=this;return t!=qt&&t||(n.x1=e.x1,n.x2=e.x2),t!=Rt&&t||(n.y1=e.y1,n.y2=e.y2),n},alignTo:function(e,t){var n,r,i=this,s=i.height(),o=i.width(),u=t==Bt||t==ft?Rt:qt,a=u==Rt?s:o;return t===lt?(n=e.center(),r=i.center(),i.x1+=n.x-r.x,i.y1+=n.y-r.y):i[u+1]=t===Bt||t===Ct?e[u+1]-a:e[u+2],i.x2=i.x1+o,i.y2=i.y1+s,i},shrink:function(e,t){var n=this;return n.x2-=e,n.y2-=t,n},expand:function(e,t){return this.shrink(-e,-t),this},pad:function(e){var t=this,r=n(e);return t.x1-=r.left,t.x2+=r.right,t.y1-=r.top,t.y2+=r.bottom,t},unpad:function(e){var t=this,r=n(e);return r.left=-r.left,r.top=-r.top,r.right=-r.right,r.bottom=-r.bottom,t.pad(r)},clone:function(){var e=this;return new T(e.x1,e.y1,e.x2,e.y2)},center:function(){var e=this;return new zt(e.x1+e.width()/2,e.y1+e.height()/2)},containsPoint:function(e){var t=this;return e.x>=t.x1&&t.x2>=e.x&&e.y>=t.y1&&t.y2>=e.y},points:function(){var e=this;return[new zt(e.x1,e.y1),new zt(e.x2,e.y1),new zt(e.x2,e.y2),new zt(e.x1,e.y2)]},getHash:function(){var e=this;return[e.x1,e.y1,e.x2,e.y2].join(",")},overlaps:function(e){return!(this.y1>e.y2||e.y1>this.y2||this.x1>e.x2||e.x1>this.x2)},rotate:function(e){var t=this,n=t.width(),r=t.height(),i=t.center(),s=i.x,u=i.y,a=o(0,0,s,u,e),f=o(n,0,s,u,e),l=o(n,r,s,u,e),c=o(0,r,s,u,e);return n=st.max(a.x,f.x,l.x,c.x)-st.min(a.x,f.x,l.x,c.x),r=st.max(a.y,f.y,l.y,c.y)-st.min(a.y,f.y,l.y,c.y),t.x2=t.x1+n,t.y2=t.y1+r,t},toRect:function(){return new Q.Rect([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return 0!==this.width()&&0!==this.height()},align:function(e,t,n){var r=this,i=t+1,s=t+2,o=t===qt?Ft:St,u=r[o]();a(n,[Ct,Bt])?(r[i]=e[i],r[s]=r[i]+u):a(n,[Ht,ft])?(r[s]=e[s],r[i]=r[s]-u):n==lt&&(r[i]=e[i]+(e[o]()-u)/2,r[s]=r[i]+u)}},N=Z.extend({init:function(e,t,n,r,i){var s=this;s.c=e,s.ir=t,s.r=n,s.startAngle=r,s.angle=i},clone:function(){var e=this;return new N(e.c,e.ir,e.r,e.startAngle,e.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(e,t){var n=this;return t?n.ir=e:n.r=e,n},point:function(e,t){var n=this,r=e*wt,i=st.cos(r),s=st.sin(r),o=t?n.ir:n.r,u=c(n.c.x-i*o,ct),a=c(n.c.y-s*o,ct);return new zt(u,a)},adjacentBox:function(e,t,n){var r=this.clone().expand(e),i=r.middle(),s=r.point(i),o=t/2,u=n/2,a=s.x-o,f=s.y-u,l=st.sin(i*wt),c=st.cos(i*wt);return st.abs(l)<.9&&(a+=o*-c/st.abs(c)),st.abs(c)<.9&&(f+=u*-l/st.abs(l)),new T(a,f,a+t,f+n)},containsPoint:function(e){var t=this,n=t.c,r=t.ir,i=t.r,s=t.startAngle,o=t.startAngle+t.angle,u=e.x-n.x,a=e.y-n.y,f=new zt(u,a),l=t.point(s),h=new zt(l.x-n.x,l.y-n.y),p=t.point(o),d=new zt(p.x-n.x,p.y-n.y),v=c(u*u+a*a,ct);return(h.equals(f)||g(h,f))&&!g(d,f)&&v>=r*r&&i*i>=v},getBBox:function(){var e,t,n,r=this,i=new T(Lt,Lt,At,At),s=c(r.startAngle%360),o=c((s+r.angle)%360),u=r.ir,a=[0,90,180,270,s,o].sort(v),f=nt(s,a),l=nt(o,a);for(e=s==o?a:l>f?a.slice(f,l+1):[].concat(a.slice(0,l+1),a.slice(f,a.length)),t=0;e.length>t;t++)n=r.point(e[t]),i.wrapPoint(n),i.wrapPoint(n,u);return u||i.wrapPoint(r.c),i},expand:function(e){return this.r+=e,this}}),C=N.extend({init:function(e,t,n,r){N.fn.init.call(this,e,0,t,n,r)},expand:function(e){return N.fn.expand.call(this,e)},clone:function(){var e=this;return new C(e.c,e.r,e.startAngle,e.angle)},radius:function(e){return N.fn.radius.call(this,e)},point:function(e){return N.fn.point.call(this,e)}}),k=function(){},k.fn=k.prototype={createRing:function(e,t){var n,r=e.startAngle+180,i=e.angle+r,s=new Q.Point(e.c.x,e.c.y),o=st.max(e.r,0),u=st.max(e.ir,0),a=new Q.Arc(s,{startAngle:r,endAngle:i,radiusX:o,radiusY:o}),f=G.Path.fromArc(a,t).close();return u?(a.radiusX=a.radiusY=u,n=a.pointAt(i),f.lineTo(n.x,n.y),f.arc(i,r,u,u,!0)):f.lineTo(s.x,s.y),f}},k.current=new k,L=Z.extend({init:function(e){var t=this;t.children=[],t.options=ot({},t.options,e)},reflow:function(e){var t,n,r,i=this,s=i.children;for(n=0;s.length>n;n++)r=s[n],r.reflow(e),t=t?t.wrap(r.box):r.box.clone();i.box=t||e},destroy:function(){var e,t=this,n=t.children;t.getRoot();for(this.animation&&this.animation.destroy(),e=0;n.length>e;e++)n[e].destroy()},getRoot:function(){var e=this.parent;return e?e.getRoot():null},translateChildren:function(e,t){var n,r=this,i=r.children,s=i.length;for(n=0;s>n;n++)i[n].box.translate(e,t)},append:function(){X(this.children,arguments);for(var e=0;arguments.length>e;e++)arguments[e].parent=this},renderVisual:function(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},addVisual:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},renderChildren:function(){var e,t=this.children;for(e=0;t.length>e;e++)t[e].renderVisual()},createVisual:function(){this.visual=new K.drawing.Group({zIndex:this.options.zIndex,visible:J(this.options.visible,!0)})},createAnimation:function(){this.visual&&(this.animation=G.Animation.create(this.visual,this.options.animation))},appendVisual:function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):V(e.options.zIndex)?this.stackRoot().stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)},clipRoot:function(){return this.parent?this.parent.clipRoot():this},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(e){var t,n,r,i=e.options.zIndex||0,s=this.visual.children;for(t=0;s.length>t&&(n=s[t],r=J(n.options.zIndex,0),!(r>i));t++);this.visual.insertAt(e,t)},traverse:function(e){var t,n,r=this.children;for(t=0;r.length>t;t++)n=r[t],e(n),n.traverse&&n.traverse(e)},closest:function(e){for(var n=this,r=!1;n&&!r;)r=e(n),r||(n=n.parent);return r?n:t},renderComplete:e.noop,hasHighlight:function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&e.visible===!1)},toggleHighlight:function(e){var t,n=this,r=n._highlight,i=(n.options||{}).highlight,s=(i||{}).visual;if(!r){if(t={fill:{color:It,opacity:.2},stroke:{color:It,width:1,opacity:.2}},s){if(r=n._highlight=s(ot(n.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(t)},series:n.series,dataItem:n.dataItem,category:n.category,value:n.value,percentage:n.percentage,runningTotal:n.runningTotal,total:n.total})),!r)return}else r=n._highlight=n.createHighlight(t);r.options.zIndex=n.options.zIndex,n.appendVisual(r)}r.visible(e)},createGradientOverlay:function(e,t,n){var r=new G.Path(ot({stroke:{color:Ot},fill:this.createGradient(n),closed:e.options.closed},t));return r.segments.elements(e.segments.elements()),r},createGradient:function(e){return this.parent?this.parent.createGradient(e):t}}),A=L.extend({init:function(e){var t=this;t.gradients={},L.fn.init.call(t,e)},options:{width:bt,height:mt,background:It,border:{color:at,width:0},margin:n(5),zIndex:-2},reflow:function(){var e,t=this,n=t.options,r=t.children,i=new T(0,0,n.width,n.height);for(t.box=i.unpad(n.margin),e=0;r.length>e;e++)r[e].reflow(i),i=u(i,r[e].box)||T()},createVisual:function(){this.visual=new G.Group,this.createBackground()},createBackground:function(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),r=G.Path.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(r)},getRoot:function(){return this},createGradient:function(e){var t,n,r=this.gradients,i=W.objectKey(e),s=K.Gradients[e.gradient];return r[i]?t=r[i]:(n=ot({},s,e),"linear"==s.type?t=new G.LinearGradient(n):(e.innerRadius&&(n.stops=S(n)),t=new G.RadialGradient(n),t.supportVML=s.supportVML!==!1),r[i]=t),t}}),O=L.extend({options:{align:Ct,vAlign:Bt,margin:{},padding:{},border:{color:at,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(e){function t(){u.align(e,qt,a.align),u.align(e,Rt,a.vAlign),u.paddingBox=r.clone().unpad(p).unpad(v)}var r,i,s,o,u=this,a=u.options,f=a.width,l=a.height,c=f&&l,h=a.shrinkToFit,p=n(a.margin),d=n(a.padding),v=a.border.width,m=u.children;for(i=e.clone(),c&&(i.x2=i.x1+f,i.y2=i.y1+l),h&&i.unpad(p).unpad(v).unpad(d),L.fn.reflow.call(u,i),r=c?u.box=T(0,0,f,l):u.box,h&&c?(t(),i=u.contentBox=u.paddingBox.clone().unpad(d)):(i=u.contentBox=r.clone(),r.pad(d).pad(v).pad(p),t()),u.translateChildren(r.x1-i.x1+p.left+v+d.left,r.y1-i.y1+p.top+v+d.top),s=0;m.length>s;s++)o=m[s],o.reflow(o.box)},align:function(e,t,n){this.box.align(e,t,n)},hasBox:function(){var e=this.options;return e.border.width||e.background},createVisual:function(){L.fn.createVisual.call(this);var e=this.options;e.visible&&this.hasBox()&&this.visual.append(G.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var e=this,t=e.options,n=t.border||{};return{stroke:{width:n.width,color:n.color,opacity:J(n.opacity,t.opacity),dashType:n.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}}),M=L.extend({init:function(e,t){var n=this;L.fn.init.call(n,t),n.content=e,n.reflow(T())},options:{font:vt,color:at,align:Ct,vAlign:""},reflow:function(e){var t,n=this,r=n.options;t=r.size=Y(n.content,{font:r.font}),n.baseline=t.baseline,n.box=T(e.x1,e.y1,e.x1+t.width,e.y1+t.height)},createVisual:function(){var e=this.options;this.visual=new G.Text(this.content,this.box.toRect().topLeft(),{font:e.font,fill:{color:e.color,opacity:e.opacity},cursor:e.cursor})}}),_=L.extend({init:function(e){L.fn.init.call(this,e),this._initDirection()},_initDirection:function(){var e=this.options;e.vertical?(this.groupAxis=qt,this.elementAxis=Rt,this.groupSizeField=Ft,this.elementSizeField=St,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=Rt,this.elementAxis=qt,this.groupSizeField=St,this.elementSizeField=Ft,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)},options:{vertical:!0,wrap:!0,vSpacing:0,spacing:0},reflow:function(e){this.box=e.clone(),this.reflowChildren()},reflowChildren:function(){var e,t,n,r,i,s,o,u,a,f,l=this,c=l.box,h=l.elementAxis,p=l.groupAxis,d=l.elementSizeField,v=l.groupSizeField,m=l.groupOptions(),g=m.groups,y=g.length,b=c[p+1]+l.alignStart(m.groupsSize,c[v]()),w=b;if(y){for(o=0;y>o;o++){for(n=g[o],r=n.groupElements,i=r.length,e=c[h+1],s=0;i>s;s++)u=r[s],f=l.elementSize(u),t=w+l.alignStart(f[v],n.groupSize),a=T(),a[p+1]=t,a[p+2]=t+f[v],a[h+1]=e,a[h+2]=e+f[d],u.reflow(a),e+=f[d]+l.elementSpacing;w+=n.groupSize+l.groupSpacing}c[p+1]=b,c[p+2]=b+m.groupsSize,c[h+2]=c[h+1]+m.maxGroupElementsSize}},alignStart:function(e,t){var n=0,r=this.options.align;return r==Ht||r==ft?n=t-e:r==lt&&(n=(t-e)/2),n},groupOptions:function(){var e,t,n=this,r=n.box,i=n.children,s=i.length,o=this.elementSizeField,u=this.groupSizeField,a=this.elementSpacing,f=this.groupSpacing,l=c(r[o]()),h=0,p=0,d=0,v=0,m=[],g=[],y=0;for(h=0;s>h;h++)t=i[h],t.box||t.reflow(r),e=this.elementSize(t),n.options.wrap&&c(d+a+e[o])>l&&(m.push({groupElements:g,groupSize:p,groupElementsSize:d}),y=st.max(y,d),v+=f+p,p=0,d=0,g=[]),p=st.max(p,e[u]),d>0&&(d+=a),d+=e[o],g.push(t);return m.push({groupElements:g,groupSize:p,groupElementsSize:d}),y=st.max(y,d),v+=p,{groups:m,groupsSize:v,maxGroupElementsSize:y}},elementSize:function(e){return{width:e.box.width(),height:e.box.height()}},createVisual:tt}),D=O.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function(e,t){var n=this;n.content=e,O.fn.init.call(n,t),n._initContainer(),n.reflow(T())},_initContainer:function(){var e,t,n=this,r=n.options,i=(n.content+"").split(n.ROWS_SPLIT_REGEX),s=new _({vertical:!0,align:r.align,wrap:!1}),o=ot({},r,{opacity:1,animation:null});n.hasBox();for(n.container=s,n.append(s),t=0;i.length>t;t++)e=new M(it(i[t]),o),s.append(e)},reflow:function(e){var t,r,i,s=this.options,o=s.visual;this.container.options.align=s.align,o&&!this._boxReflow?(e.hasSize()||(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,e=this.box),this.visual=o(this.visualContext(e)),t=e,this.visual&&(t=x(this.visual.clippedBBox()||new Q.Rect),this.visual.options.zIndex=s.zIndex,this.visual.options.noclip=s.noclip),this.box=this.contentBox=this.paddingBox=t):(O.fn.reflow.call(this,e),s.rotation&&(r=n(s.margin),i=this.box.unpad(r),this.targetBox=e,this.normalBox=i.clone(),i=this.rotate(),i.translate(r.left-r.right,r.top-r.bottom),this.rotatedBox=i.clone(),i.pad(r)))},createVisual:function(){var e,t=this.options;t.visible&&(this.visual=new K.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()&&(e=G.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()),this.visual.append(e)))},renderVisual:function(){this.options.visual?(this.addVisual(),this.createAnimation()):O.fn.renderVisual.call(this)},visualOptions:function(){var e=this.options;return{background:e.background,border:e.border,color:e.color,font:e.font,margin:e.margin,padding:e.padding,visible:e.visible}},visualContext:function(e){var t=this;return{text:t.content,rect:e.toRect(),options:t.visualOptions(),createVisual:function(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}}},getDefaultVisual:function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e},rotate:function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,qt,e.align),this.align(this.targetBox,Rt,e.vAlign),this.box},rotationTransform:function(){var e,t,n,r,i=this.options.rotation;return i?(e=this.normalBox.center(),t=e.x,n=e.y,r=this.rotatedBox.center(),Q.transform().translate(r.x-t,r.y-n).rotate(i,[t,n])):null}}),P=L.extend({init:function(e){var t=this;L.fn.init.call(t,e),e=t.options,t.append(new D(e.text,ot({},e,{vAlign:e.position})))},options:{color:at,position:Bt,align:lt,margin:n(5),padding:n(5)},reflow:function(e){var t=this;L.fn.reflow.call(t,e),t.box.snapTo(e,qt)}}),P.buildTitle=function(e,t,n){var r;return"string"==typeof e&&(e={text:e}),e=ot({visible:!0},n,e),e&&e.visible&&e.text&&(r=new P(e),t.append(r)),r},H=D.extend({init:function(e,t,n,r,i){var s=this;s.text=t,s.value=e,s.index=n,s.dataItem=r,D.fn.init.call(s,t,i)},visualContext:function(e){var t=D.fn.visualContext.call(this,e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t},click:function(t,n){var r=this;t.trigger(ut,{element:e(n.target),value:r.value,text:r.text,index:r.index,dataItem:r.dataItem,axis:r.parent.options})},rotate:function(){var e,t;return this.options.alignRotation!=lt?(e=this.normalBox.toRect(),t=this.rotationTransform(),this.box=x(e.bbox(t.matrix()))):D.fn.rotate.call(this),this.box},rotationTransform:function(){var e,t,n,r,i,s,o,u,a,f,l,h,p,d,v,m,g,y,b=this.options,w=b.rotation;return w?b.alignRotation==lt?D.fn.rotationTransform.call(this):(e=Q.transform().rotate(w).matrix(),t=this.normalBox.toRect(),n=this.targetBox.toRect(),r=b.rotationOrigin||Bt,i=r==Bt||r==ft?qt:Rt,s=r==Bt||r==ft?Rt:qt,o=r==Bt||r==Ct?n.origin:n.bottomRight(),u=t.topLeft().transformCopy(e),a=t.topRight().transformCopy(e),f=t.bottomRight().transformCopy(e),l=t.bottomLeft().transformCopy(e),h=Q.Rect.fromPoints(u,a,f,l),p={},p[s]=n.origin[s]-h.origin[s],d=st.abs(u[s]+p[s]-o[s]),v=st.abs(a[s]+p[s]-o[s]),c(d,yt)===c(v,yt)?(m=u,g=a):d>v?(m=a,g=f):(m=u,g=l),y=m[i]+(g[i]-m[i])/2,p[i]=n.center()[i]-y,Q.transform().translate(p.x,p.y).rotate(w)):null}}),B=L.extend({init:function(e){var t=this;L.fn.init.call(t,e),t.options.visible||(t.options=ot({},t.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),t.options.minorTicks=ot({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.minorTickType!=Ot},t.options.minorTicks,{size:t.options.minorTickSize,align:t.options.minorTickType}),t.options.majorTicks=ot({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.majorTickType!=Ot},t.options.majorTicks,{size:t.options.majorTickSize,align:t.options.majorTickType}),this.options._deferLabels||t.createLabels(),t.createTitle(),t.createNotes()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:at,visible:!0},title:{visible:!0,position:lt},majorTicks:{align:Dt,size:4,skip:0,step:1},minorTicks:{align:Dt,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:Dt,minorTickType:Ot,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:at,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1},createLabels:function(){var t,n,r,i,s=this,o=s.options,u=o.vertical?Ht:lt,a=ot({},o.labels,{align:u,zIndex:o.zIndex}),f=st.max(1,a.step);if(s.children=e.grep(s.children,function(e){return!(e instanceof H)}),s.labels=[],a.visible)for(t=s.labelsCount(),n=a.rotation,rt(n)&&(a.alignRotation=n.align,a.rotation=n.angle),"auto"==a.rotation&&(a.rotation=0,o.autoRotateLabels=!0),i=a.skip;t>i;i+=f)r=s.createAxisLabel(i,a),r&&(s.append(r),s.labels.push(r))},lineBox:function(){var e=this,t=e.options,n=e.box,r=t.vertical,i=t.labels.mirror,s=i?n.x1:n.x2,o=i?n.y2:n.y1,u=t.line.width||0;return r?T(s,n.y1,s,n.y2-u):T(n.x1,o,n.x2-u,o)},createTitle:function(){var e,t=this,n=t.options,r=ot({rotation:n.vertical?-90:0,text:"",zIndex:1,visualSize:!0},n.title);r.visible&&r.text&&(e=new D(r.text,r),t.append(e),t.title=e)},createNotes:function(){var e,t,n,r=this,i=r.options,s=i.notes,o=s.data||[];for(r.notes=[],e=0;o.length>e;e++)t=ot({},s,o[e]),t.value=r.parseNoteValue(t.value),n=new j(t.value,t.label.text,null,null,null,t),n.options.visible&&(V(n.options.position)?i.vertical&&!a(n.options.position,[Ct,Ht])?n.options.position=i.reverse?Ct:Ht:i.vertical||a(n.options.position,[Bt,ft])||(n.options.position=i.reverse?ft:Bt):n.options.position=i.vertical?i.reverse?Ct:Ht:i.reverse?ft:Bt,r.append(n),r.notes.push(n))},parseNoteValue:function(e){return e},renderVisual:function(){L.fn.renderVisual.call(this),this.createPlotBands()},createVisual:function(){L.fn.createVisual.call(this),this.createBackground(),this.createLine()},gridLinesVisual:function(){var e=this._gridLines;return e||(e=this._gridLines=new G.Group({zIndex:-2}),this.appendVisual(this._gridLines)),e},createTicks:function(e){function t(t,n,i){var u,f=t.length;if(n.visible)for(u=n.skip;f>u;u+=n.step)V(i)&&u%i===0||(a.tickX=o?s.x2:s.x2-n.size,a.tickY=o?s.y1-n.size:s.y1,a.position=t[u],e.append(r(a,n)))}var n=this,i=n.options,s=n.lineBox(),o=i.labels.mirror,u=i.majorTicks.visible?i.majorUnit:0,a={vertical:i.vertical};t(n.getMajorTickPositions(),i.majorTicks),t(n.getMinorTickPositions(),i.minorTicks,u/i.minorUnit)},createLine:function(){var e,t,n=this,r=n.options,i=r.line,s=n.lineBox();i.width>0&&i.visible&&(e=new G.Path({stroke:{width:i.width,color:i.color,dashType:i.dashType}}),e.moveTo(s.x1,s.y1).lineTo(s.x2,s.y2),r._alignLines&&E(e),t=this._lineGroup=new G.Group,t.append(e),this.visual.append(t),this.createTicks(t))},getActualTickSize:function(){var e=this,t=e.options,n=0;return t.majorTicks.visible&&t.minorTicks.visible?n=st.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?n=t.majorTicks.size:t.minorTicks.visible&&(n=t.minorTicks.size),n},createBackground:function(){var e=this,t=e.options,n=t.background,r=e.box;n&&(e._backgroundPath=G.Path.fromRect(r.toRect(),{fill:{color:n},stroke:null}),this.visual.append(e._backgroundPath))},createPlotBands:function(){var t,n,r,i,s,o,u,a=this,f=a.options,l=f.plotBands||[],c=f.vertical,h=a.plotArea;0!==l.length&&(s=this._plotbandGroup=new G.Group({zIndex:-1}),o=e.grep(a.pane.axes,function(e){return e.options.vertical!==a.options.vertical})[0],u=this.range(),e.each(l,function(e,u){var f,l,p;r=J(u.from,At),i=J(u.to,Lt),f=[],c?(t=(o||h.axisX).lineBox(),n=a.getSlot(u.from,u.to,!0)):(t=a.getSlot(u.from,u.to,!0),n=(o||h.axisY).lineBox()),0!==t.width()&&0!==n.height()&&(l=new Q.Rect([t.x1,n.y1],[t.width(),n.height()]),p=G.Path.fromRect(l,{fill:{color:u.color,opacity:u.opacity},stroke:null}),s.append(p))}),a.appendVisual(s))},createGridLines:function(e){function t(e,t,r){var s,u=e.length;if(t.visible)for(s=t.skip;u>s;s+=t.step)n=c(e[s]),a(n,v)||s%r===0||o&&p===n||(d.position=n,m.append(i(d,t)),v.push(n))}var n,r=this,s=r.options,o=e.options.line.visible,u=s.majorGridLines,f=u.visible?s.majorUnit:0,l=s.vertical,h=e.lineBox(),p=h[l?"y1":"x1"],d={lineStart:h[l?"x1":"y1"],lineEnd:h[l?"x2":"y2"],vertical:l},v=[],m=this.gridLinesVisual();return t(r.getMajorTickPositions(),s.majorGridLines),t(r.getMinorTickPositions(),s.minorGridLines,f/s.minorUnit),m.children},reflow:function(e){var t,n,r=this,i=r.options,s=i.vertical,o=r.labels,u=o.length,a=r.title,f=s?Ft:St,l=a?a.box[f]():0,c=r.getActualTickSize()+i.margin+l,h=0,p=(this.getRoot()||{}).box||e,d=p[f]();for(n=0;u>n;n++)t=o[n].box[f](),d>=t+c&&(h=st.max(h,t));r.box=s?T(e.x1,e.y1,e.x1+h+c,e.y2):T(e.x1,e.y1,e.x2,e.y1+h+c),r.arrangeTitle(),r.arrangeLabels(),r.arrangeNotes()},arrangeLabels:function(){var e,t,n,r,i,s,o,u,a,f,l,c=this,h=c.options,p=c.labels,d=!h.justified,v=h.vertical,m=c.lineBox(),g=h.labels.mirror,y=c.getMajorTickPositions(),b=c.getActualTickSize()+h.margin;for(n=0;p.length>n;n++)r=p[n],i=r.index,s=v?r.box.height():r.box.width(),o=y[i]-s/2,v?(d&&(u=y[i],a=y[i+1],f=u+(a-u)/2,o=f-s/2),l=m.x2,g?(l+=b,r.options.rotationOrigin=Ct):(l-=b+r.box.width(),r.options.rotationOrigin=Ht),e=r.box.move(l,o)):(d?(u=y[i],a=y[i+1]):(u=o,a=o+s),t=m.y1,g?(t-=b+r.box.height(),r.options.rotationOrigin=ft):(t+=b,r.options.rotationOrigin=Bt),e=T(u,t,a,t+r.box.height())),r.reflow(e)},autoRotateLabels:function(){var e,t,n,r,i,s;if(this.options.autoRotateLabels&&!this.options.vertical){for(e=this.getMajorTickPositions(),t=this.labels,s=0;t.length>s;s++){if(i=e[s+1]-e[s],n=t[s].box,n.height()>i){r=-90;break}n.width()>i&&(r=-45)}if(r){for(s=0;t.length>s;s++)t[s].options.rotation=r,t[s].reflow(T());return!0}}},arrangeTitle:function(){var e=this,t=e.options,n=t.labels.mirror,r=t.vertical,i=e.title;i&&(r?(i.options.align=n?Ht:Ct,i.options.vAlign=i.options.position):(i.options.align=i.options.position,i.options.vAlign=n?Bt:ft),i.reflow(e.box))},arrangeNotes:function(){var e,t,n,r,i=this;for(e=0;i.notes.length>e;e++)t=i.notes[e],r=t.options.value,V(r)?(i.shouldRenderNote(r)?t.show():t.hide(),n=i.getSlot(r)):t.hide(),t.reflow(n||i.lineBox())},alignTo:function(e){var t=this,n=e.lineBox(),r=t.options.vertical,i=r?Rt:qt;t.box.snapTo(n,i),r?t.box.shrink(0,t.lineBox().height()-n.height()):t.box.shrink(t.lineBox().width()-n.width(),0),t.box[i+1]-=t.lineBox()[i+1]-n[i+1],t.box[i+2]-=t.lineBox()[i+2]-n[i+2]},axisLabelText:function(e,t,n){var r,i=e;return n.template?(r=et(n.template),i=r({value:e,dataItem:t,format:n.format,culture:n.culture})):n.format&&(i=n.format.match(Et)?z.format(n.format,e):z.toString(e,n.format,n.culture)),i},slot:function(e,n){var r=this.getSlot(e,n);return r?r.toRect():t},contentBox:function(){var e=this.box.clone();return this.labels.length&&e.wrap(this.labels[0].box).wrap($(this.labels).box),e}}),j=O.extend({init:function(e,t,n,r,i,s){var o=this;O.fn.init.call(o,s),o.value=e,o.text=t,o.dataItem=n,o.category=r,o.series=i,o.render()},options:{icon:{visible:!0,type:pt},label:{position:Nt,visible:!0,align:lt,vAlign:lt},line:{visible:!0},visible:!0,position:Bt,zIndex:2},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var e,t,n,r,i=this,s=i.options,o=s.label,u=i.text,a=s.icon,f=a.size,l=T();s.visible&&(V(o)&&o.visible&&(o.template?(r=et(o.template),u=r({dataItem:i.dataItem,category:i.category,value:i.value,text:u,series:i.series})):o.format&&(u=m(o.format,u)),i.label=new D(u,ot({},o)),o.position!==Nt||V(f)||(a.type===pt?f=st.max(i.label.box.width(),i.label.box.height()):(t=i.label.box.width(),n=i.label.box.height()),l.wrap(i.label.box))),a.width=t||f||gt,a.height=n||f||gt,e=new F(ot({},a)),i.marker=e,i.append(e),i.label&&i.append(i.label),e.reflow(T()),i.wrapperBox=l.wrap(e.box))},reflow:function(e){var t,n,r,i=this,s=i.options,o=e.center(),u=i.wrapperBox,f=s.line.length,l=s.position,c=i.label,h=i.marker;s.visible&&(a(l,[Ct,Ht])?l===Ct?(r=u.alignTo(e,l).translate(-f,e.center().y-u.center().y),s.line.visible&&(t=[st.floor(e.x1),o.y],i.linePoints=[t,[st.floor(r.x2),o.y]],n=r.clone().wrapPoint(t))):(r=u.alignTo(e,l).translate(f,e.center().y-u.center().y),s.line.visible&&(t=[st.floor(e.x2),o.y],i.linePoints=[t,[st.floor(r.x1),o.y]],n=r.clone().wrapPoint(t))):l===ft?(r=u.alignTo(e,l).translate(e.center().x-u.center().x,f),s.line.visible&&(t=[st.floor(o.x),st.floor(e.y2)],i.linePoints=[t,[st.floor(o.x),st.floor(r.y1)]],n=r.clone().wrapPoint(t))):(r=u.alignTo(e,l).translate(e.center().x-u.center().x,-f),s.line.visible&&(t=[st.floor(o.x),st.floor(e.y1)],i.linePoints=[t,[st.floor(o.x),st.floor(r.y2)]],n=r.clone().wrapPoint(t))),h&&h.reflow(r),c&&(c.reflow(r),h&&(s.label.position===Dt&&c.box.alignTo(h.box,l),c.reflow(c.box))),i.contentBox=r,i.targetBox=e,i.box=n||r)},createVisual:function(){O.fn.createVisual.call(this),this.options.visible&&this.createLine()},renderVisual:function(){var e,t=this,n=t.options,r=n.visual;n.visible&&r?(e=t.targetPoint,t.visual=r({dataItem:t.dataItem,category:t.category,value:t.value,text:t.text,series:t.series,rect:t.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){t.createVisual(),t.renderChildren();var e=t.visual;return delete t.visual,e}}),t.addVisual()):O.fn.renderVisual.call(t)},createLine:function(){var e,t=this.options.line;this.linePoints&&(e=G.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}}),E(e),this.visual.append(e))},click:function(e,t){var n=this.eventArgs(t);e.trigger(Mt,n)||t.preventDefault()},hover:function(e,t){var n=this.eventArgs(t);e.trigger(_t,n)||t.preventDefault()},leave:function(e){e._unsetActivePoint()},eventArgs:function(t){var n=this,r=n.options;return{element:e(t.target),text:V(r.label)?r.label.text:"",dataItem:n.dataItem,series:n.series,value:n.value,category:n.category}}}),F=O.extend({init:function(e,t){this.pointData=t,O.fn.init.call(this,e)},options:{type:pt,align:lt,vAlign:lt},getElement:function(){var e,t,n=this,r=n.options,i=r.type,s=r.rotation,o=n.paddingBox,u=o.center(),a=o.width()/2;if(r.visible&&n.hasBox())return t=n.visualStyle(),i===pt?e=new G.Circle(new Q.Circle([c(o.x1+a,ct),c(o.y1+o.height()/2,ct)],a),t):i===jt?e=G.Path.fromPoints([[o.x1+a,o.y1],[o.x1,o.y2],[o.x2,o.y2]],t).close():i===dt?(e=new G.MultiPath(t),e.moveTo(o.x1,o.y1).lineTo(o.x2,o.y2),e.moveTo(o.x1,o.y2).lineTo(o.x2,o.y1)):e=G.Path.fromRect(o.toRect(),t),s&&e.transform(Q.transform().rotate(-s,[u.x,u.y])),e.options.zIndex=this.options.zIndex,e},createElement:function(){var e,t=this,n=t.options.visual,r=t.pointData||{};return e=n?n({value:r.value,dataItem:r.dataItem,series:r.series,category:r.category,rect:t.paddingBox.toRect(),options:t.visualOptions(),createVisual:function(){return t.getElement()}}):t.getElement()},visualOptions:function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}},createVisual:function(){this.visual=this.createElement()}}),I=B.extend({init:function(e,t,n){var r=this,i=r.initDefaults(e,t,n);B.fn.init.call(r,i)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:at},labels:{format:"#.####################"},zIndex:1},initDefaults:function(e,t,n){var r,i=this,o=n.narrowRange,u=i.autoAxisMin(e,t,o),a=i.autoAxisMax(e,t,o),c=s(u,a),h={majorUnit:c};return n.roundToMajorUnit!==!1&&(0>u&&p(u,c,1/3)&&(u-=c),a>0&&p(a,c,1/3)&&(a+=c)),h.min=l(u,c),h.max=f(a,c),n&&(r=V(n.min)||V(n.max),r&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(h.min=l(h.min,n.majorUnit),h.max=f(h.max,n.majorUnit)):r&&(n=ot(h,n),h.majorUnit=s(n.min,n.max))),h.minorUnit=(n.majorUnit||h.majorUnit)/5,ot(h,n)},range:function(){var e=this.options;return{min:e.min,max:e.max}},autoAxisMax:function(e,t,n){var r,i;if(!e&&!t)return 1;if(0>=e&&0>=t){if(t=e==t?0:t,i=st.abs((t-e)/t),n===!1||!n&&i>Ut)return 0;r=st.min(0,t-(e-t)/2)}else e=e==t?0:e,r=t;return r},autoAxisMin:function(e,t,n){var r,i;if(!e&&!t)return 0;if(e>=0&&t>=0){if(e=e==t?0:e,i=(t-e)/t,n===!1||!n&&i>Ut)return 0;r=st.max(0,e-(t-e)/2)}else t=e==t?0:t,r=e;return r},getDivisions:function(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return st.floor(c(n/e,ct))+1},getTickPositions:function(e,t){var n,r=this,i=r.options,s=i.vertical,o=i.reverse,u=r.lineBox(),a=s?u.height():u.width(),f=i.max-i.min,l=a/f,h=e*l,p=0,d=r.getDivisions(e),v=(s?-1:1)*(o?-1:1),m=1===v?1:2,g=u[(s?Rt:qt)+m],y=[];for(t&&(p=t/e),n=0;d>n;n++)n%p!==0&&y.push(c(g,ct)),g+=h*v;return y},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t,n){var r,i,s=this,o=s.options,u=o.reverse,a=o.vertical,f=a?Rt:qt,l=s.lineBox(),c=l[f+(u?2:1)],h=a?l.height():l.width(),p=u?-1:1,d=p*(h/(o.max-o.min)),v=new T(l.x1,l.y1,l.x1,l.y1);return V(e)||(e=t||0),V(t)||(t=e||0),n&&(e=st.max(st.min(e,o.max),o.min),t=st.max(st.min(t,o.max),o.min)),a?(r=o.max-st.max(e,t),i=o.max-st.min(e,t)):(r=st.min(e,t)-o.min,i=st.max(e,t)-o.min),v[f+1]=st.max(st.min(c+d*(u?i:r),xt),-xt),v[f+2]=st.max(st.min(c+d*(u?r:i),xt),-xt),v},getValue:function(e){var t,n=this,r=n.options,i=r.reverse,s=r.vertical,o=1*r.max,u=1*r.min,a=s?Rt:qt,f=n.lineBox(),l=f[a+(i?2:1)],h=s?f.height():f.width(),p=i?-1:1,d=p*(e[a]-l),v=(o-u)/h,m=d*v;return 0>d||d>h?null:(t=s?o-m:u+m,c(t,yt))},translateRange:function(e){var t=this,n=t.options,r=t.lineBox(),i=n.vertical,s=n.reverse,o=i?r.height():r.width(),u=n.max-n.min,a=o/u,f=c(e/a,yt);return!i&&!s||i&&s||(f=-f),{min:n.min+f,max:n.max+f}},scaleRange:function(e){var t=this,n=t.options,r=-e*n.majorUnit;return{min:n.min-r,max:n.max+r}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this,r=n.options,i=c(r.min+e*r.majorUnit,yt),s=n.axisLabelText(i,null,t);return new H(i,s,e,null,t)},shouldRenderNote:function(e){var t=this.range();return e>=t.min&&t.max>=e}}),q=B.extend({init:function(e,t,n){this.options=this._initOptions(e,t,n),B.fn.init.call(this,n)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:at},zIndex:1},getSlot:function(e,n,r){var i,s,o=this,u=o.options,a=u.reverse,f=u.vertical,l=f?Rt:qt,c=o.lineBox(),p=c[l+(a?2:1)],d=f?c.height():c.width(),v=a?-1:1,m=u.majorUnit,g=o.logMin,y=o.logMax,b=v*(d/(y-g)),w=new T(c.x1,c.y1,c.x1,c.y1);return V(e)||(e=n||1),V(n)||(n=e||1),0>=e||0>=n?t:(r&&(e=st.max(st.min(e,u.max),u.min),n=st.max(st.min(n,u.max),u.min)),e=h(e,m),n=h(n,m),f?(i=y-st.max(e,n),s=y-st.min(e,n)):(i=st.min(e,n)-g,s=st.max(e,n)-g),w[l+1]=p+b*(a?s:i),w[l+2]=p+b*(a?i:s),w)},getValue:function(e){var t,n=this,r=n.options,i=r.reverse,s=r.vertical,o=n.lineBox(),u=r.majorUnit,a=n.logMin,f=n.logMax,l=s===i?1:-1,h=1===l?1:2,p=s?o.height():o.width(),d=(f-a)/p,v=s?Rt:qt,m=o[v+h],g=l*(e[v]-m),y=g*d;return 0>g||g>p?null:(t=a+y,c(st.pow(u,t),yt))},range:function(){var e=this.options;return{min:e.min,max:e.max}},scaleRange:function(e){var t=this,n=t.options,r=n.majorUnit,i=-e;return{min:st.pow(r,t.logMin-i),max:st.pow(r,t.logMax+i)}},translateRange:function(e){var t=this,n=t.options,r=n.majorUnit,i=t.lineBox(),s=n.vertical,o=n.reverse,u=s?i.height():i.width(),a=u/(t.logMax-t.logMin),f=c(e/a,yt);return!s&&!o||s&&o||(f=-f),{min:st.pow(r,t.logMin+f),max:st.pow(r,t.logMax+f)}},labelsCount:function(){var e=this,t=st.floor(e.logMax),n=st.floor(t-e.logMin)+1;return n},getMajorTickPositions:function(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e)},{step:1,skip:0}),t},createTicks:function(e){function t(t,n){l.tickX=u?o.x2:o.x2-n.size,l.tickY=u?o.y1-n.size:o.y1,l.position=t,e.append(r(l,n))}var n=this,i=[],s=n.options,o=n.lineBox(),u=s.labels.mirror,a=s.majorTicks,f=s.minorTicks,l={vertical:s.vertical};return a.visible&&n.traverseMajorTicksPositions(t,a),f.visible&&n.traverseMinorTicksPositions(t,f),i},createGridLines:function(e){function t(e,t){a(e,c)||(l.position=e,h.append(i(l,t)),c.push(e))}var n=this,r=n.options,s=r.majorGridLines,o=r.minorGridLines,u=r.vertical,f=e.lineBox(),l={lineStart:f[u?"x1":"y1"],lineEnd:f[u?"x2":"y2"],vertical:u},c=[],h=this.gridLinesVisual();return s.visible&&n.traverseMajorTicksPositions(t,s),o.visible&&n.traverseMinorTicksPositions(t,o),h.children},traverseMajorTicksPositions:function(e,t){var n,r,i=this,s=i._lineOptions(),o=s.lineStart,u=s.step,a=i.logMin,f=i.logMax;for(n=st.ceil(a)+t.skip;f>=n;n+=t.step)r=c(o+u*(n-a),yt),e(r,t)},traverseMinorTicksPositions:function(e,t){var n,r,i,s,o,u=this,a=u.options,f=u._lineOptions(),l=f.lineStart,p=f.step,d=a.majorUnit,v=u.logMin,m=u.logMax,g=st.floor(v),y=a.max,b=a.min,w=a.minorUnit;for(n=g;m>n;n++)for(s=u._minorIntervalOptions(n),o=t.skip;w>o&&(r=s.value+o*s.minorStep,!(r>y));o+=t.step)r>=b&&(i=c(l+p*(h(r,d)-v),yt),e(i,t))},createAxisLabel:function(e,t){var n=this,r=n.options,i=st.ceil(n.logMin+e),s=Math.pow(r.majorUnit,i),o=n.axisLabelText(s,null,t);return new H(s,o,e,null,t)},shouldRenderNote:function(e){var t=this.range();return e>=t.min&&t.max>=e},_throwNegativeValuesError:function(){throw Error("Non positive values cannot be used for a logarithmic axis")},_initOptions:function(e,t,n){var r,i=this,s=ot({},i.options,{min:e,max:t},n),o=s.min,u=s.max,a=s.majorUnit;return 0>=s.axisCrossingValue&&i._throwNegativeValuesError(),V(n.max)?0>=n.max&&i._throwNegativeValuesError():(r=c(h(u,a),yt)%1,u=0>=u?a:0!==r&&(.3>r||r>.9)?st.pow(a,h(u,a)+.2):st.pow(a,st.ceil(h(u,a)))),V(n.min)?0>=n.min&&i._throwNegativeValuesError():0>=o?o=1>=u?st.pow(a,-2):1:n.narrowRange||(o=st.pow(a,st.floor(h(o,a)))),i.logMin=c(h(o,a),yt),i.logMax=c(h(u,a),yt),s.max=u,s.min=o,s.minorUnit=n.minorUnit||c(a-1,yt),s},_minorIntervalOptions:function(e){var t=this.options.majorUnit,n=st.pow(t,e),r=st.pow(t,e+1),i=r-n,s=i/this.options.minorUnit;return{value:n,minorStep:s}},_lineOptions:function(){var e=this,t=e.options,n=t.reverse,r=t.vertical,i=r?Rt:qt,s=e.lineBox(),o=r===n?1:-1,u=1===o?1:2,a=r?s.height():s.width(),f=o*(a/(e.logMax-e.logMin)),l=s[i+u];return{step:f,lineStart:l,lineBox:s}}}),K.Gradients={glass:{type:kt,rotation:0,stops:[{offset:0,color:It,opacity:0},{offset:.25,color:It,opacity:.3},{offset:1,color:It,opacity:0}]},sharpBevel:{type:Pt,stops:[{offset:0,color:It,opacity:.55},{offset:.65,color:It,opacity:0},{offset:.95,color:It,opacity:.25}]},roundedBevel:{type:Pt,stops:[{offset:.33,color:It,opacity:.06},{offset:.83,color:It,opacity:.2},{offset:.95,color:It,opacity:0}]},roundedGlass:{type:Pt,supportVML:!1,stops:[{offset:0,color:It,opacity:0},{offset:.5,color:It,opacity:.3},{offset:.99,color:It,opacity:0}]},sharpGlass:{type:Pt,supportVML:!1,stops:[{offset:0,color:It,opacity:.2},{offset:.15,color:It,opacity:.15},{offset:.17,color:It,opacity:.35},{offset:.85,color:It,opacity:.05},{offset:.87,color:It,opacity:.15},{offset:.99,color:It,opacity:0}]}},R={extend:function(e,t){if(!e.exportVisual)throw Error("Mixin target has no exportVisual method defined.");e.exportSVG=this.exportSVG,e.exportImage=this.exportImage,e.exportPDF=this.exportPDF,t||(e.svg=this.svg,e.imageDataURL=this.imageDataURL)},exportSVG:function(e){return G.exportSVG(this.exportVisual(),e)},exportImage:function(e){return G.exportImage(this.exportVisual(),e)},exportPDF:function(e){return G.exportPDF(this.exportVisual(),e)},svg:function(){if(G.svg.Surface)return G.svg._exportGroup(this.exportVisual());throw Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")},imageDataURL:function(){var t,n,r;if(!z.support.canvas)return null;if(G.canvas.Surface)return t=e("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),n=new G.canvas.Surface(t),n.draw(this.exportVisual()),r=n._rootElement.toDataURL(),n.destroy(),t.remove(),r;throw Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}},U=function(e){this.closed=e},U.prototype=U.fn={WEIGHT:.333,EXTREMUM_ALLOWED_DEVIATION:.01,process:function(e){var t,n,r,i,s,o,u,a,f,l,c=this,h=c.closed,p=e.slice(0),d=p.length,v=[];if(d>2&&(c.removeDuplicates(0,p),d=p.length),2>d||2==d&&p[0].equals(p[1]))return v;for(t=p[0],n=p[1],r=p[2],v.push(new G.Segment(t));t.equals(p[d-1]);)h=!0,p.pop(),d--;if(2==d)return u=c.tangent(t,n,qt,Rt),$(v).controlOut(c.firstControlPoint(u,t,n,qt,Rt)),v.push(new G.Segment(n,c.secondControlPoint(u,t,n,qt,Rt))),v;for(h?(t=p[d-1],n=p[0],r=p[1],i=c.controlPoints(t,n,r),s=i[1],o=i[0]):(u=c.tangent(t,n,qt,Rt),s=c.firstControlPoint(u,t,n,qt,Rt)),a=s,f=0;d-3>=f;f++)c.removeDuplicates(f,p),d=p.length,d>=f+3&&(t=p[f],n=p[f+1],r=p[f+2],i=c.controlPoints(t,n,r),$(v).controlOut(a),a=i[1],l=i[0],v.push(new G.Segment(n,l)));return h?(t=p[d-2],n=p[d-1],r=p[0],i=c.controlPoints(t,n,r),$(v).controlOut(a),v.push(new G.Segment(n,i[0])),$(v).controlOut(i[1]),v.push(new G.Segment(r,o))):(u=c.tangent(n,r,qt,Rt),$(v).controlOut(a),v.push(new G.Segment(r,c.secondControlPoint(u,n,r,qt,Rt)))),v},removeDuplicates:function(e,t){for(;t[e].equals(t[e+1])||t[e+1].equals(t[e+2]);)t.splice(e+1,1)},invertAxis:function(e,t,n){var r,i,s=this,o=!1;return e.x===t.x?o=!0:t.x===n.x?(n.y>t.y&&t.y>=e.y||t.y>n.y&&e.y>=t.y)&&(o=!0):(r=s.lineFunction(e,t),i=s.calculateFunction(r,n.x),t.y>=e.y&&i>=n.y||e.y>=t.y&&n.y>=i||(o=!0)),o},isLine:function(e,t,n){var r=this,i=r.lineFunction(e,t),s=r.calculateFunction(i,n.x);return e.x==t.x&&t.x==n.x||c(s,1)===c(n.y,1)},lineFunction:function(e,t){var n=(t.y-e.y)/(t.x-e.x),r=e.y-n*e.x;return[r,n]},controlPoints:function(e,t,n){var r,i,s,o,u,a,f=this,l=qt,c=Rt,h=!1,p=!1,d=f.EXTREMUM_ALLOWED_DEVIATION;return f.isLine(e,t,n)?r=f.tangent(e,t,qt,Rt):(i={x:f.isMonotonicByField(e,t,n,qt),y:f.isMonotonicByField(e,t,n,Rt)},i.x&&i.y?(r=f.tangent(e,n,qt,Rt),h=!0):(f.invertAxis(e,t,n)&&(l=Rt,c=qt),i[l]?r=0:(u=e[c]>n[c]&&t[c]>=e[c]||n[c]>e[c]&&e[c]>=t[c]?f.sign((n[c]-e[c])*(t[l]-e[l])):-f.sign((n[l]-e[l])*(t[c]-e[c])),r=d*u,p=!0))),o=f.secondControlPoint(r,e,t,l,c),p&&(a=l,l=c,c=a),s=f.firstControlPoint(r,t,n,l,c),h&&(f.restrictControlPoint(e,t,o,r),f.restrictControlPoint(t,n,s,r)),[o,s]},sign:function(e){return 0>=e?-1:1},restrictControlPoint:function(e,t,n,r){t.y>e.y?n.y>t.y?(n.x=e.x+(t.y-e.y)/r,n.y=t.y):e.y>n.y&&(n.x=t.x-(t.y-e.y)/r,n.y=e.y):t.y>n.y?(n.x=e.x-(e.y-t.y)/r,n.y=t.y):n.y>e.y&&(n.x=t.x+(e.y-t.y)/r,n.y=e.y)},tangent:function(e,t,n,r){var i,s=t[n]-e[n],o=t[r]-e[r];return i=0===s?0:o/s},isMonotonicByField:function(e,t,n,r){return n[r]>t[r]&&t[r]>e[r]||t[r]>n[r]&&e[r]>t[r]},firstControlPoint:function(e,t,n,r,i){var s=this,o=t[r],u=n[r],a=(u-o)*s.WEIGHT;return s.point(o+a,t[i]+a*e,r,i)},secondControlPoint:function(e,t,n,r,i){var s=this,o=t[r],u=n[r],a=(u-o)*s.WEIGHT;return s.point(u-a,n[i]-a*e,r,i)},point:function(e,t,n,r){var i=new Q.Point;return i[n]=e,i[r]=t,i},calculateFunction:function(e,t){var n,r=0,i=e.length;for(n=0;i>n;n++)r+=Math.pow(t,n)*e[n];return r}},w._element=document.createElement("span"),ot(z.dataviz,{AXIS_LABEL_CLICK:ut,COORD_PRECISION:ct,DEFAULT_PRECISION:yt,DEFAULT_WIDTH:bt,DEFAULT_HEIGHT:mt,DEFAULT_FONT:vt,INITIAL_ANIMATION_DURATION:Tt,NOTE_CLICK:Mt,NOTE_HOVER:_t,CLIP:ht,Axis:B,AxisLabel:H,Box2D:T,BoxElement:O,ChartElement:L,CurveProcessor:U,ExportMixin:R,FloatElement:_,LogarithmicAxis:q,Note:j,NumericAxis:I,Point2D:zt,Ring:N,RootElement:A,Sector:C,ShapeBuilder:k,ShapeElement:F,Text:M,TextBox:D,Title:P,alignPathToPixel:E,autoFormat:m,autoMajorUnit:s,boxDiff:u,dateComparer:y,decodeEntities:w,getSpacing:n,inArray:a,interpolateValue:d,mwDelta:b,rectToBox:x,rotatePoint:o,round:c,ceil:f,floor:l})}(window.kendo.jQuery),function(e){function t(t,n){return e.map(t,function(e,t){return[[e,n[t]]]})}var n=window.kendo,r=n.dataviz.ui,i=n.deepExtend,s=1.5,o=.4,u="#000",a="Arial,Helvetica,sans-serif",f="11px "+a,l="12px "+a,c="16px "+a,h="#fff",p={title:{font:c},legend:{labels:{font:l}},seriesDefaults:{visible:!0,labels:{font:f},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:u},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:s,spacing:o},column:{gap:s,spacing:o},rangeColumn:{gap:s,spacing:o},rangeBar:{gap:s,spacing:o},waterfall:{gap:.5,spacing:o,line:{width:1,color:u}},horizontalWaterfall:{gap:.5,spacing:o,line:{width:1,color:u}},bullet:{gap:s,spacing:o,target:{color:"#ff0000"}},verticalBullet:{gap:s,spacing:o,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:u},mean:{width:1,color:u},median:{width:1,color:u},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:h,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{border:{width:1}},label:{padding:3,font:l},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:l},title:{font:c,margin:5},crosshair:{tooltip:{font:l}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:l},line:{length:10,width:1},visible:!0}},tooltip:{font:l},navigator:{pane:{height:90,margin:{top:10}}}},d={scale:{labels:{font:l}}},v={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},m=r.themes,g=r.registerTheme=function(e,t){var n,r={};r.chart=i({},p,t.chart),r.gauge=i({},d,t.gauge),r.diagram=i({},v,t.diagram),r.treeMap=i({},t.treeMap),n=r.chart.seriesDefaults,n.verticalLine=i({},n.line),n.verticalArea=i({},n.area),n.polarArea=i({},n.radarArea),n.polarLine=i({},n.radarLine),m[e]=r};g("black",{chart:{title:{color:h},legend:{labels:{color:h},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:h},errorBars:{color:h},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:h},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},ohlc:{line:{color:h}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:h},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:h},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:h},minorTicks:{color:h},majorTicks:{color:h},line:{color:h}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:h},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}}),g("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:u,background:h,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}}),g("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:h},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:h}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}}),g("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:u,background:h,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:h},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}}),g("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:h},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}}),g("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:u},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:u},stroke:{color:h},hover:{fill:{color:h},stroke:{color:u}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:h},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}}),g("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:h},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:h}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}}),g("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:h},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:h},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#414550"},stroke:{color:h}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}}),g("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:h},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}}),g("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:h},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}}),g("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:h},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}}),g("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:h},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),g("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:h},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}}),function(){function e(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:s}}}var n="#333333",r="#7f7f7f",i="#bdbdbd",s="#c8c8c8",o="#dddddd",u=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"],a=["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"],f=u[0],l=h;g("fiori",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:r},markers:{color:r}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:e(),candlestick:{downColor:s,line:{color:i}},area:{opacity:.8},waterfall:{line:{color:s}},horizontalWaterfall:{line:{color:s}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:u,axisDefaults:{line:{color:s},labels:{color:n},minorGridLines:{color:o},majorGridLines:{color:s},title:{color:n},crosshair:{color:r},notes:e()}},gauge:{pointer:{color:f},scale:{rangePlaceholderColor:s,labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:f},connectorDefaults:{fill:{color:n},stroke:{color:l},hover:{fill:{color:l},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:l},stroke:{color:i},hover:{fill:{color:i},stroke:{color:i}}}},rotate:{thumb:{stroke:{color:i},fill:{color:i}}}},selectable:{stroke:{color:i}},connectionDefaults:{stroke:{color:i},content:{color:i},selection:{handles:{fill:{color:l},stroke:{color:i}},stroke:{color:i}}}},treeMap:{colors:t(u,a)}})}(),function(){function e(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:s}}}var n="#4e4e4e",r="#7f7f7f",i="#bdbdbd",s="#c8c8c8",o="#e5e5e5",u=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"],a=["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"],f=u[0],l=h;g("office365",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:r},markers:{color:r}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:e(),candlestick:{downColor:s,line:{color:i}},area:{opacity:.8},waterfall:{line:{color:s}},horizontalWaterfall:{line:{color:s}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:u,axisDefaults:{line:{color:s},labels:{color:n},minorGridLines:{color:o},majorGridLines:{color:s},title:{color:n},crosshair:{color:r},notes:e()}},gauge:{pointer:{color:f},scale:{rangePlaceholderColor:s,labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:f},connectorDefaults:{fill:{color:n},stroke:{color:l},hover:{fill:{color:l},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:l},stroke:{color:i},hover:{fill:{color:i},stroke:{color:i}}}},rotate:{thumb:{stroke:{color:i},fill:{color:i}}}},selectable:{stroke:{color:i}},connectionDefaults:{stroke:{color:i},content:{color:i},selection:{handles:{fill:{color:l},stroke:{color:i}},stroke:{color:i}}}},treeMap:{colors:t(u,a)}})}()}(window.kendo.jQuery),function(e,t){function n(){this._defaults={}}function r(e,t,n,r){var i,s,o=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),u=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);return 0!==u&&(s=o/u,i=new $n(e.x+s*(t.x-e.x),e.y+s*(t.y-e.y))),i}function i(e,t){var n,r,i,o=e.series,u=o.length,a=e.seriesDefaults,f=Mn({},e.seriesDefaults),l=t?Mn({},t.seriesDefaults):{},c=Mn({},l);for(s(f),s(c),n=0;u>n;n++)r=o[n].type||e.seriesDefaults.type,i=Mn({data:[]},c,l[r],{tooltip:e.tooltip},f,a[r]),o[n]._defaults=i,o[n]=Mn({},i,o[n])}function s(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function o(e){var t,n,r,i,s=e.series,o=e.seriesColors||[];for(t=0;s.length>t;t++)n=s[t],r=o[t%o.length],n.color=n.color||r,i=n._defaults,i&&(i.color=i.color||r)}function u(e){var t;yn([jr,Rs,Js,Ks],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function a(t,n){var r=(n||{}).axisDefaults||{};yn([jr,Rs,Js,Ks],function(){var n=this+"Axis",i=[].concat(t[n]),s=t.axisDefaults||{};i=e.map(i,function(e){var t=(e||{}).color,i=Mn({},r,r[n],s,s[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete i[n],i}),t[n]=i.length>1?i:i[0]})}function f(e){var t,n=e.length,r=0;for(t=0;n>t;t++)r=Sn.max(r,e[t].data.length);return r}function l(e){return e*e}function c(e,t){if(null===t)return t;var n=_n(e,!0);return n(t)}function h(e,t){if(null===t)return t;var n="_date_"+e,r=t[n];return r||(r=p(_n(e,!0)(t)),t[n]=r),r}function p(e){var t,n;if(e instanceof Date)t=e;else if(typeof e===Ts)t=Cn.parseDate(e)||new Date(e);else if(e)if(bn(e))for(t=[],n=0;e.length>n;n++)t.push(p(e[n]));else t=new Date(e);return t}function d(e){return bn(e)?En(e,d):e?p(e).getTime():t}function v(e,t,n,r){var i,s=e;return e&&(e=p(e),i=e.getHours(),n===Qs?(s=new Date(e.getFullYear()+t,0,1),Cn.date.adjustDST(s,0)):n===qi?(s=new Date(e.getFullYear(),e.getMonth()+t,1),Cn.date.adjustDST(s,i)):n===Vs?(s=v(m(e,r),7*t,Gr),Cn.date.adjustDST(s,i)):n===Gr?(s=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),Cn.date.adjustDST(s,i)):n===Ei?(s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&N(e,s)&&(s=v(e,t+1,n,r))):n===Ii?(s=new Date(e.getTime()+t*ks),s.getSeconds()>0&&s.setSeconds(0)):n===ps&&(s=new Date(e.getTime()+t*Cs)),s.getMilliseconds()>0&&s.setMilliseconds(0)),s}function m(e,t){var n=e.getDay(),r=0;if(!isNaN(n))for(t=t||0;n!==t;)0===n?n=6:n--,r++;return w(e,-r*As)}function g(e,t,n){return e=p(e),v(e,0,t,n)}function y(e,t,n){return e=p(e),e&&g(e,t,n).getTime()===e.getTime()?e:v(e,1,t,n)}function b(e,t){var n=e.getTime()-t,r=e.getTimezoneOffset()-t.getTimezoneOffset();return n-r*ks}function w(e,t){var n=e.getTimezoneOffset(),r=new Date(e.getTime()+t),i=r.getTimezoneOffset()-n;return new Date(r.getTime()+i*ks)}function E(e,t,n){var r;return r=n===Qs?t.getFullYear()-e.getFullYear():n===qi?12*E(e,t,Qs)+t.getMonth()-e.getMonth():Sn.floor(n===Gr?b(t,e)/As:(t-e)/Ds[n])}function S(e){return 1===e.length?e[0]:e}function x(e){var t,n,r,i=e.length;if(i>0)for(n=0;i>n;n++)r=e[n].contentBox(),t?t.wrap(r):t=r.clone();return t||Fn()}function T(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function N(e,t){return e&&t?d(e)===d(t):e===t}function C(e,t){null!==t&&e.push(t)}function k(e,t){for(var n,r,i=0,s=t.length-1;s>=i;)if(n=Sn.floor((i+s)/2),r=t[n],e>r)i=n+1;else{if(!(r>e)){for(;N(t[n-1],e);)n--;return n}s=n-1}return e>=t[n]?n:n-1}function L(e){return"number"==typeof e&&!isNaN(e)}function A(e){var t,n,r=e.length,i=0;for(t=0;r>t;t++)n=e[t],L(n)&&i++;return i}function O(e){return A(e)===e.length}function M(e){var t,n,r,i={};for(t=0;e.length>t;t++)n=e[t],r=n.options.name,r&&(i[r]=n.range());return i}function _(e,t,n,r){var i,s,o,u,a,f=!1;if(n=n||{},o=n.excluded=n.excluded||[],u=n.defaults=n.defaults||{},a=n.depth=n.depth||0,!(a>Hi)){for(i in e)!ir(i,n.excluded)&&e.hasOwnProperty(i)&&(s=e[i],Dn(s)?(f=!0,r||(e[i]=gr(s(t),u[i]))):typeof s===Yi&&(n.defaults=u[i],n.depth++,f=_(s,t,n,r)||f,n.depth--));return f}}function D(e,n){var r,i,s,o=[],u=e.groupNameTemplate,a=n.length;if(0===a)return s=Mn({},e),s.visibleInLegend=!1,[s];for(lr(u)?(Cn.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),u&&(r=Pn(u))):(r=Pn(e.name||""),0===r._slotCount&&(r=Pn(lr(e.name)?"#= group.value #: #= series.name #":"#= group.value #"))),i=0;a>i;i++)s=Mn({},e),Dn(s.color)||(s.color=t),s._groupIx=i,o.push(s),r&&(s.name=r({series:s,group:n[i]}));return o}function P(e,t){var n,r,i=[];for(t=[].concat(t),n=0;e.length>n;n++)r=e[n],ir(r.type,t)&&i.push(r);return i}function H(t,n){if(t instanceof Date){for(var r=0,i=n.length;i>r;r++)if(N(n[r],t))return r;return-1}return e.inArray(t,n)}function B(e,t){t=t||nr;for(var n=1,r=e.length;r>n;n++)if(t(e[n],e[n-1])<0){e.sort(t);break}return e}function j(e,t){var n,r=B(e,t),i=r.length,s=i>0?[r[0]]:[];for(t=t||nr,n=1;i>n;n++)0!==t(r[n],cr(s))&&s.push(r[n]);return s}function F(e,t){var n=e.type,r=t instanceof Date;return!n&&r||T(n,Qr)}function I(e){var t,n,r,i,s=[],o=e.length;for(t=0;o>t;t++)for(n=e[t],i=n.length,r=0;i>r;r++)s[r]=s[r]||[],s[r].push(n[r]);return s}function q(e,t){if(e.indexOf(".")>-1)for(var n,r=e.split("."),i="";r.length>1;)i+=r.shift(),n=Cn.getter(i)(t)||{},Cn.setter(i)(t,n),i+="."}function R(e){var t,n,r,i=e.data,s=0;for(t=0;i.length>t;t++)n=K.current.bindPoint(e,t),r=n.valueFields.value,typeof r===Ts&&(r=parseFloat(r)),L(r)&&n.fields.visible!==!1&&(s+=Sn.abs(r));return s}function U(e){var t=e.overlay;return t&&t.gradient&&"none"!=t.gradient}function z(){return this}function W(e){for(var t=0;e.length>t;t++)if(lr(e[t].zIndex))return!0}function X(){this._defaultPrevented=!0}function V(e,t){if(e)for(var n=0;e.length>n;n++)if(e[n].category===t)return[e[n]]}function $(e){return lr(e)&&null!==e}var J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt,Zt,en,tn,nn,rn,sn,on,un,an,fn,ln,cn,hn,pn,dn,vn,mn,gn,yn=e.each,bn=e.isArray,wn=e.isPlainObject,En=e.map,Sn=Math,xn=e.noop,Tn=e.extend,Nn=e.proxy,Cn=window.kendo,kn=Cn.Class,Ln=Cn.Observable,An=Cn.data.DataSource,On=Cn.ui.Widget,Mn=Cn.deepExtend,_n=Cn.getter,Dn=Cn.isFunction,Pn=Cn.template,Hn=Cn.dataviz,Bn=Hn.Axis,jn=Hn.AxisLabel,Fn=Hn.Box2D,In=Hn.BoxElement,qn=Hn.ChartElement,Rn=Cn.drawing.Color,Un=Hn.CurveProcessor,zn=Hn.FloatElement,Wn=Hn.Note,Xn=Hn.LogarithmicAxis,Vn=Hn.NumericAxis,$n=Hn.Point2D,Jn=Hn.RootElement,Kn=Hn.Ring,Qn=Hn.ShapeElement,Gn=Hn.ShapeBuilder,Yn=Hn.TextBox,Zn=Hn.Title,er=Hn.alignPathToPixel,tr=Hn.autoFormat,nr=Hn.dateComparer,rr=Hn.getSpacing,ir=Hn.inArray,sr=Hn.interpolateValue,or=Hn.mwDelta,ur=Hn.round,ar=Cn.util,fr=ar.append,lr=ar.defined,cr=ar.last,hr=ar.limitValue,pr=ar.sparseArrayLimits,dr=ar.sparseArrayMin,vr=ar.sparseArrayMax,mr=ar.renderTemplate,gr=ar.valueOrDefault,yr=Hn.geometry,br=Hn.drawing,wr=".kendoChart",Er="above",Sr="area",xr="auto",Tr="fit",Nr=Hn.AXIS_LABEL_CLICK,Cr="bar",kr=6,Lr=.8,Ar="below",Or="#000",Mr="both",_r="bottom",Dr="boxPlot",Pr="bubble",Hr="bullet",Br="candlestick",jr="category",Fr="center",Ir="change",qr="circle",Rr="contextmenu"+wr,Ur=Hn.CLIP,zr="color",Wr="column",Xr=Hn.COORD_PRECISION,Vr="cross",$r="k-",Jr="custom",Kr="dataBound",Qr="date",Gr="days",Yr=Hn.DEFAULT_FONT,Zr=Hn.DEFAULT_HEIGHT,ei=Hn.DEFAULT_PRECISION,ti=Hn.DEFAULT_WIDTH,ni=4,ri="donut",ii=50,si="drag",oi="dragEnd",ui="dragStart",ai="errorLow",fi="errorHigh",li="xErrorLow",ci="xErrorHigh",hi="yErrorLow",pi="yErrorHigh",di="fadeIn",vi="first",mi="from",gi="funnel",yi="glass",bi="horizontal",wi="horizontalWaterfall",Ei="hours",Si=Hn.INITIAL_ANIMATION_DURATION,xi="insideBase",Ti="insideEnd",Ni="interpolate",Ci="leave",ki="left",Li="legendItemClick",Ai="legendItemHover",Oi="line",Mi=8,_i="linear",Di="log",Pi="max",Hi=5,Bi=Number.MAX_VALUE,ji="min",Fi=-Number.MAX_VALUE,Ii="minutes",qi="months",Ri="mouseleave"+wr,Ui="mousemove.tracking",zi="mouseover"+wr,Wi="mouseout"+wr,Xi="mousemove"+wr,Vi=20,$i=150,Ji="DOMMouseScroll"+wr+" mousewheel"+wr,Ki=Hn.NOTE_CLICK,Qi=Hn.NOTE_HOVER,Gi="noteText",Yi="object",Zi="ohlc",es="outsideEnd",ts="pie",ns=70,rs="plotAreaClick",is="pointer",ss="rangeBar",os="rangeColumn",us="render",as="right",fs="roundedBevel",ls="roundedGlass",cs="scatter",hs="scatterLine",ps="seconds",ds="selectStart",vs="select",ms="selectEnd",gs="seriesClick",ys="seriesHover",bs=.001,ws="step",Es="smooth",Ss="stderr",xs="stddev",Ts="string",Ns="summary",Cs=1e3,ks=60*Cs,Ls=60*ks,As=24*Ls,Os=7*As,Ms=31*As,_s=365*As,Ds={years:_s,months:Ms,weeks:Os,days:As,hours:Ls,minutes:ks,seconds:Cs},Ps="to",Hs="top",Bs=150,js=5,Fs=100,Is=100,qs="chart-tooltip-inverse",Rs="value",Us="verticalArea",zs="verticalBullet",Ws="verticalLine",Xs="waterfall",Vs="weeks",$s="#fff",Js="x",Ks="y",Qs="years",Gs="zero",Ys=3,Zs="zoomStart",eo="zoom",to="zoomEnd",no=[ps,Ii,Ei,Gr,Vs,qi,Qs],ro=[Cr,Wr,Zi,Br,Dr,Hr,os,ss,Xs,wi],io={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},so=On.extend({init:function(e,n){var r,i,s=this;Cn.destroy(e),On.fn.init.call(s,e),s.element.addClass($r+this.options.name.toLowerCase()).css("position","relative"),n&&(i=n.dataSource,n.dataSource=t),r=Mn({},s.options,n),s._originalOptions=Mn({},r),s._initTheme(r),s._initSurface(),s.bind(s.events,s.options),s.wrapper=s.element,n&&(n.dataSource=i),s._initDataSource(n),Cn.notify(s,Hn.ui)},_initTheme:function(n){var r,i=this,s=Hn.ui.themes||{},a=n.theme,f=s[a]||s[a.toLowerCase()],l=a&&f?f.chart:{},c=[],h=n.series||[];for(r=0;h.length>r;r++)c.push(e.extend({},h[r]));n.series=c,u(n),i._applyDefaults(n,l),null===n.seriesColors&&(n.seriesColors=t),i.options=Mn({},l,n),o(i.options)},_initDataSource:function(e){var t=this,n=(e||{}).dataSource;t._dataChangeHandler=Nn(t._onDataChanged,t),t.dataSource=An.create(n).bind(Ir,t._dataChangeHandler),t._bindCategories(),n&&(t._hasDataSource=!0),t._redraw(),t._attachEvents(),n&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Ir,t._dataChangeHandler),t.dataSource=e=An.create(e),t._hasDataSource=!0,t._hasData=!1,e.bind(Ir,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Kr,gs,ys,Nr,Li,Ai,rs,ui,si,oi,Zs,eo,to,ds,vs,ms,Ki,Qi,us],items:function(){return e()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Wr,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var e=this;e._applyDefaults(e.options),o(e.options),e._bindSeries(),e._bindCategories(),e.trigger(Kr),e._redraw()},getSize:function(){return Cn.dimensions(this.element)},_resize:function(){var e=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=e},redraw:function(e){var t,n,r=this;r._applyDefaults(r.options),o(r.options),e?(n=r._model._plotArea,t=n.findPane(e),n.redraw(t)):r._redraw()},getAxis:function(e){var t,n=this._plotArea.axes;for(t=0;n.length>t;t++)if(n[t].options.name===e)return new gn(n[t])},toggleHighlight:function(e,t){var n,r,i,s,o=this._plotArea,u=this._highlight,a=(o.srcSeries||o.series||[])[0];if(wn(t)?(n=t.series,r=t.category):n=r=t,i=a.type===ri?V(o.pointsBySeriesName(n),r):a.type===ts||a.type===gi?V((o.charts[0]||{}).points,r):o.pointsBySeriesName(n))for(s=0;i.length>s;s++)u.togglePointHighlight(i[s],e)},_initSurface:function(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea;n.width&&t.css("width",n.width),n.height&&t.css("height",n.height),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=br.Surface.create(t,{type:this.options.renderAs}))},_surfaceWrap:function(){return this.element},_redraw:function(){var e,t=this,n=t._getModel();t._destroyView(),t._model=n,t._plotArea=n._plotArea,n.renderVisual(),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.setup()}),t._initSurface(),t.surface.draw(n.visual),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.play()}),t._tooltip=t._createTooltip(),t._highlight=new an(e),t._setupSelection(),t._hasDataSource&&!t._hasData&&t.options.autoBind||t.trigger(us)},exportVisual:function(){return this.surface.exportVisual()},_sharedTooltip:function(){var e=this,t=e.options;return e._plotArea instanceof en&&t.tooltip.shared},_createTooltip:function(){var e,t=this,n=t.options,r=t.element;return e=t._sharedTooltip()?new cn(r,t._plotArea,n.tooltip):new ln(r,n.tooltip),e.bind(Ci,Nn(t._tooltipleave,t)),e},_tooltipleave:function(){var e=this,t=e._plotArea,n=e._highlight;t.hideCrosshairs(),n.hide()},_applyDefaults:function(e,t){a(e,t),i(e,t)},_getModel:function(){var e,t=this,n=t.options,r=new Jn(t._modelOptions());return r.chart=t,Zn.buildTitle(n.title,r),e=r._plotArea=t._createPlotArea(),n.legend.visible&&r.append(new Z(e.options.legend)),r.append(e),r.reflow(),r},_modelOptions:function(){var e=this,t=e.options,n=e.element,r=Sn.floor(n.height()),i=Sn.floor(n.width());return e._size=null,Mn({width:i||ti,height:r||Zr,transitions:t.transitions},t.chartArea)},_createPlotArea:function(e){var t=this,n=t.options;return J.current.create(e?[]:n.series,n)},_setupSelection:function(){var e,t,n,r,i,s,o=this,u=o._plotArea,a=u.axes,f=o._selections=[];for(o._selectStartHandler||(o._selectStartHandler=Nn(o._selectStart,o),o._selectHandler=Nn(o._select,o),o._selectEndHandler=Nn(o._selectEnd,o)),t=0;a.length>t;t++)n=a[t],s=n.options,n instanceof et&&s.select&&!s.vertical&&(r=0,i=s.categories.length-1,n instanceof tt&&(r=s.categories[r],i=s.categories[i]),s.justified||(n instanceof tt?i=v(i,1,s.baseUnit,s.weekStartDay):i++),e=new vn(o,n,Mn({min:r,max:i},s.select)),e.bind(ds,o._selectStartHandler),e.bind(vs,o._selectHandler),e.bind(ms,o._selectEndHandler),f.push(e))},_selectStart:function(e){return this.trigger(ds,e)},_select:function(e){return this.trigger(vs,e)},_selectEnd:function(e){return this.trigger(ms,e)},_attachEvents:function(){var e=this,t=e.element;t.on(Rr,Nn(e._click,e)),t.on(zi,Nn(e._mouseover,e)),t.on(Wi,Nn(e._mouseout,e)),t.on(Ji,Nn(e._mousewheel,e)),t.on(Ri,Nn(e._mouseleave,e)),e._mousemove=Cn.throttle(Nn(e._mousemove,e),Vi),e._shouldAttachMouseMove()&&t.on(Xi,e._mousemove),Cn.UserEvents&&(e._userEvents=new Cn.UserEvents(t,{global:!0,filter:":not(.k-selector)",multiTouch:!1,tap:Nn(e._tap,e),start:Nn(e._start,e),move:Nn(e._move,e),end:Nn(e._end,e)}))},_mouseout:function(e){var t=this,n=t._getChartElement(e);n&&n.leave&&n.leave(t,e)},_start:function(e){var t=this,n=t._events;lr(n[ui]||n[si]||n[oi])&&t._startNavigation(e,ui)},_move:function(e){var t,n,r,i,s,o,u=this,a=u._navState,f={};if(a){for(e.preventDefault(),t=a.axes,n=0;t.length>n;n++)r=t[n],i=r.options.name,i&&(s=r.options.vertical?e.y:e.x,o=s.startLocation-s.location,0!==o&&(f[r.options.name]=r.translateRange(o)));a.axisRanges=f,u.trigger(si,{axisRanges:f,originalEvent:e})}},_end:function(e){this._endNavigation(e,oi)},_mousewheel:function(e){var t,n,r,i,s,o,u=this,a=e.originalEvent,f=or(e),l=u._navState,c={};if(l||(t=u._startNavigation(a,Zs),t||(l=u._navState)),l){for(n=l.totalDelta||f,l.totalDelta=n+f,r=u._navState.axes,i=0;r.length>i;i++)s=r[i],o=s.options.name,o&&(c[o]=s.scaleRange(-n));u.trigger(eo,{delta:f,axisRanges:c,originalEvent:e}),u._mwTimeout&&clearTimeout(u._mwTimeout),u._mwTimeout=setTimeout(function(){u._endNavigation(e,to)},$i)}},_startNavigation:function(e,t){var n,r,i,s=this,o=s._eventCoordinates(e),u=s._model._plotArea,a=u.findPointPane(o),f=u.axes.slice(0),l=!1;if(a){for(n=0;f.length>n;n++)if(r=f[n],r.box.containsPoint(o)){l=!0;break}!l&&u.backgroundBox().containsPoint(o)&&(i=s.trigger(t,{axisRanges:M(f),originalEvent:e}),i?s._userEvents.cancel():(s._suppressHover=!0,s._unsetActivePoint(),s._navState={pane:a,axes:f}))}},_endNavigation:function(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(e,n){var r,i=this.surface.eventTarget(e);if(i){for(;i&&!r;)r=i.chartElement,i=i.parent;return r?(r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n)),r):t}},_eventCoordinates:function(e){var t=this,n=lr((e.x||{}).client),r=n?e.x.client:e.clientX,i=n?e.y.client:e.clientY;return t._toModelCoordinates(r,i)},_toModelCoordinates:function(t,n){var r=this.element,i=r.offset(),s=parseInt(r.css("paddingLeft"),10),o=parseInt(r.css("paddingTop"),10),u=e(window);return new $n(t-i.left-s+u.scrollLeft(),n-i.top-o+u.scrollTop())},_tap:function(e){var t=this,n=t._getChartElement(e);t._activePoint===n?t._click(e):(t._startHover(e)||t._unsetActivePoint(),t._click(e))},_click:function(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_startHover:function(e){var n,r=this,i=r._getChartElement(e),s=r._tooltip,o=r._highlight,u=r.options.tooltip;if(!r._suppressHover&&o&&!o.isHighlighted(i)&&!r._sharedTooltip())return n=r._getChartElement(e,function(e){return e.hover}),n&&!n.hover(r,e)?(r._activePoint=n,u=Mn({},u,n.options.tooltip),u.visible&&s.show(n),o.show(n),n.tooltipTracking):t},_mouseover:function(t){var n=this;n._startHover(t)&&e(document).on(Ui,Nn(n._mouseMoveTracking,n))},_mouseMoveTracking:function(t){var n,r,i=this,s=i.options,o=i._tooltip,u=i._highlight,a=i._eventCoordinates(t),f=i._activePoint;i._plotArea.box.containsPoint(a)?f&&f.tooltipTracking&&f.series&&f.parent.getNearestPoint&&(r=f.parent.getNearestPoint(a.x,a.y,f.seriesIx),r&&r!=f&&(r.hover(i,t),i._activePoint=r,n=Mn({},s.tooltip,f.options.tooltip),n.visible&&o.show(r),u.show(r))):(e(document).off(Ui),i._unsetActivePoint())},_mousemove:function(e){var t=this._eventCoordinates(e);this._trackCrosshairs(t),this._sharedTooltip()&&this._trackSharedTooltip(t,e)},_trackCrosshairs:function(e){var t,n,r=this._plotArea.crosshairs;for(t=0;r.length>t;t++)n=r[t],n.box.containsPoint(e)?n.showAt(e):n.hide()},_trackSharedTooltip:function(t,n){var r,i,s,o,u=this,a=u.options,f=u._plotArea,l=f.categoryAxis,c=u._tooltip,h=a.tooltip,p=u._highlight;f.box.containsPoint(t)&&(r=l.pointCategoryIndex(t),r!==u._tooltipCategoryIx&&(i=f.pointsByCategoryIndex(r),s=e.map(i,function(e){return e.eventArgs(n)}),o=s[0]||{},o.categoryPoints=s,i.length>0&&!this.trigger(ys,o)?(h.visible&&c.showAt(i,t),p.show(i)):c.hide(),u._tooltipCategoryIx=r))},_mouseleave:function(t){var n=this,r=n._plotArea,i=n._tooltip,s=n._highlight,o=t.relatedTarget;o&&e(o).closest(i.element).length||(n._mousemove.cancel(),r.hideCrosshairs(),s.hide(),setTimeout(Nn(i.hide,i),Is),n._tooltipCategoryIx=null)},_unsetActivePoint:function(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChanged:function(){var e,t,n=this,r=n.options,i=n._sourceSeries||r.series,s=i.length,u=n.dataSource.view(),a=(n.dataSource.group()||[]).length>0,f=[];for(e=0;s>e;e++)t=i[e],n._isBindable(t)&&a?fr(f,D(t,u)):f.push(t||[]);n._sourceSeries=i,r.series=f,o(n.options),n._bindSeries(),n._bindCategories(),n._hasData=!0,n._deferRedraw()},_deferRedraw:function(){var e=this;Cn.support.vml?(e._clearRedrawTimeout(),e._redrawTimeout=setTimeout(function(){e.surface&&(e.trigger(Kr),e._redraw())},0)):(e.trigger(Kr),e._redraw())},_clearRedrawTimeout:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},_bindSeries:function(){var e,t,n,r,i=this,s=i.dataSource.view(),o=i.options.series,u=o.length;for(e=0;u>e;e++)t=o[e],i._isBindable(t)&&(n=t._groupIx,r=lr(n)?(s[n]||{}).items:s,t.autoBind!==!1&&(t.data=r))},_bindCategories:function(){var e,t,n=this,r=n.dataSource.view()||[],i=(n.dataSource.group()||[]).length>0,s=r,o=n.options,u=[].concat(o.categoryAxis);for(i&&r.length&&(s=r[0].items),e=0;u.length>e;e++)t=u[e],t.autoBind!==!1&&n._bindCategoryAxis(t,s,e)},_bindCategoryAxis:function(e,t,n){var r,i,s,o=(t||[]).length;if(e.field)for(e.categories=[],r=0;o>r;r++)s=t[r],i=c(e.field,s),0===r?(e.categories=[i],e.dataItems=[s]):(e.categories.push(i),e.dataItems.push(s));else this._bindCategoryAxisFromSeries(e,n)},_bindCategoryAxisFromSeries:function(e,t){var n,r,i,s,o,u,a,f,l,p,d,v=this,m=[],g=v.options.series,y=g.length,b={};for(r=0;y>r;r++)if(i=g[r],s=i.categoryAxis===e.name||!i.categoryAxis&&0===t,o=i.data,a=o.length,i.categoryField&&s&&a>0)for(d=F(e,c(i.categoryField,o[0])),p=d?h:c,u=0;a>u;u++)f=o[u],l=p(i.categoryField,f),(d||!b[l])&&(m.push([l,f]),d||(b[l]=!0));m.length>0&&(d&&(m=j(m,function(e,t){return nr(e[0],t[0])})),n=I(m),e.categories=n[0],e.dataItems=n[1])},_isBindable:function(e){var t,n,r=K.current.valueFields(e),i=!0;for(n=0;r.length>n;n++)if(t=r[n],t===Rs?t="field":t+="Field",!lr(e[t])){i=!1;break}return i},_legendItemClick:function(e,t){var n,r,i,s=this,o=s._plotArea,u=(o.srcSeries||o.series)[e],a=(s._sourceSeries||[])[e]||u;ir(u.type,[ts,ri,gi])?(i=a.data[t],r=lr(i.visible)?!i.visible:!1,i.visible=r):(r=!a.visible,a.visible=r,u.visible=r),s.options.transitions&&(s.options.transitions=!1,n=!0),s.redraw(),n&&(s.options.transitions=!0)},_legendItemHover:function(e,t){var n,r,i=this,s=i._plotArea,o=i._highlight,u=(s.srcSeries||s.series)[e];n=ir(u.type,[ts,ri,gi])?t:e,r=s.pointsBySeriesIndex(n),o.show(r)},_shouldAttachMouseMove:function(){var e=this;return e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip()},setOptions:function(n){var r=this,i=n.dataSource;n.dataSource=t,r._originalOptions=Mn(r._originalOptions,n),r.options=Mn({},r._originalOptions),r._sourceSeries=null,e(document).off(Xi),On.fn._setEvents.call(r,n),r._initTheme(r.options),i&&r.setDataSource(i),r._hasDataSource?r.refresh():(r._bindCategories(),r.redraw()),r._shouldAttachMouseMove()&&r.element.on(Xi,r._mousemove)},destroy:function(){var t=this,n=t.dataSource;t.element.off(wr),n.unbind(Ir,t._dataChangeHandler),e(document).off(Ui),t._userEvents&&t._userEvents.destroy(),t._destroyView(),t.surface.destroy(),t.surface=null,t._clearRedrawTimeout(),On.fn.destroy.call(t)},_destroyView:function(){var e=this,t=e._model,n=e._selections;if(t&&(t.destroy(),e._model=null),n)for(;n.length>0;)n.shift().destroy();e._unsetActivePoint(),e._tooltip&&e._tooltip.destroy(),e._highlight&&e._highlight.destroy()}});Hn.ExportMixin.extend(so.fn),Cn.PDFMixin&&Cn.PDFMixin.extend(so.fn),J=kn.extend({init:function(){this._registry=[]},register:function(e,t){this._registry.push({type:e,seriesTypes:t})},create:function(e,t){var n,r,i,s=this._registry,o=s[0];for(n=0;s.length>n;n++)if(r=s[n],i=P(e,r.seriesTypes),i.length>0){o=r;break}return new o.type(i,t)}}),J.current=new J,K=kn.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(e,n,r){var i,s,o=this;for(n=n||[Rs],i=0;e.length>i;i++)s=e[i],o._valueFields[s]=n,o._otherFields[s]=r,o._nullValue[s]=o._makeValue(n,null),o._undefinedValue[s]=o._makeValue(n,t)},canonicalFields:function(e){return this.valueFields(e).concat(this.otherFields(e))},valueFields:function(e){return this._valueFields[e.type]||[Rs]},otherFields:function(e){return this._otherFields[e.type]||[Rs]},bindPoint:function(e,t){var n,r,i,s,o,u=this,a=e.data,f=a[t],l={valueFields:{value:f}},c=u.valueFields(e),h=u._otherFields[e.type];return null===f?o=u._nullValue[e.type]:lr(f)?bn(f)?(r=f.slice(c.length),o=u._bindFromArray(f,c),n=u._bindFromArray(r,h)):typeof f===Yi&&(i=u.sourceFields(e,c),s=u.sourceFields(e,h),o=u._bindFromObject(f,c,i),n=u._bindFromObject(f,h,s)):o=u._undefinedValue[e.type],lr(o)&&(1===c.length?l.valueFields.value=o[c[0]]:l.valueFields=o),l.fields=n||{},l},_makeValue:function(e,t){var n,r,i={},s=e.length;for(n=0;s>n;n++)r=e[n],i[r]=t;return i},_bindFromArray:function(e,t){var n,r,i={};if(t)for(r=Sn.min(t.length,e.length),n=0;r>n;n++)i[t[n]]=e[n];return i},_bindFromObject:function(e,t,n){var r,i,s,o,u={};if(t)for(i=t.length,n=n||t,r=0;i>r;r++)s=t[r],o=n[r],u[s]=c(o,e);return u},sourceFields:function(e,t){var n,r,i,s,o;if(t)for(r=t.length,s=[],n=0;r>n;n++)i=t[n],o=i===Rs?"field":i+"Field",s.push(e[o]||i);return s}}),K.current=new K,Q=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),this.textBox=new Yn(e,n.options),n.append(this.textBox)},options:{position:es,margin:rr(3),padding:rr(4),color:Or,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:di,delay:Si},zIndex:2},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(e){var t=this,n=t.options,r=n.vertical,i=n.aboveAxis,s=t.children[0],o=s.box,u=s.options.padding;s.options.align=r?Fr:ki,s.options.vAlign=r?Hs:Fr,n.position==Ti?r?(s.options.vAlign=Hs,!i&&o.height()<e.height()&&(s.options.vAlign=_r)):s.options.align=i?as:ki:n.position==Fr?(s.options.vAlign=Fr,s.options.align=Fr):n.position==xi?r?s.options.vAlign=i?_r:Hs:s.options.align=i?ki:as:n.position==es&&(r?e=i?new Fn(e.x1,e.y1-o.height(),e.x2,e.y1):new Fn(e.x1,e.y2,e.x2,e.y2+o.height()):(s.options.align=Fr,e=i?new Fn(e.x2,e.y1,e.x2+o.width(),e.y2):new Fn(e.x1-o.width(),e.y1,e.x1,e.y2))),n.rotation||(r?u.left=u.right=(e.width()-s.contentBox.width())/2:u.top=u.bottom=(e.height()-s.contentBox.height())/2),s.reflow(e)},alignToClipBox:function(e){var t,n=this,r=n.options.vertical,i=r?Ks:Js,s=i+"1",o=i+"2",u=n.children[0],a=n.parent.box;(e[s]>a[s]||a[o]>e[o])&&(t=u.paddingBox.clone(),t[s]=Sn.max(a[s],e[s]),t[o]=Sn.min(a[o],e[o]),this.reflow(t))}}),G=In.extend({init:function(e){var t=this;In.fn.init.call(t,e),t.createContainer(),t.createMarker(),t.createLabel()},createContainer:function(){var e=this;e.container=new zn({vertical:!1,wrap:!1,align:Fr}),e.append(e.container)},createMarker:function(){this.container.append(new Qn(this.markerOptions()))},markerOptions:function(){var e=this.options,t=e.markerColor;return Mn({},e.markers,{background:t,border:{color:t}})},createLabel:function(){var e=this,t=e.options,n=Mn({},t.labels);e.container.append(new Yn(t.text,n))},renderComplete:function(){var e,t;qn.fn.renderComplete.call(this),e=this.options.cursor||{},t=this._itemOverlay=br.Path.fromRect(this.container.box.toRect(),{fill:{color:$s,opacity:0},stroke:null,cursor:e.style||e}),this.appendVisual(t)},click:function(e,t){var n=this.eventArgs(t);e.trigger(Li,n)||(t.preventDefault(),e._legendItemClick(n.seriesIndex,n.pointIndex))},hover:function(e,t){var n=this.eventArgs(t);return e.trigger(Ai,n)||(t.preventDefault(),e._legendItemHover(n.seriesIndex,n.pointIndex)),!0},leave:function(e){e._unsetActivePoint()},eventArgs:function(t){var n=this.options;return{element:e(t.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}},renderVisual:function(){var e=this,t=e.options,n=t.visual;n?(e.visual=n({active:t.active,series:t.series,options:{markers:e.markerOptions(),labels:t.labels},createVisual:function(){qn.fn.renderVisual.call(e);var t=e.visual;return delete e.visual,t}}),this.addVisual()):qn.fn.renderVisual.call(e)}}),Y=qn.extend({render:function(){var e,t,n=this.children,r=this.options,i=r.vertical;this.visual=new br.Layout(null,{spacing:i?0:r.spacing,lineSpacing:i?r.spacing:0,orientation:i?"vertical":"horizontal"});for(t=0;n.length>t;t++)e=n[t],e.reflow(new Fn),e.renderVisual()},reflow:function(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?Hn.rectToBox(t):new Fn},renderVisual:function(){this.addVisual()},createVisual:xn}),Z=qn.extend({init:function(e){var t=this;qn.fn.init.call(t,e),ir(t.options.position,[Hs,as,_r,ki,Jr])||(t.options.position=as),t.createContainer(),t.createItems()},options:{position:as,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:rr(5),padding:rr(5),border:{color:Or,width:0},item:{cursor:is},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:ki,vAlign:Fr}},createContainer:function(){var e=this,t=e.options,n=t.align,r=t.position,i=r,s=Fr;r==Jr?i=ki:ir(r,[Hs,_r])?(i="start"==n?ki:"end"==n?as:Fr,s=r):n&&("start"==n?s=Hs:"end"==n&&(s=_r)),e.container=new In({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:s,align:i,zIndex:t.zIndex,shrinkToFit:!0}),e.append(e.container)},createItems:function(){var e,t,n,r=this,i=r.options,s=i.items,o=s.length,u=r.isVertical();for(e=new Y({vertical:u,spacing:i.spacing}),i.reverse&&(s=s.slice(0).reverse()),t=0;o>t;t++)n=s[t],e.append(new G(Mn({},{markers:i.markers,labels:i.labels},i.item,n)));e.render(),r.container.append(e)},isVertical:function(){var e=this,t=e.options,n=t.orientation,r=t.position,i=r==Jr&&n!=bi||(lr(n)?n!=bi:ir(r,[ki,as]));return i},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(e){var n=this,r=n.options;return e=e.clone(),n.hasItems()?(r.position===Jr?(n.containerCustomReflow(e),n.box=e):n.containerReflow(e),t):(n.box=e,t)},containerReflow:function(e){var t,n=this,r=n.options,i=r.position,s=i==Hs||i==_r?Js:Ks,o=e.clone(),u=n.container,a=r.width,f=r.height,l=n.isVertical(),c=e.clone();(i==ki||i==as)&&(o.y1=c.y1=0),l&&f?(o.y2=o.y1+f,o.align(c,Ks,u.options.vAlign)):!l&&a&&(o.x2=o.x1+a,o.align(c,Js,u.options.align)),u.reflow(o),o=u.box,t=o.clone(),(r.offsetX||r.offsetY)&&(o.translate(r.offsetX,r.offsetY),n.container.reflow(o)),t[s+1]=e[s+1],t[s+2]=e[s+2],n.box=t},containerCustomReflow:function(e){var t=this,n=t.options,r=n.offsetX,i=n.offsetY,s=t.container,o=n.width,u=n.height,a=t.isVertical(),f=e.clone();a&&u?f.y2=f.y1+u:!a&&o&&(f.x2=f.x1+o),s.reflow(f),f=s.box,s.reflow(Fn(r,i,r+f.width(),i+f.height()))},renderVisual:function(){this.hasItems()&&qn.fn.renderVisual.call(this)}}),et=Bn.extend({init:function(e){var t=this;Bn.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options:{type:jr,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Or},labels:{zIndex:1},justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,n=this,r=n.options,i=r.vertical,s=r.justified,o=n.lineBox(),u=i?o.height():o.width(),a=e-(s?1:0),f=u/a,l=i?Ks:Js,c=o[l+1],h=[];for(t=0;e>t;t++)h.push(ur(c,Xr)),c+=f;return s||h.push(o[l+2]),r.reverse?h.reverse():h},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var e,t=this,n=t._ticks,r=t.options,i=r.categories.length,s=r.reverse,o=r.justified,u=t.lineBox();return e=u.getHash()+i+s+o,n._hash!==e&&(n._hash=e,n.majorTicks=t.getTickPositions(i),n.minorTicks=t.getTickPositions(2*i)),n},getSlot:function(e,t){var n,r,i,s=this,o=s.options,u=s.getTicks().majorTicks,a=o.reverse,f=o.justified,l=o.vertical?Ks:Js,c=s.lineBox(),h=c[l+(a?2:1)],p=c[l+(a?1:2)],d=c.clone(),v=Sn.max(1,u.length-(f?0:1)),m=!lr(t);return e=gr(e,0),t=gr(t,e),e=hr(e,0,v),t=hr(t-1,e,v),t=Sn.max(e,t),n=0===e?h:u[e]||p,r=f?n:u[t],i=t-e,(i>0||e===t)&&(r=u[t+1]||p),m&&f&&(e===v?n=r:r=n),d[l+1]=a?r:n,d[l+2]=a?n:r,d},pointCategoryIndex:function(e){var t,n,r,i,s=this,o=s.options,u=o.reverse,a=o.vertical,f=a?Ks:Js,l=s.lineBox(),c=l[f+1],h=l[f+2],p=e[f],d=s.getMajorTickPositions(),v=Bi;if(c>p||p>h)return null;for(r=0;d.length>r;r++)if(t=d[r],n=d[r+1],lr(n)||(n=u?c:h),u&&(t=n,n=d[r]),o.justified){if(p===n){i=Sn.max(0,a?d.length-r-1:r+1);break}Sn.abs(p-t)<v&&(v=p-t,i=r)}else if(p>=t&&n>=p){i=r;break}return i},getCategory:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},categoryIndex:function(e){return H(e,this.options.categories)},translateRange:function(e){var t=this,n=t.options,r=t.lineBox(),i=n.vertical?r.height():r.width(),s=n.categories.length,o=i/s,u=ur(e/o,ei);return{min:u,max:s+u}},scaleRange:function(e){var t=this,n=t.options,r=n.categories.length,i=e*r;return{min:-i,max:r+i}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,r=n.options,i=r.dataItems?r.dataItems[e]:null,s=gr(r.categories[e],""),o=n.axisLabelText(s,i,t);return new jn(s,o,e,i,t)},shouldRenderNote:function(e){var t=this.options.categories;return t.length&&t.length>e&&e>=0}}),tt=et.extend({init:function(e){var t,n,r=this;e=e||{},e=Mn({roundToBaseUnit:!0},e,{categories:p(e.categories),min:p(e.min),max:p(e.max)}),e.categories&&e.categories.length>0?(t=(e.baseUnit||"").toLowerCase(),n=t!==Tr&&!ir(t,no),n&&(e.baseUnit=r.defaultBaseUnit(e)),(t===Tr||e.baseUnitStep===xr)&&r.autoBaseUnit(e),r.groupCategories(e)):e.baseUnit=e.baseUnit||Gr,et.fn.init.call(r,e)},options:{type:Qr,labels:{dateFormats:io},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(e){var t=this,n=t.range(),r=t.options.categories||[];return nr(e,n.min)>=0&&nr(e,n.max)<=0&&r.length},parseNoteValue:function(e){return p(e)},translateRange:function(e){var t,n,r=this,i=r.options,s=i.baseUnit,o=i.weekStartDay,u=r.lineBox(),a=i.vertical?u.height():u.width(),f=r.range(),l=a/(f.max-f.min),c=ur(e/l,ei);return f.min&&f.max&&(t=w(i.min||f.min,c),n=w(i.max||f.max,c),f={min:v(t,0,s,o),max:v(n,0,s,o)}),f},scaleRange:function(e){var t,n=this,r=Sn.abs(e),i=n.range(),s=i.min,o=i.max;if(i.min&&i.max){for(;r--;)i=b(s,o),t=Sn.round(.1*i),0>e?(s=w(s,t),o=w(o,-t)):(s=w(s,-t),o=w(o,t));i={min:s,max:o}}return i},defaultBaseUnit:function(e){var t,n,r,i,s,o=e.categories,u=lr(o)?o.length:0,a=Bi;for(t=0;u>t;t++)n=o[t],n&&i&&(r=b(n,i),r>0&&(a=Sn.min(a,r),s=a>=_s?Qs:a>=Ms-3*As?qi:a>=Os?Vs:a>=As?Gr:a>=Ls?Ei:a>=ks?Ii:ps)),i=n;return s||Gr},_categoryRange:function(e){var t=e._range;return t||(t=e._range=pr(e)),t},range:function(e){var t,n,r,i,s,o,u,a,f;return e=e||this.options,t=e.categories,n=e.baseUnit===Tr,r=n?no[0]:e.baseUnit,i=e.baseUnitStep||1,s=d(e.min),o=d(e.max),u=this._categoryRange(t),a=d(u.min),f=d(u.max),e.roundToBaseUnit?{min:v(s||a,0,r,e.weekStartDay),max:v(o||f,i,r,e.weekStartDay)}:{min:p(s||a),max:p(o||this._srcMaxDate||f)}},autoBaseUnit:function(e){for(var t,n,r,i=this,s=i.range(Mn({},e,{baseUnitStep:1})),o=e.baseUnit===Tr,u=0,a=o?no[u++]:e.baseUnit,f=s.max-s.min,l=f/Ds[a],c=l,h=e.maxDateGroups||i.options.maxDateGroups,p=Mn({},i.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!n||l>h;)if(t=t||p[a].slice(0),r=t.shift())n=r,l=c/n;else{if(a===cr(no)){n=Sn.ceil(c/h);break}if(!o){l>h&&(n=Sn.ceil(c/h));break}a=no[u++]||cr(no),c=f/Ds[a],t=null}e.baseUnitStep=n,e.baseUnit=a},_timeScale:function(){var e,t,n,r=this,i=r.range(),s=r.options,o=r.lineBox(),u=s.vertical,a=u?o.height():o.width();return s.justified&&s._collapse!==!1?(t=this._categoryRange(s.categories),n=d(t.max),e=p(n)-i.min):e=i.max-i.min,a/e},getTickPositions:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m=this,g=m.options,y=g.categories,b=[];if(g.roundToBaseUnit||0===y.length)b=et.fn.getTickPositions.call(m,e);else{for(t=g.vertical,n=g.reverse,r=m.lineBox(),i=y[0].getTime(),s=gr(g._collapse,g.justified),o=y.length-(s?1:0),u=m._timeScale(),a=(t?-1:1)*(n?-1:1),f=1===a?1:2,l=1===a?2:1,c=r[(t?Ks:Js)+f],h=r[(t?Ks:Js)+l],p=c,d=0;o>d;d++)v=y[d]-i,p=c+v*u*a,b.push(ur(p,Xr));cr(b)!==h&&b.push(h)}return b},groupCategories:function(e){var t,n,r=this,i=e.categories,s=p(vr(i)),o=e.baseUnit,u=e.baseUnitStep||1,a=r.range(e),f=a.max,l=[];for(t=a.min;f>t&&(l.push(t),n=v(t,u,o,e.weekStartDay),!(n>s)||e.max);t=n);e.roundToBaseUnit||N(cr(l),f)||(n>f&&e._collapse!==!1?this._srcMaxDate=f:l.push(f)),e.srcCategories=i,e.categories=l},createAxisLabel:function(e,n){var r,i,s=this.options,o=s.dataItems?s.dataItems[e]:null,u=s.categories[e],a=s.baseUnit,f=!0,l=n.dateFormats[a];return s.justified?(r=g(u,a,s.weekStartDay),f=N(r,u)):s.roundToBaseUnit||(f=!N(this.range().max,u)),f&&(n.format=n.format||l,i=this.axisLabelText(u,o,n))?new jn(u,i,e,o,n):t},categoryIndex:function(e,t){var n,r,i=this,s=i.options,o=s.categories;return e=p(e),t=t||i.range(),n=s.roundToBaseUnit&&N(t.max,e),e&&(e>t.max||n)?o.length:!e||t.min>e?-1:r=k(e,o)},getSlot:function(e,t){var n=this;return typeof e===Yi&&(e=n.categoryIndex(e)),typeof t===Yi&&(t=n.categoryIndex(t)),et.fn.getSlot.call(n,e,t)}}),nt=Bn.extend({init:function(e,t,n){var r=this;n=n||{},Mn(n,{min:p(n.min),max:p(n.max),axisCrossingValue:p(n.axisCrossingValues||n.axisCrossingValue)}),n=r.applyDefaults(p(e),p(t),n),Bn.fn.init.call(r,n)},options:{type:Qr,majorGridLines:{visible:!0,width:1,color:Or},labels:{dateFormats:io}},applyDefaults:function(e,n,r){var i=this,s=r.min||e,o=r.max||n,u=r.baseUnit||i.timeUnits(o-s),a=Ds[u],f=g(d(s)-1,u)||p(o),l=y(d(o)+1,u),c=r.majorUnit?r.majorUnit:t,h=c||Hn.ceil(Hn.autoMajorUnit(f.getTime(),l.getTime()),a)/a,m=E(f,l,u),b=Hn.ceil(m,h),w=b-m,S=Sn.floor(w/2),x=w-S;return r.baseUnit||delete r.baseUnit,r.baseUnit=r.baseUnit||u,r.min=r.min||v(f,-S,u),r.max=r.max||v(l,x,u),r.minorUnit=r.minorUnit||h/5,r.majorUnit=h,r},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Sn.floor(E(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,n,r,i=this.options,s=i.vertical,o=i.reverse,u=this.lineBox(),a=(s?-1:1)*(o?-1:1),f=1===a?1:2,l=u[(s?Ks:Js)+f],c=this.getDivisions(e),h=i.max-i.min,p=s?u.height():u.width(),d=p/h,m=[l];for(t=1;c>t;t++)n=v(i.min,t*i.majorUnit,i.baseUnit),r=l+(n-i.min)*d*a,m.push(ur(r,Xr));return m},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t,n){return Vn.fn.getSlot.call(this,p(e),p(t),n)},getValue:function(e){var t=Vn.fn.getValue.call(this,e);return null!==t?p(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n,r,i=this.options,s=e*i.majorUnit,o=i.min;return s>0&&(o=v(o,s,i.baseUnit)),n=t.dateFormats[i.baseUnit],t.format=t.format||n,r=this.axisLabelText(o,null,t),new jn(o,r,e,null,t)},timeUnits:function(e){var t=Ei;return e>=_s?t=Qs:e>=Ms?t=qi:e>=Os?t=Vs:e>=As&&(t=Gr),t},translateRange:function(e){var t=this,n=t.options,r=n.baseUnit,i=n.weekStartDay,s=t.lineBox(),o=n.vertical?s.height():s.width(),u=t.range(),a=o/(u.max-u.min),f=ur(e/a,ei),l=w(n.min,f),c=w(n.max,f);return{min:v(l,0,r,i),max:v(c,0,r,i)}},scaleRange:function(e){for(var t,n,r=this,i=r.options,s=Sn.abs(e),o=i.min,u=i.max;s--;)t=b(o,u),n=Sn.round(.1*t),0>e?(o=w(o,n),u=w(u,-n)):(o=w(o,-n),u=w(u,n));return{min:o,max:u}},shouldRenderNote:function(e){var t=this.range();return nr(e,t.min)>=0&&nr(e,t.max)<=0}}),rt=qn.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,n,r=this,i=r.options,s=i.vertical,o=s?Ks:Js,u=r.children,a=i.gap,f=i.spacing,l=u.length,c=l+a+f*(l-1),h=(s?e.height():e.width())/c,p=e[o+1]+h*(a/2);for(n=0;l>n;n++)t=(u[n].box||e).clone(),t[o+1]=p,t[o+2]=p+h,u[n].reflow(t),l-1>n&&(p+=h*f),p+=h}}),it=qn.extend({options:{vertical:!0},reflow:function(e){var t,n,r,i=this.options,s=i.vertical,o=s?Js:Ks,u=this.children,a=this.box=new Fn,f=u.length;for(t=0;f>t;t++)n=u[t],n.visible!==!1&&(r=n.box.clone(),r.snapTo(e,o),0===t&&(a=this.box=r.clone()),n.reflow(r),a.wrap(r))}}),st={click:function(e,t){return e.trigger(gs,this.eventArgs(t))},hover:function(e,t){return e.trigger(ys,this.eventArgs(t))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:e((t||{}).target),originalEvent:t,point:this}}},ot={createNote:function(){var e=this,t=e.options.notes,n=e.noteText||t.label.text;t.visible!==!1&&lr(n)&&null!==n&&(e.note=new Wn(e.value,n,e.dataItem,e.category,e.series,e.options.notes),e.append(e.note))}},ut=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n),n.options=t,n.color=t.color||$s,n.aboveAxis=gr(n.options.aboveAxis,!0),n.value=e},defaults:{border:{width:1},vertical:!0,overlay:{gradient:yi},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var e,t,n=this.options,r=n.labels;r.visible&&(r.template?(t=Pn(r.template),e=t({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):e=this.formatValue(r.format),this.label=new Q(e,Mn({vertical:n.vertical},n.labels)),this.append(this.label))},formatValue:function(e){return this.owner.formatPointValue(this,e)},reflow:function(e){var t,n,r,i;if(this.render(),t=this,n=t.options,r=t.label,t.box=e,r&&(r.options.aboveAxis=t.aboveAxis,r.reflow(e)),t.note&&t.note.reflow(e),t.errorBars)for(i=0;t.errorBars.length>i;i++)t.errorBars[i].reflow(e)},createVisual:function(){var e,t=this,n=t.box,r=t.options,i=r.visual;t.visible!==!1&&(qn.fn.createVisual.call(t),i?(e=this.rectVisual=i({category:t.category,dataItem:t.dataItem,value:t.value,series:t.series,percentage:t.percentage,runningTotal:t.runningTotal,total:t.total,rect:n.toRect(),createVisual:function(){var e=new br.Group;return t.createRect(e),e},options:r}),e&&t.visual.append(e)):n.width()>0&&n.height()>0&&t.createRect(t.visual))},createRect:function(e){var n=this.options,r=n.border,i=lr(r.opacity)?r.opacity:n.opacity,s=this.rectVisual=br.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:n.opacity},stroke:{color:this.getBorderColor(),width:r.width,opacity:i,dashType:r.dashType}}),o=this.box.width(),u=this.box.height(),a=n.vertical?o:u;a>kr&&(er(s),(1>o||1>u)&&(s.options.stroke.lineJoin="round")),e.append(s),U(n)&&e.append(this.createGradientOverlay(s,{baseColor:this.color},Mn({end:n.vertical?t:[0,1]},n.overlay)))},createHighlight:function(e){var t=br.Path.fromRect(this.box.toRect(),e);return er(t)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var e=this,t=e.options,n=e.color,r=t.border,i=r.color,s=r._brightness||Lr;return lr(i)||(i=(new Rn(n)).brightness(s).toHex()),i},tooltipAnchor:function(e,t){var n,r,i,s,o=this,u=o.options,a=o.box,f=u.vertical,l=o.aboveAxis,c=o.owner.pane.clipBox()||a;return f?(n=a.x2+js,r=l?Sn.max(a.y1,c.y1):Sn.min(a.y2,c.y2)-t):(i=Sn.max(a.x1,c.x1),s=Sn.min(a.x2,c.x2),u.isStacked?(n=l?s-e:i,r=a.y1-t-js):(n=l?s+js:i-e-js,r=a.y1)),new $n(n,r)}}),Mn(ut.fn,st),Mn(ut.fn,ot),at=br.Animation.extend({options:{duration:Si},setup:function(){var e,t,n,r=this.element,i=this.options,s=r.bbox();s?(e=this.origin=i.origin,t=i.vertical?Ks:Js,n=this.fromScale=new yr.Point(1,1),n[t]=bs,r.transform(yr.transform().scale(n.x,n.y))):this.abort()},step:function(e){var t=sr(this.fromScale.x,1,e),n=sr(this.fromScale.y,1,e);this.element.transform(yr.transform().scale(t,n,this.origin))},abort:function(){br.Animation.fn.abort.call(this),this.element.transform(null)}}),br.AnimationFactory.current.register(Cr,at),ft=br.Animation.extend({options:{duration:200,easing:_i},setup:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},step:function(e){this.element.opacity(e*this.fadeTo)}}),br.AnimationFactory.current.register(di,ft),lt=function(e,t,n){var r=this;r.initGlobalRanges(e,t,n)},lt.prototype=lt.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:RegExp("^"+xs+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(e,t,n){var r,i,s,o,u,a=this,f=t.data,l=a.standardDeviationRegex.exec(e);l?(a.valueGetter=a.createValueGetter(t,n),r=a.getAverage(f),i=a.getStandardDeviation(f,r,!1),s=l[1]?parseFloat(l[1]):1,o={low:r.value-i*s,high:r.value+i*s},a.globalRange=function(){return o}):e.indexOf&&e.indexOf(Ss)>=0&&(a.valueGetter=a.createValueGetter(t,n),u=a.getStandardError(f,a.getAverage(f)),a.globalRange=function(e){return{low:e-u,high:e+u}})},createValueGetter:function(e,t){var n,r,i,s=e.data,o=K.current,u=o.valueFields(e),a=lr(s[0])?s[0]:{};return bn(a)?(n=t?H(t,u):0,i=_n("["+n+"]")):L(a)?i=_n():typeof a===Yi&&(r=o.sourceFields(e,u),i=_n(r[H(t,u)])),i},getErrorRange:function(e,t){var n,r,i,s,o=this;if(lr(t)){if(o.globalRange)return o.globalRange(e);if(bn(t))n=e-t[0],r=e+t[1];else if(L(i=parseFloat(t)))n=e-i,r=e+i;else{if(!(i=o.percentRegex.exec(t)))throw Error("Invalid ErrorBar value: "+t);s=e*(parseFloat(i[1])/100),n=e-Sn.abs(s),r=e+Sn.abs(s)}return{low:n,high:r}}},getStandardError:function(e,t){return this.getStandardDeviation(e,t,!0)/Sn.sqrt(t.count)},getStandardDeviation:function(e,t,n){var r,i,s=0,o=e.length,u=n?t.count-1:t.count;for(i=0;o>i;i++)r=this.valueGetter(e[i]),L(r)&&(s+=Sn.pow(r-t.value,2));return Sn.sqrt(s/u)},getAverage:function(e){var t,n,r=0,i=0,s=e.length;for(n=0;s>n;n++)t=this.valueGetter(e[n]),L(t)&&(r+=t,i++);return{value:r/i,count:i}}},ct=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function(){var e=this;e.traverseDataPoints(Nn(e.addValue,e))},pointOptions:function(e,t){var n,r=this.seriesOptions[t];return r||(n=this.pointType().fn.defaults,this.seriesOptions[t]=r=Mn({},n,{vertical:!this.options.invertAxes},e)),r},plotValue:function(e){var t,n,r,i,s,o,u,a;if(!e)return 0;if(this.options.isStacked100&&L(e.value)){for(t=e.categoryIx,n=this.categoryPoints[t],r=0,i=[],s=0;n.length>s;s++)if(o=n[s]){if(u=e.series.stack,a=o.series.stack,u&&a&&u.group!==a.group)continue;L(o.value)&&(r+=Sn.abs(o.value),i.push(Sn.abs(o.value)))}if(r>0)return e.value/r}return e.value},plotRange:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d=e.categoryIx,v=this.categoryPoints[d];if(this.options.isStacked){for(t=t||0,n=this.plotValue(e),r=n>=0,i=t,s=!1,o=0;v.length>o&&(u=v[o],e!==u);o++){if(a=e.series.stack,f=u.series.stack,a&&f){if(typeof a===Ts&&a!==f)continue;if(a.group&&a.group!==f.group)continue}l=this.plotValue(u),(l>=0&&r||0>l&&!r)&&(i+=l,n+=l,s=!0,this.options.isStacked100&&(n=Sn.min(n,1)))}return s&&(i-=t),[i,n]}return c=e.series,h=this.seriesValueAxis(c),p=this.categoryAxisCrossingValue(h),[p,e.value||p]},stackLimits:function(e,t){var n,r,i,s,o,u=Bi,a=Fi;for(n=0;this.categoryPoints.length>n;n++)for(r=this.categoryPoints[n],i=0;r.length>i;i++)s=r[i],s&&(s.series.stack===t||s.series.axis===e)&&(o=this.plotRange(s,0)[1],lr(o)&&isFinite(o)&&(a=Sn.max(a,o),u=Sn.min(u,o)));return{min:u,max:a}},updateStackRange:function(){var e,t,n,r,i,s,o=this,u=o.options.series,a=o.options.isStacked,f={};if(a)for(t=0;u.length>t;t++)n=u[t],r=n.axis,i=r+n.stack,e=f[i],e||(e=o.stackLimits(r,n.stack),s=o.errorTotals,s&&(s.negative.length&&(e.min=Sn.min(e.min,dr(s.negative))),s.positive.length&&(e.max=Sn.max(e.max,vr(s.positive)))),e.min!==Bi||e.max!==Fi?f[i]=e:e=null),e&&(o.valueAxisRanges[r]=e)},addErrorBar:function(e,t,n){var r,i=this,s=e.value,o=e.series,u=e.seriesIx,a=e.options.errorBars,f=t.fields[ai],l=t.fields[fi];L(f)&&L(l)?r={low:f,high:l}:a&&lr(a.value)&&(i.seriesErrorRanges=i.seriesErrorRanges||[],i.seriesErrorRanges[u]=i.seriesErrorRanges[u]||new lt(a.value,o,Rs),r=i.seriesErrorRanges[u].getErrorRange(s,a.value)),r&&(e.low=r.low,e.high=r.high,i.addPointErrorBar(e,n))},addPointErrorBar:function(e,t){var n,r,i,s=this,o=e.series,u=e.low,a=e.high,f=!s.options.invertAxes,l=e.options.errorBars;s.options.isStacked?(r=s.stackedErrorRange(e,t),u=r.low,a=r.high):(i={categoryIx:t,series:o},s.updateRange({value:u},i),s.updateRange({value:a},i)),n=new bt(u,a,f,s,o,l),e.errorBars=[n],e.append(n)},stackedErrorRange:function(e,t){var n=this,r=n.plotRange(e,0)[1]-e.value,i=e.low+r,s=e.high+r;return n.errorTotals=n.errorTotals||{positive:[],negative:[]},0>i&&(n.errorTotals.negative[t]=Sn.min(n.errorTotals.negative[t]||0,i)),s>0&&(n.errorTotals.positive[t]=Sn.max(n.errorTotals.positive[t]||0,s)),{low:i,high:s}},addValue:function(t,n){var r,i,s=this,o=n.categoryIx,u=n.series,a=n.seriesIx,f=s.categoryPoints[o];f||(s.categoryPoints[o]=f=[]),r=s.seriesPoints[a],r||(s.seriesPoints[a]=r=[]),i=s.createPoint(t,n),i&&(e.extend(i,n),i.owner=s,i.dataItem=u.data[o],i.noteText=t.fields.noteText,s.addErrorBar(i,t,o)),s.points.push(i),r.push(i),f.push(i),s.updateRange(t.valueFields,n)},evalPointOptions:function(e,t,n,r,i,s){var o={defaults:i._defaults,excluded:["data","aggregate","_events","tooltip","template","visual","toggle"]},u=this._evalSeries[s];return lr(u)||(this._evalSeries[s]=u=_(e,{},o,!0)),u&&(e=Mn({},e),_(e,{value:t,category:n,index:r,series:i,dataItem:i.data[r]},o)),e},updateRange:function(e,t){var n=this,r=t.series.axis,i=e.value,s=n.valueAxisRanges[r];isFinite(i)&&null!==i&&(s=n.valueAxisRanges[r]=s||{min:Bi,max:Fi},s.min=Sn.min(s.min,i),s.max=Sn.max(s.max,i))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,r=n?t.namedValueAxes[n]:t.valueAxis;if(!r)throw Error("Unable to locate value axis with name "+n);return r},reflow:function(e){var t,n,r,i=this,s=0,o=i.categorySlots=[],u=i.points,a=i.categoryAxis;i.traverseDataPoints(function(e,f){var l,c,h,p,d=f.categoryIx,v=f.series;t=i.pointValue(e),n=i.seriesValueAxis(v),r=u[s++],l=o[d],l||(o[d]=l=i.categorySlot(a,d,n)),r&&(c=i.plotRange(r,n.startValue()),h=n.getSlot(c[0],c[1],!i.options.clip),h?(p=i.pointSlot(l,h),r.aboveAxis=i.aboveAxis(r,n),i.options.isStacked100&&(r.percentage=i.plotValue(r)),i.reflowPoint(r,p)):r.visible=!1)}),i.reflowCategories(o),i.box=e},aboveAxis:function(e,t){var n=this.categoryAxisCrossingValue(t),r=e.value;return t.options.reverse?n>r:r>=n},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue);return r[t.axisIndex||0]||0},reflowPoint:function(e,t){e.reflow(t)},reflowCategories:function(){},pointSlot:function(e,t){var n=this,r=n.options,i=r.invertAxes,s=i?t:e,o=i?e:t;return new Fn(s.x1,o.y1,s.x2,o.y2)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,n,r,i,s,o=this,u=o.options,a=u.series,l=o.categoryAxis.options.categories||[],c=f(a),h=a.length;for(t=0;c>t;t++)for(n=0;h>n;n++)s=a[n],i=l[t],r=this._bindPoint(s,n,t),e(r,{category:i,categoryIx:t,series:s,seriesIx:n})},_bindPoint:function(e,t,n){var r,i;return this._bindCache||(this._bindCache=[]),r=this._bindCache[t],r||(r=this._bindCache[t]=[]),i=r[n],i||(i=r[n]=K.current.bindPoint(e,n)),i},formatPointValue:function(e,t){return null===e.value?"":tr(t,e.value)},pointValue:function(e){return e.valueFields.value}}),ht=ct.extend({options:{animation:{type:Cr}},render:function(){var e=this;ct.fn.render.apply(e),e.updateStackRange()},pointType:function(){return ut},clusterType:function(){return rt},stackType:function(){return it},stackLimits:function(e,t){var n=ct.fn.stackLimits.call(this,e,t);return n},createPoint:function(e,t){var n,r,i,s,o=this,u=t.categoryIx,a=t.category,f=t.series,l=t.seriesIx,c=o.pointValue(e),h=o.options,p=o.children,d=o.options.isStacked,v=o.pointType(),m=o.clusterType(),g=this.pointOptions(f,l),y=g.labels;return d&&y.position==es&&(y.position=Ti),g.isStacked=d,i=e.fields.color||f.color,0>c&&g.negativeColor&&(i=g.negativeColor),g=o.evalPointOptions(g,c,a,u,f,l),Cn.isFunction(f.color)&&(i=g.color),n=new v(c,g),n.color=i,r=p[u],r||(r=new m({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing}),o.append(r)),d?(s=o.getStackWrap(f,r),s.append(n)):r.append(n),n},getStackWrap:function(e,t){var n,r,i,s=e.stack,o=s?s.group||s:s,u=t.children;if(typeof o===Ts){for(r=0;u.length>r;r++)if(u[r]._stackGroup===o){n=u[r];break}}else n=u[0];return n||(i=this.stackType(),n=new i({vertical:!this.options.invertAxes}),n._stackGroup=o,t.append(n)),n},categorySlot:function(e,t,n){var r,i,s=this,o=s.options,u=e.getSlot(t),a=n.startValue();return o.isStacked&&(i=n.getSlot(a,a,!0),r=o.invertAxes?Js:Ks,u[r+1]=u[r+2]=i[r+1]),u},reflowCategories:function(e){var t,n=this,r=n.children,i=r.length;for(t=0;i>t;t++)r[t].reflow(e[t])},createAnimation:function(){this._setAnimationOptions(),qn.fn.createAnimation.call(this),W(this.options.series)&&this._setChildrenAnimation()},_setChildrenAnimation:function(){var e,t,n,r=this.points;for(n=0;r.length>n;n++)e=r[n],t=e.visual,t&&lr(t.options.zIndex)&&(e.options.animation=this.options.animation,e.createAnimation())},_setAnimationOptions:function(){var e,t,n=this.options,r=n.animation||{};this.options.isStacked?(t=this.seriesValueAxis(n.series[0]),e=t.getSlot(t.startValue())):e=this.categoryAxis.getSlot(0),r.origin=new yr.Point(e.x1,e.y1),r.vertical=!n.invertAxes}}),pt=ut.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var e=this.options.labels,t=Mn({},e,e.from),n=Mn({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},_createLabel:function(e){var t,n;return e.template?(n=Pn(e.template),t=n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):t=this.formatValue(e.format),new Q(t,Mn({vertical:this.options.vertical},e))},reflow:function(e){this.render();var t=this,n=t.labelFrom,r=t.labelTo;t.box=e,n&&(n.options.aboveAxis=t.value.from>t.value.to,n.reflow(e)),r&&(r.options.aboveAxis=t.value.to>t.value.from,r.reflow(e)),t.note&&t.note.reflow(e)}}),dt=ht.extend({pointType:function(){return pt},pointValue:function(e){return e.valueFields},formatPointValue:function(e,t){return null===e.value.from&&null===e.value.to?"":tr(t,e.value.from,e.value.to)},plotLimits:ct.fn.plotLimits,plotRange:function(e){return e?[e.value.from,e.value.to]:0},updateRange:function(e,t){var n=this,r=t.series.axis,i=e.from,s=e.to,o=n.valueAxisRanges[r];null!==e&&L(i)&&L(s)&&(o=n.valueAxisRanges[r]=o||{min:Bi,max:Fi},o.min=Sn.min(o.min,i),o.max=Sn.max(o.max,i),o.min=Sn.min(o.min,s),o.max=Sn.max(o.max,s))},aboveAxis:function(e){var t=e.value;return t.to>t.from}}),vt=ct.extend({init:function(e,t){var n=this;n.wrapData(t),ct.fn.init.call(n,e,t)},options:{animation:{type:Cr}},wrapData:function(e){var t,n,r,i=e.series;for(t=0;i.length>t;t++)r=i[t],n=r.data,n&&!bn(n[0])&&typeof n[0]!=Yi&&(r.data=[n])},reflowCategories:function(e){var t,n=this,r=n.children,i=r.length;for(t=0;i>t;t++)r[t].reflow(e[t])},plotRange:function(e){var t=e.series,n=this.seriesValueAxis(t),r=this.categoryAxisCrossingValue(n);return[r,e.value.current||r]},createPoint:function(e,t){var n,r,i=this,s=t.categoryIx,o=t.category,u=t.series,a=t.seriesIx,f=e.valueFields,l=i.options,c=i.children,h=Mn({vertical:!l.invertAxes,overlay:u.overlay,categoryIx:s,invertAxes:l.invertAxes},u),p=e.fields.color||u.color;return h=i.evalPointOptions(h,f,o,s,u,a),Cn.isFunction(u.color)&&(p=h.color),n=new mt(f,h),n.color=p,r=c[s],r||(r=new rt({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),i.append(r)),r.append(n),n},updateRange:function(e,t){var n=this,r=t.series.axis,i=e.current,s=e.target,o=n.valueAxisRanges[r];lr(i)&&!isNaN(i)&&lr(s&&!isNaN(s))&&(o=n.valueAxisRanges[r]=o||{min:Bi,max:Fi},o.min=Sn.min.apply(Sn,[o.min,i,s]),o.max=Sn.max.apply(Sn,[o.max,i,s]))},formatPointValue:function(e,t){return tr(t,e.value.current,e.value.target)},pointValue:function(e){return e.valueFields.current},aboveAxis:function(e){var t=e.value.current;return t>0},createAnimation:function(){var e,t,n=this.points;for(this._setAnimationOptions(),t=0;n.length>t;t++)e=n[t],e.options.animation=this.options.animation,e.createAnimation()},_setAnimationOptions:ht.fn._setAnimationOptions}),mt=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.aboveAxis=n.options.aboveAxis,n.color=t.color||$s,n.value=e},options:{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var e=this,t=e.options;e._rendered||(e._rendered=!0,lr(e.value.target)&&(e.target=new gt({type:t.target.shape,background:t.target.color||e.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:Hs,align:as}),e.append(e.target)),e.createNote())},reflow:function(e){this.render();var t,n=this,r=n.options,i=n.owner,s=n.target,o=r.invertAxes,u=i.seriesValueAxis(n.options),a=i.categorySlot(i.categoryAxis,r.categoryIx,u),f=u.getSlot(n.value.target),l=o?f:a,c=o?a:f;s&&(t=new Fn(l.x1,c.y1,l.x2,c.y2),s.options.height=o?t.height():r.target.line.width,s.options.width=o?r.target.line.width:t.width(),s.reflow(t)),n.note&&n.note.reflow(e),n.box=e},createVisual:function(){var e,t;qn.fn.createVisual.call(this),e=this.options,t=br.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null}),e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:gr(e.border.opacity,e.opacity)}),this.bodyVisual=t,er(t),this.visual.append(t)},createAnimation:function(){this.bodyVisual&&(this.animation=br.Animation.create(this.bodyVisual,this.options.animation))},tooltipAnchor:function(e,t){var n,r,i,s,o=this,u=o.options,a=o.box,f=u.vertical,l=o.aboveAxis,c=o.owner.pane.clipBox()||a;return f?(n=a.x2+js,r=l?Sn.max(a.y1,c.y1):Sn.min(a.y2,c.y2)-t):(i=Sn.max(a.x1,c.x1),s=Sn.min(a.x2,c.x2),u.isStacked?(n=l?s-e:i,r=a.y1-t-js):(n=l?s+js:i-e-js,r=a.y1)),new $n(n,r)},createHighlight:function(e){return br.Path.fromRect(this.box.toRect(),e)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(mt.fn,st),Mn(mt.fn,ot),gt=Qn.extend(),Mn(gt.fn,st),yt=qn.extend({init:function(e,t,n,r,i,s){var o=this;o.low=e,o.high=t,o.isVertical=n,o.chart=r,o.series=i,qn.fn.init.call(o,s)},options:{animation:{type:di,delay:Si},endCaps:!0,line:{width:1},zIndex:1},getAxis:function(){},reflow:function(e){var t,n=this,r=n.options.endCaps,i=n.isVertical,s=n.getAxis(),o=s.getSlot(n.low,n.high),u=e.center(),a=n.getCapsWidth(e,i),f=i?u.x:u.y,l=f-a,c=f+a;i?(t=[$n(u.x,o.y1),$n(u.x,o.y2)],r&&t.push($n(l,o.y1),$n(c,o.y1),$n(l,o.y2),$n(c,o.y2)),n.box=Fn(l,o.y1,c,o.y2)):(t=[$n(o.x1,u.y),$n(o.x2,u.y)],r&&t.push($n(o.x1,l),$n(o.x1,c),$n(o.x2,l),$n(o.x2,c)),n.box=Fn(o.x1,l,o.x2,c)),n.linePoints=t},getCapsWidth:function(e,t){var n=t?e.width():e.height(),r=Sn.min(Sn.floor(n/2),ni)||ni;return r},createVisual:function(){var e=this,t=e.options,n=t.visual;n?e.visual=n({low:e.low,high:e.high,rect:e.box.toRect(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):e.createDefaultVisual()},createDefaultVisual:function(){var e,t,n=this,r=n.options,i={stroke:{color:r.color,width:r.line.width,dashType:r.line.dashType}},s=n.linePoints;for(qn.fn.createVisual.call(this),e=0;s.length>e;e+=2)t=(new br.Path(i)).moveTo(s[e].x,s[e].y).lineTo(s[e+1].x,s[e+1].y),this.visual.append(t)}}),bt=yt.extend({getAxis:function(){var e=this,t=e.chart,n=e.series,r=t.seriesValueAxis(n);return r}}),wt=yt.extend({getAxis:function(){var e=this,t=e.chart,n=e.series,r=t.seriesAxes(n),i=e.isVertical?r.y:r.x;return i}}),Et=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n),n.value=e,n.options=t,n.aboveAxis=gr(n.options.aboveAxis,!0),n.tooltipTracking=!0},defaults:{vertical:!0,markers:{visible:!0,background:$s,size:Mi,type:qr,border:{width:2},opacity:1},labels:{visible:!1,position:Er,margin:rr(3),padding:rr(4),animation:{type:di,delay:Si}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var e,t=this,n=t.options,r=n.markers,i=n.labels,s=t.value;t._rendered||(t._rendered=!0,r.visible&&r.size&&(t.marker=t.createMarker(),t.append(t.marker)),i.visible&&(i.template?(e=Pn(i.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,percentage:t.percentage,series:t.series})):i.format&&(s=t.formatValue(i.format)),t.label=new Yn(s,Mn({align:Fr,vAlign:Fr,margin:{left:5,right:5},zIndex:gr(i.zIndex,this.series.zIndex)},i)),t.append(t.label)),t.createNote(),t.errorBar&&t.append(t.errorBar))},markerBorder:function(){var e=this.options.markers,t=e.background,n=Mn({color:this.color},e.border);return lr(n.color)||(n.color=(new Rn(t)).brightness(Lr).toHex()),n},createVisual:xn,createMarker:function(){var e=this.options.markers,t=new Qn({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:gr(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return t},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(e){var t,n,r,i,s=this,o=s.options,u=o.vertical,a=s.aboveAxis;if(s.render(),s.box=e,t=e.clone(),u?a?t.y1-=t.height():t.y2+=t.height():a?t.x1+=t.width():t.x2-=t.width(),s._childBox=t,s.marker&&s.marker.reflow(t),s.reflowLabel(t),s.errorBars)for(r=0;s.errorBars.length>r;r++)s.errorBars[r].reflow(t);s.note&&(i=s.markerBox(),s.marker||(n=i.center(),i=Fn(n.x,n.y,n.x,n.y)),s.note.reflow(i))},reflowLabel:function(e){var t=this,n=t.options,r=t.label,i=n.labels.position;r&&(i=i===Er?Hs:i,i=i===Ar?_r:i,r.reflow(e),r.box.alignTo(t.markerBox(),i),r.reflow(r.box))},createHighlight:function(){var e=this.options.highlight,t=e.markers,n=this.markerBorder().color,r=this.options.markers,i=new Qn({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:t.color||n,border:{color:t.border.color,width:t.border.width,opacity:gr(t.border.opacity,1)},opacity:gr(t.opacity,1)});return i.reflow(this._childBox),i.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var e,t,n,r,i,s=this.marker;return s?(t=s.paddingBox.toRect(),e=s.visual):(n=this.options.markers.size,r=n/2,i=this.box.center(),t=new yr.Rect([i.x-r,i.y-r],[n,n])),{options:this.options,rect:t,visual:e}},tooltipAnchor:function(e,n){var r=this,i=r.markerBox(),s=r.aboveAxis,o=i.x2+js,u=s?i.y1-n:i.y2,a=r.owner.pane.clipBox(),f=!a||a.overlaps(i);return f?$n(o,u):t},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(Et.fn,st),Mn(Et.fn,ot),St=Et.extend({init:function(e,t){var n=this;Et.fn.init.call(n,e,t),n.category=e.category},defaults:{labels:{position:Fr},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function(){var e=this.options.highlight,t=e.border,n=this.options.markers,r=this.box.center(),i=n.size/2-t.width/2,s=new br.Circle(new yr.Circle([r.x,r.y],i),{stroke:{color:t.color||(new Rn(n.background)).brightness(Lr).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return s}}),xt=qn.extend({init:function(e,t,n){var r=this;qn.fn.init.call(r),r.linePoints=e,r.series=t,r.seriesIx=n},options:{closed:!1},points:function(e){var t,n,r=this,i=r.linePoints.concat(e||[]),s=[];for(t=0,n=i.length;n>t;t++)i[t].visible!==!1&&s.push(i[t]._childBox.toRect().center());return s},createVisual:function(){var e,t=this.options,n=this.series,r=n._defaults,i=n.color;Dn(i)&&r&&(i=r.color),e=br.Path.fromPoints(this.points(),{stroke:{color:i,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex}),t.closed&&e.close(),this.visual=e},aliasFor:function(e,t){var n=this,r=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,r)}}),Tt={renderSegments:function(){var e,t,n,r,i,s,o,u,a=this,f=a.options,l=f.series,c=a.seriesPoints,h=c.length;for(this._segments=[],t=0;h>t;t++){for(e=l[t],n=a.sortPoints(c[t]),o=n.length,r=[],s=0;o>s;s++)i=n[s],i?r.push(i):a.seriesMissingValues(e)!==Ni&&(r.length>1&&(u=a.createSegment(r,e,t,u),this._addSegment(u)),r=[]);r.length>1&&(u=a.createSegment(r,e,t,u),this._addSegment(u))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?Gs:t||Ni},getNearestPoint:function(e,t,n){var r,i,s,o,u,a=new $n(e,t),f=this.seriesPoints[n],l=Bi;for(i=0;f.length>i;i++)s=f[i],s&&lr(s.value)&&null!==s.value&&s.visible!==!1&&(o=s.box,u=o.center().distanceTo(a),l>u&&(r=s,l=u));return r}},Nt={createAnimation:function(){var e,t,n=this.getRoot();n&&(n.options||{}).transitions!==!1&&(e=n.box,t=br.Path.fromRect(e.toRect()),this.visual.clip(t),this.animation=new kt(t,{box:e}),W(this.options.series)&&this._setChildrenAnimation(t))},_setChildrenAnimation:function(e){var t,n,r,i=this.animationPoints();for(r=0;i.length>r;r++)t=i[r],n=t.visual,n&&lr(n.options.zIndex)&&n.clip(e)}},Ct=ct.extend({render:function(){var e=this;ct.fn.render.apply(e),e.updateStackRange(),e.renderSegments()},pointType:function(){return Et},createPoint:function(e,t){var n,r,i,s=this,o=t.categoryIx,u=t.category,a=t.series,f=t.seriesIx,l=e.valueFields.value,c=s.seriesMissingValues(a);if(!lr(l)||null===l){if(c!==Gs)return null;l=0}return r=this.pointOptions(a,f),r=s.evalPointOptions(r,l,u,o,a,f),i=e.fields.color||a.color,Cn.isFunction(a.color)&&(i=r.color),n=new Et(l,r),n.color=i,s.append(n),n},plotRange:function(e){var t,n,r,i,s=this.plotValue(e);if(this.options.isStacked)for(t=e.categoryIx,n=this.categoryPoints[t],r=0;n.length>r&&(i=n[r],e!==i);r++)s+=this.plotValue(i);return[s,s]},createSegment:function(e,t,n){var r,i=t.style;return new(r=i===ws?Lt:i===Es?At:xt)(e,t,n)},animationPoints:function(){var e,t,n,r=this.seriesOptions,i=[];for(n=0;r.length>n;n++)if(r[n].markers.visible)for(e=this.seriesPoints[n],t=0;e.length>t;t++)i.push(e[t].marker);return i.concat(this._segments)}}),Mn(Ct.fn,Tt,Nt),kt=br.Animation.extend({options:{duration:Si},setup:function(){this._setEnd(this.options.box.x1)},step:function(e){var t=this.options.box;this._setEnd(sr(t.x1,t.x2,e))},_setEnd:function(e){var t=this.element,n=t.segments,r=n[1].anchor(),i=n[2].anchor();t.suspend(),r.setX(e),t.resume(),i.setX(e)}}),br.AnimationFactory.current.register(Ur,kt),Lt=xt.extend({points:function(e){var t,n=this;return t=n.calculateStepPoints(n.linePoints),e&&e.length&&(t=t.concat(n.calculateStepPoints(e).reverse())),t},calculateStepPoints:function(e){var t,n,r,i,s,o=this,u=o.parent,a=u.plotArea,f=a.seriesCategoryAxis(o.series),l=u.seriesMissingValues(o.series)===Ni,c=e.length,h=f.options.reverse,p=f.options.vertical,d=h?2:1,v=h?1:2,m=[];for(r=1;c>r;r++)t=e[r-1],n=e[r],i=t.markerBox().center(),s=n.markerBox().center(),f.options.justified?(m.push(new yr.Point(i.x,i.y)),m.push(p?new yr.Point(i.x,s.y):new yr.Point(s.x,i.y)),m.push(new yr.Point(s.x,s.y))):p?(m.push(new yr.Point(i.x,t.box[Ks+d])),m.push(new yr.Point(i.x,t.box[Ks+v])),l&&m.push(new yr.Point(i.x,n.box[Ks+d])),m.push(new yr.Point(s.x,n.box[Ks+d])),m.push(new yr.Point(s.x,n.box[Ks+v]))):(m.push(new yr.Point(t.box[Js+d],i.y)),m.push(new yr.Point(t.box[Js+v],i.y)),l&&m.push(new yr.Point(n.box[Js+d],i.y)),m.push(new yr.Point(n.box[Js+d],s.y)),m.push(new yr.Point(n.box[Js+v],s.y)));return m||[]}}),At=xt.extend({createVisual:function(){var e,t,n,r=this.series,i=r._defaults,s=r.color;Dn(s)&&i&&(s=i.color),e=new Un(this.options.closed),t=e.process(this.points()),n=new br.Path({stroke:{color:s,width:r.width,opacity:r.opacity,dashType:r.dashType},zIndex:r.zIndex}),n.segments.push.apply(n.segments,t),this.visual=n}}),Ot={points:function(){var e,t,n=this,r=n.parent,i=r.plotArea,s=r.options.invertAxes,o=r.seriesValueAxis(n.series),u=o.lineBox(),a=i.seriesCategoryAxis(n.series),f=a.lineBox(),l=s?f.x1:f.y1,c=n.stackPoints,h=n._linePoints(c),p=s?Js:Ks;return l=hr(l,u[p+1],u[p+2]),!n.stackPoints&&h.length>1&&(e=h[0],t=cr(h),s?(h.unshift(new yr.Point(l,e.y)),h.push(new yr.Point(l,t.y))):(h.unshift(new yr.Point(e.x,l)),h.push(new yr.Point(t.x,l)))),h},createVisual:function(){var e=this.series,t=e._defaults,n=e.color;Dn(n)&&t&&(n=t.color),this.visual=new br.Group({zIndex:e.zIndex}),this.createArea(n),this.createLine(n)},createLine:function(e){var t,n=this.series,r=Mn({color:e,opacity:n.opacity},n.line);r.visible!==!1&&r.width>0&&(t=br.Path.fromPoints(this._linePoints(),{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType,lineCap:"butt"}}),this.visual.append(t))},createArea:function(e){var t=this.series,n=br.Path.fromPoints(this.points(),{fill:{color:e,opacity:t.opacity},stroke:null});this.visual.append(n)}},Mt=xt.extend({init:function(e,t,n,r){var i=this;i.stackPoints=t,xt.fn.init.call(i,e,n,r)},_linePoints:xt.fn.points}),Mn(Mt.fn,Ot),_t=Ct.extend({createSegment:function(e,t,n,r){var i,s,o,u=this,a=u.options,f=a.isStacked,l=(t.line||{}).style;return f&&n>0&&r&&(o=this.seriesMissingValues(t),i="gap"!=o?r.linePoints:this._gapStackPoints(e,n,l),l!==ws&&(i=i.slice(0).reverse())),l===Es?new Dt(e,r,f,t,n):new(s=l===ws?Pt:Mt)(e,i,t,n)},reflow:function(e){var t,n,r,i;if(Ct.fn.reflow.call(this,e),t=this._stackPoints)for(i=0;t.length>i;i++)n=t[i],r=this.categoryAxis.getSlot(n.categoryIx),n.reflow(r)},_gapStackPoints:function(e,t,n){var r,i,s,o,u=this.seriesPoints,a=e[0].categoryIx,f=a+e.length,l=[];for(this._stackPoints=this._stackPoints||[],o=a;f>o;o++){r=t;do r--,i=u[r][o];while(r>0&&!i);i?(n!==ws&&o>a&&!u[r][o-1]&&l.push(this._previousSegmentPoint(o,o-1,r)),l.push(i),n!==ws&&f>o+1&&!u[r][o+1]&&l.push(this._previousSegmentPoint(o,o+1,r))):(s=this._createGapStackPoint(o),this._stackPoints.push(s),l.push(s))}return l},_previousSegmentPoint:function(e,t,n){for(var r,i=this.seriesPoints;n>0&&!r;)n--,r=i[n][t];return r?r=i[n][e]:(r=this._createGapStackPoint(e),this._stackPoints.push(r)),r},_createGapStackPoint:function(e){var t=this.pointOptions({},0),n=new Et(0,t);return n.categoryIx=e,n.series={},n},seriesMissingValues:function(e){return e.missingValues||Gs}}),Dt=Mt.extend({init:function(e,t,n,r,i){var s=this;s.prevSegment=t,s.isStacked=n,xt.fn.init.call(s,e,r,i)},strokeSegments:function(){var e,t,n=this._strokeSegments;return n||(e=new Un(this.options.closed),t=xt.fn.points.call(this),n=this._strokeSegments=e.process(t)),n},createVisual:function(){var e=this.series,t=e._defaults,n=e.color;Dn(n)&&t&&(n=t.color),this.visual=new br.Group({zIndex:e.zIndex}),this.createFill({fill:{color:n,opacity:e.opacity},stroke:null}),this.createStroke({stroke:Mn({color:n,opacity:e.opacity,lineCap:"butt"},e.line)})},createFill:function(t){var n,r,i,s,o,u=this.strokeSegments(),a=u.slice(0),f=this.prevSegment;this.isStacked&&f&&(n=f.strokeSegments(),r=cr(n).anchor(),a.push(new br.Segment(r,r,cr(u).anchor())),i=e.map(n,function(e){return new br.Segment(e.anchor(),e.controlOut(),e.controlIn())}).reverse(),fr(a,i),s=a[0].anchor(),a.push(new br.Segment(s,s,cr(i).anchor()))),o=new br.Path(t),o.segments.push.apply(o.segments,a),this.closeFill(o),this.visual.append(o)},closeFill:function(e){var t=this,n=t.parent,r=t.prevSegment,i=n.plotArea,s=n.options.invertAxes,o=n.seriesValueAxis(t.series),u=o.lineBox(),a=i.seriesCategoryAxis(t.series),f=a.lineBox(),l=s?f.x1:f.y1,c=s?Js:Ks,h=t.strokeSegments(),p=h[0].anchor(),d=cr(h).anchor();l=hr(l,u[c+1],u[c+2]),n.options.isStacked&&r||!(h.length>1)||(s?e.lineTo(l,d.y).lineTo(l,p.y):e.lineTo(d.x,l).lineTo(p.x,l))},createStroke:function(e){if(e.stroke.width>0){var t=new br.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}}}),Pt=Lt.extend({init:function(e,t,n,r){var i=this;i.stackPoints=t,Lt.fn.init.call(i,e,n,r)},_linePoints:Lt.fn.points}),Mn(Pt.fn,Ot),Ht=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function(){var e=this;e.traverseDataPoints(Nn(e.addValue,e))},addErrorBar:function(e,t,n){var r,i=this,s=e.value[t],o=t+"Value",u=t+"ErrorLow",a=t+"ErrorHigh",f=n.seriesIx,l=n.series,c=e.options.errorBars,h=n[u],p=n[a];L(s)&&(L(h)&&L(p)&&(r={low:h,high:p}),c&&lr(c[o])&&(i.seriesErrorRanges=i.seriesErrorRanges||{x:[],y:[]},i.seriesErrorRanges[t][f]=i.seriesErrorRanges[t][f]||new lt(c[o],l,t),r=i.seriesErrorRanges[t][f].getErrorRange(s,c[o])),r&&i.addPointErrorBar(r,e,t))},addPointErrorBar:function(e,t,n){var r,i=this,s=e.low,o=e.high,u=t.series,a=n===Ks,f=t.options.errorBars,l={};t[n+"Low"]=s,t[n+"High"]=o,t.errorBars=t.errorBars||[],r=new wt(s,o,a,i,u,f),t.errorBars.push(r),t.append(r),l[n]=s,i.updateRange(l,u),l[n]=o,i.updateRange(l,u)},addValue:function(e,t){var n,r=this,i=e.x,s=e.y,o=t.seriesIx,u=this.options.series[o],a=this.seriesMissingValues(u),f=r.seriesPoints[o];$(i)&&$(s)||(e=this.createMissingValue(e,a)),e&&(n=r.createPoint(e,t),n&&(Tn(n,t),r.addErrorBar(n,Js,t),r.addErrorBar(n,Ks,t)),r.updateRange(e,t.series)),r.points.push(n),f.push(n)},seriesMissingValues:function(e){return e.missingValues},createMissingValue:xn,updateRange:function(e,t){var n=this,r=e.x,i=e.y,s=t.xAxis,o=t.yAxis,u=n.xAxisRanges[s],a=n.yAxisRanges[o];$(r)&&(u=n.xAxisRanges[s]=u||{min:Bi,max:Fi},typeof r===Ts&&(r=p(r)),u.min=Sn.min(u.min,r),u.max=Sn.max(u.max,r)),$(i)&&(a=n.yAxisRanges[o]=a||{min:Bi,max:Fi},typeof i===Ts&&(i=p(i)),a.min=Sn.min(a.min,i),a.max=Sn.max(a.max,i))},evalPointOptions:function(e,t,n){var r=n.series,i=n.seriesIx,s={defaults:r._defaults,excluded:["data","tooltip","tempate","visual","toggle"]},o=this._evalSeries[i];return lr(o)||(this._evalSeries[i]=o=_(e,{},s,!0)),o&&(e=Mn({},e),_(e,{value:t,series:r,dataItem:n.dataItem},s)),e},pointType:function(){return Et},pointOptions:function(e,t){var n,r=this.seriesOptions[t];return r||(n=this.pointType().fn.defaults,this.seriesOptions[t]=r=Mn({},n,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)),r},createPoint:function(e,t){var n,r=this,i=t.series,s=this.pointOptions(i,t.seriesIx),o=t.color||i.color;return s=r.evalPointOptions(s,e,t),Cn.isFunction(i.color)&&(o=s.color),n=new Et(e,s),n.color=o,r.append(n),n},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,r=n?t.namedXAxes[n]:t.axisX,i=e.yAxis,s=i?t.namedYAxes[i]:t.axisY;if(!r)throw Error("Unable to locate X axis with name "+n);if(!s)throw Error("Unable to locate Y axis with name "+i);return{x:r,y:s}},reflow:function(e){var t,n,r=this,i=r.points,s=0,o=!r.options.clip;r.traverseDataPoints(function(e,u){t=i[s++],n=r.seriesAxes(u.series);var a,f=n.x.getSlot(e.x,e.x,o),l=n.y.getSlot(e.y,e.y,o);t&&(f&&l?(a=r.pointSlot(f,l),t.reflow(a)):t.visible=!1)}),r.box=e},pointSlot:function(e,t){return new Fn(e.x1,t.y1,e.x2,t.y2)},traverseDataPoints:function(e){var t,n,r,i,s,o,u,a=this,f=a.options,l=f.series,c=a.seriesPoints;for(n=0;l.length>n;n++)for(r=l[n],i=c[n],i||(c[n]=[]),t=0;r.data.length>t;t++)s=this._bindPoint(r,n,t),o=s.valueFields,u=s.fields,e(o,Mn({pointIx:t,series:r,seriesIx:n,dataItem:r.data[t],owner:a},u))},_bindPoint:ct.fn._bindPoint,formatPointValue:function(e,t){var n=e.value;return tr(t,n.x,n.y)},animationPoints:function(){var e,t=this.points,n=[];for(e=0;t.length>e;e++)t[e].marker&&n.push(t[e].marker);return n}}),Mn(Ht.fn,Nt),Bt=Ht.extend({render:function(){var e=this;Ht.fn.render.call(e),e.renderSegments()},createSegment:function(e,t,n){var r,i=t.style;return new(r=i===Es?At:xt)(e,t,n)},animationPoints:function(){var e=Ht.fn.animationPoints.call(this);return e.concat(this._segments)},createMissingValue:function(e,t){if(t===Gs){var n={x:e.x,y:e.y};return $(n.x)||(n.x=0),$(n.y)||(n.y=0),n}}}),Mn(Bt.fn,Tt),jt=Ht.extend({init:function(e,t){this._maxSize=Fi,Ht.fn.init.call(this,e,t)},options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){(null!==e.size&&e.size>=0||t.series.negativeValues.visible)&&(this._maxSize=Sn.max(this._maxSize,Sn.abs(e.size)),Ht.fn.addValue.call(this,e,t))},reflow:function(e){var t=this;t.updateBubblesSize(e),Ht.fn.reflow.call(t,e)},pointType:function(){return St},createPoint:function(e,t){var n,r,i=this,s=t.series,o=s.data.length,u=t.pointIx*(Si/o),a={delay:u,duration:Si-u,type:Pr},f=t.color||s.color;return 0>e.size&&s.negativeValues.visible&&(f=gr(s.negativeValues.color,f)),r=Mn({labels:{animation:{delay:u,duration:Si-u}}},this.pointOptions(s,t.seriesIx),{markers:{type:qr,border:s.border,opacity:s.opacity,animation:a}}),r=i.evalPointOptions(r,e,t),Cn.isFunction(s.color)&&(f=r.color),r.markers.background=f,n=new St(e,r),n.color=f,i.append(n),n},updateBubblesSize:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y=this,b=y.options,w=b.series,E=Sn.min(e.width(),e.height());for(t=0;w.length>t;t++)for(r=w[t],i=y.seriesPoints[t],s=r.minSize||Sn.max(.02*E,10),o=r.maxSize||.2*E,u=s/2,a=o/2,f=Sn.PI*u*u,l=Sn.PI*a*a,c=l-f,h=c/y._maxSize,n=0;i.length>n;n++)p=i[n],d=Sn.abs(p.value.size)*h,v=Sn.sqrt((f+d)/Sn.PI),m=gr(p.options.zIndex,0),g=m+(1-v/a),Mn(p.options,{zIndex:g,markers:{size:2*v,zIndex:g},labels:{zIndex:g+1}})},formatPointValue:function(e,t){var n=e.value;return tr(t,n.x,n.y,n.size,e.category)},createAnimation:xn,createVisual:xn}),Ft=qn.extend({init:function(e,t){qn.fn.init.call(this,t),this.value=e},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:yi},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(e){var t,n,r,i=this,s=i.options,o=i.owner,u=i.value,a=o.seriesValueAxis(s),f=[];n=a.getSlot(u.open,u.close),r=a.getSlot(u.low,u.high),n.x1=r.x1=e.x1,n.x2=r.x2=e.x2,i.realBody=n,t=r.center().x,f.push([[t,r.y1],[t,n.y1]]),f.push([[t,n.y2],[t,r.y2]]),i.lines=f,i.box=r.clone().wrap(n),i._rendered||(i._rendered=!0,i.createNote()),i.reflowNote()},reflowNote:function(){var e=this;e.note&&e.note.reflow(e.box)},createVisual:function(){qn.fn.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},mainVisual:function(e){var t=new br.Group;return this.createBody(t,e),this.createLines(t,e),t},createBody:function(e,t){var n=br.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:gr(t.border.opacity,t.opacity)}),er(n),e.append(n),U(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},Mn({},t.overlay)))},createLines:function(e,t){this.drawLines(e,t,this.lines,t.line)},drawLines:function(e,t,n,r){var i,s,o;if(n)for(i={stroke:{color:r.color||this.color,opacity:gr(r.opacity,t.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},s=0;n.length>s;s++)o=br.Path.fromPoints(n[s],i),er(o),e.append(o)},getBorderColor:function(){var e=this,t=e.options,n=t.border,r=n.color;return lr(r)||(r=(new Rn(e.color)).brightness(n._brightness).toHex()),r},createOverlay:function(){var e=br.Path.fromRect(this.box.toRect(),{fill:{color:$s,opacity:0},stroke:null});this.visual.append(e)},createHighlight:function(){var e,t=this.options.highlight,n=this.color;return this.color=t.color||this.color,e=this.mainVisual(Mn({},this.options,{line:{color:this.getBorderColor()}},t)),this.color=n,e},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var e=this,t=e.box,n=e.owner.pane.clipBox()||t;return new $n(t.x2+js,Sn.max(t.y1,n.y1)+js)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(Ft.fn,st),Mn(Ft.fn,ot),It=ct.extend({options:{},reflowCategories:function(e){var t,n=this,r=n.children,i=r.length;for(t=0;i>t;t++)r[t].reflow(e[t])},addValue:function(e,t){var n,r,i=this,s=t.categoryIx,o=t.category,u=t.series,a=t.seriesIx,f=i.options,l=e.valueFields,c=i.children,h=i.splitValue(l),p=O(h),d=i.categoryPoints[s],v=u.data[s];d||(i.categoryPoints[s]=d=[]),p&&(n=i.createPoint(e,t)),r=c[s],r||(r=new rt({vertical:f.invertAxes,gap:f.gap,spacing:f.spacing}),i.append(r)),n&&(i.updateRange(l,t),r.append(n),n.categoryIx=s,n.category=o,n.series=u,n.seriesIx=a,n.owner=i,n.dataItem=v,n.noteText=e.fields.noteText),i.points.push(n),d.push(n)},pointType:function(){return Ft},createPoint:function(e,t){var n,r=this,i=t.categoryIx,s=t.category,o=t.series,u=t.seriesIx,a=e.valueFields,f=Mn({},o),l=r.pointType(),c=e.fields.color||o.color;return f=r.evalPointOptions(f,a,s,i,o,u),o.type==Br&&a.open>a.close&&(c=e.fields.downColor||o.downColor||o.color),Cn.isFunction(o.color)&&(c=f.color),n=new l(a,f),n.color=c,n},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t){var n=this,r=t.series.axis,i=n.valueAxisRanges[r],s=n.splitValue(e);i=n.valueAxisRanges[r]=i||{min:Bi,max:Fi},i=n.valueAxisRanges[r]={min:Sn.min.apply(Sn,s.concat([i.min])),max:Sn.max.apply(Sn,s.concat([i.max]))}},formatPointValue:function(e,t){var n=e.value;return tr(t,n.open,n.high,n.low,n.close,e.category)},animationPoints:function(){return this.points}}),Mn(It.fn,Nt),qt=Ft.extend({reflow:function(e){var t,n,r,i,s=this,o=s.options,u=s.owner,a=s.value,f=u.seriesValueAxis(o),l=[],c=[],h=[];i=f.getSlot(a.low,a.high),n=f.getSlot(a.open,a.open),r=f.getSlot(a.close,a.close),n.x1=r.x1=i.x1=e.x1,n.x2=r.x2=i.x2=e.x2,t=i.center().x,l.push([n.x1,n.y1]),l.push([t,n.y1]),c.push([t,r.y1]),c.push([r.x2,r.y1]),h.push([t,i.y1]),h.push([t,i.y2]),s.lines=[l,c,h],s.box=i.clone().wrap(n.clone().wrap(r)),s.reflowNote()},createBody:e.noop}),Rt=It.extend({pointType:function(){return qt}}),Ut=It.extend({addValue:function(e,t){var n,r,i=this,s=t.categoryIx,o=t.category,u=t.series,a=t.seriesIx,f=i.options,l=i.children,c=e.valueFields,h=i.splitValue(c),p=O(h),d=i.categoryPoints[s],v=u.data[s];d||(i.categoryPoints[s]=d=[]),p&&(n=i.createPoint(e,t)),r=l[s],r||(r=new rt({vertical:f.invertAxes,gap:f.gap,spacing:f.spacing}),i.append(r)),n&&(i.updateRange(c,t),r.append(n),n.categoryIx=s,n.category=o,n.series=u,n.seriesIx=a,n.owner=i,n.dataItem=v),i.points.push(n),d.push(n)},pointType:function(){return zt},splitValue:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},updateRange:function(e,t){var n=this,r=t.series.axis,i=n.valueAxisRanges[r],s=n.splitValue(e).concat(n.filterOutliers(e.outliers));lr(e.mean)&&(s=s.concat(e.mean)),i=n.valueAxisRanges[r]=i||{min:Bi,max:Fi},i=n.valueAxisRanges[r]={min:Sn.min.apply(Sn,s.concat([i.min])),max:Sn.max.apply(Sn,s.concat([i.max]))}},formatPointValue:function(e,t){var n=e.value;return tr(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},filterOutliers:function(e){var t,n,r=(e||[]).length,i=[];for(t=0;r>t;t++)n=e[t],lr(n)&&C(i,n);return i}}),zt=Ft.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.value=e,n.createNote()},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:yi},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:Mi,type:Vr,background:$s,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:Mi,type:qr,background:$s,border:{width:2,opacity:1},opacity:0}},reflow:function(e){var t,n,r,i,s,o=this,u=o.options,a=o.owner,f=o.value,l=a.seriesValueAxis(u);r=l.getSlot(f.q1,f.q3),o.boxSlot=r,n=l.getSlot(f.lower,f.upper),i=l.getSlot(f.median),r.x1=n.x1=e.x1,r.x2=n.x2=e.x2,o.realBody=r,f.mean&&(s=l.getSlot(f.mean),o.meanPoints=[[[e.x1,s.y1],[e.x2,s.y1]]]),t=n.center().x,o.whiskerPoints=[[[t-5,n.y1],[t+5,n.y1],[t,n.y1],[t,r.y1]],[[t-5,n.y2],[t+5,n.y2],[t,n.y2],[t,r.y2]]],o.medianPoints=[[[e.x1,i.y1],[e.x2,i.y1]]],o.box=n.clone().wrap(r),o.reflowNote()},renderOutliers:function(e){var t,n,r,i,s=this,o=e.markers||{},u=s.value,a=u.outliers||[],f=(s.owner.seriesValueAxis(e),3*Sn.abs(u.q3-u.q1)),l=[];for(i=0;a.length>i;i++)r=a[i],o=u.q3+f>r&&r>u.q1-f?e.outliers:e.extremes,t=Mn({},o.border),lr(t.color)||(t.color=lr(s.color)?s.color:(new Rn(o.background)).brightness(Lr).toHex()),n=new Qn({type:o.type,width:o.size,height:o.size,rotation:o.rotation,background:o.background,border:t,opacity:o.opacity}),n.value=r,l.push(n);return this.reflowOutliers(l),l},reflowOutliers:function(e){var t,n,r,i=this.owner.seriesValueAxis(this.options),s=this.box.center().x;for(t=0;e.length>t;t++)n=e[t].value,r=i.getSlot(n).move(s),this.box=this.box.wrap(r),e[t].reflow(r)},mainVisual:function(e){var t,n,r=Ft.fn.mainVisual.call(this,e),i=this.renderOutliers(e);for(t=0;i.length>t;t++)n=i[t].getElement(),n&&r.append(n);return r},createLines:function(e,t){this.drawLines(e,t,this.whiskerPoints,t.line),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)},getBorderColor:function(){return this.color?this.color:Ft.getBorderColor.call(this)}}),Mn(zt.fn,st),Wt=qn.extend({init:function(e,t,n){var r=this;r.value=e,r.sector=t,qn.fn.init.call(r,n)},options:{color:$s,overlay:{gradient:fs},border:{width:.5},labels:{visible:!1,distance:35,font:Yr,margin:rr(.5),align:qr,zIndex:1,position:es},animation:{type:ts},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var e,t=this,n=t.options,r=n.labels,i=t.value;t._rendered||t.visible===!1||(t._rendered=!0,r.template?(e=Pn(r.template),i=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):r.format&&(i=tr(r.format,i)),r.visible&&i&&(t.label=new Yn(i,Mn({},r,{align:Fr,vAlign:"",animation:{type:di,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,n,r,i=this,s=i.sector.clone(),o=i.options,u=i.label,a=o.labels,f=a.distance,l=s.middle();u&&(r=u.box.height(),n=u.box.width(),a.position==Fr?(s.r=Sn.abs((s.r-r)/2)+r,e=s.point(l),u.reflow(Fn(e.x,e.y-r/2,e.x,e.y))):a.position==Ti?(s.r=s.r-r/2,e=s.point(l),u.reflow(Fn(e.x,e.y-r/2,e.x,e.y))):(e=s.clone().expand(f).point(l),e.x>=s.c.x?(t=e.x+n,u.orientation=as):(t=e.x-n,u.orientation=ki),u.reflow(Fn(t,e.y-r,e.x,e.y))))},createVisual:function(){var e,t=this,n=t.sector,r=t.options,i=r.border||{},s=i.width>0?{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType}}:{},o=r.color,u={color:o,opacity:r.opacity};qn.fn.createVisual.call(this),t.value&&(e=t.createSegment(n,Mn({fill:u,stroke:{opacity:r.opacity},zIndex:r.zIndex},s)),this.visual.append(e),U(r)&&this.visual.append(this.createGradientOverlay(e,{baseColor:o,fallbackFill:u},Mn({center:[n.c.x,n.c.y],innerRadius:n.ir,radius:n.r,userSpace:!0},r.overlay))))},createSegment:function(e,t){return t.singleSegment?new br.Circle(new yr.Circle(new yr.Point(e.c.x,e.c.y),e.r),t):Gn.current.createRing(e,t)},createAnimation:function(){var e=this.options,t=this.sector.c;Mn(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),qn.fn.createAnimation.call(this)},createHighlight:function(e){var t=this,n=t.options.highlight||{},r=n.border||{};return t.createSegment(t.sector,Mn({},e,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:r.opacity,width:r.width,color:r.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var e=this.sector;return{options:this.options,radius:e.r,innerRadius:e.ir,center:new yr.Point(e.c.x,e.c.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}},tooltipAnchor:function(e,t){var n=this,r=n.sector.adjacentBox(js,e,t);return new $n(r.x1,r.y1)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(Wt.fn,st),Xt={createLegendItem:function(e,t,n){var r,i,s,o,u,a=this,f=a.options.legend||{},l=f.labels||{},c=f.inactiveItems||{},h=c.labels||{};n&&n.visibleInLegend!==!1&&(u=n.visible!==!1,r=n.category||"",i=u?l.template:h.template||l.template,i&&(r=Pn(i)({text:r,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),u?(o={},s=t.color):(o={color:h.color,font:h.font},s=(c.markers||{}).color),r&&a.legendItems.push({pointIndex:n.index,text:r,series:n.series,markerColor:s,labels:o}))}},Vt=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.plotArea=e,n.points=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var e=this;e.traverseDataPoints(Nn(e.addValue,e))},traverseDataPoints:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d=this,v=d.options,m=d.plotArea.options.seriesColors||[],g=m.length,y=v.series,b=y.length,w=0;for(i=0;b>i;i++){for(t=y[i],o=t.data,c=R(t),u=360/c,h=lr(t.startAngle)?t.startAngle:v.startAngle,i!=b-1&&t.labels.position==es&&(t.labels.position=Fr),p=0;o.length>p;p++)n=K.current.bindPoint(t,p),a=n.valueFields.value,f=Sn.abs(a),r=n.fields,s=f*u,l=1!=o.length&&!!r.explode,Dn(t.color)||(t.color=r.color||m[p%g]),e(a,new Kn(null,0,0,h,s),{owner:d,category:r.category||"",index:w,series:t,seriesIx:i,dataItem:o[p],percentage:0!==c?f/c:0,explode:l,visibleInLegend:r.visibleInLegend,visible:r.visible,zIndex:b-i,animationDelay:d.animationDelay(p,i,b)}),n.fields.visible!==!1&&(h+=s),w++;w=0}},evalSegmentOptions:function(e,t,n){var r=n.series;_(e,{value:t,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","template","visual","toggle"]})},addValue:function(e,t,n){var r,i=this,s=Mn({},n.series,{index:n.index});i.evalSegmentOptions(s,e,n),i.createLegendItem(e,s,n),n.visible!==!1&&(r=new Wt(e,t,s),Tn(r,n),i.append(r),i.points.push(r))},reflow:function(e){var t,n,r,i,s,o,u,a,f=this,l=f.options,c=e.clone(),h=5,p=Sn.min(c.width(),c.height()),d=p/2,v=p-.85*p,m=gr(l.padding,v),g=Fn(c.x1,c.y1,c.x1+p,c.y1+p),y=g.center(),b=f.seriesConfigs||[],w=c.center(),E=f.points,S=E.length,x=l.series.length,T=[],N=[];for(m=m>d-h?d-h:m,g.translate(w.x-y.x,w.y-y.y),o=d-m,a=$n(o+g.x1+m,o+g.y1+m),u=0;S>u;u++)i=E[u],s=i.sector,s.r=o,s.c=a,n=i.seriesIx,b.length&&(t=b[n],s.ir=t.ir,s.r=t.r),n==x-1&&i.explode&&(s.c=s.clone().radius(.15*s.r).point(s.middle())),i.reflow(g),r=i.label,r&&r.options.position===es&&n==x-1&&(r.orientation===as?N.push(r):T.push(r));T.length>0&&(T.sort(f.labelComparator(!0)),f.leftLabelsReflow(T)),N.length>0&&(N.sort(f.labelComparator(!1)),f.rightLabelsReflow(N)),f.box=g},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t,n,r,i=this,s=i.points,o=s[s.length-1],u=o.sector,a=e[0].box,f=e.length-1,l=u.r+o.options.labels.distance,c=[];for(n=ur(a.y1-(u.c.y-l-a.height()-a.height()/2)),c.push(n),r=0;f>r;r++)a=e[r].box,t=e[r+1].box,n=ur(t.y1-a.y2),c.push(n);return n=ur(u.c.y+l-e[f].box.y2-e[f].box.height()/2),c.push(n),c},distributeLabels:function(e,t){var n,r,i,s,o=this,u=e.length;for(s=0;u>s;s++)for(r=i=s,n=-e[s];n>0&&(r>=0||u>i);)n=o._takeDistance(e,s,--r,n),n=o._takeDistance(e,s,++i,n);o.reflowLabels(e,t)},_takeDistance:function(e,t,n,r){if(e[n]>0){var i=Sn.min(e[n],r);r-=i,e[n]-=i,e[t]+=i}return r},reflowLabels:function(e,t){var n,r,i,s,o=this,u=o.points,a=u[u.length-1],f=a.sector,l=t.length,c=a.options.labels,h=c.distance,p=f.c.y-(f.r+h)-t[0].box.height();for(e[0]+=2,s=0;l>s;s++)n=t[s],p+=e[s],i=n.box,r=o.hAlignLabel(i.x2,f.clone().expand(h),p,p+i.height(),n.orientation==as),n.orientation==as?(c.align!==qr&&(r=f.r+f.c.x+h),n.reflow(Fn(r+i.width(),p,r,p))):(c.align!==qr&&(r=f.c.x-f.r-h),n.reflow(Fn(r-i.width(),p,r,p))),p+=i.height()},createVisual:function(){var e,t,n,i,s,o,u,a,f,l,c,h,p,d,v=this,m=v.options,g=m.connectors,y=v.points,b=y.length,w=4;for(qn.fn.createVisual.call(this),this._connectorLines=[],u=0;b>u;u++)i=y[u],t=i.sector,n=t.middle(),o=i.label,s={seriesId:i.seriesIx},o&&(e=new br.Path({stroke:{color:g.color,width:g.width},animation:{type:di,delay:i.animationDelay}}),o.options.position===es&&0!==i.value&&(a=o.box,f=t.c,l=t.point(n),c=$n(a.x1,a.center().y),l=t.clone().expand(g.padding).point(n),e.moveTo(l.x,l.y),o.orientation==as?(p=$n(a.x1-g.padding,a.center().y),d=r(f,l,c,p),c=$n(p.x-w,p.y),d=d||c,d.x=Sn.min(d.x,c.x),v.pointInCircle(d,t.c,t.r+w)||t.c.x>d.x?(h=t.c.x+t.r+w,i.options.labels.align!==Wr?c.x>h?e.lineTo(h,l.y):e.lineTo(l.x+2*w,l.y):e.lineTo(h,l.y),e.lineTo(c.x,p.y)):(d.y=p.y,e.lineTo(d.x,d.y))):(p=$n(a.x2+g.padding,a.center().y),d=r(f,l,c,p),c=$n(p.x+w,p.y),d=d||c,d.x=Sn.max(d.x,c.x),v.pointInCircle(d,t.c,t.r+w)||d.x>t.c.x?(h=t.c.x-t.r-w,i.options.labels.align!==Wr?h>c.x?e.lineTo(h,l.y):e.lineTo(l.x-2*w,l.y):e.lineTo(h,l.y),e.lineTo(c.x,p.y)):(d.y=p.y,e.lineTo(d.x,d.y))),e.lineTo(p.x,p.y),this._connectorLines.push(e),this.visual.append(e)))},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,r,i){var s=t.c.x,o=t.c.y,u=t.r,a=Sn.min(Sn.abs(o-n),Sn.abs(o-r));return a>u?e:s+Sn.sqrt(u*u-a*a)*(i?1:-1)},pointInCircle:function(e,t,n){return l(t.x-e.x)+l(t.y-e.y)<l(n)},formatPointValue:function(e,t){return tr(t,e.value)},animationDelay:function(e){return e*ns}}),Mn(Vt.fn,Xt),$t=Wt.extend({options:{overlay:{gradient:ls},labels:{position:Fr},animation:{type:ts}},reflowLabel:function(){var e,t,n=this,r=n.sector.clone(),i=n.options,s=n.label,o=i.labels,u=r.middle();s&&(t=s.box.height(),o.position==Fr?(r.r-=(r.r-r.ir)/2,e=r.point(u),s.reflow(new Fn(e.x,e.y-t/2,e.x,e.y))):Wt.fn.reflowLabel.call(n))},createSegment:function(e,t){return Gn.current.createRing(e,t)}}),Mn($t.fn,st),Jt=Vt.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var r,i=this,s=Mn({},n.series,{index:n.index});i.evalSegmentOptions(s,e,n),i.createLegendItem(e,s,n),e&&n.visible!==!1&&(r=new $t(e,t,s),Tn(r,n),i.append(r),i.points.push(r))},reflow:function(e){var t,n,r,i,s,o,u=this,a=u.options,f=e.clone(),l=5,c=Sn.min(f.width(),f.height()),h=c/2,p=c-.85*c,d=gr(a.padding,p),v=a.series,m=v.length,g=0,y=0,b=0,w=0;for(u.seriesConfigs=[],d=d>h-l?h-l:d,r=h-d,s=0;m>s;s++)t=v[s],0===s&&lr(t.holeSize)&&(n=t.holeSize,r-=t.holeSize),lr(t.size)?r-=t.size:g++,lr(t.margin)&&s!=m-1&&(r-=t.margin);for(lr(n)||(w=(h-d)/(m+.75),n=.75*w,r-=n),b=n,s=0;m>s;s++)t=v[s],i=gr(t.size,r/g),b+=y,o=b+i,u.seriesConfigs.push({ir:b,r:o}),y=t.margin||0,b=o;Vt.fn.reflow.call(u,e)},animationDelay:function(e,t,n){return e*ii+Si*(t+1)/(n+1)}}),Kt=ht.extend({render:function(){ht.fn.render.call(this),this.createSegments()},traverseDataPoints:function(e){var t,n,r,i,s,o,u,a,l,c,h=this.options.series,p=this.categoryAxis.options.categories||[],d=f(h),v=!this.options.invertAxes;for(t=0;h.length>t;t++)for(n=h[t],r=0,i=0,s=0;d>s;s++)o=K.current.bindPoint(n,s),u=o.valueFields.value,a=o.fields.summary,l=r,a?"total"===a.toLowerCase()?(o.valueFields.value=r,l=0,c=r):(o.valueFields.value=i,c=l-i,i=0):L(u)&&(i+=u,r+=u,c=r),e(o,{category:p[s],categoryIx:s,series:n,seriesIx:t,total:r,runningTotal:i,from:l,to:c,isVertical:v})},updateRange:function(e,t){ht.fn.updateRange.call(this,{value:t.to},t)},aboveAxis:function(e){return e.value>=0},plotRange:function(e){return[e.from,e.to]},createSegments:function(){var e,t,n,r,i,s,o,u=this.options.series,a=this.seriesPoints,f=this.segments=[];for(e=0;u.length>e;e++)if(t=u[e],n=a[e])for(i=0;n.length>i;i++)s=n[i],s&&r&&(o=new Qt(r,s,t),f.push(o),this.append(o)),r=s}}),Qt=qn.extend({init:function(e,t,n){var r=this;qn.fn.init.call(r),r.from=e,r.to=t,r.series=n},options:{animation:{type:di,delay:Si}},linePoints:function(){var e,t,n=[],r=this.from,i=r.box,s=this.to.box;return r.isVertical?(e=r.aboveAxis?i.y1:i.y2,n.push([i.x1,e],[s.x2,e])):(t=r.aboveAxis?i.x2:i.x1,n.push([t,i.y1],[t,s.y2])),n},createVisual:function(){var e,t,n;qn.fn.createVisual.call(this),e=this.options,t=this.series.line||{},n=br.Path.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}}),er(n),this.visual.append(n)}}),Gt=In.extend({init:function(e){var t=this;In.fn.init.call(t,e),e=t.options,t.id=Cn.guid(),t.createTitle(),t.content=new qn,t.chartContainer=new Yt({},t),t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:ki},visible:!0},createTitle:function(){var e=this,t=e.options.title;typeof t===Yi&&(t=Mn({},t,{align:t.position,position:Hs})),e.title=Zn.buildTitle(t,e,Gt.fn.options.title)},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.chartContainer.parent!==t.content&&t.content.append(t.chartContainer),t.charts.push(e),t.chartContainer.append(e),e.pane=t},empty:function(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[],t.chartContainer.children=[]},reflow:function(e){var t,n=this;cr(n.children)===n.content&&(t=n.children.pop()),In.fn.reflow.call(n,e),t&&n.children.push(t),n.title&&(n.contentBox.y1+=n.title.box.height())},visualStyle:function(){var e=In.fn.visualStyle.call(this);return e.zIndex=-10,e},renderComplete:function(){this.options.visible&&this.createGridLines()},stackRoot:z,clipRoot:z,createGridLines:function(){var e,t,n,r,i,s,o=this,u=o.axes,a=u.concat(o.parent.axes),f=[],l=[];for(t=0;u.length>t;t++)for(r=u[t],i=r.options.vertical,e=i?f:l,n=0;a.length>n;n++)0===e.length&&(s=a[n],i!==s.options.vertical&&fr(e,r.createGridLines(s)))},refresh:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=e.proxy(this.createGradient,this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete()},clipBox:function(){return this.chartContainer.clipBox}}),Yt=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,e),n.pane=t},shouldClip:function(){var e,t=this,n=t.children,r=n.length;for(e=0;r>e;e++)if(n[e].options.clip===!0)return!0;return!1},_clipBox:function(){var e,t,n,r,i=this,s=i.pane,o=s.axes,u=o.length,a=s.box.clone();for(t=0;u>t;t++)r=o[t],e=r.options.vertical?Ks:Js,n=r.lineBox(),a[e+1]=n[e+1],a[e+2]=n[e+2];return a},createVisual:function(){var e,t,n;this.visual=new br.Group({zIndex:0}),this.shouldClip()&&(e=this.clipBox=this._clipBox(),t=e.toRect(),n=br.Path.fromRect(t),this.visual.clip(n),this.unclipLabels())},stackRoot:z,unclipLabels:function(){var e,t,n,r,i,s=this,o=s.children,u=s.clipBox;for(n=0;o.length>n;n++)for(e=o[n].points||{},i=e.length,r=0;i>r;r++)t=e[r],t&&t.label&&t.label.options.visible&&t.box.overlaps(u)&&(t.label.alignToClipBox&&t.label.alignToClipBox(u),t.label.options.noclip=!0)},destroy:function(){qn.fn.destroy.call(this),delete this.parent}}),Zt=qn.extend({init:function(e,t){var n=this;qn.fn.init.call(n,t),n.series=e,n.initSeries(),n.charts=[],n.options.legend.items=[],n.axes=[],n.crosshairs=[],n.createPanes(),n.render(),n.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Or,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){var e,t,n=this.series;for(e=0;n.length>e;e++)t=n[e],t.index=e},createPanes:function(){var e,t,n=this,r=[],i=n.options.panes||[],s=Sn.max(i.length,1);for(e=0;s>e;e++)t=new Gt(i[e]),t.paneIndex=e,r.push(t),n.append(t);n.panes=r},createCrosshairs:function(e){var t,n,r,i,s,o=this;for(e=e||o.panes,t=0;e.length>t;t++)for(r=e[t],n=0;r.axes.length>n;n++)i=r.axes[n],i.options.crosshair&&i.options.crosshair.visible&&(s=new hn(i,i.options.crosshair),o.crosshairs.push(s),r.content.append(s))},removeCrosshairs:function(e){var t,n,r=this,i=r.crosshairs,s=e.axes;for(t=i.length-1;t>=0;t--)for(n=0;s.length>n;n++)if(i[t].axis===s[n]){i.splice(t,1);break}},hideCrosshairs:function(){var e,t=this.crosshairs;for(e=0;t.length>e;e++)t[e].hide()},findPane:function(e){var t,n,r=this,i=r.panes;for(t=0;i.length>t;t++)if(i[t].options.name===e){n=i[t];break}return n||i[0]},findPointPane:function(e){var t,n,r=this,i=r.panes;for(t=0;i.length>t;t++)if(i[t].box.containsPoint(e)){n=i[t];break}return n},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,n,r=this,i=[];for(t=0;r.axes.length>t;t++)n=r.axes[t],e!==n?i.push(n):n.destroy();r.axes=i},appendChart:function(e,t){var n=this;n.charts.push(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t,n,r=this,i=[];for(t=0;r.charts.length>t;t++)n=r.charts[t],n!==e?i.push(n):n.destroy();r.charts=i},addToLegend:function(e){var t,n,r,i,s,o,u,a,f,l=e.length,c=[],h=this.options.legend,p=h.labels||{},d=h.inactiveItems||{},v=d.labels||{};for(t=0;l>t;t++)n=e[t],a=n.visible!==!1,n.visibleInLegend!==!1&&(r=n.name||"",f=a?p.template:v.template||p.template,f&&(r=Pn(f)({text:r,series:n})),i=n.color,u=n._defaults,Dn(i)&&u&&(i=u.color),a?(s={},o=i):(s={color:v.color,font:v.font},o=d.markers.color),r&&c.push({text:r,labels:s,markerColor:o,series:n,active:a}));fr(h.items,c)},groupAxes:function(e){var t,n,r,i,s=[],o=[];for(r=0;e.length>r;r++)for(t=e[r].axes,i=0;t.length>i;i++)n=t[i],n.options.vertical?o.push(n):s.push(n);return{x:s,y:o,any:s.concat(o)}},groupSeriesByPane:function(){var e,t,n,r=this,i=r.series,s={};for(e=0;i.length>e;e++)n=i[e],t=r.seriesPaneName(n),s[t]?s[t].push(n):s[t]=[n];return s},filterVisibleSeries:function(e){var t,n,r=[];for(t=0;e.length>t;t++)n=e[t],n.visible!==!1&&r.push(n);return r},reflow:function(e){var t=this,n=t.options.plotArea,r=t.panes,i=rr(n.margin);t.box=e.clone().unpad(i),t.reflowPanes(),t.reflowAxes(r),t.reflowCharts(r)},redraw:function(e){var t,n=this;for(e=[].concat(e),this.initSeries(),t=0;e.length>t;t++)n.removeCrosshairs(e[t]),e[t].empty();for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),n.createCrosshairs(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var n,r=e.options,i=[].concat(r.axisCrossingValues||r.axisCrossingValue),s=t.length-i.length,o=i[0]||0;for(n=0;s>n;n++)i.push(o);return i},alignAxisTo:function(e,t,n,r){var i=e.getSlot(n,n,!0),s=e.options.reverse?2:1,o=t.getSlot(r,r,!0),u=t.options.reverse?2:1,a=e.box.translate(o[Js+u]-i[Js+s],o[Ks+u]-i[Ks+s]);e.pane!==t.pane&&a.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(a)},alignAxes:function(e,t){var n,r,i,s,o=this,u=e[0],a=t[0],f=o.axisCrossingValues(u,t),l=o.axisCrossingValues(a,e),c={},h={},p={},d={};for(s=0;t.length>s;s++)i=t[s],n=i.pane,r=n.id,o.alignAxisTo(i,u,l[s],f[s]),i.options._overlap||(ur(i.lineBox().x1)===ur(u.lineBox().x1)&&(c[r]&&i.reflow(i.box.alignTo(c[r].box,ki).translate(-i.options.margin,0)),c[r]=i),ur(i.lineBox().x2)===ur(u.lineBox().x2)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),o.alignAxisTo(i,u,l[s],f[s]),h[r]&&i.reflow(i.box.alignTo(h[r].box,as).translate(i.options.margin,0)),h[r]=i),0!==s&&a.pane===i.pane&&(i.alignTo(a),i.reflow(i.box)));for(s=0;e.length>s;s++)i=e[s],n=i.pane,r=n.id,o.alignAxisTo(i,a,f[s],l[s]),i.options._overlap||(ur(i.lineBox().y1)===ur(a.lineBox().y1)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),o.alignAxisTo(i,a,f[s],l[s]),p[r]&&i.reflow(i.box.alignTo(p[r].box,Hs).translate(0,-i.options.margin)),p[r]=i),ur(i.lineBox().y2,Xr)===ur(a.lineBox().y2,Xr)&&(d[r]&&i.reflow(i.box.alignTo(d[r].box,_r).translate(0,i.options.margin)),d[r]=i),0!==s&&(i.alignTo(u),i.reflow(i.box)))},shrinkAxisWidth:function(e){var t,n,r,i=this,s=i.groupAxes(e).any,o=x(s),u=0;for(t=0;e.length>t;t++)n=e[t],n.axes.length>0&&(u=Sn.max(u,o.width()-n.contentBox.width()));if(0!==u)for(t=0;s.length>t;t++)r=s[t],r.options.vertical||r.reflow(r.box.shrink(u,0))},shrinkAxisHeight:function(e){var t,n,r,i,s,o,u;for(t=0;e.length>t;t++)if(n=e[t],r=n.axes,i=Sn.max(0,x(r).height()-n.contentBox.height()),0!==i){for(s=0;r.length>s;s++)o=r[s],o.options.vertical&&o.reflow(o.box.shrink(0,i));u=!0}return u},fitAxes:function(e){var t,n,r,i,s,o,u,a,f=this,l=f.groupAxes(e).any,c=0;for(u=0;e.length>u;u++)if(s=e[u],t=s.axes,n=s.contentBox,t.length>0)for(r=x(t),c=Sn.max(c,n.x1-r.x1),i=Sn.max(n.y1-r.y1,n.y2-r.y2),a=0;t.length>a;a++)o=t[a],o.reflow(o.box.translate(0,i));for(u=0;l.length>u;u++)o=l[u],o.reflow(o.box.translate(c,0))},reflowAxes:function(e){var t,n=this,r=n.groupAxes(e);for(t=0;e.length>t;t++)n.reflowPaneAxes(e[t]);r.x.length>0&&r.y.length>0&&(n.alignAxes(r.x,r.y),n.shrinkAxisWidth(e),n.autoRotateAxisLabels(r),n.alignAxes(r.x,r.y),n.shrinkAxisWidth(e)&&n.alignAxes(r.x,r.y),n.shrinkAxisHeight(e),n.alignAxes(r.x,r.y),n.shrinkAxisHeight(e)&&n.alignAxes(r.x,r.y),n.fitAxes(e))},autoRotateAxisLabels:function(e){var t,n,r,i=this.axes,s=this.panes;for(n=0;i.length>n;n++)t=i[n],t.autoRotateLabels()&&(r=!0);if(r){for(n=0;s.length>n;n++)this.reflowPaneAxes(s[n]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(s))}},reflowPaneAxes:function(e){var t,n=e.axes,r=n.length;if(r>0)for(t=0;r>t;t++)n[t].reflow(e.contentBox)},reflowCharts:function(e){var t,n,r=this,i=r.charts,s=i.length,o=r.box;for(n=0;s>n;n++)t=i[n].pane,(!t||ir(t,e))&&i[n].reflow(o)},reflowPanes:function(){var e,t,n,r,i,s=this,o=s.box,u=s.panes,a=u.length,f=o.height(),l=a,c=0,h=o.y1;for(e=0;a>e;e++)t=u[e],r=t.options.height,t.options.width=o.width(),t.options.height?(r.indexOf&&r.indexOf("%")&&(i=parseInt(r,10)/100,t.options.height=i*o.height()),t.reflow(o.clone()),f-=t.options.height):c++;for(e=0;a>e;e++)t=u[e],t.options.height||(t.options.height=f/c);for(e=0;a>e;e++)t=u[e],n=o.clone().move(o.x1,h),t.reflow(n),l--,h+=t.options.height},backgroundBox:function(){var e,t,n,r,i,s,o=this,u=o.axes,a=u.length;for(n=0;a>n;n++)for(i=u[n],r=0;a>r;r++)s=u[r],i.options.vertical!==s.options.vertical&&(e=i.lineBox().clone().wrap(s.lineBox()),t=t?t.wrap(e):e);return t||o.box},createVisual:function(){var e,t,n,r,i,s;qn.fn.createVisual.call(this),e=this.backgroundBox(),t=this.options.plotArea,n=t.border||{},r=t.background,i=t.opacity,ar.isTransparent(r)&&(r=$s,i=0),s=this._bgVisual=br.Path.fromRect(e.toRect(),{fill:{color:r,opacity:i},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},zIndex:-1}),this.appendVisual(s)},pointsByCategoryIndex:function(e){var t,n,r,i,s,o=this.charts,u=[];if(null!==e)for(t=0;o.length>t;t++)if(s=o[t],"_navigator"!==s.pane.options.name&&(r=o[t].categoryPoints[e],r&&r.length))for(n=0;r.length>n;n++)i=r[n],i&&lr(i.value)&&null!==i.value&&u.push(i);return u},pointsBySeriesIndex:function(e){var t,n,r,i,s,o=this.charts,u=[];for(r=0;o.length>r;r++)for(s=o[r],t=s.points,i=0;t.length>i;i++)n=t[i],n&&n.options.index===e&&u.push(n);return u},pointsBySeriesName:function(e){var t,n,r,i,s,o=this.charts,u=[];for(r=0;o.length>r;r++)for(s=o[r],t=s.points,i=0;t.length>i;i++)n=t[i],n&&n.series.name===e&&u.push(n);return u},paneByPoint:function(e){var t,n,r=this,i=r.panes;for(n=0;i.length>n;n++)if(t=i[n],t.box.containsPoint(e))return t}}),en=Zt.extend({init:function(e,t){var n,r,i=this;if(i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new tn,e.length>0)for(i.invertAxes=ir(e[0].type,[Cr,Hr,Ws,Us,ss,wi]),n=0;e.length>n;n++)if(r=e[n].stack,r&&"100%"===r.type){i.stack100=!0;break}Zt.fn.init.call(i,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateCategories(e),t.createCategoryAxesLabels(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;Zt.fn.removeAxis.call(t,e),e instanceof et?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,n,r,i,s,o,u=this.groupSeriesByPane();for(t=0;e.length>t;t++)if(n=e[t],r=u[n.options.name||"default"]||[],this.addToLegend(r),i=this.filterVisibleSeries(r))for(s=this.groupSeriesByCategoryAxis(i),o=0;s.length>o;o++)this.createChartGroup(s[o],n)},createChartGroup:function(e,t){this.createAreaChart(P(e,[Sr,Us]),t),this.createBarChart(P(e,[Wr,Cr]),t),this.createRangeBarChart(P(e,[os,ss]),t),this.createBulletChart(P(e,[Hr,zs]),t),this.createCandlestickChart(P(e,Br),t),this.createBoxPlotChart(P(e,Dr),t),this.createOHLCChart(P(e,Zi),t),this.createWaterfallChart(P(e,[Xs,wi]),t),this.createLineChart(P(e,[Oi,Ws]),t)},aggregateCategories:function(e){var t,n,r,i,s,o=this,u=o.srcSeries||o.series,a=[];for(t=0;u.length>t;t++)n=u[t],r=o.seriesCategoryAxis(n),i=o.findPane(r.options.pane),s=T(r.options.type,Qr),(s||n.categoryField)&&ir(i,e)&&(n=o.aggregateSeries(n,r)),a.push(n);o.srcSeries=u,o.series=a},aggregateSeries:function(e,t){var r,i,s,o,u,a=t.options,f=T(t.options.type,Qr),l=a.categories,p=a.srcCategories||l,d=e.data,v=[],m=t.range(),g=Mn({},e),y=Mn({},e),b=c;for(g.data=o=[],f&&(b=h),r=0;d.length>r;r++)i=e.categoryField?b(e.categoryField,d[r]):p[r],s=t.categoryIndex(i,m),s>-1&&(v[s]=v[s]||[],v[s].push(r));for(u=new mn(y,K.current,n.current),r=0;l.length>r;r++)o[r]=u.aggregatePoints(v[r],l[r]);return t.options.dataItems=o,g},appendChart:function(e,t){for(var n=this,r=e.options.series,i=n.seriesCategoryAxis(r[0]),s=i.options.categories,o=Sn.max(0,f(r)-s.length);o--;)s.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),Zt.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,r=n.options,i=t.axis,s=[].concat(r.valueAxis),o=e.grep(s,function(e){return e.name===i})[0],u=r.panes||[{}],a=(u[0]||{}).name||"default",f=(o||{}).pane||a;return f},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,r=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!r)throw Error("Unable to locate category axis with name "+n);return r},stackableChartOptions:function(e,t){var n,r=e.stack,i=r&&"100%"===r.type;return lr(t.options.clip)?n=t.options.clip:i&&(n=!1),{isStacked:r,isStacked100:i,clip:n}},groupSeriesByCategoryAxis:function(n){function r(t,r){return e.grep(n,function(e){return 0===r&&!e.categoryAxis||e.categoryAxis==t})}var i,s,o,u={},a=e.map(n,function(e){var n=e.categoryAxis||"$$default$$";return u.hasOwnProperty(n)?t:(u[n]=!0,n)}),f=[];for(i=0;a.length>i;i++)s=a[i],o=r(s,i),0!==o.length&&f.push(o);return f},createBarChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new ht(n,Tn({series:e,invertAxes:n.invertAxes,gap:r.gap,spacing:r.spacing},n.stackableChartOptions(r,t)));n.appendChart(i,t)}},createRangeBarChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new dt(n,{series:e,invertAxes:n.invertAxes,gap:r.gap,spacing:r.spacing});n.appendChart(i,t)}},createBulletChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new vt(n,{series:e,invertAxes:n.invertAxes,gap:r.gap,spacing:r.spacing,clip:t.options.clip});n.appendChart(i,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new Ct(n,Tn({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(r,t)));n.appendChart(i,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new _t(n,Tn({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(r,t)));n.appendChart(i,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new Rt(n,{invertAxes:n.invertAxes,gap:r.gap,series:e,spacing:r.spacing,clip:t.options.clip});n.appendChart(i,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new It(n,{invertAxes:n.invertAxes,gap:r.gap,series:e,spacing:r.spacing,clip:t.options.clip});n.appendChart(i,t)}},createBoxPlotChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new Ut(n,{invertAxes:n.invertAxes,gap:r.gap,series:e,spacing:r.spacing,clip:t.options.clip});n.appendChart(i,t)}},createWaterfallChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=new Kt(n,{series:e,invertAxes:n.invertAxes,gap:r.gap,spacing:r.spacing});n.appendChart(i,t)}},axisRequiresRounding:function(e,t){var n,r,i,s,o=this,u=P(o.series,ro);for(n=0;o.series.length>n;n++)i=o.series[n],(i.type===Oi||i.type===Sr)&&(s=i.line,s&&s.style===ws&&u.push(i));for(n=0;u.length>n;n++)if(r=u[n].categoryAxis||"",r===e||!r&&0===t)return!0},createCategoryAxesLabels:function(){var e,t=this.axes;for(e=0;t.length>e;e++)t[e]instanceof et&&t[e].createLabels()},createCategoryAxes:function(e){var t,n,r,i,s,o,u,a,f=this,l=f.invertAxes,c=[].concat(f.options.categoryAxis),h=[];for(t=0;c.length>t;t++)if(n=c[t],r=f.findPane(n.pane),ir(r,e)){if(o=n.name,i=n.categories||[],s=n.type||"",n=Mn({vertical:l,axisCrossingValue:l?Bi:0,_deferLabels:!0},n),lr(n.justified)||(n.justified=f.isJustified()),f.axisRequiresRounding(o,t)&&(n.justified=!1,n.roundToBaseUnit=!0),u=F(n,i[0])?new tt(n):new et(n),o){if(f.namedCategoryAxes[o])throw Error("Category axis with name "+o+" is already defined");f.namedCategoryAxes[o]=u}u.axisIndex=t,h.push(u),f.appendAxis(u)}a=f.categoryAxis||h[0],f.categoryAxis=a,l?f.axisY=a:f.axisX=a},isJustified:function(){var e,t,n=this,r=n.series;for(e=0;r.length>e;e++)if(t=r[e],!ir(t.type,[Sr,Us]))return!1;return!0},createValueAxes:function(e){var t,n,r,i,s,o,u,a,f,l=this,c=l.valueAxisRangeTracker,h=c.query(),p=[].concat(l.options.valueAxis),d=l.invertAxes,v={vertical:!d},m=[];for(l.stack100&&(v.roundToMajorUnit=!1,v.labels={format:"P0"}),f=0;p.length>f;f++)if(t=p[f],n=l.findPane(t.pane),ir(n,e)){if(a=t.name,u=T(t.type,Di)?{min:.1,max:1}:{min:0,max:1},s=c.query(a)||h||u,0===f&&s&&h&&(s.min=Sn.min(s.min,h.min),s.max=Sn.max(s.max,h.max)),o=T(t.type,Di)?Xn:Vn,r=new o(s.min,s.max,Mn({},v,t)),a){if(l.namedValueAxes[a])throw Error("Value axis with name "+a+" is already defined");l.namedValueAxes[a]=r}r.axisIndex=f,m.push(r),l.appendAxis(r)}i=l.valueAxis||m[0],l.valueAxis=i,d?l.axisX=i:l.axisY=i},click:function(t,n){var r,i,s,o=this,u=t._eventCoordinates(n),a=new $n(u.x,u.y),f=o.pointPane(a),l=[],c=[];if(f){for(r=f.axes,i=0;r.length>i;i++)s=r[i],s.getValue?C(c,s.getValue(a)):C(l,s.getCategory(a));0===l.length&&C(l,o.categoryAxis.getCategory(a)),l.length>0&&c.length>0&&t.trigger(rs,{element:e(n.target),originalEvent:n,category:S(l),value:S(c)})}},pointPane:function(e){var t,n,r=this,i=r.panes;for(n=0;i.length>n;n++)if(t=i[n],t.contentBox.containsPoint(e))return t}}),tn=kn.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,n,r,i=this,s=i.axisRanges;for(r in e)t=s[r],n=e[r],s[r]=t=t||{min:Bi,max:Fi},t.min=Sn.min(t.min,n.min),t.max=Sn.max(t.max,n.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),nn=Zt.extend({init:function(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new tn,n.yAxisRangeTracker=new tn,Zt.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,n,r,i,s=this,o=s.groupSeriesByPane();for(e=e||s.panes,t=0;e.length>t;t++)n=e[t],r=o[n.options.name||"default"]||[],s.addToLegend(r),i=s.filterVisibleSeries(r),i&&(s.createScatterChart(P(i,cs),n),s.createScatterLineChart(P(i,hs),n),s.createBubbleChart(P(i,Pr),n));s.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),Zt.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;Zt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var n=this,r=n.options,i=t.xAxis,s=[].concat(r.xAxis),o=e.grep(s,function(e){return e.name===i})[0],u=t.yAxis,a=[].concat(r.yAxis),f=e.grep(a,function(e){return e.name===u})[0],l=r.panes||[{}],c=l[0].name||"default",h=(o||{}).pane||(f||{}).pane||c;return h},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Ht(n,{series:e,clip:t.options.clip}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Bt(n,{series:e,clip:t.options.clip}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new jt(n,{series:e,clip:t.options.clip}),t)},createXYAxis:function(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.name,p=t?c.namedYAxes:c.namedXAxes,d=t?c.yAxisRangeTracker:c.xAxisRangeTracker,v=Mn({},e,{vertical:t}),m=T(v.type,Di),g=d.query(),y=m?{min:.1,max:1}:{min:0,max:1},b=d.query(h)||g||y,w=c.series,E=[v.min,v.max];for(s=0;w.length>s;s++)if(o=w[s],u=o[t?"yAxis":"xAxis"],u==v.name||0===n&&!u){a=K.current.bindPoint(o,0).valueFields,E.push(a[t?"y":"x"]);break}for(0===n&&g&&(b.min=Sn.min(b.min,g.min),b.max=Sn.max(b.max,g.max)),l=0;E.length>l;l++)if(E[l]instanceof Date){f=!0;break}if(i=T(v.type,Qr)||!v.type&&f?nt:m?Xn:Vn,r=new i(b.min,b.max,v),h){if(p[h])throw Error((t?"Y":"X")+" axis with name "+h+" is already defined");p[h]=r}return c.appendAxis(r),r},createAxes:function(e){var t,n=this,r=n.options,i=[].concat(r.xAxis),s=[],o=[].concat(r.yAxis),u=[];yn(i,function(r){t=n.findPane(this.pane),ir(t,e)&&s.push(n.createXYAxis(this,!1,r))}),yn(o,function(r){t=n.findPane(this.pane),ir(t,e)&&u.push(n.createXYAxis(this,!0,r))}),n.axisX=n.axisX||s[0],n.axisY=n.axisY||u[0]},click:function(t,n){var r,i,s,o,u=this,a=t._eventCoordinates(n),f=new $n(a.x,a.y),l=u.axes,c=l.length,h=[],p=[];for(r=0;c>r;r++)i=l[r],o=i.options.vertical?p:h,s=i.getValue(f),null!==s&&o.push(s);h.length>0&&p.length>0&&t.trigger(rs,{element:e(n.target),originalEvent:n,x:S(h),y:S(p)})}}),rn=Zt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],r=new Vt(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(r)},appendChart:function(e,t){Zt.fn.appendChart.call(this,e,t),fr(this.options.legend.items,e.legendItems)}}),sn=rn.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],r=new Jt(t,{series:e,padding:n.padding,connectors:n.connectors,legend:t.options.legend});t.appendChart(r)}}),on=br.Animation.extend({options:{easing:"easeOutElastic",duration:Si},setup:function(){this.element.transform(yr.transform().scale(bs,bs,this.options.center))},step:function(e){this.element.transform(yr.transform().scale(e,e,this.options.center))}}),br.AnimationFactory.current.register(ts,on),un=br.Animation.extend({options:{easing:"easeOutElastic"},setup:function(){var e=this.center=this.element.bbox().center();this.element.transform(yr.transform().scale(bs,bs,e))},step:function(e){this.element.transform(yr.transform().scale(e,e,this.center))}}),br.AnimationFactory.current.register(Pr,un),an=kn.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(e){var t,n;for(e=[].concat(e),this.hide(),t=0;e.length>t;t++)n=e[t],n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n))},togglePointHighlight:function(e,t){var n,r=(e.options.highlight||{}).toggle;r?(n={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,preventDefault:X,visual:e.highlightVisual(),show:t},r(n),n._defaultPrevented||e.toggleHighlight(t)):e.toggleHighlight(t)},hide:function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)},isHighlighted:function(e){var t,n,r=this._points;for(t=0;r.length>t;t++)if(n=r[t],e==n)return!0;return!1}}),fn=Ln.extend({init:function(t,n){var r,i,s=this;Ln.fn.init.call(s),s.options=Mn({},s.options,n),s.chartElement=t,s.template=fn.template,s.template||(s.template=fn.template=mr("<div class='"+$r+"tooltip "+$r+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),r=rr(s.options.padding||{},"auto"),s.element=e(s.template(s.options)).css({"padding-top":r.top,"padding-right":r.right,"padding-bottom":r.bottom,"padding-left":r.left}),s.move=Nn(s.move,s),s._mouseleave=Nn(s._mouseleave,s),i=Cn.format("[{0}='content'],[{0}='scroller']",Cn.attr("role")),s._mobileScroller=t.closest(i).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout(),this.element&&(this.element.off(Ri).remove(),this.element=null)},options:{border:{width:1},opacity:1,animation:{duration:Bs}},move:function(){var e,t=this,n=t.options,r=t.element;t.anchor&&t.element&&(e=t._offset(),t.visible||r.css({top:e.top,left:e.left}),t.visible=!0,t._ensureElement(document.body),r.stop(!0,!0).show().animate({left:e.left,top:e.top},n.animation.duration))},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},_padding:function(){if(!this._chartPadding){var e=this.chartElement;this._chartPadding={top:parseInt(e.css("paddingTop"),10),left:parseInt(e.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var t,n,r=this,i=r._measure(),s=r.anchor,o=r._padding(),u=r.chartElement.offset(),a=ur(s.y+o.top+u.top),f=ur(s.x+o.left+u.left),l=Cn.support.zoomLevel(),c=e(window),h=window.pageYOffset||document.documentElement.scrollTop||0,p=window.pageXOffset||document.documentElement.scrollLeft||0,d=(this._mobileScroller||{}).movable;return d&&1!==d.scale?(t=yr.transform().scale(d.scale,d.scale,[d.x,d.y]),n=(new yr.Point(f,a)).transform(t),f=n.x,a=n.y):(a+=r._fit(a-h,i.height,c.outerHeight()/l),f+=r._fit(f-p,i.width,c.outerWidth()/l)),{top:a,left:f}},setStyle:function(e,t){var n,r,i=e.background,s=e.border.color;t&&(n=t.color||t.options.color,i=gr(i,n),s=gr(s,n)),lr(e.color)||(r=(new Rn(i)).percBrightness(),this.element.toggleClass($r+qs,r>180)),this.element.css({backgroundColor:i,borderColor:s,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},show:function(){this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,Fs)},hide:function(){var e=this;clearTimeout(e.showTimeout),e._hideElement(),e.visible&&(e.point=null,e.visible=!1,e.index=null)},_measure:function(){this._ensureElement();var e={width:this.element.outerWidth(),height:this.element.outerHeight()};return e},_ensureElement:function(){this.element&&this.element.appendTo(document.body).on(Ri,this._mouseleave)},_mouseleave:function(t){var n=t.relatedTarget,r=this.chartElement[0];n&&n!==r&&!e.contains(r,n)&&(this.trigger(Ci),this.hide())},_hideElement:function(){var e=this,t=this.element;t&&t.fadeOut({always:function(){e.visible||t.off(Ri).remove()}})},_pointContent:function(e){var t,n,r=this,i=Mn({},r.options,e.options.tooltip);return lr(e.value)&&(t=""+e.value),i.template?(n=Pn(i.template),t=n({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage,runningTotal:e.runningTotal,total:e.total,low:e.low,high:e.high,xLow:e.xLow,xHigh:e.xHigh,yLow:e.yLow,yHigh:e.yHigh})):i.format&&(t=e.formatValue(i.format)),t},_pointAnchor:function(e){var t=this._measure();return e.tooltipAnchor(t.width,t.height)},_fit:function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),0>e&&(r=-e),r}}),ln=fn.extend({show:function(e){var t=this,n=Mn({},t.options,e.options.tooltip);e&&e.tooltipAnchor&&t.element&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t.anchor?(t.setStyle(n,e),fn.fn.show.call(t,e)):t.hide())}}),cn=fn.extend({init:function(e,t,n){var r=this;fn.fn.init.call(r,e,n),r.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(t,n){var r,i=this,s=i.options,o=i.plotArea,u=o.categoryAxis,a=u.pointCategoryIndex(n),f=u.getCategory(n),l=u.getSlot(a);t=e.grep(t,function(e){var t=e.series.tooltip,n=t&&t.visible===!1;return!n}),t.length>0&&(r=i._content(t,f),i.element.html(r),i.anchor=i._slotAnchor(n,l),i.setStyle(s,t[0]),fn.fn.show.call(i))},_slotAnchor:function(e,t){var n,r=this,i=r.plotArea,s=i.categoryAxis,o=this._measure(),u=e.y-o.height/2;return n=s.options.vertical?$n(e.x,u):$n(t.center().x,u)},_content:function(e,t){var n,r,i=this;return n=Cn.template(i.options.sharedTemplate),r=n({points:e,category:t,categoryText:tr(i.options.categoryFormat,t),content:i._pointContent})}}),hn=qn.extend({init:function(e,t){qn.fn.init.call(this,t),this.axis=e,this.stickyMode=e instanceof et},options:{color:Or,width:1,zIndex:-1,tooltip:{visible:!1}},showAt:function(e){var t;this.point=e,this.moveLine(),this.line.visible(!0),t=this.options.tooltip,t.visible&&(this.tooltip||(this.tooltip=new pn(this,Mn({},t,{stickyMode:this.stickyMode}))),this.tooltip.showAt(e))},hide:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},moveLine:function(){var e,t,n,r=this,i=r.axis,s=i.options.vertical,o=r.getBox(),u=r.point,a=s?Ks:Js;t=new yr.Point(o.x1,o.y1),n=s?new yr.Point(o.x2,o.y1):new yr.Point(o.x1,o.y2),u&&(r.stickyMode?(e=i.getSlot(i.pointCategoryIndex(u)),t[a]=n[a]=e.center()[a]):t[a]=n[a]=u[a]),r.box=o,this.line.moveTo(t).lineTo(n)},getBox:function(){var e,t,n,r=this,i=r.axis,s=i.pane.axes,o=s.length,u=i.options.vertical,a=i.lineBox().clone(),f=u?Js:Ks;for(n=0;o>n;n++)t=s[n],t.options.vertical!=u&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return a[f+1]=e[f+1],a[f+2]=e[f+2],a},createVisual:function(){qn.fn.createVisual.call(this);var e=this.options;this.line=new br.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},destroy:function(){var e=this;e.tooltip&&e.tooltip.destroy(),qn.fn.destroy.call(e)}}),pn=fn.extend({init:function(e,t){var n=this,r=e.axis.getRoot().chart.element;n.crosshair=e,fn.fn.init.call(n,r,Mn({},n.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),n.setStyle(n.options)},options:{padding:10},showAt:function(e){var t=this,n=t.element;n&&(t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(),t.move())},move:function(){var e=this,t=e.element,n=e._offset();e._ensureElement(),t.css({top:n.top,left:n.left}).show()},content:function(e){var t,n,r,i=this,s=i.options,o=i.crosshair.axis,u=o.options;return n=t=o[s.stickyMode?"getCategory":"getValue"](e),s.template?(r=Pn(s.template),t=r({value:n})):s.format?t=tr(s.format,n):u.type===Qr&&(t=tr(u.labels.dateFormats[u.baseUnit],n)),t},getAnchor:function(){var e,t=this,n=t.options,r=n.position,i=this.crosshair,s=!i.axis.options.vertical,o=i.line.bbox(),u=this._measure(),a=u.width/2,f=u.height/2,l=n.padding;return e=s?r===_r?o.bottomLeft().translate(-a,l):o.topLeft().translate(-a,-u.height-l):r===ki?o.topLeft().translate(-u.width-l,-f):o.topRight().translate(l,-f)},hide:function(){this.element.hide(),this.point=null},destroy:function(){fn.fn.destroy.call(this),this.point=null}}),dn={min:function(e){var t,n,r=Bi,i=e.length;for(t=0;i>t;t++)n=e[t],L(n)&&(r=Sn.min(r,n));return r===Bi?e[0]:r},max:function(e){var t,n,r=Fi,i=e.length;for(t=0;i>t;t++)n=e[t],L(n)&&(r=Sn.max(r,n));return r===Fi?e[0]:r},sum:function(e){var t,n,r=e.length,i=0;for(t=0;r>t;t++)n=e[t],L(n)&&(i+=n);return i},sumOrNull:function(e){var t=null;return A(e)&&(t=dn.sum(e)),t},count:function(e){var t,n,r=e.length,i=0;for(t=0;r>t;t++)n=e[t],null!==n&&lr(n)&&i++;return i},avg:function(e){var t=e[0],n=A(e);return n>0&&(t=dn.sum(e)/n),t},first:function(e){var t,n,r=e.length;for(t=0;r>t;t++)if(n=e[t],null!==n&&lr(n))return n;return e[0]}},n.prototype={register:function(e,t){for(var n=0;e.length>n;n++)this._defaults[e[n]]=t},query:function(e){return this._defaults[e]}},n.current=new n,vn=Ln.extend({init:function(t,n,r){var i,s,o=this,u=t.element,a=n.lineBox(),f=o.getValueAxis(n),l=f.lineBox(),c="."+$r;Ln.fn.init.call(o),o.options=Mn({},o.options,r),r=o.options,o.chart=t,o.chartElement=u,o.categoryAxis=n,o._dateAxis=o.categoryAxis instanceof tt,o.valueAxis=f,o._dateAxis&&Mn(r,{min:p(r.min),max:p(r.max),from:p(r.from),to:p(r.to)}),o.template=vn.template,o.template||(o.template=vn.template=mr("<div class='"+$r+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+$r+"mask'></div><div class='"+$r+"mask'></div><div class='"+$r+"selection'><div class='"+$r+"selection-bg'></div><div class='"+$r+"handle "+$r+"leftHandle'><div></div></div><div class='"+$r+"handle "+$r+"rightHandle'><div></div></div></div></div>")),s={left:parseInt(u.css("paddingLeft"),10),right:parseInt(u.css("paddingTop"),10)},o.options=Mn({},{width:a.width(),height:l.height(),padding:s,offset:{left:l.x2+s.left,top:l.y1+s.right},from:r.min,to:r.max},r),o.options.visible&&(o.wrapper=i=e(o.template(o.options)).appendTo(u),o.selection=i.find(c+"selection"),o.leftMask=i.find(c+"mask").first(),o.rightMask=i.find(c+"mask").last(),o.leftHandle=i.find(c+"leftHandle"),o.rightHandle=i.find(c+"rightHandle"),o.options.selection={border:{left:parseFloat(o.selection.css("border-left-width"),10),right:parseFloat(o.selection.css("border-right-width"),10)}},o.leftHandle.css("top",(o.selection.height()-o.leftHandle.height())/2),o.rightHandle.css("top",(o.selection.height()-o.rightHandle.height())/2),o.set(o._index(r.from),o._index(r.to)),o.bind(o.events,o.options),o.wrapper[0].style.cssText=o.wrapper[0].style.cssText,o.wrapper.on(Ji,Nn(o._mousewheel,o)),Cn.UserEvents?o.userEvents=new Cn.UserEvents(o.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,start:Nn(o._start,o),move:Nn(o._move,o),end:Nn(o._end,o),tap:Nn(o._tap,o),gesturestart:Nn(o._gesturechange,o),gesturechange:Nn(o._gesturechange,o)}):o.leftHandle.add(o.rightHandle).removeClass($r+"handle"))},events:[ds,vs,ms],options:{visible:!0,mousewheel:{zoom:Mr},min:Fi,max:Bi},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy(),clearTimeout(e._mwTimeout),e._state=null,e.wrapper.remove()},_rangeEventArgs:function(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)}},_start:function(t){var n,r=this,i=r.options,s=e(t.event.target);!r._state&&s&&(r.chart._unsetActivePoint(),r._state={moveTarget:s.parents(".k-handle").add(s).first(),startLocation:t.x?t.x.location:0,range:{from:r._index(i.from),to:r._index(i.to)}},n=r._rangeEventArgs({from:r._index(i.from),to:r._index(i.to)}),r.trigger(ds,n)&&(r.userEvents.cancel(),r._state=null))},_move:function(e){if(this._state){var t=this,n=t._state,r=t.options,i=t.categoryAxis.options.categories,s=t._index(r.from),o=t._index(r.to),u=t._index(r.min),a=t._index(r.max),f=n.startLocation-e.x.location,l=n.range,c={from:l.from,to:l.to},h=l.to-l.from,p=n.moveTarget,d=t.wrapper.width()/(i.length-1),v=Sn.round(f/d);p&&(e.preventDefault(),p.is(".k-selection, .k-selection-bg")?(l.from=Sn.min(Sn.max(u,s-v),a-h),l.to=Sn.min(l.from+h,a)):p.is(".k-leftHandle")?(l.from=Sn.min(Sn.max(u,s-v),a-1),l.to=Sn.max(l.from+1,l.to)):p.is(".k-rightHandle")&&(l.to=Sn.min(Sn.max(u+1,o-v),a),l.from=Sn.min(l.to-1,l.from)),(l.from!==c.from||l.to!==c.to)&&(t.move(l.from,l.to),t.trigger(vs,t._rangeEventArgs(l))))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(ms,e._rangeEventArgs(t))},_gesturechange:function(e){if(this._state){var t=this,n=t.chart,r=t._state,i=t.options,s=t.categoryAxis,o=r.range,u=n._toModelCoordinates(e.touches[0].x.location).x,a=n._toModelCoordinates(e.touches[1].x.location).x,f=Sn.min(u,a),l=Sn.max(u,a);e.preventDefault(),r.moveTarget=null,o.from=s.pointCategoryIndex(new Hn.Point2D(f))||i.min,o.to=s.pointCategoryIndex(new Hn.Point2D(l))||i.max,t.move(o.from,o.to)}},_tap:function(e){var t=this,n=t.options,r=t.chart._eventCoordinates(e),i=t.categoryAxis,s=i.pointCategoryIndex(new Hn.Point2D(r.x,i.box.y1)),o=t._index(n.from),u=t._index(n.to),a=t._index(n.min),f=t._index(n.max),l=u-o,c=o+l/2,h=Sn.round(c-s),p={},d=3===e.event.which;t._state||d||(e.preventDefault(),t.chart._unsetActivePoint(),i.options.justified||h--,p.from=Sn.min(Sn.max(a,o-h),f-l),p.to=Sn.min(p.from+l,f),t._start(e),t._state&&(t._state.range=p,t.trigger(vs,t._rangeEventArgs(p)),t._end()))},_mousewheel:function(e){var t,n=this,r=n.options,i=or(e);n._start({event:{target:n.selection}}),n._state&&(t=n._state.range,e.preventDefault(),e.stopPropagation(),Sn.abs(i)>1&&(i*=Ys),r.mousewheel.reverse&&(i*=-1),n.expand(i)&&n.trigger(vs,{axis:n.categoryAxis.options,delta:i,originalEvent:e,from:n._value(t.from),to:n._value(t.to)}),n._mwTimeout&&clearTimeout(n._mwTimeout),n._mwTimeout=setTimeout(function(){n._end()},$i))},_index:function(e){var t=this,n=t.categoryAxis,r=n.options.categories,i=e;return e instanceof Date&&(i=k(e,r),!n.options.justified&&e>cr(r)&&(i+=1)),i},_value:function(e){var t=this,n=this.categoryAxis,r=n.options.categories,i=e;return t._dateAxis&&(i=e>r.length-1?t.options.max:r[e]),i},_slot:function(e){var t=this,n=this.categoryAxis;return n.getSlot(t._index(e))},move:function(e,t){var n,r,i,s,o=this,u=o.options,a=u.offset,f=u.padding,l=u.selection.border;i=o._slot(e),n=ur(i.x1-a.left+f.left),o.leftMask.width(n),o.selection.css("left",n),i=o._slot(t),r=ur(u.width-(i.x1-a.left+f.left)),o.rightMask.width(r),s=u.width-r,s!=u.width&&(s+=l.right),o.rightMask.css("left",s),o.selection.width(Sn.max(u.width-(n+r)-l.right,0))},set:function(e,t){var n=this,r=n.options,i=n._index(r.min),s=n._index(r.max);e=hr(n._index(e),i,s),t=hr(n._index(t),e+1,s),r.visible&&n.move(e,t),r.from=n._value(e),r.to=n._value(t)},expand:function(e){var n=this,r=n.options,i=n._index(r.min),s=n._index(r.max),o=r.mousewheel.zoom,u=n._index(r.from),a=n._index(r.to),f={from:u,to:a},l=Mn({},f);return n._state&&(f=n._state.range),o!==as&&(f.from=hr(hr(u-e,0,a-1),i,s)),o!==ki&&(f.to=hr(hr(a+e,f.from+1,s),i,s)),f.from!==l.from||f.to!==l.to?(n.set(f.from,f.to),!0):t},getValueAxis:function(e){var t,n,r=e.pane.axes,i=r.length;for(t=0;i>t;t++)if(n=r[t],n.options.vertical!==e.options.vertical)return n}}),mn=function(e,t,n){var r,i,s,o=this,u=t.canonicalFields(e),a=t.valueFields(e),f=t.sourceFields(e,u),l=o._seriesFields=[],c=n.query(e.type),h=e.aggregate||c;for(o._series=e,o._binder=t,r=0;u.length>r;r++){if(i=u[r],typeof h===Yi)s=h[i];else{if(0!==r&&!ir(i,a))break;s=h}s&&l.push({canonicalName:i,name:f[r],transform:Dn(s)?s:dn[s]})}},mn.prototype={aggregatePoints:function(e,t){var n,r,i,s,o,u=this,a=u._bindPoints(e||[]),f=u._series,l=u._seriesFields,c=a.dataItems[0],h={};for(!c||L(c)||bn(c)||(o=function(){},o.prototype=c,h=new o),n=0;l.length>n;n++){if(r=l[n],i=u._bindField(a.values,r.canonicalName),s=r.transform(i,f,a.dataItems,t),null!==s&&typeof s===Yi&&!lr(s.length)){h=s;break}lr(s)&&(q(r.name,h),Cn.setter(r.name)(h,s))}return h},_bindPoints:function(e){var t,n,r=this,i=r._binder,s=r._series,o=[],u=[];for(t=0;e.length>t;t++)n=e[t],o.push(i.bindPoint(s,n)),u.push(s.data[n]);return{values:o,dataItems:u}},_bindField:function(e,t){var n,r,i,s,o=[],u=e.length;for(n=0;u>n;n++)r=e[n],s=r.valueFields,i=lr(s[t])?s[t]:r.fields[t],o.push(i);return o}},gn=kn.extend({init:function(e){this._axis=e},slot:function(e,t){return this._axis.slot(e,t)},range:function(){return this._axis.range()}}),Tn(e.easing,{easeOutElastic:function(e,t,n,r){var i=1.70158,s=0,o=r;return 0===e?n:1===e?n+r:(s||(s=.5),o<Sn.abs(r)?(o=r,i=s/4):i=s/(2*Sn.PI)*Sn.asin(r/o),o*Sn.pow(2,-10*e)*Sn.sin(1.1*(1*e-i)*Sn.PI/s)+r+n)}}),Hn.ui.plugin(so),J.current.register(en,[Cr,Wr,Oi,Ws,Sr,Us,Br,Zi,Hr,zs,Dr,os,ss,Xs,wi]),J.current.register(nn,[cs,hs,Pr]),J.current.register(rn,[ts]),J.current.register(sn,[ri]),K.current.register([Cr,Wr,Oi,Ws,Sr,Us],[Rs],[jr,zr,Gi,ai,fi]),K.current.register([os,ss],[mi,Ps],[jr,zr,Gi]),K.current.register([Xs,wi],[Rs],[jr,zr,Gi,Ns]),n.current.register([Cr,Wr,Oi,Ws,Sr,Us,Xs,wi],{value:Pi,color:vi,noteText:vi,errorLow:ji,errorHigh:Pi}),n.current.register([os,ss],{from:ji,to:Pi,color:vi,noteText:vi}),K.current.register([cs,hs,Pr],[Js,Ks],[zr,Gi,li,ci,hi,pi]),K.current.register([Pr],[Js,Ks,"size"],[zr,jr,Gi]),K.current.register([Br,Zi],["open","high","low","close"],[jr,zr,"downColor",Gi]),n.current.register([Br,Zi],{open:Pi,high:Pi,low:ji,close:Pi,color:vi,downColor:vi,noteText:vi}),K.current.register([Dr],["lower","q1","median","q3","upper","mean","outliers"],[jr,zr,Gi]),n.current.register([Dr],{lower:Pi,q1:Pi,median:Pi,q3:Pi,upper:Pi,mean:Pi,outliers:vi,color:vi,noteText:vi}),K.current.register([Hr,zs],["current","target"],[jr,zr,"visibleInLegend",Gi]),n.current.register([Hr,zs],{current:Pi,target:Pi,color:vi,noteText:vi}),K.current.register([ts,ri],[Rs],[jr,zr,"explode","visibleInLegend","visible"]),Mn(Hn,{EQUALLY_SPACED_SERIES:ro,Aggregates:dn,AreaChart:_t,AreaSegment:Mt,AxisGroupRangeTracker:tn,Bar:ut,BarChart:ht,BarLabel:Q,BubbleChart:jt,Bullet:mt,BulletChart:vt,CandlestickChart:It,Candlestick:Ft,CategoricalChart:ct,CategoricalErrorBar:bt,CategoricalPlotArea:en,CategoryAxis:et,ChartAxis:gn,ChartContainer:Yt,ClipAnimation:kt,ClusterLayout:rt,Crosshair:hn,CrosshairTooltip:pn,DateCategoryAxis:tt,DateValueAxis:nt,DefaultAggregates:n,DonutChart:Jt,DonutPlotArea:sn,DonutSegment:$t,ErrorBarBase:yt,ErrorRangeCalculator:lt,Highlight:an,SharedTooltip:cn,Legend:Z,LegendItem:G,LegendLayout:Y,LineChart:Ct,LinePoint:Et,LineSegment:xt,Pane:Gt,PieAnimation:on,PieChart:Vt,PieChartMixin:Xt,PiePlotArea:rn,PieSegment:Wt,PlotAreaBase:Zt,PlotAreaFactory:J,PointEventsMixin:st,RangeBar:pt,RangeBarChart:dt,ScatterChart:Ht,ScatterErrorBar:wt,ScatterLineChart:Bt,Selection:vn,SeriesAggregator:mn,SeriesBinder:K,ShapeElement:Qn,SplineSegment:At,SplineAreaSegment:Dt,StackWrap:it,Tooltip:ln,OHLCChart:Rt,OHLCPoint:qt,WaterfallChart:Kt,WaterfallSegment:Qt,XYPlotArea:nn,addDuration:v,areNumbers:O,axisGroupBox:x,categoriesCount:f,ceilDate:y,countNumbers:A,duration:E,ensureTree:q,indexOf:H,isNumber:L,floorDate:g,filterSeriesByType:P,hasValue:$,lteDateIndex:k,evalOptions:_,seriesTotal:R,singleItemOrArray:S,sortDates:B,startOfWeek:m,transpose:I,toDate:p,toTime:d,uniqueDates:j})}(window.kendo.jQuery),function(e,t){function n(e,t){return e.value.x-t.value.x}function r(e,t){return 180-T.abs(T.abs(e-t)-180)}var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=Math,N=window.kendo,C=N.deepExtend,k=N.util,L=k.append,A=N.drawing,O=N.geometry,M=N.dataviz,_=M.AreaSegment,D=M.Axis,P=M.AxisGroupRangeTracker,H=M.BarChart,B=M.Box2D,j=M.CategoryAxis,F=M.CategoricalChart,I=M.CategoricalPlotArea,q=M.ChartElement,R=M.CurveProcessor,U=M.DonutSegment,z=M.LineChart,W=M.LineSegment,X=M.LogarithmicAxis,V=M.NumericAxis,$=M.PlotAreaBase,J=M.PlotAreaFactory,K=M.Point2D,Q=M.Ring,G=M.ScatterChart,Y=M.ScatterLineChart,Z=M.SeriesBinder,et=M.ShapeBuilder,tt=M.SplineSegment,nt=M.SplineAreaSegment,rt=M.getSpacing,it=M.filterSeriesByType,st=k.limitValue,ot=M.round,ut="arc",at="#000",ft=M.COORD_PRECISION,lt=.15,ct=T.PI/180,ht="gap",pt="interpolate",dt="log",vt="plotAreaClick",mt="polarArea",gt="polarLine",yt="polarScatter",bt="radarArea",wt="radarColumn",Et="radarLine",St="smooth",xt="x",Tt="y",Nt="zero",Ct=[mt,gt,yt],kt=[bt,wt,Et],Lt={createGridLines:function(e){var t,n,r=this,i=r.options,s=T.abs(r.box.center().y-e.lineBox().y1),o=!1,u=[];return i.majorGridLines.visible&&(t=r.majorGridLineAngles(e),o=!0,u=r.renderMajorGridLines(t,s,i.majorGridLines)),i.minorGridLines.visible&&(n=r.minorGridLineAngles(e,o),L(u,r.renderMinorGridLines(n,s,i.minorGridLines,e,o))),u},renderMajorGridLines:function(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLines:function(e,t,n,r,i){var s=this.radiusCallback&&this.radiusCallback(t,r,i);return this.renderGridLines(e,t,n,s)},renderGridLines:function(e,t,n,r){var i,s,o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},u=this.box.center(),a=new O.Circle([u.x,u.y],t),f=this.gridLinesVisual();for(i=0;e.length>i;i++)s=new A.Path(o),r&&(a.radius=r(e[i])),s.moveTo(a.center).lineTo(a.pointAt(e[i])),f.append(s);return f.children},gridLineAngles:function(n,r,i,s,o){var u=this,a=u.intervals(r,i,s,o),f=n.options,l=f.visible&&(f.line||{}).visible!==!1;return e.map(a,function(e){var n=u.intervalAngle(e);return l&&90===n?t:n})}},At=j.extend({options:{startAngle:90,labels:{margin:rt(10)},majorGridLines:{visible:!0},justified:!0},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(e){this.box=e,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var e,t,n=this,r=n.options.labels,i=r.skip||0,s=r.step||1,o=new B,u=n.labels;for(t=0;u.length>t;t++)u[t].reflow(o),e=u[t].box,u[t].reflow(n.getSlot(i+t*s).adjacentBox(0,e.width(),e.height()))},intervals:function(e,t,n,r){var i,s=this,o=s.options,u=o.categories.length,a=0,f=u/e||1,l=360/f,c=[];for(t=t||0,n=n||1,i=t;f>i;i+=n)a=o.reverse?360-i*l:i*l,a=ot(a,ft)%360,r&&M.inArray(a,r)||c.push(a);return c},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(e){return(360+e+this.options.startAngle)%360},majorAngles:function(){return e.map(this.majorIntervals(),e.proxy(this.intervalAngle,this))},createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},minorGridLineAngles:function(e,t){var n=this.options,r=n.minorGridLines,i=n.majorGridLines,s=t?this.intervals(1,i.skip,i.step):null;return this.gridLineAngles(e,.5,r.skip,r.step,s)},radiusCallback:function(e,n,r){var i,s,o,u;return n.options.type!==ut?(i=360/(2*this.options.categories.length),s=T.cos(i*ct)*e,o=this.majorAngles(),u=function(t){return!r&&M.inArray(t,o)?e:s}):t},createPlotBands:function(){var e,t,n,r,i,s,o,u=this,a=u.options,f=a.plotBands||[],l=this._plotbandGroup=new A.Group({zIndex:-1});for(e=0;f.length>e;e++)t=f[e],n=u.plotBandSlot(t),r=u.getSlot(t.from),i=t.from-T.floor(t.from),n.startAngle+=i*r.angle,s=T.ceil(t.to)-t.to,n.angle-=(s+i)*r.angle,o=et.current.createRing(n,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:t.opacity}}),l.append(o);u.appendVisual(l)},plotBandSlot:function(e){return this.getSlot(e.from,e.to-1)},getSlot:function(e,t){var n,r,i,s=this,o=s.options,u=o.justified,a=s.box,f=s.majorAngles(),l=f.length,c=360/l;return o.reverse&&!u&&(e=(e+1)%l),e=st(T.floor(e),0,l-1),r=f[e],u&&(r-=c/2,0>r&&(r+=360)),t=st(T.ceil(t||e),e,l-1),n=t-e+1,i=c*n,new Q(a.center(),0,a.height()/2,r,i)},slot:function(e,t){var n=this.getSlot(e,t),r=n.startAngle+180,i=r+n.angle;return new O.Arc([n.c.x,n.c.y],{startAngle:r,endAngle:i,radiusX:n.r,radiusY:n.r})},pointCategoryIndex:function(e){var t,n,r=this,i=null,s=r.options.categories.length;for(t=0;s>t;t++)if(n=r.getSlot(t),n.containsPoint(e)){i=t;break}return i}});C(At.fn,Lt),i={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var e,t,n,r,i,s,o=this,u=o.options,a=u.plotBands||[],f=u.majorGridLines.type,l=o.plotArea.polarAxis,c=l.majorAngles(),h=l.box.center(),p=this._plotbandGroup=new A.Group({zIndex:-1});for(e=0;a.length>e;e++)t=a[e],n={fill:{color:t.color,opacity:t.opacity},stroke:{opacity:t.opacity}},r=o.getSlot(t.from,t.to,!0),i=new Q(h,h.y-r.y2,h.y-r.y1,0,360),s=f===ut?et.current.createRing(i,n):A.Path.fromPoints(o.plotBandPoints(i,c),n).close(),p.append(s);o.appendVisual(p)},plotBandPoints:function(e,t){var n,r=[],i=[],s=[e.c.x,e.c.y],o=new O.Circle(s,e.ir),u=new O.Circle(s,e.r);for(n=0;t.length>n;n++)r.push(o.pointAt(t[n])),i.push(u.pointAt(t[n]));return r.reverse(),r.push(r[0]),i.push(i[0]),i.concat(r)},createGridLines:function(e){var t,n=this,r=n.options,i=n.radarMajorGridLinePositions(),s=e.majorAngles(),o=e.box.center(),u=[];return r.majorGridLines.visible&&(u=n.renderGridLines(o,i,s,r.majorGridLines)),r.minorGridLines.visible&&(t=n.radarMinorGridLinePositions(),L(u,n.renderGridLines(o,t,s,r.minorGridLines))),u},renderGridLines:function(e,t,n,r){var i,s,o,u,a,f={stroke:{width:r.width,color:r.color,dashType:r.dashType}},l=this.gridLinesVisual();for(s=0;t.length>s;s++)if(i=e.y-t[s],i>0)if(u=new O.Circle([e.x,e.y],i),r.type===ut)l.append(new A.Circle(u,f));else{for(a=new A.Path(f),o=0;n.length>o;o++)a.lineTo(u.pointAt(n[o]));a.close(),l.append(a)}return l.children},getValue:function(e){var t,n,i,s,o,u,a,f=this,l=f.options,c=f.lineBox(),h=f.plotArea.polarAxis,p=h.majorAngles(),d=h.box.center(),v=e.distanceTo(d),m=v;return l.majorGridLines.type!==ut&&p.length>1&&(t=e.x-d.x,n=e.y-d.y,i=(T.atan2(n,t)/ct+540)%360,p.sort(function(e,t){return r(e,i)-r(t,i)}),s=r(p[0],p[1])/2,o=r(i,p[0]),u=90-s,a=180-o-u,m=v*(T.sin(a*ct)/T.sin(u*ct))),f.axisType().fn.getValue.call(f,new K(c.x1,c.y2-m))}},s=V.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var e=this,t=e.options,n=0;return t.majorGridLines.visible&&(n=t.majorUnit),e.getTickPositions(t.minorUnit,n)},axisType:function(){return V}}),C(s.fn,i),o=X.extend({radarMajorGridLinePositions:function(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e)},e.options.majorGridLines),t},radarMinorGridLinePositions:function(){var e=this,t=[];return e.traverseMinorTicksPositions(function(e){t.push(e)},e.options.minorGridLines),t},axisType:function(){return X}}),C(o.fn,i),u=D.extend({init:function(e){var t=this;D.fn.init.call(t,e),e=t.options,e.minorUnit=e.minorUnit||t.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:rt(10)},majorGridLines:{color:at,visible:!0,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function(e){return V.fn.getDivisions.call(this,e)-1},reflow:function(e){this.box=e,this.reflowLabels()},reflowLabels:function(){var e,t,n=this,r=n.options,i=r.labels,s=i.skip||0,o=i.step||1,u=new B,a=n.intervals(r.majorUnit,s,o),f=n.labels;for(t=0;f.length>t;t++)f[t].reflow(u),e=f[t].box,f[t].reflow(n.getSlot(a[t]).adjacentBox(0,e.width(),e.height()))},lineBox:function(){return this.box},intervals:function(e,t,n,r){var i,s,o=this,u=o.options,a=o.getDivisions(e),f=u.min,l=[];for(t=t||0,n=n||1,s=t;a>s;s+=n)i=(360+f+s*e)%360,r&&M.inArray(i,r)||l.push(i);return l},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(e){return(540-e-this.options.startAngle)%360},majorAngles:At.fn.majorAngles,createLine:function(){return[]},majorGridLineAngles:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},minorGridLineAngles:function(e,t){var n=this.options,r=n.minorGridLines,i=n.majorGridLines,s=t?this.intervals(n.majorUnit,i.skip,i.step):null;return this.gridLineAngles(e,this.options.minorUnit,r.skip,r.step,s)},createPlotBands:At.fn.createPlotBands,plotBandSlot:function(e){return this.getSlot(e.from,e.to)},getSlot:function(e,t){var n,r=this,i=r.options,s=i.startAngle,o=r.box;return e=st(e,i.min,i.max),t=st(t||e,e,i.max),i.reverse&&(e*=-1,t*=-1),e=(540-e-s)%360,t=(540-t-s)%360,e>t&&(n=e,e=t,t=n),new Q(o.center(),0,o.height()/2,e,t-e)},slot:function(e,t){var n,r,i,s,o=this.options,u=360-o.startAngle,a=this.getSlot(e,t);return M.util.defined(t)||(t=e),i=T.min(e,t),s=T.max(e,t),o.reverse?(n=i,r=s):(n=360-s,r=360-i),n=(n+u)%360,r=(r+u)%360,new O.Arc([a.c.x,a.c.y],{startAngle:n,endAngle:r,radiusX:a.r,radiusY:a.r})},getValue:function(e){var t=this,n=t.options,r=t.box.center(),i=e.x-r.x,s=e.y-r.y,o=T.round(T.atan2(s,i)/ct),u=n.startAngle;return n.reverse||(o*=-1,u*=-1),(o+u+360)%360},range:V.fn.range,labelsCount:V.fn.labelsCount,createAxisLabel:V.fn.createAxisLabel}),C(u.fn,Lt),a=q.extend({options:{gap:1,spacing:0},reflow:function(e){var t,n,r=this,i=r.options,s=r.children,o=i.gap,u=i.spacing,a=s.length,f=a+o+u*(a-1),l=e.angle/f,c=e.startAngle+l*(o/2);for(n=0;a>n;n++)t=e.clone(),t.startAngle=c,t.angle=l,s[n].sector&&(t.r=s[n].sector.r),s[n].reflow(t),s[n].sector=t,c+=l+l*u}}),f=q.extend({reflow:function(e){var t,n,r=this,i=r.options.isReversed,s=r.children,o=s.length,u=i?o-1:0,a=i?-1:1;for(r.box=new B,n=u;n>=0&&o>n;n+=a)t=s[n].sector,t.startAngle=e.startAngle,t.angle=e.angle}}),l=U.extend({init:function(e,t){U.fn.init.call(this,e,null,t)},options:{overlay:{gradient:null},labels:{distance:10}}}),c=H.extend({pointType:function(){return l},clusterType:function(){return a},stackType:function(){return f},categorySlot:function(e,t){return e.getSlot(t)},pointSlot:function(e,t){var n=e.clone(),r=e.c.y;return n.r=r-t.y1,n.ir=r-t.y2,n},reflow:F.fn.reflow,reflowPoint:function(e,t){e.sector=t,e.reflow()},options:{clip:!1,animation:{type:"pie"}},createAnimation:function(){this.options.animation.center=this.box.toRect().center(),H.fn.createAnimation.call(this)}}),h=z.extend({options:{clip:!1},pointSlot:function(e,t){var n=e.c.y-t.y1,r=K.onCircle(e.c,e.middle(),n);return new B(r.x,r.y,r.x,r.y)},createSegment:function(e,t,n){var r,i,s=t.style;return i=s==St?tt:W,r=new i(e,t,n),e.length===t.data.length&&(r.options.closed=!0),r}}),p=_.extend({points:function(){return W.fn.points.call(this,this.stackPoints)}}),d=nt.extend({closeFill:e.noop}),v=h.extend({createSegment:function(e,t,n,r){var i,s,o=this,u=o.options,a=u.isStacked,f=(t.line||{}).style;return f===St?(s=new d(e,r,a,t,n),s.options.closed=!0):(a&&n>0&&r&&(i=r.linePoints.slice(0).reverse()),e.push(e[0]),s=new p(e,i,t,n)),s},seriesMissingValues:function(e){return e.missingValues||Nt}}),m=G.extend({pointSlot:function(e,t){var n=e.c.y-t.y1,r=K.onCircle(e.c,e.startAngle,n);return new B(r.x,r.y,r.x,r.y)},options:{clip:!1}}),g=Y.extend({pointSlot:m.fn.pointSlot,options:{clip:!1}}),y=_.extend({points:function(){var e=this,t=e.parent,n=t.plotArea,r=n.polarAxis,i=r.box.center(),s=e.stackPoints,o=W.fn.points.call(e,s);return o.unshift([i.x,i.y]),o.push([i.x,i.y]),o}}),b=nt.extend({closeFill:function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},_polarAxisCenter:function(){var e=this.parent,t=e.plotArea,n=t.polarAxis,r=n.box.center();return r},strokeSegments:function(){var e,t,n,r=this._strokeSegments;return r||(e=this._polarAxisCenter(),t=new R(!1),n=W.fn.points.call(this),n.push(e),r=this._strokeSegments=t.process(n),r.pop()),r}}),w=g.extend({createSegment:function(e,t,n){var r,i=(t.line||{}).style;return r=i==St?new b(e,null,!1,t,n):new y(e,[],t,n)},createMissingValue:function(e,t){var n;return M.hasValue(e.x)&&t!=pt&&(n={x:e.x,y:e.y},t==Nt&&(n.y=0)),n},seriesMissingValues:function(e){return e.missingValues||Nt},_hasMissingValuesGap:function(){var e,t=this.options.series;for(e=0;t.length>e;e++)if(this.seriesMissingValues(t[e])===ht)return!0},sortPoints:function(e){var t,r,i;if(e.sort(n),this._hasMissingValuesGap())for(i=0;e.length>i;i++)r=e[i],r&&(t=r.value,M.hasValue(t.y)||this.seriesMissingValues(r.series)!==ht||delete e[i]);return e}}),E=$.extend({init:function(e,t){var n=this;n.valueAxisRangeTracker=new P,$.fn.init.call(n,e,t)},render:function(){var e=this;e.addToLegend(e.series),e.createPolarAxis(),e.createCharts(),e.createValueAxis()},alignAxes:function(){var e=this.valueAxis,t=e.range(),n=e.options.reverse?t.max:t.min,r=e.getSlot(n),i=this.polarAxis.getSlot(0).c,s=e.box.translate(i.x-r.x1,i.y-r.y1);e.reflow(s)},createValueAxis:function(){var e,t,n,r,i=this,u=i.valueAxisRangeTracker,a=u.query(),f=i.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});f.type===dt?(n=o,r={min:.1,max:1}):(n=s,r={min:0,max:1}),e=u.query(name)||a||r,e&&a&&(e.min=T.min(e.min,a.min),e.max=T.max(e.max,a.max)),t=new n(e.min,e.max,f),i.valueAxis=t,i.appendAxis(t)},reflowAxes:function(){var e,t=this,n=t.options.plotArea,r=t.valueAxis,i=t.polarAxis,s=t.box,o=T.min(s.width(),s.height())*lt,u=rt(n.padding||{},o),a=s.clone().unpad(u),f=a.clone().shrink(0,a.height()/2);i.reflow(a),r.reflow(f),e=r.lineBox().height()-r.box.height(),r.reflow(r.box.unpad({top:e})),t.axisBox=a,t.alignAxes(a)},backgroundBox:function(){return this.box}}),S=E.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var e,t=this;e=new At(t.options.categoryAxis),t.polarAxis=e,t.categoryAxis=e,t.appendAxis(e)},valueAxisOptions:function(e){var t=this;return t._hasBarCharts&&C(e,{majorGridLines:{type:ut},minorGridLines:{type:ut}}),t._isStacked100&&C(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),C(e,t.options.valueAxis)},appendChart:I.fn.appendChart,createCharts:function(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createAreaChart(it(t,[bt]),n),e.createLineChart(it(t,[Et]),n),e.createBarChart(it(t,[wt]),n)},chartOptions:function(e){var t,n,r={series:e},i=e[0];return i&&(t=this.filterVisibleSeries(e),n=i.stack,r.isStacked=n&&t.length>1,r.isStacked100=n&&"100%"===n.type&&t.length>1,r.isStacked100&&(this._isStacked100=!0)),r},createAreaChart:function(e,t){if(0!==e.length){var n=new v(this,this.chartOptions(e));this.appendChart(n,t)}},createLineChart:function(e,t){if(0!==e.length){var n=new h(this,this.chartOptions(e));this.appendChart(n,t)}},createBarChart:function(e,t){var n,r,i;0!==e.length&&(n=e[0],r=this.chartOptions(e),r.gap=n.gap,r.spacing=n.spacing,i=new c(this,r),this.appendChart(i,t),this._hasBarCharts=!0)},seriesCategoryAxis:function(){return this.categoryAxis},click:function(t,n){var r,i,s=this,o=t._eventCoordinates(n),u=new K(o.x,o.y);r=s.categoryAxis.getCategory(u),i=s.valueAxis.getValue(u),null!==r&&null!==i&&t.trigger(vt,{element:e(n.target),category:r,value:i})},createCrosshairs:e.noop}),x=E.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var e,t=this;e=new u(t.options.xAxis),t.polarAxis=e,t.axisX=e,t.appendAxis(e)},valueAxisOptions:function(e){var t=this;return C(e,{majorGridLines:{type:ut},minorGridLines:{type:ut}},t.options.yAxis)},createValueAxis:function(){var e=this;E.fn.createValueAxis.call(e),e.axisY=e.valueAxis},appendChart:function(e,t){var n=this;n.valueAxisRangeTracker.update(e.yAxisRanges),$.fn.appendChart.call(n,e,t)},createCharts:function(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createLineChart(it(t,[gt]),n),e.createScatterChart(it(t,[yt]),n),e.createAreaChart(it(t,[mt]),n)},createLineChart:function(e,t){if(0!==e.length){var n=this,r=new g(n,{series:e});n.appendChart(r,t)}},createScatterChart:function(e,t){if(0!==e.length){var n=this,r=new m(n,{series:e});n.appendChart(r,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,r=new w(n,{series:e});n.appendChart(r,t)}},click:function(t,n){var r,i,s=this,o=t._eventCoordinates(n),u=new K(o.x,o.y);r=s.axisX.getValue(u),i=s.axisY.getValue(u),null!==r&&null!==i&&t.trigger(vt,{element:e(n.target),x:r,y:i})},createCrosshairs:e.noop}),J.current.register(x,Ct),J.current.register(S,kt),Z.current.register(Ct,[xt,Tt],["color"]),Z.current.register(kt,["value"],["color"]),M.DefaultAggregates.current.register(kt,{value:"max",color:"first"}),C(M,{PolarAreaChart:w,PolarAxis:u,PolarLineChart:g,PolarPlotArea:x,RadarAreaChart:v,RadarBarChart:c,RadarCategoryAxis:At,RadarClusterLayout:a,RadarLineChart:h,RadarNumericAxis:s,RadarPlotArea:S,SplinePolarAreaSegment:b,SplineRadarAreaSegment:d,RadarStackLayout:f})}(window.kendo.jQuery),function(e,t){var n,r=window.kendo,i=r.deepExtend,s=e.extend,o=r.isFunction,u=r.template,a=r.util,f=a.append,l=r.drawing,c=r.geometry,h=r.dataviz,p=r.drawing.Color,d=h.ChartElement,v=h.PieChartMixin,m=h.PlotAreaBase,g=h.PlotAreaFactory,y=h.Point2D,b=h.Box2D,w=h.SeriesBinder,E=h.TextBox,S=h.autoFormat,x=h.evalOptions,T=a.limitValue,N=h.seriesTotal,C="category",k="color",L="funnel",A="value",O="black",M="white",_=m.extend({render:function(){var e=this,t=e.series;e.createFunnelChart(t)},createFunnelChart:function(e){var t=this,n=e[0],r=new D(t,{series:e,legend:t.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});t.appendChart(r)},appendChart:function(e,t){m.fn.appendChart.call(this,e,t),f(this.options.legend.items,e.legendItems)}}),D=d.extend({init:function(e,t){var n=this;d.fn.init.call(n,t),n.plotArea=e,n.points=[],n.labels=[],n.legendItems=[],n.render()},options:{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:"center",position:"center"}},formatPointValue:function(e,t){return S(t,e.value)},render:function(){var e,n,r,s,u,a,f,l=this,c=l.options,h=l.plotArea.options.seriesColors||[],p=h.length,d=c.series[0],v=d.data;if(v)for(r=N(d),u=0;v.length>u;u++)e=w.current.bindPoint(d,u),s=e.valueFields.value,null!==s&&s!==t&&(n=e.fields,o(d.color)||(d.color=n.color||h[u%p]),n=i({index:u,owner:l,series:d,category:n.category,dataItem:v[u],percentage:Math.abs(s)/r,visibleInLegend:n.visibleInLegend,visible:n.visible},n),a=l.createSegment(s,n),f=l.createLabel(s,n),a&&f&&a.append(f))},evalSegmentOptions:function(e,t,n){var r=n.series;x(e,{value:t,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","toggle","visual"]})},createSegment:function(e,r){var o,u=this,a=i({},r.series);return u.evalSegmentOptions(a,e,r),u.createLegendItem(e,a,r),r.visible!==!1?(o=new n(e,a,r),s(o,r),u.append(o),u.points.push(o),o):t},createLabel:function(e,n){var r,s,o,a=this,f=n.series,l=n.dataItem,c=i({},a.options.labels,f.labels),h=e;return c.visible?(c.template?(s=u(c.template),h=s({dataItem:l,value:e,percentage:n.percentage,category:n.category,series:f})):c.format&&(h=S(c.format,h)),c.color||"center"!==c.align||(o=(new p(f.color)).percBrightness(),c.color=o>180?O:M),a.evalSegmentOptions(c,e,n),r=new E(h,i({vAlign:c.position},c)),a.labels.push(r),r):t},labelPadding:function(){var e,t,n,r,i=this.labels,s={left:0,right:0};for(r=0;i.length>r;r++)e=i[r],t=e.options.align,"center"!==t&&(n=i[r].box.width(),"left"===t?s.left=Math.max(s.left,n):s.right=Math.max(s.right,n));return s},reflow:function(t){var n,r,i,s,o,u,a,f,l,h,p,d,v=this,m=v.options,g=v.points,y=g.length,b=1>=m.neckRatio,w=t.clone().unpad(v.labelPadding()),E=w.width(),S=0,x=b?0:(E-E/m.neckRatio)/2,N=m.segmentSpacing,C=m.dynamicSlope,k=w.height()-N*(y-1),L=b?m.neckRatio*E:E;if(y){if(C)for(a=g[0],f=a,e.each(g,function(e,t){t.percentage>f.percentage&&(f=t)}),i=a.percentage/f.percentage*E,x=(E-i)/2,n=0;y>n;n++)o=g[n].percentage,l=g[n+1],h=l?l.percentage:o,s=g[n].points=[],r=m.dynamicHeight?k*o:k/y,u=(E-i*(h/o))/2,u=T(u,0,E),s.push(new c.Point(w.x1+x,w.y1+S)),s.push(new c.Point(w.x1+E-x,w.y1+S)),s.push(new c.Point(w.x1+E-u,w.y1+r+S)),s.push(new c.Point(w.x1+u,w.y1+r+S)),x=u,S+=r+N,i*=h/o,i=T(i,0,E);else for(p=b?E:E-2*x,d=(p-L)/2,n=0;y>n;n++)s=g[n].points=[],o=g[n].percentage,u=m.dynamicHeight?d*o:d/y,r=m.dynamicHeight?k*o:k/y,s.push(new c.Point(w.x1+x,w.y1+S)),s.push(new c.Point(w.x1+E-x,w.y1+S)),s.push(new c.Point(w.x1+E-x-u,w.y1+r+S)),s.push(new c.Point(w.x1+x+u,w.y1+r+S)),x+=u,S+=r+N;for(n=0;y>n;n++)g[n].reflow(t)}}});i(D.fn,v),n=d.extend({init:function(e,t,n){var r=this;d.fn.init.call(r,t),r.value=e,r.options.index=n.index},options:{color:M,border:{width:1}},reflow:function(e){var t=this,n=t.points,r=t.children[0];t.box=new b(n[0].x,n[0].y,n[1].x,n[2].y),r&&r.reflow(new b(e.x1,n[0].y,e.x2,n[2].y))},createVisual:function(){var e,t,n;d.fn.createVisual.call(this),e=this.options,t=e.border,n=l.Path.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close(),this.visual.append(n)},createHighlight:function(e){return l.Path.fromPoints(this.points,e)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var e=l.Path.fromPoints(this.points).close();return{options:this.options,path:e}},highlightOverlay:function(e,t){var n,r,i,o=this.options,u=o.highlight||{};if(u.visible!==!1)return n=u.border||{},r=s({},t,{fill:u.color,stroke:n.color,strokeOpacity:n.opacity,strokeWidth:n.width,fillOpacity:u.opacity}),i=e.createPolyline(this.points,!0,r)},tooltipAnchor:function(e){var t=this.box;return new y(t.center().x-e/2,t.y1)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),i(n.fn,h.PointEventsMixin),g.current.register(_,[L]),w.current.register([L],[A],[C,k,"visibleInLegend","visible"]),i(h,{FunnelChart:D,FunnelSegment:n})}(window.kendo.jQuery),function(e,t){function n(e,t){var n=e.box,r=e.children[0].box,s=t.border||{},o=t.background||"",u=new L,a=A.fromRect(new O([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),f=new M(e.text,new k(r.x1,r.y1),{font:t.font,fill:{color:t.color}}),l=i(f.bbox().clone(),t.padding),c=A.fromRect(l,{stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}});return u.append(a),u.append(c),u.append(f),u}function r(e,t,n){var r=w(e.from)?e.from:R,i=w(e.to)?e.to:q;return e.from=a.max(a.min(i,r),t),e.to=a.min(a.max(i,r),n),e}function i(e,t){var n=e.getOrigin(),r=e.getSize(),i=x(t);return e.setOrigin([n.x-i.left,n.y-i.top]),e.setSize([r.width+(i.left+i.right),r.height+(i.top+i.bottom)]),e}function s(e,t){var n=x(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,i(e,n)}var o,u,a=Math,f=window.kendo,l=f.util,c=f.ui.Widget,h=f.deepExtend,p=f.dataviz,d=p.autoMajorUnit,v=p.ChartElement,m=p.NumericAxis,g=p.Axis,y=p.Box2D,b=f.Class,w=l.defined,E=l.isNumber,S=p.interpolateValue,x=p.getSpacing,T=p.round,N=p.geometry,C=p.drawing,k=N.Point,L=C.Group,A=C.Path,O=N.Rect,M=C.Text,_=150,D=250,P="arrow",H="arrowPointer",B="barPointer",j="#000",F=.05,I=p.COORD_PRECISION,q=Number.MAX_VALUE,R=-Number.MAX_VALUE,U=200,z=.5,W=200,X=60,V=60,$=5,J=a.PI/180,K=180,Q="inside",G="linear",Y="needle",Z="outside",et="radialPointer",tt="x",nt="y",rt=b.extend({init:function(e,t){var n=this,r=e.options;v.fn.init.call(n,t),t=n.options,t.fill=t.color,n.scale=e,t.value=w(t.value)?a.min(a.max(t.value,r.min),r.max):r.min},options:{color:j},value:function(e){var n=this,r=n.options,i=r.value,s=n.scale.options;return 0===arguments.length?i:(r._oldValue=r._oldValue!==t?r.value:s.min,r.value=a.min(a.max(e,s.min),s.max),n.elements&&n.repaint(),t)}}),it=rt.extend({options:{shape:Y,cap:{size:F},arrow:{width:16,height:14},animation:{type:et,duration:_}},setRadius:function(e){var t=this;e&&(t.elements.clear(),t.render(t.parent,t.center,e))},setAngle:function(e){this.elements.transform(N.transform().rotate(e,this.center))},repaint:function(){var e=this,t=e.scale,n=e.options,r=t.slotAngle(n._oldValue),i=t.slotAngle(n.value);n.animation.transitions===!1?e.setAngle(i):(new pt(e.elements,h(n.animation,{oldAngle:r,newAngle:i}))).play()},render:function(){var e=this,t=e.scale,n=t.arc.center,r=e.options,i=(t.slotAngle(t.options.min),new L);return r.animation!==!1&&h(r.animation,{startAngle:0,center:n,reverse:t.options.reverse}),r.shape===Y?i.append(e._renderNeedle(),e._renderCap()):i.append(e._renderArrow()),e.elements=i,e.setAngle(J),i},reflow:function(e){var t=this,n=t.center=e.center,r=t.radius=e.getRadiusX(),i=t.capSize=Math.round(r*t.options.cap.size);t.bbox=O.fromPoints(new k(n.x-i,n.y-i),new k(n.x+i,n.y+i))},_renderNeedle:function(){var e=this,t=e.options,n=e.scale.options.minorTicks.size,r=e.center,i=t.color,s=new A({fill:{color:i},stroke:{color:i,width:z}});return s.moveTo(r.x+e.radius-n,r.y).lineTo(r.x,r.y-e.capSize/2).lineTo(r.x,r.y+e.capSize/2).close(),s},_renderCap:function(){var e=this,t=e.options,n=t.cap.color||t.color,r=new N.Circle(e.center,e.capSize),i=new C.Circle(r,{fill:{color:n},stroke:{color:n}});return i}}),st=m.extend({init:function(e){var t=this;t.options=h({},t.options,e),t.options.majorUnit=t.options.majorUnit||d(t.options.min,t.options.max),t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10,g.fn.init.call(t,t.options)},options:{min:0,max:100,majorTicks:{size:15,align:Q,color:j,width:z,visible:!0},minorTicks:{size:10,align:Q,color:j,width:z,visible:!0},startAngle:-30,endAngle:210,labels:{position:Q,padding:2}},render:function(e,t){var n=this,r=n.renderArc(e,t);n.bbox=r.bbox(),n.labelElements=n.renderLabels(),n.ticks=n.renderTicks(),n.ranges=n.renderRanges()},reflow:function(e){var n=this,r=e.center(),i=a.min(e.height(),e.width())/2;return n.bbox===t?n.render(r,i):(n.bbox=n.arc.bbox(),n.radius(n.arc.getRadiusX()),n.repositionRanges(),n.renderLabels(),t)},slotAngle:function(e){var t,n=this.options,r=n.startAngle,i=n.reverse,s=n.endAngle-r,o=n.min,u=n.max;return t=i?n.endAngle-(e-o)/(u-o)*s:(e-o)/(u-o)*s+r,t+K},renderLabels:function(){var e,r,i,s,o,u,f,l,c,h,d,v,m,g,y=this,b=y.options,w=b.majorTicks.size,E=y.arc.clone(),S=E.getRadiusX(),x=y.tickAngles(E,b.majorUnit),T=y.labels,C=T.length,A=b.labels,M=A.padding,_=.05*S,D=b.rangeSize=b.rangeSize||.1*S,P=b.ranges||[],H=new L;for(y.options.rangeDistance!==t?_=y.options.rangeDistance:y.options.rangeDistance=_,A.position===Q&&(S-=w,P.length&&y.labelElements===t&&(S-=D+_),E.setRadiusX(S).setRadiusY(S)),f=0;C>f;f++)o=T[f],e=o.box.width()/2,r=o.box.height()/2,s=x[f],i=(s-K)*J,h=A.position===Q,u=E.pointAt(s),l=u.x+a.cos(i)*(e+M)*(h?1:-1),c=u.y+a.sin(i)*(r+M)*(h?1:-1),o.reflow(new p.Box2D(l-e,c-r,l+e,c+r)),v=new k(o.box.x1,o.box.y1),y.labelElements===t?(d=n(o,b.labels),H.append(d)):(d=y.labelElements.children[f],m=d.bbox().origin,g=d.transform()||N.transform(),g.translate(v.x-m.x,v.y-m.y),d.transform(g)),y.bbox=O.union(y.bbox,d.bbox());return H},repositionRanges:function(){var e,t,n,r=this,i=r.ranges.children,s=r.options.rangeSize,o=r.options.rangeDistance;if(i.length>0){for(e=r.getRangeRadius(),r.options.labels.position===Q&&(e+=s+o),t=e+s/2,n=0;i.length>n;n++)i[n]._geometry.setRadiusX(t).setRadiusY(t);r.bbox=O.union(r.bbox,r.ranges.bbox())}},renderRanges:function(){var e,t,n,r,i,s,o=this,u=o.arc,a=new L,f=o.rangeSegments(),l=f.length,c=o.options.reverse,h=(o.radius(),o.options.rangeSize),p=o.options.rangeDistance;if(l)for(r=o.getRangeRadius(),o.radius(o.radius()-h-p),s=0;l>s;s++)n=f[s],e=o.slotAngle(n[c?"to":"from"]),t=o.slotAngle(n[c?"from":"to"]),t-e!==0&&(i=new N.Arc(u.center,{radiusX:r+h/2,radiusY:r+h/2,startAngle:e,endAngle:t}),a.append(new C.Arc(i,{stroke:{width:h,color:n.color,opacity:n.opacity}})));return a},rangeSegments:function(){function e(e,t,n,r){return{from:e,to:t,color:n,opacity:r}}var t,n,i,s,o,u=this,a=u.options,f=a.ranges||[],l=f.length,c=a.rangePlaceholderColor,h=[],p=a.min,d=a.max;if(l)for(h.push(e(p,d,c)),s=0;l>s;s++)for(t=r(f[s],p,d),n=h.length,o=0;n>o;o++)if(i=h[o],t.from>=i.from&&i.to>=t.from){h.push(e(t.from,t.to,t.color,t.opacity)),t.to>=i.from&&i.to>=t.to&&h.push(e(t.to,i.to,c,t.opacity)),i.to=t.from;break}return h},getRangeRadius:function(){var e,t=this,n=t.options,r=n.majorTicks.size,i=n.rangeSize,s=n.rangeDistance,o=t.arc;return e=n.labels.position===Z?o.getRadiusX()-r-s-i:o.getRadiusX()-i},renderArc:function(e,t){var n=this,r=n.options,i=n.arc=new N.Arc(e,{radiusX:t,radiusY:t,startAngle:r.startAngle+K,endAngle:r.endAngle+K});return i},renderTicks:function(){function e(e,t,n,r){var i,s,o,u=new L,a=e.center,f=e.getRadiusX(),l=r.visible;if(l)for(i=0;t.length>i;i++)s=e.pointAt(t[i]),o=(new k(a.x+f-r.size,a.y)).rotate(t[i],a),u.append((new A({stroke:{color:r.color,width:r.width}})).moveTo(s).lineTo(o));return u}var t=this,n=t.arc,r=t.options,i=r.labels.position,s=new L,o=r.majorTicks.size,u=r.minorTicks.size,a=n.clone(),f=a.getRadiusX();return t.majorTickAngles=t.tickAngles(n,r.majorUnit),t.majorTicks=e(a,t.majorTickAngles,r.majorUnit,r.majorTicks),s.append(t.majorTicks),t._tickDifference=o-u,i===Z&&a.setRadiusX(f-o+u).setRadiusY(f-o+u),t.minorTickAngles=t.normalizeTickAngles(t.tickAngles(n,r.minorUnit)),t.minorTicks=e(a,t.minorTickAngles,r.minorUnit,r.minorTicks,r.majorUnit),s.append(t.minorTicks),s},normalizeTickAngles:function(e){var t,n=this,r=n.options,i=r.majorUnit/r.minorUnit;for(t=e.length-1;t>=0;t--)t%i===0&&e.splice(t,1);return e},tickAngles:function(e,t){var n,r=this,i=r.options,s=i.reverse,o=i.max-i.min,u=e.endAngle-e.startAngle,a=e.startAngle,f=o/t,l=u/f,c=[];for(s&&(a+=u,l=-l),n=0;f>n;n++)c.push(T(a,I)),a+=l;return T(a)<=e.endAngle&&c.push(a),c},radius:function(e){var n=this;return e?(n.arc.setRadiusX(e).setRadiusY(e),n.repositionTicks(n.majorTicks.children,n.majorTickAngles),n.repositionTicks(n.minorTicks.children,n.minorTickAngles,!0),t):n.arc.getRadiusX()},repositionTicks:function(e,t,n){var r,i,s,o,u,a=this,f=n?a._tickDifference||0:0,l=a.arc,c=l.getRadiusX();for(n&&a.options.labels.position===Z&&0!==f&&(l=a.arc.clone(),l.setRadiusX(c-f).setRadiusY(c-f)),r=0;e.length>r;r++)i=l.pointAt(t[r]),s=e[r].segments,o=i.x-s[0].anchor().x,u=i.y-s[0].anchor().y,e[r].transform((new N.Transformation).translate(o,u))}}),ot=c.extend({init:function(t,n){var r,i,s,o,u,a=this,l=p.ui.themes||{};if(f.destroy(t),e(t).empty(),c.fn.init.call(a,t),a.wrapper=a.element,a._originalOptions=h({},n),r=h({},a.options,n),s=r.theme,o=l[s]||l[s.toLowerCase()],i=s&&o?o.gauge:{},a.options=h({},i,r),e.isArray(r.pointer))for(u=0;r.pointer.length>u;u++)a.options.pointer[u]=h({},i.pointer,r.pointer[u]);a.element.addClass("k-gauge"),a.surface=a._createSurface(),a.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function(){this.surface.destroy(),c.fn.destroy.call(this)},value:function(e){var n=this,r=n.pointers[0];return 0===arguments.length?r.value():(r.value(e),n._setValueOptions(e),t)},_draw:function(){var e=this.surface;e.clear(),e.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(t){var n,r=this,i=r.pointers,s=[];if(0===arguments.length){for(n=0;i.length>n;n++)s.push(i[n].value());return s}if(e.isArray(t))for(n=0;t.length>n;n++)E(t[n])&&i[n].value(t[n]);r._setValueOptions(t)},_setValueOptions:function(e){var t,n=[].concat(this.options.pointer);for(e=[].concat(e),t=0;e.length>t;t++)n[t].value=e[t]},_resize:function(){var e,t=this,n=t.options.transitions;for(t.options.transitions=!1,e=0;t.pointers.length>e;e++)t.pointers[e].options.animation.transitions=!1;for(t.redraw(),t.options.transitions=n,e=0;t.pointers.length>e;e++)t.pointers[e].options.animation.transitions=n},redraw:function(){var e,t=this,n=h(t._getSize(),t.options.gaugeArea),r=new O([0,0],[n.width,n.height]);t.surface.clear(),t.gaugeArea=t._createGaugeArea(),t.surface.element.css({width:n.width,height:n.height}),t._createModel(),e=s(r.bbox(),t._gaugeAreaMargin),t.reflow(e)},_createGaugeArea:function(){var e,t=this,n=t.options.gaugeArea,r=t.surface.size(),i=(t._gaugeAreaMargin=n.margin||$,n.border||{}),o=new O([0,0],[r.width,r.height]);return i.width>0&&(o=s(o,i.width)),e=A.fromRect(o,{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:n.background}})},_createSurface:function(){var t,n=this,r=n.options,i=n._getSize();return i=r.gaugeArea?h(i,r.gaugeArea):i,t=e("<div></div>").appendTo(n.element).css({width:i.width,height:i.height}),new C.Surface.create(t,{type:r.renderAs})},getSize:function(){return this._getSize()},_getSize:function(){var e=this,t=e.element,n=t.width(),r=t.height();return n||(n=W),r||(r=U),{width:n,height:r}}}),ut=ot.extend({init:function(e,t){var n=this;ot.fn.init.call(n,e,t),f.notify(n,p.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},reflow:function(e){var t,n,r=this,i=r.pointers;r.scale.reflow(e);for(r._initialPlotArea=r.scale.bbox,t=0;i.length>t;t++)n=i[t].reflow(r.scale.arc),r._initialPlotArea=O.union(r._initialPlotArea,i[t].bbox);r.fitScale(e),r.alignScale(e),r._buildVisual(r.gaugeArea,i,r.scale),r._draw()},_buildVisual:function(e,t,n){var r,i,s=new L;for(s.append(e),s.append(n.ticks),s.append(n.ranges),i=0;t.length>i;i++)r=t[i],r.render(),s.append(r.elements),r.value(r.options.value);s.append(n.labelElements),this._visuals=s},fitScale:function(e){for(var t,n,r,i,s,o=this,u=o.scale,f=u.arc,l=o._initialPlotArea,c=a.abs(o.getDiff(l,e)),h=T(c,I),p=T(-c,I),d=0,v=0;!(!(v++<100)||(d=s===r?d+1:0,d>5)||h!=i&&(t=o.getPlotBox(h,e,f),t>=0&&2>=t)||p!=i&&(r=o.getPlotBox(p,e,f),r>=0&&2>=r)||(i=t>0&&r>0?2*h:0>t&&0>r?2*p:T((h+p)/2||1,I),n=o.getPlotBox(i,e,f),n>=0&&2>=n));)s=r,n>0?(p=i,r=n):(h=i,t=n)},getPlotBox:function(e,t,n){var r,i=this,s=i.scale,o=i.pointers,u=n.getRadiusX();for(n=n.clone(),n.setRadiusX(u+e).setRadiusY(u+e),s.arc=n,s.reflow(t),i.plotBbox=s.bbox,r=0;o.length>r;r++)o[r].reflow(n),i.plotBbox=O.union(i.plotBbox,o[r].bbox);return i.getDiff(i.plotBbox,t)},getDiff:function(e,t){return a.min(t.width()-e.width(),t.height()-e.height())},alignScale:function(e){var t,n=this,r=n.plotBbox.center(),i=e.center(),s=r.x-i.x,o=r.y-i.y,u=n.scale,a=n.pointers;for(u.arc.center.x-=s,u.arc.center.y-=o,u.reflow(e),t=0;a.length>t;t++)a[t].reflow(u.arc),n.plotBbox=O.union(u.bbox,a[t].bbox)},_createModel:function(){var t,n,r=this,i=r.options,s=i.pointer,o=r.scale=new st(i.scale);for(r.pointers=[],s=e.isArray(s)?s:[s],n=0;s.length>n;n++)t=new it(o,h({},s[n],{animation:{transitions:i.transitions}})),r.pointers.push(t)}}),at=ot.extend({init:function(e,t){var n=this;ot.fn.init.call(n,e,t),f.notify(n,p.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},reflow:function(e){var t,n=this,r=n.pointers,i=e.origin.x,s=e.origin.y,o=new p.Box2D(i,i,i+e.width(),s+e.height());for(n.scale.reflow(o),t=0;r.length>t;t++)r[t].reflow();n.bbox=n._getBox(o),n._alignElements(),n._shrinkElements(),n._buildVisual(),n._draw()},_buildVisual:function(){var e,t,n=this,r=new L,i=n.scale.render(),s=n.pointers;for(r.append(n.gaugeArea),r.append(i),t=0;s.length>t;t++)e=s[t],r.append(e.render()),e.value(e.options.value);n._visuals=r},_createModel:function(){var t,n,r,i=this,s=i.options,o=s.pointer,u=i.scale=new ft(s.scale);for(i.pointers=[],o=e.isArray(o)?o:[o],r=0;o.length>r;r++)n=h({},o[r],{animation:{transitions:s.transitions}}),t=n.shape===P?new ct(u,n):new ht(u,n),i.pointers.push(t)},_getSize:function(){var e=this,t=e.element,n=t.width(),r=t.height(),i=e.options.scale.vertical;return n||(n=i?X:W),r||(r=i?U:V),{width:n,height:r}},_getBox:function(e){var t,n,r=this,i=r.scale,s=r.pointers,o=e.center(),u=s[0].box.clone().wrap(i.box);for(n=0;s.length>n;n++)u.wrap(s[n].box.clone());return i.options.vertical?(t=u.width()/2,u=new y(o.x-t,e.y1,o.x+t,e.y2)):(t=u.height()/2,u=new y(e.x1,o.y-t,e.x2,o.y+t)),u},_alignElements:function(){var e,t,n=this,r=n.scale,i=n.pointers,s=r.box,o=i[0].box.clone().wrap(r.box),u=n.bbox;for(t=0;i.length>t;t++)o.wrap(i[t].box.clone());for(r.options.vertical?(e=u.center().x-o.center().x,r.reflow(new y(s.x1+e,u.y1,s.x2+e,u.y2))):(e=u.center().y-o.center().y,r.reflow(new y(u.x1,s.y1+e,u.x2,s.y2+e))),t=0;i.length>t;t++)i[t].reflow(n.bbox)},_shrinkElements:function(){var e,t=this,n=t.scale,r=t.pointers,i=n.box.clone(),s=n.options.vertical?"y":"x",o=r[0].box;for(e=0;r.length>e;e++)o.wrap(r[e].box.clone());for(i[s+1]+=a.max(i[s+1]-o[s+1],0),i[s+2]-=a.max(o[s+2]-i[s+2],0),n.reflow(i),e=0;r.length>e;e++)r[e].reflow(t.bbox)}}),ft=m.extend({init:function(e){var t=this;t.options=h({},t.options,e),t.options=h({},t.options,{labels:{mirror:t.options.mirror}}),t.options.majorUnit=t.options.majorUnit||d(t.options.min,t.options.max),g.fn.init.call(t,t.options),t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:Q,color:j,width:z,visible:!0},minorTicks:{size:10,align:Q,color:j,width:z,visible:!0},line:{width:z},labels:{position:Q,padding:2},mirror:!1,_alignLines:!1},render:function(){var e=this,t=e.elements=new L,n=e.renderLabels(),r=e.renderLine(),i=e.renderTicks(),s=e.renderRanges();return t.append(r,n,i,s),t},renderRanges:function(){var e,t,n,i,s,o=this,u=o.options,a=u.min,f=u.max,l=u.ranges||[],c=u.vertical,h=u.labels.mirror,p=new L,d=l.length,v=u.rangeSize||u.minorTicks.size/2;if(d)for(s=0;d>s;s++)e=r(l[s],a,f),t=o.getSlot(e.from,e.to),n=c?o.lineBox():t,i=c?t:o.lineBox(),c?n.x1-=v*(h?-1:1):i.y2+=v*(h?-1:1),p.append(A.fromRect(new O([n.x1,i.y1],[n.x2-n.x1,i.y2-i.y1]),{fill:{color:e.color,opacity:e.opacity},stroke:{}}));return p},renderLabels:function(){var e,t=this,r=t.options,i=t.labels,s=new L;for(e=0;i.length>e;e++)s.append(n(i[e],r.labels));return s},renderLine:function(){var e,t=this,n=t.options,r=n.line,i=t.lineBox(),s=new L;return r.width>0&&r.visible&&(e=new A({stroke:{color:r.color,dashType:r.dashType,width:r.width}}),e.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),s.append(e)),s},renderTicks:function(){function e(e,r){var o,a=e.length;if(r.visible)for(o=r.skip;a>o;o+=r.step)o%r.skipUnit!==0&&(u.tickX=s?i.x2:i.x2-r.size,u.tickY=s?i.y1-r.size:i.y1,u.position=e[o],n.append(t.renderAxisTick(u,r)))}var t=this,n=new L,r=t.options,i=t.lineBox(),s=r.labels.mirror,o=r.majorTicks.visible?r.majorUnit:0,u={_alignLines:r._alignLines,vertical:r.vertical};return e(t.getMajorTickPositions(),r.majorTicks),e(t.getMinorTickPositions(),h({},{skipUnit:o/r.minorUnit},r.minorTicks)),n},renderAxisTick:function(e,t){var n,r,i,s=e.tickX,o=e.tickY,u=e.position;return e.vertical?(n=new k(s,u),r=new k(s+t.size,u)):(n=new k(u,o),r=new k(u,o+t.size)),i=(new A({stroke:{color:t.color,width:t.width}})).moveTo(n).lineTo(r)}}),lt=rt.extend({init:function(e,t){var n=this;rt.fn.init.call(n,e,t),n.options=h({track:{visible:w(t.track)}},n.options)},options:{shape:B,track:{border:{width:1}},color:j,border:{width:1},opacity:1,margin:x(3),animation:{type:B},visible:!0},reflow:function(){var e,t,n,r=this,i=r.options,s=r.scale,o=s.lineBox(),u=i.track.size||i.size,a=i.size/2,f=s.options.mirror,l=x(i.margin),c=s.options.vertical,h=c?l[f?"left":"right"]:l[f?"bottom":"top"];h=f?-h:h,c?(n=new y(o.x1+h,o.y1,o.x1+h,o.y2),f?n.x1-=u:n.x2+=u,i.shape!==B&&(t=new y(o.x2+h,o.y1-a,o.x2+h,o.y2+a),e=t)):(n=new y(o.x1,o.y1-h,o.x2,o.y1-h),f?n.y2+=u:n.y1-=u,i.shape!==B&&(t=new y(o.x1-a,o.y1-h,o.x2+a,o.y1-h),e=t)),r.trackBox=n,r.pointerRangeBox=t,r.box=e||n.clone().pad(i.border.width)},getElementOptions:function(){var e=this.options;return new L,{fill:{color:e.color,opacity:e.opacity},stroke:w(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}},_margin:function(){var e=this,t=e.options,n=e.scale,r=n.options.mirror,i=x(t.margin),s=n.options.vertical,o=s?i[r?"left":"right"]:i[r?"bottom":"top"];return o}}),ct=lt.extend({init:function(e,n){lt.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.6*this.scale.options.majorTicks.size)},pointerShape:function(){var e,t,n=this,r=n.options,i=n.scale,s=r.size,o=i.options.vertical,u=s/2,a=i.options.mirror?-1:1,f=i.options.reverse;return o?(e=f?"y2":"y1",t=[new k(0,0-u),new k(0-a*s,0),new k(0,0+u)]):(e=f?"x1":"x2",t=[new k(0-u,0),new k(0,0+a*s),new k(0+u,0)]),t},repaint:function(){var e=this,t=e.scale,n=e.options,r=new o(e.elements,h(n.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:e._margin(n.margin),from:t.getSlot(n._oldValue),to:t.getSlot(n.value)}));n.animation.transitions===!1&&(r.options.duration=0),r.setup(),r.play()},render:function(){var e,t=this,n=t.options,r=new L,i=t.scale,s=t.getElementOptions(),o=t.pointerShape(n.value);return n.animation.type=H,r=(new A({stroke:s.stroke,fill:s.fill})).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),e=i.getSlot(n.value),r.transform(N.transform().translate(e.x1,e.y1)),t.elements=r,r}}),ht=lt.extend({init:function(e,n){lt.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.3*this.scale.options.majorTicks.size)},pointerShape:function(e){var t,n,r,i=this,s=i.options,o=i.scale,u=o.options.vertical,a=o.options.mirror,f=a==u?-1:1,l=s.size*f,c=o.getSlot(o.options.min),h=o.getSlot(e),p=u?nt:tt,d=u?tt:nt,v=i._margin()*f,m=new k;return m[p]=c[p+"1"],m[d]=c[d+"1"],t=new k,t[p]=h[p+"1"],t[d]=h[d+"1"],u?(m.translate(v,0),t.translate(v,0)):(m.translate(0,v),t.translate(0,v)),n=t.clone(),r=m.clone(),u?(n.translate(l,0),r.translate(l,0)):(n.translate(0,l),r.translate(0,l)),[m,t,n,r]},repaint:function(){var e,t=this,n=t.scale,r=t.options,i=t.pointerShape(r.value),s=t.elements.children[0],o=t.pointerShape(r._oldValue);s.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close(),e=new u(s,h(r.animation,{reverse:n.options.reverse,vertical:n.options.vertical,oldPoints:[o[1],o[2]],newPoints:[i[1],i[2]]})),r.animation.transitions===!1&&(e.options.duration=0),e.setup(),e.play()},render:function(){var e=this,t=new L,n=e.getElementOptions(),r=new A({stroke:n.stroke,fill:n.fill});return t.append(r),e.elements=t,t}}),pt=C.Animation.extend({init:function(e,t){C.Animation.fn.init.call(this,e,t),t=this.options,t.duration=a.max(a.abs(t.newAngle-t.oldAngle)/t.duration*1e3,1)},options:{easing:G,duration:_},step:function(e){var t=this,n=t.options,r=S(n.oldAngle,n.newAngle,e);t.element.transform(N.transform().rotate(r,n.center))}});C.AnimationFactory.current.register(et,pt),o=C.Animation.extend({options:{easing:G,duration:D},setup:function(){var e,t,n=this.options,r=(this.element.bbox().width()/2,n.margin),i=n.from,s=n.to,o=n.vertical?"x1":"y1";n.mirror==n.vertical?(i[o]-=r,s[o]-=r):(i[o]+=r,s[o]+=r),e=this.fromScale=new k(i.x1,i.y1),t=this.toScale=new k(s.x1,s.y1),0!==n.duration&&(n.duration=a.max(e.distanceTo(t)/n.duration*1e3,1))},step:function(e){var t=S(this.fromScale.x,this.toScale.x,e),n=S(this.fromScale.y,this.toScale.y,e);this.element.transform(N.transform().translate(t,n))}}),C.AnimationFactory.current.register(H,o),u=C.Animation.extend({options:{easing:G,speed:D},setup:function(){var e=this.options,t=e.newPoints,n=e.oldPoints,r=this.axis=e.vertical?nt:tt,i=this.to=t[0][r],s=this.from=n[0][r];0!==e.duration&&(e.duration=a.max(a.abs(i-s)/e.speed*1e3,1)),this._set(s)},step:function(e){var t=S(this.from,this.to,e);this._set(t)},_set:function(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}}),C.AnimationFactory.current.register(B,u),p.ui.plugin(ut),p.ui.plugin(at),p.ExportMixin.extend(ot.fn),h(p,{Gauge:ot,RadialPointer:it,LinearPointer:lt,ArrowLinearPointer:ct,BarLinearPointer:ht,LinearScale:ft,RadialScale:st,LinearGauge:at,RadialGauge:ut})}(window.kendo.jQuery),function(e,t){function n(e,t,n){return e.substring(t,t+n)}var r,i,s,o,u,a,f=window.kendo,l=f.ui.Widget,c=e.extend,h=f.deepExtend,p=e.inArray,d=e.isPlainObject,v=f.drawing,m=f.geometry,g=f.util,y=g.defined,b=f.dataviz,w=b.Box2D,E=b.TextBox,S=300,x=100,T=10,N=/^\d+$/,C=/^[a-z0-9]+$/i,k="Character '{0}' is not valid for symbology {1}",L=f.Class.extend({init:function(e){this.setOptions(e)},setOptions:function(e){var t=this;t.options=c({},t.options,e),t.quietZoneLength=t.options.addQuietZone?2*t.options.quietZoneLength:0},encode:function(e,t,n){var r=this;return y(e)&&(e+=""),r.initValue(e,t,n),r.options.addQuietZone&&r.addQuietZone(),r.addData(),r.options.addQuietZone&&r.addQuietZone(),{baseUnit:r.baseUnit,pattern:r.pattern}},options:{quietZoneLength:T,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||T)},addData:function(){},invalidCharacterError:function(e){throw Error(f.format(k,e,this.name))}}),A={},O=L.extend({minBaseUnitLength:.7,addData:function(){var e,t=this,n=t.value;for(t.addStart(),e=0;n.length>e;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.pushCheckSum(),t.addStop(),t.prepareValues()},addCharacter:function(e){var t=this,n=t.characterMap[e];n||t.invalidCharacterError(e),t.addBase(n)},addBase:function(){}}),M={addCharacter:function(e){var t=this;t.characterMap[e]?t.addBase(t.characterMap[e]):e.charCodeAt(0)>127?t.invalidCharacterError(e):t.addExtended(e.charCodeAt(0))},addExtended:function(e){var n,r,i,s=this;for(r=0;s.extendedMappings.length>r;r++)if(n=s.extendedMappings[r].call(s,e)){for(i=0;n.length>i;i++)s.addBase(n[i]);return s.dataLength+=n.length-1,t}},extendedMappings:[function(e){if(e>=97&&122>=e){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(e-32)]]}},function(e){if(e>=33&&58>=e){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(e+32)]]}},function(e){if(e>=1&&26>=e){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(e+64)]]}},function(e){var t,n,r,i=this;if(i.specialAsciiCodes[e])for(t=[],r=0;i.specialAsciiCodes[e].length>r;r++)t.push(i.characterMap[i.shiftCharacters[3]]),t.push(i.characterMap[i.specialAsciiCodes[e][r]]);else n=6*Math.floor(e/32)+(e-27)%32+64,t=[i.characterMap[i.shiftCharacters[3]],i.characterMap[String.fromCharCode(n)]];return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};A.code39=O.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(e,t,n){var r=this;r.width=t,r.height=n,r.value=e,r.dataLength=e.length,r.pattern=[],r.patternString=""},prepareValues:function(){var e,t,n=this,r=n.minBaseUnitLength,i=n.maxRatio,s=n.minRatio,o=Math.max(.15*n.width,24);if(o>n.height)throw Error("Insufficient Height. The minimum height for value: "+n.value+" is: "+o);for(;(e=n.getBaseUnit(i))<r&&i>s;)i=parseFloat((i-.1).toFixed(1));if(r>e)throw t=Math.ceil(n.getBaseWidth(s)*r),Error("Insufficient width. The minimum width for value: "+n.value+" is: "+t);n.ratio=i,n.baseUnit=e,n.patternString=n.patternString.substring(0,n.patternString.length-1),n.pattern=n.pattern.concat(n.patternString.replace(/ratio/g,i).split(n.splitCharacter))},getBaseUnit:function(e){return this.width/this.getBaseWidth(e)},getBaseWidth:function(e){var t=this,n=3*(e+2);return t.quietZoneLength+n*(t.dataLength+2)+t.gapWidth*(t.dataLength+1)},addStart:function(){var e=this;e.addPattern(e.characterMap.START.pattern),e.addCharacterGap()},addBase:function(e){this.addPattern(e.pattern),this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(e){for(var t=0;e.length>t;t++)this.patternString+=this.patternMappings[e.charAt(t)]},addCharacterGap:function(){var e=this;e.patternString+=e.gapWidth+e.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),A.code39extended=A.code39.extend(h({},M,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),A.code93=O.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(e,t,n){var r=this;r.value=e,r.width=t,r.height=n,r.pattern=[],r.values=[],r.dataLength=e.length},prepareValues:function(){var e=this,t=Math.max(.15*e.width,24);if(t>e.height)throw Error("Insufficient Height");if(e.setBaseUnit(),e.minBaseUnitLength>e.baseUnit)throw Error("Insufficient Width")},setBaseUnit:function(){var e=this,t=2;e.baseUnit=e.width/(9*(e.dataLength+2+t)+e.quietZoneLength+1)},addStart:function(){var e=this.characterMap.START.pattern;this.addPattern(e)},addStop:function(){var e=this;e.addStart(),e.pattern.push(e.characterMap.TERMINATION_BAR)},addBase:function(e){this.addPattern(e.pattern),this.values.push(e.value)},pushCheckSum:function(){var e,t,n=this,r=n._getCheckValues();for(n.checksum=r.join(""),t=0;r.length>t;t++)e=n.characterMap[n._findCharacterByValue(r[t])],n.addPattern(e.pattern)},_getCheckValues:function(){var e,t,n,r=this,i=r.values,s=i.length,o=0;for(n=s-1;n>=0;n--)o+=r.weightedValue(i[n],s-n,r.cCheckSumTotal);for(e=o%r.checkSumMod,o=r.weightedValue(e,1,r.kCheckSumTotal),n=s-1;n>=0;n--)o+=r.weightedValue(i[n],s-n+1,r.kCheckSumTotal);return t=o%r.checkSumMod,[e,t]},_findCharacterByValue:function(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},weightedValue:function(e,t,n){return(t%n||n)*e},addPattern:function(e){var t,n;for(n=0;e.length>n;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),A.code93extended=A.code93.extend(h({},M,{name:"Code 93 extended",pushCheckSum:function(){var e,t,n=this,r=n._getCheckValues();for(n.checksum=r.join(""),t=0;r.length>t;t++)e=r[t],n.shiftValuesAsciiCodes[e]?n.addExtended(n.shiftValuesAsciiCodes[e]):n.addPattern(n.characterMap[n._findCharacterByValue(e)].pattern)}})),r=f.Class.extend({init:function(e){this.encoding=e},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),i=r.extend({FNC4:"FNC4",init:function(e,t){var n=this;n.encoding=e,n.states=t,n._initMoves(t)},addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},move:function(e){for(var t=this,n=0;!t._moves[n].call(t,e)&&t._moves.length>n;)n++},pushState:function(e){var t,n,r=this,i=r.states,s=e.value,o=s.length;for(p("C",i)>=0&&(n=s.substr(e.index).match(/\d{4,}/g),n&&(o=s.indexOf(n[0],e.index)));(t=e.value.charCodeAt(e.index))>=0&&r.isCode(t)&&o>e.index;)r.encoding.addPattern(r.getValue(t)),e.index++},_initMoves:function(e){var t=this;t._moves=[],p(t.FNC4,e)>=0&&t._moves.push(t._moveFNC),p(t.shiftKey,e)>=0&&t._moves.push(t._shiftState),t._moves.push(t._moveState)},_moveFNC:function(e){return e.fnc?(e.fnc=!1,e.previousState==this.key):t},_shiftState:function(e){var n=this;return e.previousState==n.shiftKey&&(e.index+1>=e.value.length||n.encoding[n.shiftKey].is(e.value,e.index+1))?(n.encoding.addPattern(n.SHIFT),e.shifted=!0,!0):t},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),s={},s.A=i.extend({key:"A",shiftKey:"B",isCode:function(e){return e>=0&&96>e},getValue:function(e){return 32>e?e+64:e-32},MOVE:101,START:103}),s.B=i.extend({key:"B",shiftKey:"A",isCode:function(e){return e>=32&&128>e},getValue:function(e){return e-32},MOVE:100,START:104}),s.C=r.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(e,t){var r=n(e,t,4);return(e.length>=t+4||2==e.length)&&N.test(r)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(e){for(var t;(t=n(e.value,e.index,2))&&N.test(t)&&2==t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2},getValue:function(e){return e},MOVE:99,START:105}),s.FNC4=r.extend({key:"FNC4",dependentStates:["A","B"],init:function(e,t){this.encoding=e,this._initSubStates(t)},addStart:function(e){var t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()},is:function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},isCode:function(e){return e>=128&&256>e},pushState:function(e){var t,n=this,r=n._initSubState(e),i=n.encoding,s=r.value.length;if(e.index+=s,3>s)for(;s>r.index;r.index++)t=r.value.charCodeAt(r.index),r.state=n._getSubState(t),r.previousState!=r.state&&(r.previousState=r.state,i[r.state].move(r)),i.addPattern(i[r.state].MOVE),i.addPattern(i[r.state].getValue(t));else r.state!=r.previousState&&i[r.state].move(r),n._pushStart(r),i.pushData(r,n.subStates),e.value.length>e.index&&n._pushStart(r);e.fnc=!0,e.state=r.state},_pushStart:function(e){var t=this;t.encoding.addPattern(t.encoding[e.state].MOVE),t.encoding.addPattern(t.encoding[e.state].MOVE)},_initSubState:function(e){var t=this,n={value:t._getAll(e.value,e.index),index:0};return n.state=t._getSubState(n.value.charCodeAt(0)),n.previousState=e.previousState==t.key?n.state:e.previousState,n},_initSubStates:function(e){var t,n=this;for(n.subStates=[],t=0;e.length>t;t++)p(e[t],n.dependentStates)>=0&&n.subStates.push(e[t])},_getSubState:function(e){var t,n=this;for(t=0;n.subStates.length>t;t++)if(n.encoding[n.subStates[t]].isCode(e))return n.subStates[t]},_getAll:function(e,t){for(var n,r="";(n=e.charCodeAt(t++))&&this.isCode(n);)r+=String.fromCharCode(n-128);return r}}),s.FNC1=r.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(e,t){this.encoding=e,this.states=t},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return p(this.key,this.states)>=0},pushState:function(e){var t,n,r,i=this,s=i.encoding,o=e.value.replace(/\s/g,""),u=RegExp("["+i.startAI+i.endAI+"]","g"),a=e.index,f={state:i.startState};for(s.addPattern(i.START);;){if(f.index=0,r=o.charAt(a)===i.startAI?2:0,t=r>0?i.getBySeparator(o,a):i.getByLength(o,a),t.ai.length)n=a+r+t.id.length+t.ai.length;else if(n=o.indexOf(i.startAI,a+1),0>n){if(o.length>a+t.ai.max+t.id.length+r)throw Error("Separators are required after variable length identifiers");n=o.length}if(f.value=o.substring(a,n).replace(u,""),i.validate(t,f.value),s.pushData(f,i.dependentStates),n>=o.length)break;a=n,f.state!=i.startState&&(s[i.startState].move(f),f.state=i.startState),t.ai.length||s.addPattern(i.START)}e.index=e.value.length},validate:function(e,t){var n=t.substr(e.id.length),r=e.ai;if(!r.type&&!N.test(n))throw Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==r.type&&!C.test(n))throw Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(r.length&&r.length!==n.length)throw Error("Application identifier "+e.id+" must be "+r.length+" characters long.");if(r.min&&r.min>n.length)throw Error("Application identifier "+e.id+" must be at least "+r.min+" characters long.");if(r.max&&n.length>r.max)throw Error("Application identifier "+e.id+" must be at most "+r.max+" characters long.")},getByLength:function(e,t){var r,i,s,o=this;for(s=2;4>=s;s++)if(r=n(e,t,s),i=o.getAI(r)||o.getAI(r.substring(0,r.length-1)))return{id:r,ai:i};o.unsupportedAIError(r)},unsupportedAIError:function(e){throw Error(f.format("'{0}' is not a supported Application Identifier"),e)},getBySeparator:function(e,t){var n=this,r=e.indexOf(n.startAI,t),i=e.indexOf(n.endAI,r),s=e.substring(r+1,i),o=n.getAI(s)||n.getAI(s.substr(s.length-1));return o||n.unsupportedAIError(s),{ai:o,id:s}},getAI:function(e){var t,n,r,i=this.applicationIdentifiers,s=i.multiKey;if(i[e])return i[e];for(t=0;s.length>t;t++){if(s[t].ids&&p(e,s[t].ids)>=0)return s[t].type;if(s[t].ranges)for(n=s[t].ranges,r=0;n.length>r;r++)if(e>=n[r][0]&&n[r][1]>=e)return s[t].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),o=L.extend({init:function(e){L.fn.init.call(this,e),this._initStates()},_initStates:function(){var e,t=this;for(e=0;t.states.length>e;e++)t[t.states[e]]=new s[t.states[e]](t,t.states)},initValue:function(e,t,n){var r=this;r.pattern=[],r.value=e,r.width=t,r.height=n,r.checkSum=0,r.totalUnits=0,r.index=0,r.position=1},addData:function(){var e=this,t={value:e.value,index:0,state:""};0!==e.value.length&&(t.state=t.previousState=e.getNextState(t,e.states),e.addStart(t),e.pushData(t,e.states),e.addCheckSum(),e.addStop(),e.setBaseUnit())},pushData:function(e,t){for(var n,r=this;;){if(r[e.state].pushState(e),e.index>=e.value.length)break;e.shifted?(n=e.state,e.state=e.previousState,e.previousState=n,e.shifted=!1):(e.previousState=e.state,e.state=r.getNextState(e,t),r[e.state].move(e))}},addStart:function(e){this[e.state].addStart(e),this.position=1},addCheckSum:function(){var e=this;e.checksum=e.checkSum%103,e.addPattern(e.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength)},addPattern:function(e){var t,n,r=this,i=""+r.characterMap[e];for(n=0;i.length>n;n++)t=parseInt(i.charAt(n),10),r.pattern.push(t),r.totalUnits+=t;r.checkSum+=e*r.position++},getNextState:function(e,t){for(var n=0;t.length>n;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106}),A.code128a=o.extend({name:"Code 128 A",states:["A"]}),A.code128b=o.extend({name:"Code 128 B",states:["B"]}),A.code128c=o.extend({name:"Code 128 C",states:["C"]}),A.code128=o.extend({name:"Code 128",states:["C","B","A","FNC4"]}),A["gs1-128"]=o.extend({name:"Code GS1-128",states:["FNC1","C","B"]}),u=L.extend({initValue:function(e,t){var n=this;n.pattern=[],n.value=e,n.checkSumLength=0,n.width=t},setBaseUnit:function(){var e=this,t=7;e.baseUnit=e.width/(12*(e.value.length+e.checkSumLength)+e.quietZoneLength+t)},addData:function(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit()},addCharacter:function(e){var t=this,n=t.characterMap[e];n||t.invalidCharacterError(e),t.addPattern(n)},addPattern:function(e){for(var t=0;e.length>t;t++)this.pattern.push(parseInt(e.charAt(t),10))},addCheckSum:function(){var e,t=this,n=t.checkSums[t.checkSumType],r=n.call(t.checkSums,t.value);for(t.checksum=r.join(""),e=0;r.length>e;e++)t.checkSumLength++,t.addPattern(t.characterMap[r[e]])},checkSums:{Modulo10:function(e){var t,n,r,i=[0,""],s=e.length%2;for(t=0;e.length>t;t++)i[(t+s)%2]+=parseInt(e.charAt(t),10);for(r=i[0],n=""+2*i[1],t=0;n.length>t;t++)r+=parseInt(n.charAt(t),10);return[(10-r%10)%10]},Modulo11:function(e){var t,n,r,i=0,s=11,o=e.length;for(r=0;o>r;r++)t=((o-r)%6||6)+1,i+=t*e.charAt(r);return n=(s-i%s)%s,10!=n?[n]:[1,0]},Modulo11Modulo10:function(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t))},Modulo10Modulo10:function(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""}),A.msimod10=u.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),A.msimod11=u.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),A.msimod1110=u.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),A.msimod1010=u.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),A.code11=L.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(e,t){var n=this;n.pattern=[],n.value=e,n.width=t,n.totalUnits=0},addData:function(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit()},setBaseUnit:function(){var e=this;e.baseUnit=e.width/(e.totalUnits+e.quietZoneLength)},addCheckSum:function(){var e,t=this,n=t.value,r=n.length,i=t.getWeightedSum(n,r,t.cCheckSumTotal)%t.checkSumMod;t.checksum=i+"",t.addPattern(t.characterMap[i]),r++,r>=t.kCheckSumMinLength&&(e=(i+t.getWeightedSum(n,r,t.kCheckSumTotal))%t.checkSumMod,t.checksum+=e,t.addPattern(t.characterMap[e]))},getWeightedSum:function(e,t,n){var r,i=0;for(r=0;e.length>r;r++)i+=this.weightedValue(this.getValue(e.charAt(r)),t,r,n);return i},weightedValue:function(e,t,n,r){var i=(t-n)%r||r;return i*e},getValue:function(e){var t=this;return isNaN(e)?(e!==t.DASH&&t.invalidCharacterError(e),t.DASH_VALUE):parseInt(e,10)},addCharacter:function(e){var t=this,n=t.getValue(e),r=t.characterMap[n];t.addPattern(r)},addPattern:function(e){var t,n;for(n=0;e.length>n;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),A.postnet=L.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(e,t,n){var r=this;r.height=n,r.width=t,r.baseHeight=n/2,r.value=e.replace(RegExp(r.DIGIT_SEPARATOR,"g"),""),r.pattern=[],r.validate(r.value),r.checkSum=0,r.setBaseUnit()},addData:function(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.length>e;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.START),t.pattern.pop()},addCharacter:function(e){var t=this,n=t.characterMap[e];t.checkSum+=parseInt(e,10),t.addPattern(n)},addCheckSum:function(){var e=this;e.checksum=(10-e.checkSum%10)%10,e.addCharacter(e.checksum)},setBaseUnit:function(){var e=this,t=3;e.baseUnit=e.width/(10*(e.value.length+1)+t+e.quietZoneLength)},validate:function(e){var t=this;if(N.test(e)||t.invalidCharacterError(e.match(/[^0-9]/)[0]),p(e.length,t.VALID_CODE_LENGTHS)<0)throw Error("Invalid value length. Valid lengths for the Postnet symbology are "+t.VALID_CODE_LENGTHS.join(","))},addPattern:function(e){var t,n,r=this;for(n=0;e.length>n;n++)t=r.height-r.baseHeight*e.charAt(n),r.pattern.push({width:1,y1:t,y2:r.height}),r.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),A.ean13=L.extend({initValue:function(e,t,n){if(e+="",12!=e.length||/\D/.test(e))throw Error('The value of the "EAN13" encoding should be 12 symbols');var r=this;r.pattern=[],r.options.height=n,r.baseUnit=t/(95+r.quietZoneLength),r.value=e,r.checksum=r.calculateChecksum(),r.leftKey=e[0],r.leftPart=e.substr(1,6),r.rightPart=e.substr(7)+r.checksum},addData:function(){var e=this;e.addPieces(e.characterMap.start),e.addSide(e.leftPart,e.leftKey),e.addPieces(e.characterMap.middle),e.addSide(e.rightPart),e.addPieces(e.characterMap.start)},addSide:function(e,t){var n,r=this;for(n=0;e.length>n;n++)t&&parseInt(r.keyTable[t].charAt(n),10)?r.addPieces(Array.prototype.slice.call(r.characterMap.digits[e.charAt(n)]).reverse(),!0):r.addPieces(r.characterMap.digits[e.charAt(n)],!0)},addPieces:function(e,t){var n,r=this;for(n=0;e.length>n;n++)r.pattern.push(t?{y1:0,y2:.95*r.options.height,width:e[n]}:e[n])},calculateChecksum:function(){var e,t,n=0,r=0,i=this.value.split("").reverse().join("");for(e=0;i.length>e;e++)e%2?r+=parseInt(i.charAt(e),10):n+=parseInt(i.charAt(e),10);return t=(10-(3*n+r)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),A.ean8=A.ean13.extend({initValue:function(e,t,n){var r=this;if(7!=e.length||/\D/.test(e))throw Error("Invalid value provided");r.value=e,r.options.height=n,r.checksum=r.calculateChecksum(r.value),r.leftPart=r.value.substr(0,4),r.rightPart=r.value.substr(4)+r.checksum,r.pattern=[],r.baseUnit=t/(67+r.quietZoneLength)}}),a=l.extend({init:function(t,n){var r=this;l.fn.init.call(r,t,n),r.element=e(t),r.wrapper=r.element,r.element.addClass("k-barcode").css("display","block"),r.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),r.surface=v.Surface.create(r.surfaceWrap,{type:r.options.renderAs}),r.setOptions(n)},setOptions:function(e){var t=this;if(t.type=(e.type||t.options.type).toLowerCase(),"upca"==t.type&&(t.type="ean13",e.value="0"+e.value),"upce"==t.type&&(t.type="ean8",e.value="0"+e.value),!A[t.type])throw Error("Encoding "+t.type+"is not supported.");t.encoding=new A[t.type],t.options=c(!0,t.options,e),y(e.value)&&t.redraw()},redraw:function(){var e=this._getSize();this.surfaceWrap.css({width:e.width,height:e.height}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSize:function(){return f.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var e,t,n,r=this,i=r.options,s=i.value,o=i.text,u=b.getSpacing(o.margin),a=r._getSize(),f=i.border||{},l=r.encoding,c=w(0,0,a.width,a.height).unpad(f.width).unpad(i.padding),h=c.height(),p=new v.Group;return r.contentBox=c,p.append(r._getBackground(a)),o.visible&&(n=v.util.measureText(s,{font:o.font}).height,h-=n+u.top+u.bottom),e=l.encode(s,c.width(),h),o.visible&&(t=s,i.checksum&&y(l.checksum)&&(t+=" "+l.checksum),p.append(r._getText(t))),r.barHeight=h,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),p.append(this._bandsGroup),p},exportVisual:function(){return this._render()},_getSize:function(){var e=this,t=e.element,n=new m.Size(S,x);return t.width()>0&&(n.width=t.width()),t.height()>0&&(n.height=t.height()),e.options.width&&(n.width=e.options.width),e.options.height&&(n.height=e.options.height),n},value:function(e){var n=this;return y(e)?(n.options.value=e+"",n.redraw(),t):n.options.value},_getBands:function(e,t){var n,r,i,s,o,u=this,a=u.contentBox,f=a.x1,l=new v.Group;for(i=0;e.length>i;i++)r=d(e[i])?e[i]:{width:e[i],y1:0,y2:u.barHeight},n=r.width*t,i%2&&(s=m.Rect.fromPoints(new m.Point(f,r.y1+a.y1),new m.Point(f+n,r.y2+a.y1)),o=v.Path.fromRect(s,{fill:{color:u.options.color},stroke:null}),l.append(o)),f+=n;return l},_getBackground:function(e){var t=this,n=t.options,r=n.border||{},i=w(0,0,e.width,e.height).unpad(r.width/2),s=v.Path.fromRect(i.toRect(),{fill:{color:n.background},stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType}});return s},_getText:function(e){var t=this,n=t.options.text,r=t._textbox=new E(e,{font:n.font,color:n.color,align:"center",vAlign:"bottom",margin:n.margin});return r.reflow(t.contentBox),r.renderVisual(),r.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}),b.ExportMixin.extend(a.fn),b.ui.plugin(a),f.deepExtend(b,{encodings:A,Encoding:L})}(window.kendo.jQuery),function(e,t){function n(e){return parseInt(e,2)}function r(e,t){var n=(+e).toString(2);return t>n.length&&(n=Array(t-n.length+1).join(0)+n),n}function i(e,t){for(var n=[],r=0;e.length>r;)n.push(e.substring(r,r+t)),r+=t;return n}function s(e,t,n,r){for(var i=0;e.length>i;i++)e[i][n][r]=t}function o(e,t,n,r){for(var i=0;gt.length>i;i++)e[i][n][r]=gt[i](n,r)?1^t:parseInt(t,10)}function u(){var e,t;for(t=1;255>t;t++)e=2*st[t-1],e>255&&(e=285^e),st[t]=e,it[e]=t;e=2*st[t-1]^285,st[t]=e,st[-1]=0}function a(){var e,t,n,r=68;for(e=2;r>=e;e++)t=ot[e-1],n=[e,0],ot[e]=w(t,n)}function f(e,n){var r=[],i=e.length-1;do r[i]=st[(e[i]+n)%255],i--;while(e[i]!==t);return r}function l(e,t){return parseInt(e.charAt(t),10)}function c(e,t,n,r,i){t[e][r]=(t[e][r]<<1^i)%128,t[e][r]==mt&&(n[e]+=40)}function h(e,t,n,r,i,s){n[e][s]==r?i[e][s]++:(n[e][s]=r,i[e][s]>=5&&(t[e]+=3+i[e][s]-5),i[e][s]=1)}function p(e,t){var n=Math.floor(e/t*100),r=n%5,i=Math.abs(n-r-50),s=Math.abs(n+5-r-50),o=10*Math.min(i/5,s/5);return o}var d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J=window.kendo,K=e.extend,Q=J.drawing,G=J.dataviz,Y=J.ui.Widget,Z=G.Box2D,et="0000",tt="numeric",nt="alphanumeric",rt="byte",it={1:0},st={0:1},ot=[[1,0],[1,25,0]],ut={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},at=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],ft=[1,0,1,1,1],lt=[1,0,1],ct={L:"01",M:"00",Q:"11",H:"10"},ht="101010000010010",pt="10100110111",dt="1111100100101",vt=["11101100","00010001"],mt=93,gt=[function(e,t){return(e+t)%2===0},function(e){return e%2===0},function(e,t){return t%3===0},function(e,t){return(e+t)%3===0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2===0},function(e,t){return e*t%2+e*t%3===0},function(e,t){return(e*t%2+e*t%3)%2===0},function(e,t){return((e+t)%2+e*t%3)%2===0}],yt=/^\d+/,bt="A-Z0-9 $%*+./:-",wt="A-Z $%*+./:-",Et=RegExp("^["+wt+"]+"),St=RegExp("^["+bt+"]+"),xt=RegExp("^[^"+bt+"]+"),Tt=8,Nt=5,Ct=8,kt=17,Lt=9,At=16,Ot=Math.round,Mt=J.Class.extend({getVersionIndex:function(e){return 10>e?0:e>26?2:1},getBitsCharacterCount:function(e){var t=this;return t.bitsInCharacterCount[t.getVersionIndex(e||40)]},getModeCountString:function(e,t){var n=this;return n.modeIndicator+r(e,n.getBitsCharacterCount(t))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),_t={};_t[tt]=Mt.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(e){return parseInt(e,10)},encode:function(e,t){var n,s=this,o=i(e,3),u=s.getModeCountString(e.length,t);for(n=0;o.length-1>n;n++)u+=r(o[n],10);return u+r(o[n],1+3*o[n].length)},getStringBitsLength:function(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)}}),_t[nt]=Mt.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(e){return this.characters[e]},encode:function(e,t){var n,s,o=this,u=i(e,2),a=o.getModeCountString(e.length,t);for(s=0;u.length-1>s;s++)n=45*o.getValue(u[s].charAt(0))+o.getValue(u[s].charAt(1)),a+=r(n,11);return n=2==u[s].length?45*o.getValue(u[s].charAt(0))+o.getValue(u[s].charAt(1)):o.getValue(u[s].charAt(0)),a+r(n,1+5*u[s].length)},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+6*(e%2)}}),_t[rt]=Mt.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(e){var t=e.charCodeAt(0);if(127>=t||t>=160&&255>=t)return t;throw Error("Unsupported character: "+e)},encode:function(e,t){var n,i=this,s=i.getModeCountString(e.length,t);for(n=0;e.length>n;n++)s+=r(i.getValue(e.charAt(n)),8);return s},getStringBitsLength:function(e,t){return 4+this.getBitsCharacterCount(t)+8*e}}),d={};for(v in _t)d[v]=new _t[v];m=function(e){var n=this,r=e.length-1,i=e.length-1,s=i,o=-1,u=0;n.move=function(){r+=o*u,u^=1,i=s-u},n.getNextCell=function(){for(;e[r][i]!==t;)n.move(),(0>r||r>=e.length)&&(o=-o,s-=8!=s?2:3,i=s,r=0>o?e.length-1:0);return{row:r,column:i}},n.getNextRemainderCell=function(){return n.move(),e[r][i]===t?{row:r,column:i}:t}},g=function(e,t){var n,r,i,s,u,a,f=new m(e[0]);for(s=0;t.length>s;s++)for(n=t[s],r=0;n.length>0;){for(u=0;n.length>u;u++)for(a=0;8>a;a++)i=f.getNextCell(),o(e,n[u][r].charAt(a),i.row,i.column);for(r++;n[0]&&r==n[0].length;)n.splice(0,1)}for(;i=f.getNextRemainderCell();)o(e,0,i.row,i.column)},y=function(e,t){for(var n=8*t,r=0,i=0;n>e.length&&et.length>r;)e+=et.charAt(r++);for(e.length%8!==0&&(e+=Array(9-e.length%8).join("0"));n>e.length;)e+=vt[i],i^=1;return e},b=function(e,t){var n,r=[],i=e.length-2;for(n=i;n>=0;n--)r[n]=e[n]^t[n];return r},w=function(e,n){var r,i,s=[];for(r=0;e.length>r;r++)for(i=0;n.length>i;i++)s[r+i]=s[r+i]===t?(e[r]+(n[i]>=0?n[i]:0))%255:it[st[s[r+i]]^st[(e[r]+n[i])%255]];return s},u(),a(),E=function(e,t){var n,i,s=ot[t-1],o=Array(t).concat(e),u=Array(o.length-s.length).concat(s),a=e.length,l=[];for(i=0;a>i;i++)n=f(u,it[o[o.length-1]]),u.splice(0,1),o=b(n,o);for(i=o.length-1;i>=0;i--)l[t-1-i]=r(o[i],8);return l},S=function(e,t){var r,i,s,o,u,a,f,l,c=0,h=[],p=[],d=t.groups;for(a=0;d.length>a;a++)for(s=d[a][0],f=0;s>f;f++){for(i=d[a][1],r=[],o=[],l=1;i>=l;l++)u=e.substring(c,c+8),r.push(u),o[i-l]=n(u),c+=8;h.push(r),p.push(E(o,t.errorCodewordsPerBlock))}return[h,p]},x=function(e,t,n,r,i){var s,o,u=yt.exec(e),a=u?u[0]:"",f=Et.exec(e),l=f?f[0]:"",c=St.exec(e),h=c?c[0]:"";return a&&(a.length>=t||e.length==a.length||a.length>=n&&!St.test(e.charAt(a.length)))?(s=tt,o=a):h&&(e.length==h.length||h.length>=r||i==nt)?(s=nt,o=a||l):(s=rt,o=h?h+xt.exec(e.substring(h.length))[0]:xt.exec(e)[0]),{mode:s,modeString:o}},T=function(e){var t,n,r=[],i=0;for(r.push(x(e,Tt,Nt,Ct,t)),t=r[0].mode,e=e.substr(r[0].modeString.length);e.length>0;)n=x(e,kt,Lt,At,t),n.mode!=t?(t=n.mode,r.push(n),i++):r[i].modeString+=n.modeString,e=e.substr(n.modeString.length);return r},N=function(e){var t,n,r=0;for(n=0;e.length>n;n++)t=d[e[n].mode],r+=t.getStringBitsLength(e[n].modeString.length);return Math.ceil(r/8)},C=function(e,t){var n=0,r=at.length-1,i=Math.floor(at.length/2);do at[i][t].totalDataCodewords>e?r=i:n=i,i=n+Math.floor((r-n)/2);while(r-n>1);return at[n][t].totalDataCodewords>=e?i+1:r+1},k=function(e,t){var n,r,i="";for(r=0;e.length>r;r++)n=d[e[r].mode],i+=n.encode(e[r].modeString,t);return i},L=function(e){var t,r,i=n(e),s="";if(0===i)return"101010000010010";for(t=A(n(e),pt,15),r=0;t.length>r;r++)s+=t.charAt(r)^ht.charAt(r);return s},A=function(e,t,i){var s=n(t),o=t.length-1,u=e<<o,a=i-o,f=r(e,a),l=O(u,s);return l=f+r(l,o)},O=function(e,t){var n=t.toString(2).length,r=e.toString(2).length;do e^=t<<r-n,r=e.toString(2).length;while(r>=n);return e},M=function(e){var t,n,r=[],i=17+4*e;for(t=0;gt.length>t;t++)for(r[t]=Array(i),n=0;i>n;n++)r[t][n]=Array(i);return r},_=function(e,t){var n,r,i=e[0],o=0,u=t.length;for(n=0,r=8;8>=n;n++)6!==n&&s(e,l(t,u-1-o++),n,r);for(n=8,r=7;r>=0;r--)6!==r&&s(e,l(t,u-1-o++),n,r);for(o=0,r=i.length-1,n=8;r>=i.length-8;r--)s(e,l(t,u-1-o++),n,r);for(s(e,1,i.length-8,8),n=i.length-7,r=8;i.length>n;n++)s(e,l(t,u-1-o++),n,r)},D=function(e){return A(e,dt,18)},P=function(e,t){var n,r,i,o,u=e[0],a=u.length,f=0,c=a-11,h=a-11,p=0;for(o=0;t.length>o;o++)n=Math.floor(o/3),r=o%3,i=l(t,t.length-o-1),s(e,i,f+n,c+r),s(e,i,h+r,p+n)},H=function(e,t,n,r){var i,o,u,a=t.length+2,f=t.length+1;for(o=0;t.length>o;o++)for(u=o;a-o>u;u++)i=t[o],s(e,i,n+u,r+o),s(e,i,n+o,r+u),s(e,i,n+f-u,r+f-o),s(e,i,n+f-o,r+f-u)},B=function(e,t,n,r){var i=n,o=r,u=e[0];do s(e,0,i,r),s(e,0,n,o),i+=t[0],o+=t[1];while(i>=0&&u.length>i)},j=function(e){var t=e[0].length;H(e,ft,0,0),B(e,[-1,-1],7,7),H(e,ft,t-7,0),B(e,[1,-1],t-8,7),H(e,ft,0,t-7),B(e,[-1,1],7,t-8)},F=function(e,n){var r,i,s,o,u,a,f,l,c;if(!(2>n)){for(r=e[0],i=r.length,s=Math.floor(n/7),o=[6],f=0,(u=ut[n])?a=(i-13-u)/s:u=a=(i-13)/(s+1),o.push(o[f++]+u);i>o[f]+a;)o.push(o[f++]+a);for(l=0;o.length>l;l++)for(c=0;o.length>c;c++)r[o[l]][o[c]]===t&&H(e,lt,o[l]-2,o[c]-2)}},I=function(e){var t,n=6,r=6,i=1,o=e[0].length;for(t=8;o-8>t;t++)s(e,i,n,t),s(e,i,t,r),i^=1},q=function(e){var t,n,r,i,s,o,u,a=[],f=[],l=[],d=[],v=[],m=0,g=1,y=e[0].length;for(n=0;e.length>n;n++)a[n]=0,l[n]=0,v[n]=[0,0],d[n]=[0,0],f[n]=[];for(n=0;y>n;n++)for(r=0;y>r;r++)for(i=0;e.length>i;i++)t=e[i],l[i]+=parseInt(t[n][r],10),f[i][m]===t[n][r]&&y>n+1&&r-1>=0&&t[n+1][r]==f[i][m]&&t[n+1][r-1]==f[i][m]&&(a[i]+=3),c(i,d,a,m,t[n][r]),c(i,d,a,g,t[r][n]),h(i,a,f,t[n][r],v,m),h(i,a,f,t[r][n],v,g);for(s=y*y,u=Number.MAX_VALUE,n=0;a.length>n;n++)a[n]+=p(l[n],s),u>a[n]&&(u=a[n],o=n);return o},R=function(e,t){this.dataString=e,this.version=t},U=function(){this.getEncodingResult=function(e,t){var n=T(e),r=N(n),i=C(r,t),s=k(n,i);return new R(s,i)}},z=function(){this.mode=d[this.encodingMode]},z.fn=z.prototype={encodingMode:rt,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(e,t){var n=this,r=n.encode(e),i=n.getDataCodewordsCount(r),s=C(i,t),o=n.mode.getModeCountString(r.length/8,s)+r;return new R(o,s)},getDataCodewordsCount:function(e){var t=this,n=e.length,r=Math.ceil((t.initialModeCountStringLength+n)/8);return r},encode:function(e){var t,n=this,r=n.utfBOM;for(t=0;e.length>t;t++)r+=n.encodeCharacter(e.charCodeAt(t));return r},encodeCharacter:function(e){var t,n,i=this.getBytesCount(e),s=i-1,o="";if(1==i)o=r(e,8);else{for(t=8-i,n=0;s>n;n++)o=r(e>>6*n&63|128,8)+o;o=(e>>6*s|255>>t<<t).toString(2)+o}return o},getBytesCount:function(e){var t,n=this.ranges;for(t=0;n.length>t;t++)if(n[t]>e)return t+1},ranges:[128,2048,65536,2097152,67108864]},W=function(e){return e&&e.toLowerCase().indexOf("utf_8")>=0?new z:new U},X=function(e,t,n){var i,s,o,u=new W(n),a=u.getEncodingResult(e,t),f=a.version,l=at[f-1][t],c=y(a.dataString,l.totalDataCodewords),h=S(c,l),p=M(f);return j(p),F(p,f),I(p),f>=7&&P(p,r(0,18)),_(p,r(0,15)),g(p,h),i=q(p),s=p[i],f>=7&&P([s],D(f)),o=ct[t]+r(i,3),_([s],L(o)),s},V={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},$=Y.extend({init:function(t,n){var r=this;Y.fn.init.call(r,t,n),r.element=e(t),r.wrapper=r.element,r.element.addClass("k-qrcode"),r.surfaceWrap=e("<div />").css("position","relative").appendTo(this.element),r.surface=Q.Surface.create(r.surfaceWrap,{type:r.options.renderAs}),r.setOptions(n)},redraw:function(){var e=this._getSize();this.surfaceWrap.css({width:e,height:e}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSize:function(){return J.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var e,t,n,r,i,s,o,u=this,a=u._value,f=u.options.border||{},l=u.options.padding||0,c=f.width||0;return f.width=c,o=new Q.Group,a&&(n=X(a,u.options.errorCorrection,u.options.encoding),r=u._getSize(),s=r-2*(c+l),e=u._calculateBaseUnit(s,n.length),i=n.length*e,t=c+l+(s-i)/2,o.append(u._renderBackground(r,f)),o.append(u._renderMatrix(n,e,t))),o},_getSize:function(){var e,t,n,r=this;return r.options.size?e=parseInt(r.options.size,10):(t=r.element,n=Math.min(t.width(),t.height()),e=n>0?n:V.DEFAULT_SIZE),e},_calculateBaseUnit:function(e,t){var n=Math.floor(e/t);if(V.MIN_BASE_UNIT_SIZE>n)throw Error("Insufficient size.");return n*t>=e&&n-1>=V.MIN_BASE_UNIT_SIZE&&n--,n},_renderMatrix:function(e,t,n){var r,i,s,o,u,a,f,l,c=new Q.MultiPath({fill:{color:this.options.color},stroke:null});for(r=0;e.length>r;r++)for(i=n+r*t,s=0;e.length>s;){for(;0===e[r][s]&&e.length>s;)s++;if(e.length>s){for(o=s;1==e[r][s];)s++;u=Ot(n+o*t),a=Ot(i),f=Ot(n+s*t),l=Ot(i+t),c.moveTo(u,a).lineTo(u,l).lineTo(f,l).lineTo(f,a).close()}}return c},_renderBackground:function(e,t){var n=Z(0,0,e,e).unpad(t.width/2);return Q.Path.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},setOptions:function(e){var n=this;e=e||{},n.options=K(n.options,e),e.value!==t&&(n._value=n.options.value+""),n.redraw()},value:function(e){var n=this;return e===t?n._value:(n._value=e+"",n.redraw(),t)},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:V.DEFAULT_ERROR_CORRECTION_LEVEL,background:V.DEFAULT_BACKGROUND,color:V.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}}),G.ExportMixin.extend($.fn),G.ui.plugin($),J.deepExtend(G,{QRCode:$,QRCodeDefaults:V,QRCodeFunctions:{FreeCellVisitor:m,fillData:g,padDataString:y,generateErrorCodewords:E,xorPolynomials:b,getBlocks:S,multiplyPolynomials:w,chooseMode:x,getModes:T,getDataCodewordsCount:N,getVersion:C,getDataString:k,encodeFormatInformation:L,encodeBCH:A,dividePolynomials:O,initMatrices:M,addFormatInformation:_,encodeVersionInformation:D,addVersionInformation:P,addCentricPattern:H,addFinderSeparator:B,addFinderPatterns:j,addAlignmentPatterns:F,addTimingFunctions:I,scoreMaskMatrixes:q,encodeData:X,UTF8Encoder:z},QRCodeFields:{modes:d,powersOfTwo:it,powersOfTwoResult:st,generatorPolynomials:ot}})}(window.kendo.jQuery),function(e,t){function n(){}function r(e){return n.prototype=e,new n}var i,s=window.kendo,o=s.Class,u=s.Observable,a=s.deepExtend,f=Math,l=e.proxy,c=s.util,h=c.last,p=c.renderTemplate,d=s.dataviz,v=c.defined,m=d.filterSeriesByType,g=s.template,y=d.ui.Chart,b=d.Selection,w=d.addDuration,E=c.limitValue,S=d.lteDateIndex,x=d.toDate,T=d.toTime,N=28,C="change",k="k-",L="drag",A="dragEnd",O="_navigator",M=O,_=d.EQUALLY_SPACED_SERIES,D=3,P="zoom",H="zoomEnd",B=y.extend({init:function(t,n){e(t).addClass(k+"chart"),y.fn.init.call(this,t,n)},_applyDefaults:function(e,t){var n=this,r=n.element.width()||d.DEFAULT_WIDTH,i={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:f.floor(r/N)}}};t&&(t=a({},t,i)),n._navigator||j.setup(e,t),y.fn._applyDefaults.call(n,e,t)},_initDataSource:function(e){var t,n,r=e||{},i=r.dataSource,s=i&&i.serverFiltering,o=[].concat(r.categoryAxis)[0],u=r.navigator||{},f=u.select,l=f&&f.from&&f.to;s&&l&&(t=[].concat(i.filter||[]),n=new d.DateCategoryAxis(a({baseUnit:"fit"},o,{categories:[f.from,f.to]})),i.filter=j.buildFilter(n.range().min,f.to).concat(t)),y.fn._initDataSource.call(this,e)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_resize:function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e},_redraw:function(){var e=this,t=e._navigator;!this._dirty()&&t&&t.dataSource?t.redrawSlaves():e._fullRedraw()},_dirty:function(){var t=this.options,n=[].concat(t.series,t.navigator.series),r=e.grep(n,function(e){return e&&e.visible}).length,i=this._seriesCount!==r;return this._seriesCount=r,i},_fullRedraw:function(){var e=this,t=e._navigator;t||(t=e._navigator=new j(e)),t._setRange(),y.fn._redraw.call(e),t._initSelection()},_onDataChanged:function(){var e=this;y.fn._onDataChanged.call(e),e._dataBound=!0},_bindCategoryAxis:function(e,t,n){var r,i=this,s=i.options.categoryAxis,o=s.length;if(y.fn._bindCategoryAxis.apply(this,arguments),e.name===M)for(;o>n;)r=s[n++],r.pane==O&&(r.categories=e.categories)},_trackSharedTooltip:function(e){var t=this,n=t._plotArea,r=n.paneByPoint(e);r&&r.options.name===O?t._unsetActivePoint():y.fn._trackSharedTooltip.call(t,e)},destroy:function(){var e=this;e._navigator.destroy(),y.fn.destroy.call(e)}}),j=u.extend({init:function(e){var t=this;t.chart=e,t.options=a({},t.options,e.options.navigator),t._initDataSource(),v(t.options.hint.visible)||(t.options.hint.visible=t.options.visible),e.bind(L,l(t._drag,t)),e.bind(A,l(t._dragEnd,t)),e.bind(P,l(t._zoom,t)),e.bind(H,l(t._zoomEnd,t))},options:{},_initDataSource:function(){var e=this,t=e.options,n=t.autoBind,r=t.dataSource;v(n)||(n=e.chart.options.autoBind),e._dataChangedHandler=l(e._onDataChanged,e),r&&(e.dataSource=s.data.DataSource.create(r).bind(C,e._dataChangedHandler),n&&e.dataSource.fetch())},_onDataChanged:function(){var e,t,n,r,i,s=this,o=s.chart,u=o.options.series,a=u.length,f=o.options.categoryAxis,l=f.length,c=s.dataSource.view();for(e=0;a>e;e++)n=u[e],n.axis==M&&o._isBindable(n)&&(n.data=c);for(t=0;l>t;t++)r=f[t],r.pane==O&&(r.name==M?(o._bindCategoryAxis(r,c,t),i=r.categories):r.categories=i);o._model&&(s.redraw(),s.filterAxes(),(!o.options.dataSource||o.options.dataSource&&o._dataBound)&&s.redrawSlaves())},destroy:function(){var e=this,t=e.dataSource;t&&t.unbind(C,e._dataChangeHandler),e.selection&&e.selection.destroy()},redraw:function(){this._redrawSelf(),this._initSelection()},_initSelection:function(){var t=this,n=t.chart,s=t.options,o=t.mainAxis(),u=r(o),a=o.range(),f=a.min,l=a.max,c=o.options.categories,h=t.options.select,p=t.selection,d=x(h.from),v=x(h.to);0!==c.length&&(p&&(p.destroy(),p.wrapper.remove()),u.box=o.box,p=t.selection=new b(n,u,{min:f,max:l,from:d,to:v,selectStart:e.proxy(t._selectStart,t),select:e.proxy(t._select,t),selectEnd:e.proxy(t._selectEnd,t),mousewheel:{zoom:"left"}}),s.hint.visible&&(t.hint=new i(n.element,{min:f,max:l,template:s.hint.template,format:s.hint.format})))},_setRange:function(){var e,t=this.chart._createPlotArea(!0),n=t.namedCategoryAxes[M],r=n.options,i=n.range(),s=i.min,o=w(i.max,r.baseUnitStep,r.baseUnit),u=this.options.select||{},a=x(u.from)||s;s>a&&(a=s),e=x(u.to)||o,e>o&&(e=o),this.options.select={from:a,to:e},this.filterAxes()},_redrawSelf:function(e){var t=this.chart._plotArea;t&&t.redraw(h(t.panes),e)},redrawSlaves:function(){var e=this,t=e.chart,n=t._plotArea,r=n.panes.slice(0,-1);n.srcSeries=t.options.series,n.redraw(r)},_drag:function(e){var t,n,r,i=this,s=i.chart,o=s._eventCoordinates(e.originalEvent),u=i.mainAxis(),a=u.range(),f=u.pane.box.containsPoint(o),l=s._plotArea.categoryAxis,c=e.axisRanges[l.options.name],h=i.options.select,p=i.selection;c&&!f&&p&&(t=h.from&&h.to?T(h.to)-T(h.from):T(p.options.to)-T(p.options.from),n=x(E(T(c.min),a.min,T(a.max)-t)),r=x(E(T(n)+t,T(a.min)+t,a.max)),i.options.select={from:n,to:r},i._liveDrag()&&(i.filterAxes(),i.redrawSlaves()),p.set(n,r),i.showHint(n,r))},_dragEnd:function(){var e=this;e.filterAxes(),e.filterDataSource(),e.redrawSlaves(),e.hint&&e.hint.hide()},_liveDrag:function(){var e=s.support,t=e.touch,n=e.browser,r=n.mozilla,i=n.msie&&9>n.version;return!t&&!r&&!i},readSelection:function(){var e=this,t=e.selection,n=t.options,r=e.options.select;r.from=n.from,r.to=n.to},filterAxes:function(){var e,t,n=this,r=n.options.select||{},i=n.chart,s=i.options.categoryAxis,o=r.from,u=r.to;for(e=0;s.length>e;e++)t=s[e],t.pane!==O&&(t.min=x(o),t.max=x(u))},filterDataSource:function(){var e,t=this,n=t.options.select||{},r=t.chart,i=r.dataSource,s=i&&i.options.serverFiltering;t.dataSource&&s&&(e=(new d.DateCategoryAxis(a({baseUnit:"fit"},r.options.categoryAxis[0],{categories:[n.from,n.to]}))).options,i.filter(j.buildFilter(w(e.min,-e.baseUnitStep,e.baseUnit),w(e.max,e.baseUnitStep,e.baseUnit))))},_zoom:function(e){var t,n,r=this,i=r.chart,o=e.delta,u=i._plotArea.categoryAxis,a=r.options.select,l=r.selection,c=r.mainAxis().options.categories;l&&(t=S(l.options.from,c),n=S(l.options.to,c),e.originalEvent.preventDefault(),f.abs(o)>1&&(o*=D),n-t>1?(l.expand(o),r.readSelection()):(u.options.min=a.from,a.from=u.scaleRange(-e.delta).min),s.support.touch||(r.filterAxes(),r.redrawSlaves()),l.set(a.from,a.to),r.showHint(r.options.select.from,r.options.select.to))},_zoomEnd:function(e){this._dragEnd(e)},showHint:function(e,t){var n=this,r=n.chart,i=r._plotArea;n.hint&&n.hint.show(e,t,i.backgroundBox())},_selectStart:function(e){var t=this.chart;t._selectStart.call(t,e)},_select:function(e){var t=this,n=t.chart;t.showHint(e.from,e.to),n._select.call(n,e)},_selectEnd:function(e){var t=this,n=t.chart;t.hint&&t.hint.hide(),t.readSelection(),t.filterAxes(),t.filterDataSource(),t.redrawSlaves(),n._selectEnd.call(n,e)},mainAxis:function(){var e=this.chart._plotArea;return e?e.namedCategoryAxes[M]:t}});j.setup=function(e,t){e=e||{},t=t||{};var n=a({},t.navigator,e.navigator),r=e.panes=[].concat(e.panes),i=a({},n.pane,{name:O});n.visible||(i.visible=!1,i.height=.1),r.push(i),j.attachAxes(e,n),j.attachSeries(e,n,t)},j.attachAxes=function(e,t){var n=t.series||[],r=e.categoryAxis=[].concat(e.categoryAxis),i=e.valueAxis=[].concat(e.valueAxis),s=m(n,_),o=0===s.length,u=a({type:"date",pane:O,roundToBaseUnit:!o,justified:o,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:!t.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:!1}),f=t.categoryAxis;r.push(a({},u,{maxDateGroups:200},f,{name:M,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),a({},u,f,{name:M+"_labels",maxDateGroups:20,baseUnitStep:"auto",plotBands:[],autoBaseUnitSteps:{minutes:[]}}),a({},u,f,{name:M+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],labels:{visible:!1,mirror:!0}})),i.push(a({name:M,pane:O,majorGridLines:{visible:!1},visible:!1},t.valueAxis))},j.attachSeries=function(e,t,n){var r,i=e.series=e.series||[],s=[].concat(t.series||[]),o=n.seriesColors,u=t.seriesDefaults;for(r=0;s.length>r;r++)i.push(a({color:o[r%o.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},u,s[r],{axis:M,categoryAxis:M,autoBind:!t.dataSource}))},j.buildFilter=function(e,t){return[{field:"Date",operator:"gte",value:x(e)},{field:"Date",operator:"lt",value:x(t)}]},i=o.extend({init:function(t,n){var r=this;r.options=a({},r.options,n),r.container=t,r.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},r.template=r.template,r.template||(r.template=r.template=p("<div class='"+k+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+k+"tooltip "+k+"chart-tooltip'>&nbsp;</div><div class='"+k+"scroll' /></div>")),r.element=e(r.template()).appendTo(t)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(e,t,n){var r,i=this,o=x(T(e)+T(t-e)/2),u=i.options,a=s.format(i.options.format,e,t),f=i.element.find("."+k+"tooltip"),l=i.element.find("."+k+"scroll"),c=.4*n.width(),h=n.center().x-c,p=n.center().x,d=p-h,v=u.max-u.min,m=d/v,y=o-u.min;i._hideTimeout&&clearTimeout(i._hideTimeout),i._visible||(i.element.stop(!1,!0).css("visibility","hidden").show(),i._visible=!0),u.template&&(r=g(u.template),a=r({from:e,to:t})),f.html(a).css({left:n.center().x-f.outerWidth()/2,top:n.y1}),l.css({width:c,left:h+y*m,top:n.y1+parseInt(f.css("margin-top"),10)+parseInt(f.css("border-top-width"),10)+f.height()/2}),i.element.css("visibility","visible")},hide:function(){var e=this;e._hideTimeout&&clearTimeout(e._hideTimeout),e._hideTimeout=setTimeout(function(){e._visible=!1,e.element.fadeOut("slow")},e.options.hideDelay)}}),d.ui.plugin(B),a(d,{Navigator:j})}(window.kendo.jQuery),function(e){function t(e){return"number"==typeof e?[e]:e}var n=window.kendo,r=n.dataviz,i=r.ui.Chart,s=n.data.ObservableArray,o=r.SharedTooltip,u=n.deepExtend,a=e.isArray,f=e.proxy,l=r.inArray,c=Math,h="k-",p=150,d=150,v="bar",m="bullet",g="pie",y="leave",b=[v,m],w=i.extend({init:function(n,r){var o=this,f=o.stage=e("<span />"),p=r||{};n=e(n).addClass(h+"sparkline").empty().append(f),o._initialWidth=c.floor(n.width()),p=t(p),(a(p)||p instanceof s)&&(p={seriesDefaults:{data:p}}),p.series||(p.series=[{data:t(p.data)}]),u(p,{seriesDefaults:{type:p.type}}),(l(p.series[0].type,b)||l(p.seriesDefaults.type,b))&&(p=u({},{categoryAxis:{crosshair:{visible:!1}}},p)),i.fn.init.call(o,n,p)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]},_modelOptions:function(){var t,n,r=this,i=r.options,s=r._initialWidth,o=r.stage;return r.stage.children().hide(),n=e("<span>&nbsp;</span>"),r.stage.append(n),t=u({width:s?s:r._autoWidth(),height:o.height(),transitions:i.transitions},i.chartArea,{inline:!0,align:!1}),o.css({width:t.width,height:t.height}),n.remove(),r.stage.children().show(),r.surface.resize(),t},_createTooltip:function(){var e,t=this,n=t.options,r=t.element;return e=t._sharedTooltip()?new E(r,t._plotArea,n.tooltip):i.fn._createTooltip.call(t),e.bind(y,f(t._tooltipleave,t)),e},_surfaceWrap:function(){return this.stage},_autoWidth:function(){var e,t,n,i=this,s=i.options,o=r.getSpacing(s.chartArea.margin),u=s.series,a=i.dataSource.total(),f=0;for(t=0;u.length>t;t++){if(n=u[t],n.type===v)return p;if(n.type===m)return d;if(n.type===g)return i.stage.height();n.data&&(f=c.max(f,n.data.length))}return e=c.max(a,f)*s.pointWidth,e>0&&(e+=o.left+o.right),e}}),E=o.extend({options:{animation:{duration:0}},_anchor:function(e,t){var n=o.fn._anchor.call(this,e,t),r=this._measure();return n.y=-r.height-this.options.offset,n},_hideElement:function(){this.element&&this.element.hide().remove()}});r.ui.plugin(w),u(r,{SparklineSharedTooltip:E})}(window.kendo.jQuery),function(e,t){var n,r=Math,i=r.abs,s=r.atan,o=r.atan2,u=r.cos,a=r.max,f=r.min,l=r.sin,c=r.tan,h=window.kendo,p=h.Class,d=h.dataviz,v=h.deepExtend,m=h.util,g=m.defined,y=m.deg,b=m.rad,w=m.round,E=m.sqr,S=m.valueOrDefault,x=p.extend({init:function(e,t){1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t)},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(e){return e&&e.lat===this.lat&&e.lng===this.lng},clone:function(){return new x(this.lat,this.lng)},round:function(e){return this.lng=w(this.lng,e),this.lat=w(this.lat,e),this},wrap:function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTo:function(e,t){return this.greatCircleTo(e,t).distance},destination:function(e,t,n){var i,s,a,f,c;return t=b(t),n=n||d.map.datums.WGS84,i=b(this.lat),s=b(this.lng),a=e/h.dataviz.map.datums.WGS84.a,f=r.asin(l(i)*u(a)+u(i)*l(a)*u(t)),c=s+o(l(t)*l(a)*u(i),u(a)-l(i)*l(f)),new x(y(f),y(c))},greatCircleTo:function(e,t){var n,a,f,h,p,v,m,g,S,T,N,C,k,L,A,O,M,D,P,H,B,j,F,I,q,R,U,z,W;if(e=x.create(e),t=t||d.map.datums.WGS84,!e||this.clone().round(8).equals(e.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(n=t.a,a=t.b,f=t.f,h=b(e.lng-this.lng),p=s((1-f)*c(b(this.lat))),v=l(p),m=u(p),g=s((1-f)*c(b(e.lat))),S=l(g),T=u(g),N=h,k=this.DISTANCE_ITERATIONS,L=!1;!L&&k-->0;)A=l(N),O=u(N),M=r.sqrt(E(T*A)+E(m*S-v*T*O)),P=v*S+m*T*O,B=o(M,P),j=m*T*A/M,D=1-E(j),H=0,0!==D&&(H=P-2*v*S/D),C=N,F=f/16*D*(4+f*(4-3*D)),N=h+(1-F)*f*j*(B+F*M*(H+F*P*(-1+2*E(H)))),L=i(N-C)<=this.DISTANCE_CONVERGENCE;return I=D*(E(n)-E(a))/E(a),q=1+I/16384*(4096+I*(-768+I*(320-175*I))),R=I/1024*(256+I*(-128+I*(74-47*I))),U=R*M*(H+R/4*(P*(-1+2*E(H))-R/6*H*(-3+4*E(M))*(-3+4*E(H)))),z=o(T*A,m*S-v*T*O),W=o(m*A,-v*T+m*S*O),{distance:w(a*q*(B-U),this.DISTANCE_PRECISION),azimuthFrom:y(z),azimuthTo:y(W)}}});x.fn.toString=function(){return h.format(this.FORMAT,this.lat,this.lng)},x.fromLngLat=function(e){return new x(e[1],e[0])},x.fromLatLng=function(e){return new x(e[0],e[1])},x.create=function(e,n){return g(e)?e instanceof x?e.clone():1===arguments.length&&2===e.length?x.fromLatLng(e):new x(e,n):t},n=p.extend({init:function(e,t){e=x.create(e),t=x.create(t),e.lng+180>t.lng+180&&t.lat+90>e.lat+90?(this.se=e,this.nw=t):(this.se=t,this.nw=e)},contains:function(e){var t=this.nw,n=this.se,r=S(e.lng,e[1]),i=S(e.lat,e[0]);return e&&r+180>=t.lng+180&&n.lng+180>=r+180&&i+90>=n.lat+90&&t.lat+90>=i+90},center:function(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)/2,r=e.lat+(t.lat-e.lat)/2;return new x(r,n)},containsAny:function(e){var t,n=!1;for(t=0;e.length>t;t++)n=n||this.contains(e[t]);return n},include:function(e){var t=this.nw,n=this.se,r=S(e.lng,e[1]),i=S(e.lat,e[0]);t.lng=f(t.lng,r),t.lat=a(t.lat,i),n.lng=a(n.lng,r),n.lat=f(n.lat,i)},includeAll:function(e){for(var t=0;e.length>t;t++)this.include(e[t])},edges:function(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new x(e.lat,t.lng),se:this.se,sw:new x(t.lat,e.lng)}},toArray:function(){var e=this.nw,t=this.se;return[e,new x(e.lat,t.lng),t,new x(t.lat,e.lng)]},overlaps:function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}}),n.World=new n([90,-180],[-90,180]),n.create=function(e,r){return e instanceof n?e:e&&r?new n(e,r):e&&4===e.length&&!r?new n([e[0],e[1]],[e[2],e[3]]):t},v(d,{map:{Extent:n,Location:x}})}(window.kendo.jQuery),function(){var e=window.kendo,t=e.ui.Widget,n=e.template,r=e.util.valueOrDefault,i=e.util.defined,s=t.extend({init:function(e,n){t.fn.init.call(this,e,n),this._initOptions(n),this.items=[],this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(e,t){this._extent=e,this._zoom=t,this._render()},add:function(e){i(e)&&("string"==typeof e&&(e={text:e}),this.items.push(e),this._render())},remove:function(e){var t,n,r=[];for(t=0;this.items.length>t;t++)n=this.items[t],n.text!==e&&r.push(n);this.items=r,this._render()},clear:function(){this.items=[],this.element.empty()},_render:function(){var e,t,r,i=[],s=n(this.options.itemTemplate);for(e=0;this.items.length>e;e++)t=this.items[e],r=this._itemText(t),""!==r&&i.push(s({text:r}));i.length>0?this.element.empty().append(i.join(this.options.separator)).show():this.element.hide()},_itemText:function(e){var t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),r=this._inArea(e.extent);return n&&r&&(t+=e.text),t},_inZoomLevel:function(e,t){var n=!0;return e=r(e,-Number.MAX_VALUE),t=r(t,Number.MAX_VALUE),n=this._zoom>e&&t>this._zoom},_inArea:function(e){var t=!0;return e&&(t=e.contains(this._extent)),t}});e.dataviz.ui.plugin(s)}(window.kendo.jQuery),function(e){function t(e){return n.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/></button>',e)}var n=window.kendo,r=n.ui.Widget,i=n.keys,s=e.proxy,o=".kendoNavigator",u=t("n")+t("e")+t("s")+t("w"),a=r.extend({init:function(e,t){r.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass("k-widget k-header k-shadow k-navigator").append(u).on("click"+o,".k-button",s(this,"_click"));var i=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=i.length>0?i:this.element,this._tabindex(this._keyroot),this._keydown=s(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(e,t){var n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})},_click:function(t){var n=0,r=0,i=e(t.currentTarget);i.is(".k-navigator-n")?r=1:i.is(".k-navigator-s")?r=-1:i.is(".k-navigator-e")?n=1:i.is(".k-navigator-w")&&(n=-1),this._pan(n,r),t.preventDefault()},_keydown:function(e){switch(e.which){case i.UP:this._pan(0,1),e.preventDefault();break;case i.DOWN:this._pan(0,-1),e.preventDefault();break;case i.RIGHT:this._pan(1,0),e.preventDefault();break;case i.LEFT:this._pan(-1,0),e.preventDefault()}}});n.dataviz.ui.plugin(a)}(window.kendo.jQuery),function(e){function t(e,t){return n.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}</button>',e,t)}var n=window.kendo,r=n.ui.Widget,i=n.keys,s=e.proxy,o=".kendoZoomControl",u=t("in","+")+t("out","-"),a=187,f=189,l=61,c=173,h=r.extend({init:function(e,t){r.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(u).on("click"+o,".k-button",s(this,"_click"));var i=this.element.parent().closest("["+n.attr("role")+"]");this._keyroot=i.length>0?i:this.element,this._tabindex(this._keyroot),this._keydown=s(this._keydown,this),this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(e){var t=this.options.zoomStep;this.trigger("change",{delta:e*t})},_click:function(t){var n=e(t.currentTarget),r=1;n.is(".k-zoom-out")&&(r=-1),this._change(r),t.preventDefault()},_keydown:function(e){switch(e.which){case i.NUMPAD_PLUS:case a:case l:this._change(1);break;case i.NUMPAD_MINUS:case f:case c:this._change(-1)}}});n.dataviz.ui.plugin(h)}(window.kendo.jQuery),function(){var e=Math,t=e.atan,n=e.exp,r=e.pow,i=e.sin,s=e.log,o=e.tan,u=window.kendo,a=u.Class,f=u.dataviz,l=u.deepExtend,c=u.geometry,h=c.Point,p=f.map,d=p.Location,v=u.util,m=v.rad,g=v.deg,y=v.limitValue,b=e.PI,w=b/2,E=b/4,S=b/180,x={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},T=a.extend({init:function(e){this._initOptions(e)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:x},forward:function(e,t){var n=this,r=n.options,i=r.datum,s=i.a,o=r.centralMeridian,u=y(e.lat,-n.MAX_LAT,n.MAX_LAT),a=t?y(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,f=m(a-o)*s,l=n._projectLat(u);return new h(f,l)},_projectLat:function(e){var t=this.options.datum,n=t.e,u=t.a,a=m(e),f=o(E+a/2),l=n*i(a),c=r((1-l)/(1+l),n/2);return u*s(f*c)},inverse:function(e,t){var n=this,r=n.options,i=r.datum,s=i.a,o=r.centralMeridian,u=e.x/(S*s)+o,a=y(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(u=y(u,-n.MAX_LNG,n.MAX_LNG)),new d(a,u)},_inverseY:function(s){var o,u,a,f,l=this,c=l.options.datum,h=c.a,p=c.e,d=p/2,v=n(-s/h),m=w-2*t(v);for(o=0;l.INVERSE_ITERATIONS>=o&&(u=p*i(m),a=r((1-u)/(1+u),d),f=w-2*t(v*a)-m,m+=f,!(e.abs(f)<=l.INVERSE_CONVERGENCE));o++);return g(m)}}),N=T.extend({MAX_LAT:85.0511287798,_projectLat:function(e){var t=this.options.datum.a,n=m(e),r=o(E+n/2);return t*s(r)},_inverseY:function(e){var r=this.options.datum.a,i=n(-e/r);return g(w-2*t(i))}}),C=a.extend({forward:function(e){return new h(e.lng,e.lat)},inverse:function(e){return new d(e.y,e.x)}}),k=a.extend({init:function(){var e=this,t=e._proj=new N,n=this.c=2*b*t.options.datum.a;this._tm=c.transform().translate(.5,.5).scale(1/n,-1/n),this._itm=c.transform().scale(n,-n).translate(-0.5,-0.5)},toPoint:function(e,t,n){var r=this._proj.forward(e,n);return r.transform(this._tm).scale(t||1)},toLocation:function(e,t,n){return e=e.clone().scale(1/(t||1)).transform(this._itm),this._proj.inverse(e,n)}}),L=a.extend({init:function(){this._proj=new T},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}}),A=a.extend({init:function(){this._proj=new C},toPoint:function(e){return this._proj.forward(e)},toLocation:function(e){return this._proj.inverse(e)}});l(f,{map:{crs:{EPSG3395:L,EPSG3857:k,EPSG4326:A},datums:{WGS84:x},projections:{Equirectangular:C,Mercator:T,SphericalMercator:N}}})}(window.kendo.jQuery),function(e){var t=e.proxy,n=window.kendo,r=n.Class,i=n.dataviz,s=n.deepExtend,o=i.map.Extent,u=n.util,a=u.defined,f=r.extend({init:function(n,r){this._initOptions(r),this.map=n,this.element=e("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(n.scrollElement),this._beforeReset=t(this._beforeReset,this),this._reset=t(this._reset,this),this._resize=t(this._resize,this),this._panEnd=t(this._panEnd,this),this._activate(),this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset(),this._activate(),this._applyExtent(!0)},hide:function(){this._deactivate(),this._setVisibility(!1)},reset:function(){this._beforeReset(),this._reset()},_reset:function(){this._applyExtent()},_beforeReset:e.noop,_resize:e.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var e=this.options,t=this.map.zoom(),n=!a(e.minZoom)||t>=e.minZoom,r=!a(e.maxZoom)||e.maxZoom>=t,i=o.create(e.extent),s=!i||i.overlaps(this.map.extent());this._setVisibility(n&&r&&s)},_setVisibility:function(e){this.element.css("display",e?"":"none")},_activate:function(){var e=this.map;e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)},_deactivate:function(){var e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var e=this.map.attribution;e&&e.add(this.options.attribution)}});s(i,{map:{layers:{Layer:f}}})}(window.kendo.jQuery),function(e){var t=e.proxy,n=window.kendo,r=n.Class,i=n.data.DataSource,s=n.dataviz,o=n.deepExtend,u=n.util.last,a=n.util.defined,f=n.geometry,l=n.drawing,c=l.Group,h=s.map,p=h.Location,d=h.layers.Layer,v=d.extend({init:function(e,t){d.fn.init.call(this,e,t),this.surface=l.Surface.create(this.element,{width:e.scrollElement.width(),height:e.scrollElement.height()}),this._initRoot(),this.movable=new n.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this._initDataSource()},options:{autoBind:!0},destroy:function(){d.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind("change",this._dataChange)},setDataSource:function(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=e,this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_reset:function(){d.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data)},_initRoot:function(){this._root=new c,this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear(),this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=t(this._dataChange,this),this.dataSource=i.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(e){this._data=e.sender.view(),this._load(this._data)},_load:function(e){var t,n,r;for(this._clearMarkers(),this._loader||(this._loader=new m(this.map,this.options.style,this)),t=new c,n=0;e.length>n;n++)r=this._loader.parse(e[n]),r&&t.append(r);this._root.clear(),this._root.append(t)},shapeCreated:function(e){var t,n=!1;return e instanceof l.Circle&&(n=a(this._createMarker(e))),n||(t={layer:this,shape:e},n=this.map.trigger("shapeCreated",t)),n},_createMarker:function(e){var t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t},_clearMarkers:function(){for(var e=0;this._markers.length>e;e++)this.map.markers.remove(this._markers[e]);this._markers=[]},_panEnd:function(e){d.fn._panEnd.call(this,e),this._translateSurface()},_translateSurface:function(){var e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))},_handler:function(e){var t=this;return function(n){if(n.element){var r={layer:t,shape:n.element,originalEvent:n.originalEvent};t.map.trigger(e,r)}}}}),m=r.extend({init:function(e,t,n){this.observer=n,this.locator=e,this.style=t},parse:function(e){var t=new c;return"Feature"===e.type?this._loadGeometryTo(t,e.geometry,e):this._loadGeometryTo(t,e,e),2>t.children.length&&(t=t.children[0]),t},_shapeCreated:function(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t},_loadGeometryTo:function(e,t,n){var r,i,s=t.coordinates;switch(t.type){case"LineString":i=this._loadPolygon(e,[s],n),this._setLineFill(i);break;case"MultiLineString":for(r=0;s.length>r;r++)i=this._loadPolygon(e,[s[r]],n),this._setLineFill(i);break;case"Polygon":this._loadPolygon(e,s,n);break;case"MultiPolygon":for(r=0;s.length>r;r++)this._loadPolygon(e,s[r],n);break;case"Point":this._loadPoint(e,s,n);break;case"MultiPoint":for(r=0;s.length>r;r++)this._loadPoint(e,s[r],n)}},_setLineFill:function(e){var t=e.segments;(4>t.length||!t[0].anchor().equals(u(t).anchor()))&&(e.options.fill=null)},_loadShape:function(e,t){return this._shapeCreated(t)||e.append(t),t},_loadPolygon:function(e,t,n){var r=this._buildPolygon(t);return r.dataItem=n,this._loadShape(e,r)},_buildPolygon:function(e){var t,n,r,i=e.length>1?l.MultiPath:l.Path,s=new i(this.style);for(t=0;e.length>t;t++)for(n=0;e[t].length>n;n++)r=this.locator.locationToView(p.fromLngLat(e[t][n])),0===n?s.moveTo(r.x,r.y):s.lineTo(r.x,r.y);return s},_loadPoint:function(e,t,n){var r=p.fromLngLat(t),i=this.locator.locationToView(r),s=new f.Circle(i,10),o=new l.Circle(s,this.style);return o.dataItem=n,o.location=r,this._loadShape(e,o)}});o(n.data,{schemas:{geojson:{type:"json",data:function(e){return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e}}},transports:{geojson:{read:{dataType:"json"}}}}),o(s,{map:{layers:{shape:v,ShapeLayer:v},GeoJSONLoader:m}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.getter,r=t.dataviz,i=t.deepExtend,s=t.util,o=s.defined,u=t.geometry,a=t.drawing,f=r.map,l=f.Location,c=f.layers.ShapeLayer,h=c.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(e){var t,r,i,s,u,a,f,c,h,p,d,v;if(this.surface.clear(),0!==e.length)for(t=this.options,r=n(t.valueField),e=e.slice(0),e.sort(function(e,t){return r(t)-r(e)}),i=r(e[0]),s=this._scaleType(),a=0;e.length>a;a++)f=e[a],c=n(t.locationField)(f),h=n(t.valueField)(f),o(c)&&o(h)&&(u||(u=new s([0,h],[t.minSize,t.maxSize])),c=l.create(c),p=this.map.locationToView(c),d=u.map(h),v=this._createSymbol({center:p,size:d,style:t.style,dataItem:f,location:c}),v.dataItem=f,v.location=c,v.value=h,this._drawSymbol(v))},_scaleType:function(){var e=this.options.scale;return t.isFunction(e)?e:r.map.scales[e]},_createSymbol:function(e){var n=this.options.symbol;return t.isFunction(n)||(n=r.map.symbols[n]),n(e)},_drawSymbol:function(e){var t={layer:this,shape:e},n=this.map.trigger("shapeCreated",t);n||this.surface.draw(e)}}),p=t.Class.extend({init:function(e,t){var n,r;this._domain=e,this._range=t,n=Math.sqrt(e[1])-Math.sqrt(e[0]),r=t[1]-t[0],this._ratio=r/n},map:function(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}),d={circle:function(e){var t=new u.Circle(e.center,e.size/2);return new a.Circle(t,e.style)},square:function(e){var t=new a.Path(e.style),n=e.size/2,r=e.center;return t.moveTo(r.x-n,r.y-n).lineTo(r.x+n,r.y-n).lineTo(r.x+n,r.y+n).lineTo(r.x-n,r.y+n).close(),t}};i(r,{map:{layers:{bubble:h,BubbleLayer:h},scales:{sqrt:p},symbols:d}})}(window.kendo.jQuery),function(e){function t(e){return new l(d(e.x),d(e.y))}var n=Math,r=e.proxy,i=window.kendo,s=i.Class,o=i.template,u=i.dataviz,a=i.deepExtend,f=i.geometry,l=f.Point,c=u.map.layers.Layer,h=i.util,p=h.objectKey,d=h.round,v=h.renderSize,m=h.limitValue,g=c.extend({init:function(e,t){c.fn.init.call(this,e,t),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var n=this._viewType();this._view=new n(this.element,this.options)},destroy:function(){c.fn.destroy.call(this),this._view.destroy(),this._view=null},_reset:function(){c.fn._reset.call(this),this._updateView(),this._view.reset()},_viewType:function(){return y},_activate:function(){c.fn._activate.call(this),i.support.mobileOS||(this._pan||(this._pan=i.throttle(r(this._render,this),100)),this.map.bind("pan",this._pan))},_deactivate:function(){c.fn._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},_updateView:function(){var e=this._view,t=this.map,n=t.extent(),r={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(r),e.zoom(t.zoom())},_resize:function(){this._render()},_panEnd:function(e){c.fn._panEnd.call(this,e),this._render()},_render:function(){this._updateView(),this._view.render()}}),y=s.extend({init:function(e,t){this.element=e,this._initOptions(t),this.pool=new w},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(e){this._center=e},extent:function(e){this._extent=e},zoom:function(e){this._zoom=e},pointToTileIndex:function(e){return new l(n.floor(e.x/this.options.tileSize),n.floor(e.y/this.options.tileSize))},tileCount:function(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),r=this._extent.nw,i=this.indexToPoint(t).translate(-r.x,-r.y);return{x:n.ceil((n.abs(i.x)+e.width)/this.options.tileSize),y:n.ceil((n.abs(i.y)+e.height)/this.options.tileSize)}},size:function(){var e=this._extent.nw,t=this._extent.se,n=t.clone().translate(-e.x,-e.y);return{width:n.x,height:n.y}},indexToPoint:function(e){var t=e.x,n=e.y;return new l(t*this.options.tileSize,n*this.options.tileSize)},subdomainText:function(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},destroy:function(){this.element.empty(),this.pool.empty()},reset:function(){this.pool.reset(),this.subdomainIndex=0,this.basePoint=this._extent.nw,this.render()},render:function(){var e,t,n,r=this.tileCount(),i=this.pointToTileIndex(this._extent.nw);for(t=0;r.x>t;t++)for(n=0;r.y>n;n++)e=this.createTile({x:i.x+t,y:i.y+n}),e.visible||e.show()},createTile:function(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return 0===n.element.parent().length&&this.element.append(n.element),n},tileOptions:function(e){var n=this.wrapIndex(e),r=this.indexToPoint(e),i=this.basePoint,s=r.clone().translate(-i.x,-i.y);return{index:n,currentIndex:e,point:r,offset:t(s),zoom:this._zoom,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(e){var t=n.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:m(e.y,0,t-1)}},wrapValue:function(e,t){var r=n.abs(e)%t;return e=e>=0?r:t-(0===r?t:r)}}),b=s.extend({init:function(e,t){this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=e("<img style='position: absolute; display: block;' />").error(r(function(e){this.errorUrl()?e.target.setAttribute("src",this.errorUrl()):e.target.removeAttribute("src")},this))},show:function(){var e,t=this.element[0];t.style.top=v(this.options.offset.y),t.style.left=v(this.options.offset.x),e=this.url(),e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0},hide:function(){this.element[0].style.visibility="hidden",this.visible=!1},url:function(){var e=o(this.options.urlTemplate);return e(this.urlOptions())},errorUrl:function(){var e=o(this.options.errorUrlTemplate);return e(this.urlOptions())},urlOptions:function(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),w=s.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)},empty:function(){var e,t=this._items;for(e=0;t.length>e;e++)t[e].destroy();this._items=[]},reset:function(){var e,t=this._items;for(e=0;t.length>e;e++)t[e].hide()},_create:function(e){var t,n,r=this._items,i=h.hashKey(p(e)+p(e.currentIndex));for(n=0;r.length>n;n++)r[n].id===i&&(t=r[n]);return t?t.show():(t=new b(i,e),this._items.push(t)),t},_remove:function(e){var t,n,r=this._items,i=-1,s=-1;for(t=0;r.length>t;t++)n=r[t].options.point.distanceTo(e),n>i&&(s=t,i=n);-1!==s&&(r[s].destroy(),r.splice(s,1))}});a(u,{map:{layers:{tile:g,TileLayer:g,ImageTile:b,TilePool:w,TileView:y}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.dataviz,i=n.deepExtend,s=n.util.defined,o=r.map.Extent,u=r.map.Location,a=r.map.layers.TileLayer,f=r.map.layers.TileView,l=a.extend({init:function(t,n){a.fn.init.call(this,t,n),this._onMetadata=e.proxy(this._onMetadata,this),this._fetchMetadata()},options:{baseUrl:"//dev.virtualearth.net/REST/v1/Imagery/Metadata/",imagerySet:"road"},_fetchMetadata:function(){var t=this.options;if(!t.key)throw Error("Bing tile layer: API key is required");e.ajax({url:t.baseUrl+t.imagerySet,data:{output:"json",include:"ImageryProviders",key:t.key,uriScheme:this._scheme(window.location.protocol)},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(e){return"https"===e.replace(":","")?"https":"http"},_onMetadata:function(e){var t,n;e&&e.resourceSets.length&&(t=this.resource=e.resourceSets[0].resources[0],i(this._view.options,{urlTemplate:t.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:t.imageUrlSubdomains}),n=this.options,s(n.minZoom)||(n.minZoom=t.zoomMin),s(n.maxZoom)||(n.maxZoom=t.zoomMax),this._addAttribution(),"none"!==this.element.css("display")&&this.reset())},_viewType:function(){return c},_addAttribution:function(){var e,t,n,r,i,s=this.map.attribution;if(s&&(e=this.resource.imageryProviders))for(t=0;e.length>t;t++)for(n=e[t],r=0;n.coverageAreas.length>r;r++)i=n.coverageAreas[r],s.add({text:n.attribution,minZoom:i.zoomMin,maxZoom:i.zoomMax,extent:new o(new u(i.bbox[2],i.bbox[1]),new u(i.bbox[0],i.bbox[3]))})},imagerySet:function(e){return e?(this.options.imagerySet=e,this.map.attribution.clear(),this._fetchMetadata(),this._reset(),t):this.options.imagerySet}}),c=f.extend({options:{culture:"en-US"},tileOptions:function(e){var t=f.fn.tileOptions.call(this,e);return t.culture=this.options.culture,t.quadkey=this.tileQuadKey(this.wrapIndex(e)),t},tileQuadKey:function(e){var t,n,r,i="";for(r=this._zoom;r>0;r--)t=0,n=1<<r-1,0!==(e.x&n)&&t++,0!==(e.y&n)&&(t+=2),i+=t;return i}});i(r,{map:{layers:{bing:l,BingLayer:l,BingView:c}}})}(window.kendo.jQuery),function(e,t){var n=document,r=Math,i=e.inArray,s=e.proxy,o=window.kendo,u=o.Class,a=o.data.DataSource,f=o.ui.Tooltip,l=o.dataviz,c=o.deepExtend,h=l.map,p=h.Location,d=h.layers.Layer,v=d.extend({init:function(e,t){d.fn.init.call(this,e,t),this._markerClick=s(this._markerClick,this),this.element.on("click",".k-marker",this._markerClick),this.items=[],this._initDataSource()},destroy:function(){d.fn.destroy.call(this),this.element.off("click",".k-marker",this._markerClick),this.dataSource.unbind("change",this._dataChange),this.clear()},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function(t){if(!e.isArray(t))return this._addOne(t);for(var n=0;t.length>n;n++)this._addOne(t[n])},remove:function(e){e.destroy();var t=i(e,this.items);t>-1&&this.items.splice(t,1)},clear:function(){for(var e=0;this.items.length>e;e++)this.items[e].destroy();this.items=[]},update:function(e){var t,n=e.location();n&&(e.showAt(this.map.locationToView(n)),t={marker:e,layer:this},this.map.trigger("markerActivate",t))},_reset:function(){var e,t;for(d.fn._reset.call(this),e=this.items,t=0;e.length>t;t++)this.update(e[t])},bind:function(e,n){var r,i,s=h.Marker.create(e,this.options);return s.dataItem=n,r={marker:s,layer:this},i=this.map.trigger("markerCreated",r),i?t:(this.add(s),s)},setDataSource:function(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=e,this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_addOne:function(e){var t=m.create(e,this.options);return t.addTo(this),t},_initDataSource:function(){var e=this.options.dataSource;this._dataChange=s(this._dataChange,this),this.dataSource=a.create(e).bind("change",this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(e){this._load(e.sender.view())},_load:function(e){var t,n,r,i;for(this._data=e,this.clear(),t=o.getter(this.options.locationField),n=o.getter(this.options.titleField),r=0;e.length>r;r++)i=e[r],this.bind({location:t(i),title:n(i)},i)},_markerClick:function(t){var n={marker:e(t.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",n)}}),m=u.extend({init:function(e){this.options=e||{}},addTo:function(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)},location:function(e){return e?(this.options.location=p.create(e).toArray(),this.layer&&this.layer.update(this),this):p.create(this.options.location)},showAt:function(e){this.render(),this.element.css({left:r.round(e.x),top:r.round(e.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroy:function(){this.layer=null,this.hide()},render:function(){var t,r;this.element||(t=this.options,r=this.layer,this.element=e(n.createElement("span")).addClass("k-marker k-marker-"+o.toHyphens(t.shape||"pin")).attr("title",t.title).attr(t.attributes||{}).data("kendoMarker",this).css("zIndex",t.zIndex),r&&r.element.append(this.element),this.renderTooltip())},renderTooltip:function(){var e,t,n=this,r=n.options.title,i=n.options.tooltip||{};i&&f&&(e=i.template,e&&(t=o.template(e),i.content=function(e){return e.location=n.location(),e.marker=n,t(e)}),(r||i.content||i.contentUrl)&&(this.tooltip=new f(this.element,i),this.tooltip.marker=this))}});m.create=function(e,t){return e instanceof m?e:new m(c({},t,e))},c(l,{map:{layers:{marker:v,MarkerLayer:v},Marker:m}})}(window.kendo.jQuery),function(e){var t=document,n=Math,r=n.min,i=n.pow,s=e.proxy,o=window.kendo,u=o.ui.Widget,a=o.deepExtend,f=o.dataviz,l=f.ui,c=o.geometry,h=c.Point,p=f.map,d=p.Extent,v=p.Location,m=p.crs.EPSG3857,g=o.util,y=g.defined,b=g.limitValue,w=g.renderPos,E=g.valueOrDefault,S="k-",x=.9,T=.93,N="DOMMouseScroll mousewheel",C=5,k=u.extend({init:function(e,n){o.destroy(e),u.fn.init.call(this,e),this._initOptions(n),this.bind(this.events,n),this.crs=new m,this.element.addClass(S+this.options.name.toLowerCase()).css("position","relative").empty().append(t.createElement("div")),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheel=s(this._mousewheel,this),this.element.bind("click",s(this._click,this)),this.element.bind(N,this._mousewheel)},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0},events:["beforeReset","click","reset","pan","panEnd","markerActivate","markerClick","markerCreated","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var e=0;this.layers.length>e;e++)this.layers[e].destroy();u.fn.destroy.call(this)},zoom:function(e){var t=this.options;return y(e)?(e=b(e,t.minZoom,t.maxZoom),t.zoom!==e&&(t.zoom=e,this._reset()),this):t.zoom},center:function(e){return e?(this.options.center=v.create(e).toArray(),this._reset(),this):v.create(this.options.center)},extent:function(e){return e?(this._setExtent(e),this):this._getExtent()},setOptions:function(e){u.fn.setOptions.call(this,e),this._reset()},locationToLayer:function(e,t){var n=!this.options.wraparound;return e=v.create(e),this.crs.toPoint(e,this._layerSize(t),n)},layerToLocation:function(e,t){var n=!this.options.wraparound;return e=h.create(e),this.crs.toLocation(e,this._layerSize(t),n)},locationToView:function(e){var t,n;return e=v.create(e),t=this.locationToLayer(this._viewOrigin),n=this.locationToLayer(e),n.translateWith(t.scale(-1))},viewToLocation:function(e,t){var n=this.locationToLayer(this._getOrigin(),t);return e=h.create(e),e=e.clone().translateWith(n),this.layerToLocation(e,t)},eventOffset:function(e){var t=this.element.offset(),n=e.originalEvent||e,r=E(n.pageX,n.clientX)-t.left,i=E(n.pageY,n.clientY)-t.top;return new c.Point(r,i)},eventToView:function(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))},eventToLayer:function(e){return this.locationToLayer(this.eventToLocation(e))},eventToLocation:function(e){var t=this.eventOffset(e);return this.viewToLocation(t)},viewSize:function(){var e=this.element,t=this._layerSize(),n=e.width();return this.options.wraparound||(n=r(t,n)),{width:n,height:r(t,e.height())}},exportVisual:function(){return this._reset(),!1},_setOrigin:function(e,t){var n,r=this.viewSize();return e=this._origin=v.create(e),n=this.locationToLayer(e,t),n.x+=r.width/2,n.y+=r.height/2,this.options.center=this.layerToLocation(n,t).toArray(),this},_getOrigin:function(e){var t,n=this.viewSize();return(e||!this._origin)&&(t=this.locationToLayer(this.center()),t.x-=n.width/2,t.y-=n.height/2,this._origin=this.layerToLocation(t)),this._origin},_setExtent:function(e){var t,r,i,s,o,u,a;for(e=d.create(e),this.center(e.center()),t=this.element.width(),r=this.element.height(),i=this.options.maxZoom;i>=this.options.minZoom&&(s=this.locationToLayer(e.nw,i),o=this.locationToLayer(e.se,i),u=n.abs(o.x-s.x),a=n.abs(o.y-s.y),!(t>=u&&r>=a));i--);this.zoom(i)},_getExtent:function(){var e,t=this._getOrigin(),n=this.locationToLayer(t),r=this.viewSize();return n.x+=r.width,n.y+=r.height,e=this.layerToLocation(n),new d(t,e)},_zoomAround:function(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)},_initControls:function(){var e=this.options.controls;l.Attribution&&e.attribution&&this._createAttribution(e.attribution),o.support.mobileOS||(l.Navigator&&e.navigator&&this._createNavigator(e.navigator),l.ZoomControl&&e.zoom&&this._createZoomControl(e.zoom))},_createControlElement:function(t,n){var r=t.position||n,i="."+w(r).replace(" ","."),s=e(".k-map-controls"+i,this.element);return 0===s.length&&(s=e("<div>").addClass("k-map-controls "+w(r)).appendTo(this.element)),e("<div>").appendTo(s)},_createAttribution:function(e){var t=this._createControlElement(e,"bottomRight");this.attribution=new l.Attribution(t,e)},_createNavigator:function(e){var t=this._createControlElement(e,"topLeft"),n=this.navigator=new l.Navigator(t,e);this._navigatorPan=s(this._navigatorPan,this),n.bind("pan",this._navigatorPan),this._navigatorCenter=s(this._navigatorCenter,this),n.bind("center",this._navigatorCenter)},_navigatorPan:function(e){var t=this,n=t.scroller,r=n.scrollLeft+e.x,i=n.scrollTop-e.y,s=this._virtualSize,o=this.element.height(),u=this.element.width();r=b(r,s.x.min,s.x.max-u),i=b(i,s.y.min,s.y.max-o),t.scroller.one("scroll",function(e){t._scrollEnd(e)}),t.scroller.scrollTo(-r,-i)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(e){var t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new l.ZoomControl(t,e);this._zoomControlChange=s(this._zoomControlChange,this),n.bind("change",this._zoomControlChange)},_zoomControlChange:function(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))},_initScroller:function(){var e=o.support.mobileOS?T:x,t=this.options.zoomable!==!1,n=this.scroller=new o.mobile.ui.Scroller(this.element.children(0),{friction:e,velocityMultiplier:C,zoom:t,mousewheelScrolling:!1});n.bind("scroll",s(this._scroll,this)),n.bind("scrollEnd",s(this._scrollEnd,this)),n.userEvents.bind("gesturestart",s(this._scaleStart,this)),n.userEvents.bind("gestureend",s(this._scale,this)),this.scrollElement=n.scrollElement},_initLayers:function(){var e,t,n,r,i,s=this.options.layers,o=this.layers=[];for(e=0;s.length>e;e++)t=s[e],n=t.type||"shape",r=this.options.layerDefaults[n],i=f.map.layers[n],o.push(new i(this,a({},r,t)))},_initMarkers:function(){this.markers=new p.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers)},_scroll:function(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,r=(new c.Point(n.x,n.y)).scale(-1).scale(1/n.scale);t.x+=r.x,t.y+=r.y,this._scrollOffset=r,this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(e){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTS=new Date,this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))},_panComplete:function(){return new Date-(this._panEndTS||0)>50},_scaleStart:function(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];t&&t.cancel()}},_scale:function(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),r=new c.Point(e.center.x,e.center.y),i=this.viewToLocation(r,n),s=this.locationToLayer(i,n),o=s.translate(-r.x,-r.y);this._zoomAround(o,n),this.trigger("zoomEnd",{originalEvent:e})},_scaleToZoom:function(e){var t=this._layerSize()*e,r=t/this.options.minSize,i=n.log(r)/n.log(2);return n.round(i)},_reset:function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset")},_resetScroller:function(){var e,t,n,r,s=this.scroller,o=s.dimensions.x,u=s.dimensions.y,a=this._layerSize(),f=20*a,l=this.extent().nw,c=this.locationToLayer(l).round();s.movable.round=!0,s.reset(),s.userEvents.cancel(),e=this.options.maxZoom-this.zoom(),s.dimensions.maxScale=i(2,e),t={min:-c.x,max:a-c.x},n={min:-c.y,max:a-c.y},this.options.wraparound&&(t.min=-f,t.max=f),this.options.pannable===!1&&(r=this.viewSize(),t.min=n.min=0,t.max=r.width,n.max=r.height),o.makeVirtual(),u.makeVirtual(),o.virtualSize(t.min,t.max),u.virtualSize(n.min,n.max),this._virtualSize={x:t,y:n}},_renderLayers:function(){var e,t,n,r,i,s=this.options.layers,o=this.layers=[],u=this.scrollWrap;for(u.empty(),e=0;s.length>e;e++)t=s[e],n=t.type||"shape",r=this.options.layerDefaults[n],i=f.map.layers[n],o.push(new i(this,a({},r,t)))},_layerSize:function(e){return e=E(e,this.options.zoom),this.options.minSize*i(2,e)},_click:function(e){if(this._panComplete()){var t=this.eventOffset(e);this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}},_mousewheel:function(e){var t,n,r,i,s,o,u,a;e.preventDefault(),t=f.mwDelta(e)>0?-1:1,n=this.options,r=this.zoom(),i=b(r+t,n.minZoom,n.maxZoom),n.zoomable!==!1&&i!==r&&(this.trigger("zoomStart",{originalEvent:e})||(s=this.eventOffset(e),o=this.viewToLocation(s),u=this.locationToLayer(o,i),a=u.translate(-s.x,-s.y),this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:e})))}});f.ui.plugin(k)}(window.kendo.jQuery),function(e,t){function n(e,n,r){function i(e){for(var t=1;e*t%1;)t*=10;return t}var s,o,u,a;if(t===e||t===n)return[];if(r&&c.sign(n-e)!=c.sign(r))throw"The sign of the increment should allow to reach the stop-value.";if(r=r||1,e=e||0,n=n||e,(n-e)/r===1/0)throw"Infinite range defined.";if(s=[],o=-1,a=i(Math.abs(r)),e*=a,n*=a,r*=a,e>n&&r>0&&(r=-r),0>r)for(;(u=e+r*++o)>=n;)s.push(u/a);else for(;(u=e+r*++o)<=n;)s.push(u/a);return s}function r(e,t){if(e==t)return 0;var n=t.x-e.x,r=e.y-t.y,i=Math.atan(n/r);return r>=0?0>n?i+2*Math.PI:i:i+Math.PI}var i,s,o=window.kendo,u=o.dataviz.diagram={},a=o.deepExtend,f=e.isArray,l=1e-6,c={};a(c,{isNearZero:function(e){return Math.abs(e)<l},isDefined:function(e){return t!==e},isUndefined:function(e){return t===e||null===e},isObject:function(e){return e===Object(e)},has:function(e,t){return Object.hasOwnProperty.call(e,t)},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},isBoolean:function(e){return"[object Boolean]"==Object.prototype.toString.call(e)},isType:function(e,t){return Object.prototype.toString.call(e)=="[object "+t+"]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEmpty:function(e){if(null===e)return!0;if(f(e)||c.isString(e))return 0===e.length;for(var t in e)if(c.has(e,t))return!1;return!0},simpleExtend:function(e,t){if(c.isObject(t))for(var n in t)e[n]=t[n]},initArray:function(e,t){var n,r=[];for(n=0;e>n;++n)r[n]=t;return r},serializePoints:function(e){var t,n,r=[];for(t=0;e.length>t;t++)n=e[t],r.push(n.x+";"+n.y);return r.join(";")},deserializePoints:function(e){var t,n=e.split(";"),r=[];if(n.length%2!==0)throw"Not an array of points.";for(t=0;n.length>t;t+=2)r.push(new u.Point(parseInt(n[t],10),parseInt(n[t+1],10)));return r},randomInteger:function(e,t){return parseInt(Math.floor(Math.random()*t)+e,10)},DFT:function(e,t){var n,r;if(t(e),e.childNodes)for(n=0;e.childNodes.length>n;n++)r=e.childNodes[n],this.DFT(r,t)},getMatrixAngle:function(e){return null===e||0===e.d?0:180*Math.atan2(e.b,e.d)/Math.PI},getMatrixScaling:function(e){var t=Math.sqrt(e.a*e.a+e.c*e.c),n=Math.sqrt(e.b*e.b+e.d*e.d);return[t,n]}}),c.sign=function(e){return e?0>e?-1:1:0},c.findAngle=function(e,t){return 180*r(e,t)/Math.PI},c.forEach=function(e,t,n){for(var r=0;e.length>r;r++)t.call(n,e[r],r,e)},c.any=function(e,t){for(var n=0;e.length>n;++n)if(t(e[n]))return e[n];return null},c.remove=function(e,t){for(var n;-1!==(n=c.indexOf(e,t));)e.splice(n,1);return e},c.contains=function(e,t){return-1!==c.indexOf(e,t)},c.indexOf=function(t,n){return e.inArray(n,t)},c.fold=function(e,t,n,r){var i,s,o=arguments.length>2;for(i=0;e.length>i;i++)s=e[i],o?n=t.call(r,n,s,i,e):(n=s,o=!0);if(!o)throw"Reduce of empty array with no initial value";return n},c.find=function(e,t,n){var r;return c.any(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):!1}),r},c.first=function(e,t,n){return 0===e.length?null:c.isUndefined(t)?e[0]:c.find(e,t,n)},c.insert=function(e,t,n){return e.splice(n,0,t),e},c.all=function(e,t,n){var r,i,s=!0;for(i=0;e.length>i&&(r=e[i],s=s&&t.call(n,r,i,e),s);i++);return s},c.clear=function(e){e.splice(0,e.length)},c.bisort=function(e,t,n){if(c.isUndefined(e))throw"First array is not specified.";if(c.isUndefined(t))throw"Second array is not specified.";if(e.length!=t.length)throw"The two arrays should have equal length";var r,i=[];for(r=0;e.length>r;r++)i.push({x:e[r],y:t[r]});for(i.sort(c.isUndefined(n)?function(e,t){return e.x-t.x}:function(e,t){return n(e.x,t.x)}),c.clear(e),c.clear(t),r=0;i.length>r;r++)e.push(i[r].x),t.push(i[r].y)},c.addRange=function(e,t){e.push.apply(e,t)},i={easeInOut:function(e){return-Math.cos(e*Math.PI)/2+.5}},s=o.Class.extend({init:function(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var e=this;this.transition=i.easeInOut,this.timerDelegate=function(){e.onTimerEvent()}},addAdapter:function(e){this.adapters.push(e)},onComplete:function(e){this.handlers.push(e)},removeHandler:function(t){this.handlers=e.grep(this.handlers,function(e){return e!==t})},trigger:function(){var e=this;this.handlers&&c.forEach(this.handlers,function(t){return t.call(null!==e.caller?e.caller:e)})},onStep:function(){},seekTo:function(e){this.seekFromTo(this.tick,e)},seekFromTo:function(e,t){this.target=Math.max(0,Math.min(1,t)),this.tick=Math.max(0,Math.min(1,e)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stop:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},play:function(e){0!==this.adapters.length&&(null!==e&&(this.caller=e),this.initState(),this.seekFromTo(0,1))},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(0!==this.adapters.length)for(var e=0;this.adapters.length>e;e++)this.adapters[e].initState()},propagate:function(){var e,t=this.transition(this.tick);for(e=0;this.adapters.length>e;e++)this.adapters[e].update(t)},onTimerEvent:function(){var e,t=(new Date).getTime(),n=t-this.lastTime;this.lastTime=t,e=n/this.duration*(this.target>this.tick?1:-1),Math.abs(e)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=e;try{this.propagate()}finally{this.onStep.call(this),this.target==this.tick&&this.stop()}}}),o.deepExtend(u,{init:function(e){o.init(e,u.ui)},Utils:c,Range:n,Ticker:s})}(window.kendo.jQuery),function(e,t){function n(e){return Math.abs(e)<D}function r(e,t,r,i,s){var o,u,a,f,l=(t.x-e.x)*(i.y-r.y)-(t.y-e.y)*(i.x-r.x);if(!n(l)&&(o=(e.y-r.y)*(i.x-r.x)-(e.x-r.x)*(i.y-r.y),u=(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y),a=o/l,f=u/l,!s||!(0>a||a>1||0>f||f>1)))return new L(e.x+a*(t.x-e.x),e.y+a*(t.y-e.y))}function i(e,t){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}function s(e){var t,n,r;for(k.isUndefined(e)&&(e=10),t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e;r>0;--r)t+=n.charAt(Math.round(Math.random()*(n.length-1)));return t}var o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=window.kendo,x=S.dataviz.diagram,T=S.Class,N=S.deepExtend,C=S.dataviz,k=x.Utils,L=C.Point2D,A=S.isFunction,O=k.contains,M=e.map,_=3,D=1e-6;N(L.fn,{plus:function(e){return new L(this.x+e.x,this.y+e.y)},minus:function(e){return new L(this.x-e.x,this.y-e.y)},offset:function(e){return new L(this.x-e,this.y-e)},times:function(e){return new L(this.x*e,this.y*e)},normalize:function(){return 0===this.length()?new L:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(e,t){return(new L(t.x-e.x,t.y-e.y)).times(.5).plus(e)},toPolar:function(e){var t,n,r,i=1;if(e&&(i=180/Math.PI),t=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI/2,r=this.length(),0===this.x){if(0===this.y)return new c(0,0);if(this.y>0)return new c(r,i*n);if(0>this.y)return new c(r,3*i*n)}else if(this.x>0){if(0===this.y)return new c(r,0);if(this.y>0)return new c(r,i*t);if(0>this.y)return new c(r,i*(4*n-t))}else{if(0===this.y)return new c(r,2*n);if(this.y>0)return new c(r,i*(2*n-t));if(0>this.y)return new c(r,i*(2*n+t))}},isOnLine:function(e,t){var n,r,i,s,o;return e.x>t.x&&(n=t,t=e,e=n),r=(new u(e.x,e.y)).inflate(_,_),i=(new u(t.x,t.y)).inflate(_,_),r.union(i).contains(this)?e.x===t.x||e.y===t.y?!0:(t.y>e.y?(s=r.x+(i.x-r.x)*(this.y-(r.y+r.height))/(i.y+i.height-(r.y+r.height)),o=r.x+r.width+(i.x+i.width-(r.x+r.width))*(this.y-r.y)/(i.y-r.y)):(s=r.x+(i.x-r.x)*(this.y-r.y)/(i.y-r.y),o=r.x+r.width+(i.x+i.width-(r.x+r.width))*(this.y-(r.y+r.height))/(i.y+i.height-(r.y+r.height))),this.x>s&&o>this.x):!1}}),N(L,{parse:function(e){var n=e.slice(1,e.length-1),r=n.split(","),i=parseInt(r[0],10),s=parseInt(r[1],10);return isNaN(i)||isNaN(s)?t:new L(i,s)}}),o=T.extend({init:function(e,t,n){this.point=e,this.left=t,this.right=n}}),u=T.extend({init:function(e,t,n,r){this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0},contains:function(e){return e.x>=this.x&&this.x+this.width>=e.x&&e.y>=this.y&&this.y+this.height>=e.y},inflate:function(e,n){return n===t&&(n=e),this.x-=e,this.y-=n,this.width+=2*e+1,this.height+=2*n+1,this},offset:function(e,t){var n=e,r=t;return e instanceof L&&(n=e.x,r=e.y),this.x+=n,this.y+=r,this},union:function(e){var t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new u(t,n,r-t,i-n)},center:function(){return new L(this.x+this.width/2,this.y+this.height/2)},top:function(){return new L(this.x+this.width/2,this.y)},right:function(){return new L(this.x+this.width,this.y+this.height/2)},bottom:function(){return new L(this.x+this.width/2,this.y+this.height)},left:function(){return new L(this.x,this.y+this.height/2)},topLeft:function(){return new L(this.x,this.y)},topRight:function(){return new L(this.x+this.width,this.y)},bottomLeft:function(){return new L(this.x,this.y+this.height)},bottomRight:function(){return new L(this.x+this.width,this.y+this.height)},clone:function(){return new u(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},rotatedBounds:function(e){var t=this.clone(),n=this.rotatedPoints(e),r=n[0],i=n[1],s=n[2],o=n[3];return t.x=Math.min(s.x,r.x,i.x,o.x),t.y=Math.min(s.y,r.y,i.y,o.y),t.width=Math.max(s.x,r.x,i.x,o.x)-t.x,t.height=Math.max(s.y,r.y,i.y,o.y)-t.y,t},rotatedPoints:function(e){var t=this,n=t.center(),r=t.bottomRight().rotate(n,360-e),i=t.topLeft().rotate(n,360-e),s=t.topRight().rotate(n,360-e),o=t.bottomLeft().rotate(n,360-e);return[i,s,r,o]},toString:function(e){return e=e||" ",this.x+e+this.y+e+this.width+e+this.height},scale:function(e,t,n,r,i){var s,o,u,a=this.topLeft(),f=this.center();a.rotate(f,360-i).rotate(r,i),s=n.minus(a),o=new L(s.x*e,s.y*t),u=s.minus(o),a=a.plus(u),a.rotate(r,360-i).rotate(f,i),this.x=a.x,this.y=a.y,this.width*=e,this.height*=t},zoom:function(e){return this.x*=e,this.y*=e,this.width*=e,this.height*=e,this}}),a=T.extend({init:function(e,t){this.width=e,this.height=t}}),a.prototype.Empty=new a(0,0),u.toRect=function(e){return e instanceof u||(e=new u(e.x,e.y,e.width,e.height)),e},u.empty=function(){return new u(0,0,0,0)},u.fromPoints=function(e,t){if(isNaN(e.x)||isNaN(e.y)||isNaN(t.x)||isNaN(t.y))throw"Some values are NaN.";return new u(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y))},f={lines:function(e,t,n,i){return r(e,t,n,i)},segments:function(e,t,n,i){return r(e,t,n,i,!0)},rectWithLine:function(e,t,n){return f.segments(t,n,e.topLeft(),e.topRight())||f.segments(t,n,e.topRight(),e.bottomRight())||f.segments(t,n,e.bottomLeft(),e.bottomRight())||f.segments(t,n,e.topLeft(),e.bottomLeft())},rects:function(e,t,n){var r,i,s=t.topLeft(),o=t.topRight(),u=t.bottomLeft(),a=t.bottomRight(),l=t.center();return n&&(s=s.rotate(l,n),o=o.rotate(l,n),u=u.rotate(l,n),a=a.rotate(l,n)),r=e.contains(s)||e.contains(o)||e.contains(u)||e.contains(a)||f.rectWithLine(e,s,o)||f.rectWithLine(e,s,u)||f.rectWithLine(e,o,a)||f.rectWithLine(e,u,a),r||(s=e.topLeft(),o=e.topRight(),u=e.bottomLeft(),a=e.bottomRight(),n&&(i=360-n,s=s.rotate(l,i),o=o.rotate(l,i),u=u.rotate(l,i),a=a.rotate(l,i)),r=t.contains(s)||t.contains(o)||t.contains(u)||t.contains(a)),r}},l=T.extend({init:function(e){this.container=u.toRect(e)},align:function(e,t){var n,r=t.toLowerCase().split(" ");for(n=0;r.length>n;n++)e=this._singleAlign(e,r[n]);return e},_singleAlign:function(e,t){return A(this[t])?this[t](e):e},left:function(e){return this._align(e,this._left)},center:function(e){return this._align(e,this._center)},right:function(e){return this._align(e,this._right)},stretch:function(e){return this._align(e,this._stretch)},top:function(e){return this._align(e,this._top)},middle:function(e){return this._align(e,this._middle)},bottom:function(e){return this._align(e,this._bottom)},_left:function(e,t){t.x=e.x},_center:function(e,t){t.x=(e.width-t.width)/2||0},_right:function(e,t){t.x=e.width-t.width},_top:function(e,t){t.y=e.y},_middle:function(e,t){t.y=(e.height-t.height)/2||0},_bottom:function(e,t){t.y=e.height-t.height},_stretch:function(e,t){t.x=0,t.y=0,t.height=e.height,t.width=e.width},_align:function(e,t){return e=u.toRect(e),t(this.container,e),e}}),c=T.extend({init:function(e,t){this.r=e,this.angle=t}}),h=T.extend({init:function(e,t,n,r,i,s){this.a=e||0,this.b=t||0,this.c=n||0,this.d=r||0,this.e=i||0,this.f=s||0},plus:function(e){this.a+=e.a,this.b+=e.b,this.c+=e.c,this.d+=e.d,this.e+=e.e,this.f+=e.f},minus:function(e){this.a-=e.a,this.b-=e.b,this.c-=e.c,this.d-=e.d,this.e-=e.e,this.f-=e.f},times:function(e){return new h(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},apply:function(e){return new L(this.a*e.x+this.c*e.y+this.e,this.b*e.x+this.d*e.y+this.f)},applyRect:function(e){return u.fromPoints(this.apply(e.topLeft()),this.apply(e.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}}),N(h,{fromSVGMatrix:function(e){var t=new h;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromMatrixVector:function(e){var t=new h;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromList:function(e){if(6!==e.length)throw"The given list should consist of six elements.";var t=new h;return t.a=e[0],t.b=e[1],t.c=e[2],t.d=e[3],t.e=e[4],t.f=e[5],t},translation:function(e,t){var n=new h;return n.a=1,n.b=0,n.c=0,n.d=1,n.e=e,n.f=t,n},unit:function(){return new h(1,0,0,1,0,0)},rotation:function(e,t,n){var r=new h;return r.a=Math.cos(e*Math.PI/180),r.b=Math.sin(e*Math.PI/180),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+n*r.b||0,r.f=n-n*r.a-t*r.b||0,r},scaling:function(e,t){var n=new h;return n.a=e,n.b=0,n.c=0,n.d=t,n.e=0,n.f=0,n},parse:function(e){var t,n;if(e){if(e=e.trim(),"matrix"===e.slice(0,6).toLowerCase()){if(n=e.slice(7,e.length-1).trim(),t=n.split(","),6===t.length)return h.fromList(M(t,function(e){return parseFloat(e)}));if(t=n.split(" "),6===t.length)return h.fromList(M(t,function(e){return parseFloat(e)}))}if("("===e.slice(0,1)&&")"===e.slice(e.length-1)&&(e=e.substr(1,e.length-1)),e.indexOf(",")>0&&(t=e.split(","),6===t.length))return h.fromList(M(t,function(e){return parseFloat(e)}));if(e.indexOf(" ")>0&&(t=e.split(" "),6===t.length))return h.fromList(M(t,function(e){return parseFloat(e)}))}return t}}),p=T.extend({init:function(e,t,n,r,i,s){this.a=e||0,this.b=t||0,this.c=n||0,this.d=r||0,this.e=i||0,this.f=s||0},fromMatrix:function(e){var t=new p;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}}),d={_distanceToLineSquared:function(e,t,n){function r(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)}if(t===n)return r(e,t);var i=n.x-t.x,s=n.y-t.y,o=(e.x-t.x)*i+(e.y-t.y)*s;return 0>o?r(t,e):(o=(n.x-e.x)*i+(n.y-e.y)*s,0>o?r(n,e):(o=(n.x-e.x)*s-(n.y-e.y)*i,o*o/(i*i+s*s)))},distanceToLine:function(e,t,n){return Math.sqrt(this._distanceToLineSquared(e,t,n))},distanceToPolyline:function(e,t){var n,r,i,s,o=Number.MAX_VALUE;if(k.isUndefined(t)||0===t.length)return Number.MAX_VALUE;for(n=0;t.length-1>n;n++)r=t[n],i=t[n+1],s=this._distanceToLineSquared(e,r,i),o>s&&(o=s);return Math.sqrt(o)}},v=S.Class.extend({init:function(){this._buckets=[],this.length=0},add:function(e,t){var n=this._createGetBucket(e);return k.isDefined(t)&&(n.value=t),n},get:function(e){return this._bucketExists(e)?this._createGetBucket(e):null},set:function(e,t){this.add(e,t)},containsKey:function(e){return this._bucketExists(e)},remove:function(e){if(this._bucketExists(e)){var t=this._hash(e);return delete this._buckets[t],this.length--,e}},forEach:function(e){var t,n,r,i,s=this._hashes();for(t=0,n=s.length;n>t;t++)r=s[t],i=this._buckets[r],k.isUndefined(i)||e(i)},clone:function(){var e,t,n,r,i=new v,s=this._hashes();for(e=0,t=s.length;t>e;e++)n=s[e],r=this._buckets[n],k.isUndefined(r)||i.add(r.key,r.value);return i},_hashes:function(){var e,t=[];for(e in this._buckets)this._buckets.hasOwnProperty(e)&&t.push(e);return t},_bucketExists:function(e){var t=this._hash(e);return k.isDefined(this._buckets[t])},_createGetBucket:function(e){var t=this._hash(e),n=this._buckets[t];return k.isUndefined(n)&&(n={key:e},this._buckets[t]=n,this.length++),n},_hash:function(e){if(k.isNumber(e))return e;if(k.isString(e))return this._hashString(e);if(k.isObject(e))return this._objectHashId(e);throw"Unsupported key type."},_hashString:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0;e.length>t;t++)n=e.charCodeAt(t),r=32*r-r+n;return r},_objectHashId:function(e){var t=e._hashId;return k.isUndefined(t)&&(t=s(),e._hashId=t),t}}),m=S.Observable.extend({init:function(t){var n,r=this;if(S.Observable.fn.init.call(r),this._hashTable=new v,this.length=0,k.isDefined(t))if(e.isArray(t))for(n=0;t.length>n;n++)this.add(t[n]);else t.forEach(function(e,t){this.add(e,t)},this)},add:function(e,t){var n=this._hashTable.get(e);n||(n=this._hashTable.add(e),this.length++,this.trigger("changed")),n.value=t},set:function(e,t){this.add(e,t)},get:function(e){var t=this._hashTable.get(e);if(t)return t.value;throw Error("Cannot find key "+e)},containsKey:function(e){return this._hashTable.containsKey(e)},remove:function(e){return this.containsKey(e)?(this.trigger("changed"),this.length--,this._hashTable.remove(e)):t},forEach:function(e,t){this._hashTable.forEach(function(n){e.call(t,n.key,n.value)})},forEachValue:function(e,t){this._hashTable.forEach(function(n){e.call(t,n.value)})},forEachKey:function(e,t){this._hashTable.forEach(function(n){e.call(t,n.key)})},keys:function(){var e=[];return this.forEachKey(function(t){e.push(t)}),e}}),g=S.Class.extend({init:function(){this._tail=null,this._head=null,this.length=0},enqueue:function(e){var t={value:e,next:null};this._head?(this._tail.next=t,this._tail=this._tail.next):(this._head=t,this._tail=this._head),this.length++},dequeue:function(){if(1>this.length)throw Error("The queue is empty.");var e=this._head.value;return this._head=this._head.next,this.length--,e},contains:function(e){for(var t=this._head;t;){if(t.value===e)return!0;t=t.next}return!1}}),y=S.Observable.extend({init:function(e){var t=this;S.Observable.fn.init.call(t),this._hashTable=new v,this.length=0,k.isDefined(e)&&(e instanceof v?e.forEach(function(e){this.add(e)}):e instanceof m&&e.forEach(function(e,t){this.add({key:e,value:t})},this))},contains:function(e){return this._hashTable.containsKey(e)},add:function(e){var t=this._hashTable.get(e);t||(this._hashTable.add(e,e),this.length++,this.trigger("changed"))},get:function(e){return this.contains(e)?this._hashTable.get(e).value:null},hash:function(e){return this._hashTable._hash(e)},remove:function(e){this.contains(e)&&(this._hashTable.remove(e),this.length--,this.trigger("changed"))},forEach:function(e,t){this._hashTable.forEach(function(t){e(t.value)},t)},toArray:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}}),b=S.Class.extend({init:function(e,t){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,this.id=k.isDefined(e)?e:s(),k.isDefined(t)){this.associatedShape=t;var n=t.bounds();this.width=n.width,this.height=n.height,this.x=n.x,this.y=n.y}else this.associatedShape=null;this.data=null,this.type="Node",this.shortForm="Node '"+this.id+"'",this.isVirtual=!1},isIsolated:function(){return k.isEmpty(this.links)},bounds:function(e){return k.isDefined(e)?(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,t):new x.Rect(this.x,this.y,this.width,this.height)},isLinkedTo:function(e){var t=this;return k.any(t.links,function(n){return n.getComplement(t)===e})},getChildren:function(){var e,t,n,r;if(0===this.outgoing.length)return[];for(e=[],t=0,n=this.outgoing.length;n>t;t++)r=this.outgoing[t],e.push(r.getComplement(this));return e},getParents:function(){var e,t,n,r;if(0===this.incoming.length)return[];for(e=[],t=0,n=this.incoming.length;n>t;t++)r=this.incoming[t],e.push(r.getComplement(this));return e},clone:function(){var e=new b;return k.isDefined(this.weight)&&(e.weight=this.weight),k.isDefined(this.balance)&&(e.balance=this.balance),k.isDefined(this.owner)&&(e.owner=this.owner),e.associatedShape=this.associatedShape,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},adjacentTo:function(e){return null!==this.isLinkedTo(e)},removeLink:function(e){e.source===this&&(k.remove(this.links,e),k.remove(this.outgoing,e),e.source=null),e.target===this&&(k.remove(this.links,e),k.remove(this.incoming,e),e.target=null)},hasLinkTo:function(e){return k.any(this.outgoing,function(t){return t.target===e})},degree:function(){return this.links.length},incidentWith:function(e){return O(this.links,e)},getLinksWith:function(e){return k.all(this.links,function(t){return t.getComplement(this)===e},this)},getNeighbors:function(){var e=[];return k.forEach(this.incoming,function(t){e.push(t.getComplement(this))},this),k.forEach(this.outgoing,function(t){e.push(t.getComplement(this))},this),e}}),w=S.Class.extend({init:function(e,t,n,r){if(k.isUndefined(e))throw"The source of the new link is not set.";if(k.isUndefined(t))throw"The target of the new link is not set.";var i,o;i=k.isString(e)?new b(e):e,o=k.isString(t)?new b(t):t,this.source=i,this.target=o,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),this.id=k.isDefined(n)?n:s(),this.associatedConnection=k.isDefined(r)?r:null,this.type="Link",this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";return this.source===e?this.target:this.source},getCommonNode:function(e){return this.source===e.source||this.source===e.target?this.source:this.target===e.source||this.target===e.target?this.target:null},isBridging:function(e,t){return this.source===e&&this.target===t||this.source===t&&this.target===e},getNodes:function(){return[this.source,this.target]},incidentWith:function(e){return this.source===e||this.target===e},adjacentTo:function(e){return O(this.source.links,e)||O(this.target.links,e)},changeSource:function(e){k.remove(this.source.links,this),k.remove(this.source.outgoing,this),e.links.push(this),e.outgoing.push(this),this.source=e},changeTarget:function(e){k.remove(this.target.links,this),k.remove(this.target.incoming,this),e.links.push(this),e.incoming.push(this),this.target=e},changesNodes:function(e,t){this.source===e?this.changeSource(t):this.target===e&&this.changeTarget(t)},reverse:function(){var e=this.source,t=this.target;return this.source=t,k.remove(e.outgoing,this),this.source.outgoing.push(this),this.target=e,k.remove(t.incoming,this),this.target.incoming.push(this),this},directTo:function(e){if(this.source!==e&&this.target!==e)throw"The given node is not incident with this link.";this.target!==e&&this.reverse()},createReverseEdge:function(){var e=this.clone();return e.reverse(),e.reversed=!0,e},clone:function(){var e=new w(this.source,this.target);return e}}),E=S.Class.extend({init:function(e){this.links=[],this.nodes=[],this.diagram=null,this._root=null,k.isDefined(e)?k.isString(e)?this.id=e:(this.diagram=e,this.id=e.id):this.id=s(),this.bounds=new u,this._hasCachedRelationships=!1,this.type="Graph"},cacheRelationships:function(e){var t,n,r;if(k.isUndefined(e)&&(e=!1),!this._hasCachedRelationships||e){for(t=0,n=this.nodes.length;n>t;t++)r=this.nodes[t],r.children=this.getChildren(r),r.parents=this.getParents(r);this._hasCachedRelationships=!0}},assignLevels:function(e,t,n){var r,i,s,o;if(!e)throw"Start node not specified.";for(k.isUndefined(t)&&(t=0),this.cacheRelationships(),k.isUndefined(n)&&(n=new m,k.forEach(this.nodes,function(e){n.add(e,!1)})),n.set(e,!0),e.level=t,r=e.children,i=0,s=r.length;s>i;i++)o=r[i],o&&!n.get(o)&&this.assignLevels(o,t+1,n)},root:function(e){if(k.isUndefined(e)){if(this._root)return this._root;var t=k.first(this.nodes,function(e){return 0===e.incoming.length});return t?t:k.first(this.nodes)}this._root=e},getConnectedComponents:function(){var e,t,n,r,i;for(this.componentIndex=0,this.setItemIndices(),e=k.initArray(this.nodes.length,-1),t=0;this.nodes.length>t;t++)-1===e[t]&&(this._collectConnectedNodes(e,t),this.componentIndex++);for(n=[],r=0;this.componentIndex>r;++r)n[r]=new E;for(r=0;e.length>r;++r)i=n[e[r]],i.addNodeAndOutgoings(this.nodes[r]);return n.sort(function(e,t){return t.nodes.length-e.nodes.length}),n},_collectConnectedNodes:function(e,t){e[t]=this.componentIndex;var n=this.nodes[t];k.forEach(n.links,function(t){var r=t.getComplement(n),i=r.index;-1===e[i]&&this._collectConnectedNodes(e,i)},this)},calcBounds:function(){var e,t,n,r;if(this.isEmpty())return this.bounds=new u;for(e=null,t=0,n=this.nodes.length;n>t;t++)r=this.nodes[t],e=e?e.union(r.bounds()):r.bounds();return this.bounds=e},getSpanningTree:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p=new E,d=new m;for(p.root=e.clone(),p.root.level=0,p.root.id=e.id,d.add(e,p.root),e.level=0,r=[],i=[],p.nodes.push(p.root),r.push(e),i.push(e),s=1;i.length>0;)for(o=i.pop(),u=0;o.links.length>u;u++)a=o.links[u],f=a.getComplement(o),O(r,f)||(f.level=o.level+1,f.level+1>s&&(s=f.level+1),O(i,f)||i.push(f),O(r,f)||r.push(f),d.containsKey(o)?t=d.get(o):(t=o.clone(),t.level=o.level,t.id=o.id,d.add(o,t)),d.containsKey(f)?n=d.get(f):(n=f.clone(),n.level=f.level,n.id=f.id,d.add(f,n)),l=new w(t,n),p.addLink(l));for(c=[],h=0;s>h;h++)c.push([]);return k.forEach(p.nodes,function(e){c[e.level].push(e)}),p.treeLevels=c,p.cacheRelationships(),p},takeRandomNode:function(t,n){if(k.isUndefined(t)&&(t=[]),k.isUndefined(n)&&(n=4),0===this.nodes.length)return null;if(1===this.nodes.length)return O(t,this.nodes[0])?null:this.nodes[0];var r=e.grep(this.nodes,function(e){return!O(t,e)&&e.degree()<=n});return k.isEmpty(r)?null:r[k.randomInteger(0,r.length)]},isEmpty:function(){return k.isEmpty(this.nodes)},isHealthy:function(){return k.all(this.links,function(e){return O(this.nodes,e.source)&&O(this.nodes,e.target)},this)},getParents:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getParents()},getChildren:function(e){if(!this.hasNode(e))throw"The given node is not part of this graph.";return e.getChildren()},addLink:function(e,n,r){var i,s,o;if(k.isUndefined(e))throw"The source of the link is not defined.";if(k.isUndefined(n)){if(k.isDefined(e.type)&&"Link"===e.type)return this.addExistingLink(e),t;throw"The target of the link is not defined."}return i=this.getNode(e),k.isUndefined(i)&&(i=this.addNode(e)),s=this.getNode(n),k.isUndefined(s)&&(s=this.addNode(n)),o=new w(i,s),k.isDefined(r)&&(o.owner=r),this.links.push(o),o},removeAllLinks:function(){for(;this.links.length>0;){var e=this.links[0];this.removeLink(e)}},addExistingLink:function(e){var t,n;this.hasLink(e)||(this.links.push(e),this.hasNode(e.source.id)?(t=this.getNode(e.source.id),e.changeSource(t)):this.addNode(e.source),this.hasNode(e.target.id)?(n=this.getNode(e.target.id),e.changeTarget(n)):this.addNode(e.target))},hasLink:function(e){if(k.isString(e))return k.any(this.links,function(t){return t.id===e});if("Link"===e.type)return O(this.links,e);throw"The given object is neither an identifier nor a Link."},getNode:function(e){if(k.isUndefined(e))throw"No identifier or Node specified.";return k.isString(e)?k.find(this.nodes,function(t){return t.id==e}):this.hasNode(e)?e:null},hasNode:function(e){if(k.isString(e))return k.any(this.nodes,function(t){return t.id===e});if(k.isObject(e))return k.any(this.nodes,function(t){return t===e});throw"The identifier should be a Node or the Id (string) of a node."},removeNode:function(e){var t,n,r,i,s=e;if(k.isString(e)&&(s=this.getNode(e)),!k.isDefined(s))throw"The identifier should be a Node or the Id (string) of a node.";for(t=s.links,s.links=[],n=0,r=t.length;r>n;n++)i=t[n],this.removeLink(i);k.remove(this.nodes,s)},areConnected:function(e,t){return k.any(this.links,function(n){return n.source==e&&n.target==t||n.source==t&&n.target==e})},removeLink:function(e){k.remove(this.links,e),k.remove(e.source.outgoing,e),k.remove(e.source.links,e),k.remove(e.target.incoming,e),k.remove(e.target.links,e)},addNode:function(e,t,n){var r=null;if(!k.isDefined(e))throw"No Node or identifier for a new Node is given.";if(k.isString(e)){if(this.hasNode(e))return this.getNode(e);r=new b(e)}else{if(this.hasNode(e))return this.getNode(e);r=e}return k.isDefined(t)&&r.bounds(t),k.isDefined(n)&&(r.owner=n),this.nodes.push(r),r},addNodeAndOutgoings:function(e){O(this.nodes,e)||this.nodes.push(e);var t=e.outgoing;e.outgoing=[],k.forEach(t,function(e){this.addExistingLink(e)},this)},setItemIndices:function(){var e;for(e=0;this.nodes.length>e;++e)this.nodes[e].index=e;for(e=0;this.links.length>e;++e)this.links[e].index=e},clone:function(e){var t,n=new E,r=k.isDefined(e)&&e===!0;return r&&(n.nodeMap=new m,n.linkMap=new m),t=new m,k.forEach(this.nodes,function(e){var i=e.clone();t.set(e,i),n.nodes.push(i),r&&n.nodeMap.set(i,e)}),k.forEach(this.links,function(e){if(t.containsKey(e.source)&&t.containsKey(e.target)){var i=n.addLink(t.get(e.source),t.get(e.target));r&&n.linkMap.set(i,e)}}),n},linearize:function(e){return E.Utils.linearize(this,e)},depthFirstTraversal:function(e,t){var n,r;if(k.isUndefined(e))throw"You need to supply a starting node.";if(k.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";n=this.getNode(e),r=[],this._dftIterator(n,t,r)},_dftIterator:function(e,t,n){var r,i,s,o;for(t(e),n.push(e),r=e.getChildren(),i=0,s=r.length;s>i;i++)o=r[i],O(n,o)||this._dftIterator(o,t,n)},breadthFirstTraversal:function(e,t){var n,r,i,s,o,u,a,f;if(k.isUndefined(e))throw"You need to supply a starting node.";if(k.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(e))throw"The given start-node is not part of this graph";for(n=this.getNode(e),r=new g,i=[],r.enqueue(n);r.length>0;)for(s=r.dequeue(),t(s),i.push(s),o=s.getChildren(),u=0,a=o.length;a>u;u++)f=o[u],O(i,f)||O(r,f)||r.enqueue(f)},_stronglyConnectedComponents:function(e,t,n,r,i,s,o){var u,a,f,l,c;for(n.add(t,o),r.add(t,o),o++,s.push(t),u=t.getChildren(),f=0,l=u.length;l>f;f++)a=u[f],n.containsKey(a)?O(s,a)&&r.add(t,Math.min(r.get(t),n.get(a))):(this._stronglyConnectedComponents(e,a,n,r,i,s,o),r.add(t,Math.min(r.get(t),r.get(a))));if(r.get(t)===n.get(t)){c=[];do a=s.pop(),c.push(a);while(a!==t);(!e||c.length>1)&&i.push(c)}},findCycles:function(e){var t,n,r,i,s,o,u;for(k.isUndefined(e)&&(e=!0),t=new m,n=new m,r=[],i=[],s=0,o=this.nodes.length;o>s;s++)u=this.nodes[s],t.containsKey(u)||this._stronglyConnectedComponents(e,u,t,n,r,i,0);return r},isAcyclic:function(){return k.isEmpty(this.findCycles())},isSubGraph:function(e){var t=e.linearize(),n=this.linearize();return k.all(t,function(e){return O(n,e)})},makeAcyclic:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,g,y,b,w,E,S,x,T,N,C,L,A,O,M,_,D;if(this.isEmpty()||1>=this.nodes.length||1>=this.links.length)return[];if(2==this.nodes.length){if(e=[],this.links.length>1)for(t=this.links[0],n=t.source,r=0,i=this.links.length;i>r;r++)s=this.links[r],s.source!=n&&(o=s.reverse(),e.push(o));return e}for(u=this.clone(!0),a=this.nodes.length,f=new m,l=function(e){return 0===e.outgoing.length?2-a:0===e.incoming.length?a-2:e.outgoing.length-e.incoming.length},c=function(e,t){var n=l(e,a);t.containsKey(n)||t.set(n,[]),t.get(n).push(e)},k.forEach(u.nodes,function(e){c(e,f)}),h=[],p=[];u.nodes.length>0;){if(f.containsKey(2-a))for(y=f.get(2-a);y.length>0;){for(v=y.pop(),b=0;v.links.length>b;b++)w=v.links[b],d=w.getComplement(v),g=l(d,a),k.remove(f.get(g),d),d.removeLink(w),c(d,f);k.remove(u.nodes,v),p.unshift(v)}if(f.containsKey(a-2))for(E=f.get(a-2);E.length>0;){for(d=E.pop(),S=0;d.links.length>S;S++)x=d.links[S],v=x.getComplement(d),g=l(v,a),k.remove(f.get(g),v),v.removeLink(x),c(v,f);h.push(d),k.remove(u.nodes,d)}if(u.nodes.length>0)for(T=a-3;T>2-a;T--)if(f.containsKey(T)&&f.get(T).length>0){for(N=f.get(T),C=N.pop(),L=0;C.links.length>L;L++)A=C.links[L],O=A.getComplement(C),g=l(O,a),k.remove(f.get(g),O),O.removeLink(A),c(O,f);h.push(C),k.remove(u.nodes,C);break}}for(h=h.concat(p),M=new m,_=0;this.nodes.length>_;_++)M.set(u.nodeMap.get(h[_]),_);return D=[],k.forEach(this.links,function(e){M.get(e.source)>M.get(e.target)&&(e.reverse(),D.push(e))}),D}}),E.Predefined={EightGraph:function(){return E.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return E.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return E.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(e){return k.isUndefined(e)&&(e=5),E.Utils.createBalancedTree(e,2)},Linear:function(e){return k.isUndefined(e)&&(e=10),E.Utils.createBalancedTree(e,1)},Tree:function(e,t){return E.Utils.createBalancedTree(e,t)},Forest:function(e,t,n){return E.Utils.createBalancedForest(e,t,n)},Workflow:function(){return E.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(e,t){var n,r,i,s,o,u=new x.Graph;if(0>=e&&0>=t)return u;for(n=0;e+1>n;n++)for(r=null,i=0;t+1>i;i++)s=new b(""+n+"."+i),u.addNode(s),r&&u.addLink(r,s),n>0&&(o=u.getNode(""+(n-1)+"."+i),u.addLink(o,s)),r=s;return u}},E.Utils={parse:function(e){var t,n,r,i,s,o=new x.Graph,u=e.slice();for(n=0,r=u.length;r>n;n++){if(i=u[n],k.isString(i)){if(i.indexOf("->")<0)throw"The link should be specified as 'a->b'.";if(s=i.split("->"),2!=s.length)throw"The link should be specified as 'a->b'.";t=new w(s[0],s[1]),o.addLink(t)}if(k.isObject(i)){if(!t)throw"Specification found before Link definition.";S.deepExtend(t,i)}}return o},linearize:function(e,t){var n,r,i,s;if(k.isUndefined(e))throw"Expected an instance of a Graph object in slot one.";for(k.isUndefined(t)&&(t=!1),n=[],r=0,i=e.links.length;i>r;r++)s=e.links[r],n.push(s.source.id+"->"+s.target.id),t&&n.push({id:s.id});return n},_addShape:function(e,t,n,r){return k.isUndefined(t)&&(t=new x.Point(0,0)),k.isUndefined(n)&&(n=s()),r=S.deepExtend({width:20,height:20,id:n,radius:10,fill:"#778899",data:"circle",undoable:!1,x:t.x,y:t.y},r),e.addShape(r)},_addConnection:function(e,t,n,r){return e.connect(t,n,r)},createDiagramFromGraph:function(e,t,n,r){var i,s,o,a,f,l,c,h,p,d,v,m,g,y,b,w;if(k.isUndefined(e))throw"The diagram surface is undefined.";if(k.isUndefined(t))throw"No graph specification defined.";for(k.isUndefined(n)&&(n=!0),k.isUndefined(r)&&(r=!1),i=e.element.clientWidth||200,s=e.element.clientHeight||200,o=[],l=0,c=t.nodes.length;c>l;l++)a=t.nodes[l],h=a.position,k.isUndefined(h)&&(h=k.isDefined(a.x)&&k.isDefined(a.y)?new L(a.x,a.y):new L(k.randomInteger(10,i-20),k.randomInteger(10,s-20))),p={},"0"===a.id||r&&S.deepExtend(p,{width:150*Math.random()+20,height:80*Math.random()+50,data:"rectangle",fill:{color:"#778899"}}),f=this._addShape(e,h,a.id,p),d=f.bounds(),k.isDefined(d)&&(a.x=d.x,a.y=d.y,a.width=d.width,a.height=d.height),o[a.id]=f;for(v=0;t.links.length>v;v++)m=t.links[v],g=o[m.source.id],k.isUndefined(g)||(y=o[m.target.id],k.isUndefined(y)||this._addConnection(e,g,y,{id:m.id}));if(n)for(b=new e.SpringLayout(e),b.layoutGraph(t,{limitToView:!1}),w=0;t.nodes.length>w;w++)a=t.nodes[w],f=o[a.id],f.bounds(new u(a.x,a.y,a.width,a.height))},createBalancedTree:function(e,t){var n,r,i,s,o,u,a,f,l,c;if(k.isUndefined(e)&&(e=3),k.isUndefined(t)&&(t=3),n=new x.Graph,r=-1,i=[],0>=e||0>=t)return n;for(o=new b(""+ ++r),n.addNode(o),n.root=o,i.push(o),u=0;e>u;u++){for(s=[],a=0;i.length>a;a++)for(f=i[a],l=0;t>l;l++)c=new b(""+ ++r),n.addLink(f,c),s.push(c);i=s}return n},createBalancedForest:function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p;if(k.isUndefined(e)&&(e=3),k.isUndefined(t)&&(t=3),k.isUndefined(n)&&(n=5),r=new x.Graph,i=-1,s=[],0>=e||0>=t||0>=n)return r;for(u=0;n>u;u++)for(a=new b(""+ ++i),r.addNode(a),s=[a],f=0;e>f;f++){for(o=[],l=0;s.length>l;l++)for(c=s[l],h=0;t>h;h++)p=new b(""+ ++i),r.addLink(c,p),o.push(p);s=o}return r},createRandomConnectedGraph:function(e,t,n){var r,i,s,o,u,a,f,l,c,h;if(k.isUndefined(e)&&(e=40),k.isUndefined(t)&&(t=4),k.isUndefined(n)&&(n=!1),r=new x.Graph,i=-1,0>=e)return r;if(s=new b(""+ ++i),r.addNode(s),1===e)return r;if(e>1){for(o=1;e>o&&(u=r.takeRandomNode([],t),u);o++)a=r.addNode(""+o),r.addLink(u,a);if(!n&&e>1)for(f=k.randomInteger(1,e),l=0;f>l;l++)c=r.takeRandomNode([],t),h=r.takeRandomNode([],t),c&&h&&!r.areConnected(c,h)&&r.addLink(c,h);return r}},randomDiagram:function(e,t,n,r,i){var s=S.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,n,r);E.Utils.createDiagramFromGraph(e,s,!1,i)}},S.deepExtend(x,{init:function(e){S.init(e,x.ui)},Point:L,Intersect:f,Geometry:d,Rect:u,Size:a,RectAlign:l,Matrix:h,MatrixVector:p,normalVariable:i,randomId:s,Dictionary:m,HashTable:v,Queue:g,Set:y,Node:b,Link:w,Graph:E,PathDefiner:o})}(window.kendo.jQuery),function(e,t){function n(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}function r(e){if(e){var t=e;return j(t)&&(t={color:t}),t.color&&(t.color=i(t.color)),t}}function i(e){var t;return t=e!=z?(new q.Color(e)).toHex():e}function s(e,t){var n=t.x-e.x,r=t.y-e.y,i=L.util.deg(Math.atan2(r,n));return i}function o(e,t){var n,r,i,s=this.options,o=!1;for(i=0;t.length>i;i++)r=t[i],n=e[r],B(n)&&s[r]!==n&&(s[r]=n,o=!0);return o}function u(e,t){return new q.Segment(new I.Point(e,t))}var a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L=window.kendo,A=L.dataviz.diagram,O=L.Class,M=L.deepExtend,_=A.Point,D=A.Rect,P=A.Matrix,H=A.Utils,B=H.isNumber,j=H.isString,F=A.MatrixVector,I=L.geometry,q=L.drawing,R=L.util.defined,U=e.inArray,z="transparent",W={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},X=360,V="start",$="end",J="width",K="height",Q="x",G="y";A.Markers=W,a=O.extend({init:function(e,t){this.x=e,this.y=t},toMatrix:function(){return P.scaling(this.x,this.y)},toString:function(){return L.format("scale({0},{1})",this.x,this.y)},invert:function(){return new a(1/this.x,1/this.y)}}),f=O.extend({init:function(e,t){this.x=e,this.y=t},toMatrixVector:function(){return new F(0,0,0,0,this.x,this.y)},toMatrix:function(){return P.translation(this.x,this.y)},toString:function(){return L.format("translate({0},{1})",this.x,this.y)},plus:function(e){this.x+=e.x,this.y+=e.y},times:function(e){this.x*=e,this.y*=e},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){0!==this.Length&&this.times(1/this.length())},invert:function(){return new f(-this.x,-this.y)}}),l=O.extend({init:function(e,t,n){this.x=t||0,this.y=n||0,this.angle=e},toString:function(){return this.x&&this.y?L.format("rotate({0},{1},{2})",this.angle,this.x,this.y):L.format("rotate({0})",this.angle)},toMatrix:function(){return P.rotation(this.angle,this.x,this.y)},center:function(){return new _(this.x,this.y)},invert:function(){return new l(X-this.angle,this.x,this.y)}}),l.create=function(e){return new l(e.angle,e.x,e.y)},l.parse=function(e){var t=e.slice(1,e.length-1).split(","),n=t[0],r=t[1],i=t[2],s=new l(n,r,i);return s},c=O.extend({init:function(e,n,r,i,s,o){this.translate=new f(e,n),r!==t&&i!==t&&(this.scale=new a(r,i)),s!==t&&(this.rotate=o?new l(s,o.x,o.y):new l(s))},toString:function(){var e=function(e){return e?""+e:""};return e(this.translate)+e(this.rotate)+e(this.scale)},render:function(e){e._transform=this,e._renderTransform()},toMatrix:function(){var e=P.unit();return this.translate&&(e=e.times(this.translate.toMatrix())),this.rotate&&(e=e.times(this.rotate.toMatrix())),this.scale&&(e=e.times(this.scale.toMatrix())),e},invert:function(){var e,n,r=this.rotate?this.rotate.invert():t,i=r?r.toMatrix():P.unit(),s=this.scale?this.scale.invert():t,o=s?s.toMatrix():P.unit(),u=new _(-this.translate.x,-this.translate.y);return u=i.times(o).apply(u),e=new f(u.x,u.y),n=new c,n.translate=e,n.rotate=r,n.scale=s,n}}),h={_setScale:function(){var e=this.options,t=this._originWidth,n=this._originHeight,r=e.width/t,i=e.height/n;B(r)||(r=1),B(i)||(i=1),this._transform.scale=new a(r,i)},_setTranslate:function(){var e=this.options,t=e.x||0,n=e.y||0;this._transform.translate=new f(t,n)},_initSize:function(){var e=this.options,t=!1;e.autoSize!==!1&&(R(e.width)||R(e.height))&&(this._measure(!0),this._setScale(),t=!0),(R(e.x)||R(e.y))&&(this._setTranslate(),t=!0),t&&this._renderTransform()},_updateSize:function(e){var t=!1;return this.options.autoSize!==!1&&this._diffNumericOptions(e,[J,K])&&(t=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(e,[Q,G])&&(t=!0,this._setTranslate()),t&&this._renderTransform(),t}},p=O.extend({init:function(e){var t=this;t.options=M({},t.options,e),t.id=t.options.id,t._originSize=D.empty(),t._transform=new c},visible:function(e){return this.drawingContainer().visible(e)},redraw:function(e){e&&e.id&&(this.id=e.id)},position:function(e,n){var r=this.options;return R(e)?(R(n)?(r.x=e,r.y=n):e instanceof _&&(r.x=e.x,r.y=e.y),this._transform.translate=new f(r.x,r.y),this._renderTransform(),t):new _(r.x,r.y)},rotate:function(e,t){return R(e)&&(this._transform.rotate=new l(e,t.x,t.y),this._renderTransform()),this._transform.rotate||new l(0)},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var e=this._transform.toMatrix();this.drawingContainer().transform(new I.Matrix(e.a,e.b,e.c,e.d,e.e,e.f))},_hover:function(){},_diffNumericOptions:o,_measure:function(e){var t,n,r;return!this._measured||e?(n=this._boundingBox()||new I.Rect,r=n.topLeft(),t=new D(r.x,r.y,n.width(),n.height()),this._originSize=t,this._originWidth=t.width,this._originHeight=t.height,this._measured=!0):t=this._originSize,t},_boundingBox:function(){return this.drawingElement.rawBBox()}}),d=p.extend({init:function(e){p.fn.init.call(this,e),e=this.options,e.fill=r(e.fill),e.stroke=r(e.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:z}},fill:function(e,t){this._fill({color:i(e),opacity:t})},stroke:function(e,t,n){this._stroke({color:i(e),width:t,opacity:n})},redraw:function(e){var t,n;e&&(t=e.stroke,n=e.fill,t&&this._stroke(r(t)),n&&this._fill(r(n)),p.fn.redraw.call(this,e))},_hover:function(e){var t,n=this.drawingElement,i=this.options,s=i.hover;s&&s.fill&&(t=e?r(s.fill):i.fill,n.fill(t.color,t.opacity))},_stroke:function(e){var t,n=this.options;M(n,{stroke:e}),e=n.stroke,t=null,e.width>0&&(t={color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}),this.drawingElement.options.set("stroke",t)},_fill:function(e){var t,n,r,i=this.options;M(i,{fill:e||{}}),t=i.fill,t.gradient?(n=t.gradient,r="radial"===n.type?q.RadialGradient:q.LinearGradient,this.drawingElement.fill(new r(n))):this.drawingElement.fill(t.color,t.opacity)}}),v=d.extend({init:function(e){this._textColor(e),d.fn.init.call(this,e),this._font(),this._initText(),this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function(){var e=this.options;this.drawingElement=new q.Text(R(e.text)?e.text:"",new I.Point,{font:e.font}),this._fill(),this._stroke()},_textColor:function(e){e&&e.color&&M(e,{fill:{color:e.color}})},_font:function(){var e=this.options;e.fontFamily&&R(e.fontSize)?e.font=e.fontSize+"px "+e.fontFamily:delete e.font},content:function(e){return this.drawingElement.content(e)},redraw:function(e){var t,n;e&&(t=!1,n=this.options,this._textColor(e),d.fn.redraw.call(this,e),(e.fontFamily||R(e.fontSize))&&(M(n,{fontFamily:e.fontFamily,fontSize:e.fontSize}),this._font(),this.drawingElement.options.set("font",n.font),t=!0),e.text&&(this.content(e.text),t=!0),!this._updateSize(e)&&t&&this._initSize())}}),M(v.fn,h),m=d.extend({init:function(e){d.fn.init.call(this,e),this._initPath(),this._setPosition()},_setPosition:function(){var e=this.options,t=e.x,n=e.y;(R(t)||R(n))&&this.position(t||0,n||0)},redraw:function(e){e&&(d.fn.redraw.call(this,e),this._diffNumericOptions(e,[J,K])&&this._drawPath(),this._diffNumericOptions(e,[Q,G])&&this._setPosition())},_initPath:function(){var e=this.options;this.drawingElement=new q.Path({stroke:e.stroke,closed:!0}),this._fill(),this._drawPath()},_drawPath:function(){var e=this.drawingElement,t=n(this.options),r=t.width,i=t.height;e.segments.elements([u(0,0),u(r,0),u(r,i),u(0,i)])}}),g=d.extend({init:function(e){d.fn.init.call(this,e);var t=this.options.anchor;this.anchor=new I.Point(t.x,t.y),this.createElement()},options:{stroke:{color:z,width:0},fill:{color:"black"}},_transformToPath:function(e,t){var n=t.transform();return e&&n&&(e=e.transformCopy(n)),e},redraw:function(e){e&&(e.position&&(this.options.position=e.position),d.fn.redraw.call(this,e))}}),y=g.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var e=this.options;this.drawingElement=new q.Circle(new I.Circle(this.anchor,e.radius),{fill:e.fill,stroke:e.stroke})},positionMarker:function(e){var t,n,r=this.options,i=r.position,s=e.segments;t=i==V?s[0]:s[s.length-1],t&&(n=this._transformToPath(t.anchor(),e),this.drawingElement.transform(I.transform().translate(n.x,n.y)))}}),b=g.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var e=this.options;this.drawingElement=q.Path.parse(e.path,{fill:e.fill,stroke:e.stroke})},positionMarker:function(e){var t,n,r=this._linePoints(e),i=r.start,o=r.end,u=I.transform();i&&u.rotate(s(i,o),o),o&&(t=this.anchor,n=o.clone().translate(-t.x,-t.y),u.translate(n.x,n.y)),this.drawingElement.transform(u)},_linePoints:function(e){var n,r,i,s,o,u=this.options,a=e.segments;return u.position==V?(i=a[0],i&&(r=i.anchor(),n=i.controlOut(),s=a[1],!n&&s&&(n=s.anchor()))):(i=a[a.length-1],i&&(r=i.anchor(),n=i.controlIn(),o=a[a.length-2],!n&&o&&(n=o.anchor()))),r?{start:this._transformToPath(n,e),end:this._transformToPath(r,e)}:t}}),w={_getPath:function(e){var n=this.drawingElement;return n instanceof q.MultiPath&&(n=e==V?n.paths[0]:n.paths[n.paths.length-1]),n&&n.segments.length?n:t},_normalizeMarkerOptions:function(e){var t=e.startCap,n=e.endCap;j(t)&&(e.startCap={type:t}),j(n)&&(e.endCap={type:n})},_removeMarker:function(e){var t=this._markers[e];t&&(this.drawingContainer().remove(t.drawingElement),delete this._markers[e])},_createMarkers:function(){var e=this.options;this._normalizeMarkerOptions(e),this._markers={},this._markers[V]=this._createMarker(e.startCap,V),this._markers[$]=this._createMarker(e.endCap,$)},_createMarker:function(e,n){var r,i,s=(e||{}).type,o=this._getPath(n);return o?(s==W.filledCircle?r=y:s==W.arrowStart||s==W.arrowEnd?r=b:this._removeMarker(n),r?(i=new r(M({},e,{position:n})),i.positionMarker(o),this.drawingContainer().append(i.drawingElement),i):t):(this._removeMarker(n),t)},_positionMarker:function(e){var t,n=this._markers[e];n&&(t=this._getPath(e),t?n.positionMarker(t):this._removeMarker(e))},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(e,t,n){var r,i,s,o,u;return this._normalizeMarkerOptions(n),r=this.options,i=this._capMap[t],s=(r[i]||{}).type,o=n[i],u=!1,o?(r[i]=M({},r[i],o),o.type&&s!=o.type?(this._removeMarker(t),this._markers[t]=this._createMarker(r[i],t),u=!0):this._markers[t]&&this._markers[t].redraw(o)):e&&!this._markers[t]&&r[i]&&(this._markers[t]=this._createMarker(r[i],t),u=!0),u},_redrawMarkers:function(e,t){!this._redrawMarker(e,V,t)&&e&&this._positionMarker(V),!this._redrawMarker(e,$,t)&&e&&this._positionMarker($)}},E=d.extend({init:function(e){d.fn.init.call(this,e),this.container=new q.Group,this._createElements(),this._initSize()},options:{autoSize:!0},drawingContainer:function(){return this.container},data:function(e){var n=this.options;return e?(n.data!=e&&(n.data=e,this._setData(e),this._initSize(),this._redrawMarkers(!0,{})),t):n.data},redraw:function(e){var t,n;e&&(d.fn.redraw.call(this,e),t=this.options,n=e.data,R(n)&&t.data!=n?(t.data=n,this._setData(n),this._updateSize(e)||this._initSize(),this._redrawMarkers(!0,e)):(this._updateSize(e),this._redrawMarkers(!1,e)))},_createElements:function(){var e=this.options;this.drawingElement=q.Path.parse(e.data||"",{stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),this._createMarkers()},_setData:function(e){var t=this.drawingElement,n=q.Path.parse(e||""),r=n.paths.slice(0);n.paths.elements([]),t.paths.elements(r)}}),M(E.fn,h),M(E.fn,w),S=d.extend({init:function(e){d.fn.init.call(this,e),this.container=new q.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(e){var t,n;e&&(e=e||{},t=e.from,n=e.to,t&&(this.options.from=t),n&&(this.options.to=n),t||n?(this._drawPath(),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e),d.fn.redraw.call(this,e))},_initPath:function(){var e=this.options,t=this.drawingElement=new q.Path({stroke:e.stroke});this._fill(),this._drawPath(),this.container.append(t)},_drawPath:function(){var e=this.options,t=this.drawingElement,n=e.from||new _,r=e.to||new _;t.segments.elements([u(n.x,n.y),u(r.x,r.y)])}}),M(S.fn,w),x=d.extend({init:function(e){d.fn.init.call(this,e),this.container=new q.Group,this._initPath(),this._createMarkers()},drawingContainer:function(){return this.container},points:function(e){var n=this.options;return e?(n.points=e,this._updatePath(),t):n.points},redraw:function(e){if(e){var t=e.points;d.fn.redraw.call(this,e),t&&this._pointsDiffer(t)?(this.points(t),this._redrawMarkers(!0,e)):this._redrawMarkers(!1,e)}},_initPath:function(){var e=this.options;this.drawingElement=new q.Path({stroke:e.stroke}),this._fill(),this.container.append(this.drawingElement),e.points&&this._updatePath()},_pointsDiffer:function(e){var t,n=this.options.points,r=n.length!==e.length;if(!r)for(t=0;e.length>t;t++)if(n[t].x!==e[t].x||n[t].y!==e[t].y){r=!0;break}return r},_updatePath:function(){var e,t,n=this.drawingElement,r=this.options,i=r.points,s=[];for(t=0;i.length>t;t++)e=i[t],s.push(u(e.x,e.y));n.segments.elements(s)},options:{points:[]}}),M(x.fn,w),T=p.extend({init:function(e){p.fn.init.call(this,e),this._initImage()},redraw:function(e){e&&(e.source&&this.drawingElement.src(e.source),this._diffNumericOptions(e,[J,K,Q,G])&&this.drawingElement.rect(this._rect()),p.fn.redraw.call(this,e))},_initImage:function(){var e=this.options,t=this._rect();this.drawingElement=new q.Image(e.source,t,{})},_rect:function(){var e=n(this.options),t=new I.Point(e.x,e.y),r=new I.Size(e.width,e.height);return new I.Rect(t,r)}}),N=p.extend({init:function(e){this.children=[],p.fn.init.call(this,e),this.drawingElement=new q.Group,this._initSize()},options:{autoSize:!1},append:function(e){this.drawingElement.append(e.drawingContainer()),this.children.push(e),this._childrenChange=!0},remove:function(e){this._remove(e)&&(this._childrenChange=!0)},_remove:function(e){var n=U(e,this.children);return n>=0?(this.drawingElement.removeAt(n),this.children.splice(n,1),!0):t},clear:function(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0},toFront:function(e){var t,n;for(n=0;e.length>n;n++)t=e[n],this._remove(t)&&this.append(t)},toBack:function(e){this._reorderChildren(e,0)},toIndex:function(e,t){this._reorderChildren(e,t)},_reorderChildren:function(e,t){var n,r,i,s,o,u=this.drawingElement,a=u.children.slice(0),f=this.children,l=B(t);for(n=0;e.length>n;n++)o=e[n],s=o.drawingContainer(),r=U(o,f),r>=0&&(a.splice(r,1),f.splice(r,1),i=l?t:t[n],a.splice(i,0,s),f.splice(i,0,o));u.clear(),u.append.apply(u,a)},redraw:function(e){e&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(e)||this._initSize()):this._updateSize(e),p.fn.redraw.call(this,e))},_boundingBox:function(){var e,t,n,r,i=this.children;for(r=0;i.length>r;r++)t=i[r],t.visible()&&t._includeInBBox!==!1&&(n=t.drawingContainer().clippedBBox(null),n&&(e=e?D.union(e,n):n));return e}}),M(N.fn,h),C=d.extend({init:function(e){d.fn.init.call(this,e),this._initCircle(),this._initSize()},redraw:function(e){if(e){var t=this.options;e.center&&(M(t,{center:e.center}),this._center.move(t.center.x,t.center.y)),this._diffNumericOptions(e,["radius"])&&this._circle.setRadius(t.radius),this._updateSize(e),d.fn.redraw.call(this,e)}},_initCircle:function(){var e,t=this.options,n=t.width,r=t.height,i=t.radius;R(i)||(R(n)||(n=r),R(r)||(r=n),t.radius=i=Math.min(n,r)/2),e=t.center||{x:i,y:i},this._center=new I.Point(e.x,e.y),this._circle=new I.Circle(this._center,i),this.drawingElement=new q.Circle(this._circle,{stroke:t.stroke}),this._fill()}}),M(C.fn,h),k=O.extend({init:function(e,t){t=t||{},this.element=e,this.surface=q.Surface.create(e,t),L.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new q.Group,this._viewBox=new D(0,0,t.width,t.height),this.size(this._viewBox)},bounds:function(){var e=this.drawingElement.clippedBBox();return new D(0,0,e.width(),e.height())},size:function(e){var t=this._viewBox;return R(e)&&(t.width=e.width,t.height=e.height,this.surface.setSize(e)),{width:t.width,height:t.height}},_translate:function(e,t){var n=this._viewBox;return R(e)&&R(t)&&(n.x=e,n.y=t,this.surface.translate({x:e,y:t})),{x:n.x,y:n.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(e){return this.drawingElement.append(e.drawingContainer()),this},remove:function(e){this.drawingElement.remove(e.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(t){this.surface.destroy(),t&&e(this.element).remove()}}),L.deepExtend(A,{init:function(e){L.init(e,A.ui)},diffNumericOptions:o,Element:p,Scale:a,Translation:f,Rotation:l,Circle:C,Group:N,Rectangle:m,Canvas:k,Path:E,Line:S,MarkerBase:g,ArrowMarker:b,CircleMarker:y,Polyline:x,CompositeTransform:c,TextBlock:v,Image:T,VisualBase:d})}(window.kendo.jQuery),function(e,t){function n(e,t){e.isSelected?t.ctrlKey&&e.select(!1):e.diagram.select(e,{addToSelection:t.ctrlKey})}function r(e){return e.ctrlKey===!1&&e.altKey===!1&&e.shiftKey===!1}function i(e,t){var n=e!==!1;return e.key&&"none"!=e.key&&(n=t[e.key+"Key"]),n}function s(e,t){return t.charCodeAt(0)==e||t.toUpperCase().charCodeAt(0)==e}function o(e,t){var n;return-1==e.x&&-1==e.y?n=t.bottomRight():1==e.x&&1==e.y?n=t.topLeft():-1==e.x&&1==e.y?n=t.topRight():1==e.x&&-1==e.y?n=t.bottomLeft():0===e.x&&-1==e.y?n=t.bottom():0===e.x&&1==e.y?n=t.top():1==e.x&&0===e.y?n=t.left():-1==e.x&&0===e.y&&(n=t.right()),n}function u(e){var t=e.options.editable;return t&&t.drag!==!1}function a(e,t){var n,r,i,s;for(s=0;e.connectors.length>s;s++)if(n=e.connectors[s],r=n.position(),i=new V(r.x,r.y),i.inflate(ot,ot),i.contains(t))return n}var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R=window.kendo,U=R.dataviz,z=U.diagram,W=R.Class,X=z.Group,V=z.Rect,$=z.Rectangle,J=z.Utils,K=J.isUndefined,Q=z.Point,G=z.Circle,Y=z.Ticker,Z=R.deepExtend,et=R.ui.Movable,tt=R.support.browser,nt=R.util.defined,rt=e.inArray,it=e.proxy,st={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},ot=10,ut="Auto",at="Top",ft="Right",lt="Left",ct="Bottom",ht=10,pt=10,dt="dragStart",vt="drag",mt="dragEnd",gt="itemRotate",yt="itemBoundsChange",bt=5,wt=5,Et="mouseEnter",St="mouseLeave",xt="zoomStart",Tt="zoomEnd",Nt=-2e4,Ct=2e4,kt=.9,Lt=.93,At=5,Ot="transparent",Mt="pan",_t="rotated";z.Cursors=st,f=R.Class.extend({init:function(e){this.layoutState=e,this.diagram=e.diagram},initState:function(){function e(e,t){var n=this.diagram.getShapeById(e);n&&(this.subjects.push(n),this.froms.push(n.bounds().topLeft()),this.tos.push(t.topLeft()))}this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach(e,this)},update:function(e){if(!(0>=this.subjects.length))for(var t=0;this.subjects.length>t;t++)this.subjects[t].position(new Q(this.froms[t].x+(this.tos[t].x-this.froms[t].x)*e,this.froms[t].y+(this.tos[t].y-this.froms[t].y)*e))}}),l=W.extend({init:function(e,t,n){this.animate=K(n)?!1:n,this._initialState=e,this._finalState=t,this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(e){var t,n=e.diagram;this.animate?(e.linkMap.forEach(function(e,t){var r=n.getShapeById(e);r.visible(!1),r&&r.points(t)}),t=new Y,t.addAdapter(new f(e)),t.onComplete(function(){e.linkMap.forEach(function(e){var t=n.getShapeById(e);t.visible(!0)})}),t.play()):(e.nodeMap.forEach(function(e,t){var r=n.getShapeById(e);r&&r.position(t.topLeft())}),e.linkMap.forEach(function(e,t){var r=n.getShapeById(e);r&&r.points(t)}))}}),c=W.extend({init:function(e){this.units=[],this.title="Composite unit",e!==t&&this.units.push(e)},add:function(e){this.units.push(e)},undo:function(){for(var e=0;this.units.length>e;e++)this.units[e].undo()},redo:function(){for(var e=0;this.units.length>e;e++)this.units[e].redo()}}),h=W.extend({init:function(e,t,n){this.item=e,this._redoSource=t,this._redoTarget=n,nt(t)&&(this._undoSource=e.source()),nt(n)&&(this._undoTarget=e.target()),this.title="Connection Editing"},undo:function(){this._undoSource!==t&&this.item._updateConnector(this._undoSource,"source"),this._undoTarget!==t&&this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){this._redoSource!==t&&this.item._updateConnector(this._redoSource,"source"),this._redoTarget!==t&&this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),p=W.extend({init:function(e,t,n){this.item=e,this._undoSource=t,this._undoTarget=n,this._redoSource=e.source(),this._redoTarget=e.target(),this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source"),this.item._updateConnector(this._undoTarget,"target"),this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source"),this.item._updateConnector(this._redoTarget,"target"),this.item.updateModel()}}),d=W.extend({init:function(e){this.connection=e,this.diagram=e.diagram,this.targetConnector=e.targetConnector,this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,!1)},redo:function(){this.diagram.remove(this.connection,!1)}}),v=W.extend({init:function(e){this.shape=e,this.diagram=e.diagram,this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,!1),this.shape.select(!1)},redo:function(){this.shape.select(!1),this.diagram.remove(this.shape,!1)}}),m=W.extend({init:function(e,t,n){var r,i;for(this.shapes=e,this.undoStates=t,this.title="Transformation",this.redoStates=[],this.adorner=n,r=0;this.shapes.length>r;r++)i=this.shapes[r],this.redoStates.push(i.bounds())},undo:function(){var e,t;for(e=0;this.shapes.length>e;e++)t=this.shapes[e],t.bounds(this.undoStates[e]),t.hasOwnProperty("layout")&&t.layout(t,this.redoStates[e],this.undoStates[e]),t.updateModel();this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redo:function(){var e,t;for(e=0;this.shapes.length>e;e++)t=this.shapes[e],t.bounds(this.redoStates[e]),t.hasOwnProperty("layout")&&t.layout(t,this.undoStates[e],this.redoStates[e]),t.updateModel();this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),g=W.extend({init:function(e,t){this.connection=e,this.diagram=t,this.title="New connection"},undo:function(){this.diagram.remove(this.connection,!1)},redo:function(){this.diagram._addConnection(this.connection,!1)}}),y=W.extend({init:function(e,t){this.shape=e,this.diagram=t,this.title="New shape"},undo:function(){this.diagram.deselect(),this.diagram.remove(this.shape,!1)},redo:function(){this.diagram._addShape(this.shape,!1)}}),b=W.extend({init:function(e,t,n){this.initial=e,this.finalPos=t,this.diagram=n,this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),w=W.extend({init:function(e,t,n){var r,i;for(this.shapes=t,this.undoRotates=n,this.title="Rotation",this.redoRotates=[],this.redoAngle=e._angle,this.adorner=e,this.center=e._innerBounds.center(),r=0;this.shapes.length>r;r++)i=this.shapes[r],this.redoRotates.push(i.rotate().angle)},undo:function(){var e,t;for(e=0;this.shapes.length>e;e++)t=this.shapes[e],t.rotate(this.undoRotates[e],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t),t.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redo:function(){var e,t;for(e=0;this.shapes.length>e;e++)t=this.shapes[e],t.rotate(this.redoRotates[e],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t),t.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),E=W.extend({init:function(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,!1)}}),S=W.extend({init:function(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,!1)}}),x=R.Observable.extend({init:function(e){R.Observable.fn.init.call(this,e),this.bind(this.events,e),this.stack=[],this.index=0,this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new c},cancel:function(){this.composite=t},commit:function(e){this.composite.units.length>0&&this._restart(this.composite,e),this.composite=t},addCompositeItem:function(e){this.composite?this.composite.add(e):this.add(e)},add:function(e,t){this._restart(e,t)},pop:function(){this.index>0&&(this.stack.pop(),this.index--)},count:function(){return this.stack.length},undo:function(){this.index>0&&(this.index--,this.stack[this.index].undo(),this.trigger("undone"))},redo:function(){this.stack.length>0&&this.stack.length>this.index&&(this.stack[this.index].redo(),this.index++,this.trigger("redone"))},_restart:function(e,t){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(e),t!==!1?this.redo():this.index++,this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clear:function(){this.stack=[],this.index=0}}),T=W.extend({init:function(e){this.toolService=e},start:function(){},move:function(){},end:function(){},tryActivate:function(){return!1},getCursor:function(){return st.arrow}}),N=T.extend({init:function(t){var n,r,i,s,o=this,u=R.support.mobileOS?Lt:kt;T.fn.init.call(o,t),n=o.toolService.diagram,r=n.canvas,i=n.scroller=o.scroller=e(n.scrollable).kendoMobileScroller({friction:u,velocityMultiplier:At,mousewheelScrolling:!1,zoom:!1,scroll:it(o._move,o)}).data("kendoMobileScroller"),r.translate&&(o.movableCanvas=new et(r.element)),s=function(e,t,n){e.makeVirtual(),e.virtualSize(t||Nt,n||Ct)},s(i.dimensions.x),s(i.dimensions.y),i.disable()},tryActivate:function(e,t){var n=this.toolService,i=n.diagram.options.pannable,s=t.ctrlKey;return nt(i.key)&&(s=i.key&&"none"!=i.key?t[i.key+"Key"]&&(!t.ctrlKey||!nt(n.hoveredItem)):r(t)),i!==!1&&s&&!nt(n.hoveredAdorner)&&!nt(n._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(e){var t=this,n=t.toolService.diagram,r=n.canvas,i=new Q(e.scrollLeft,e.scrollTop);r.translate?(n._storePan(i.times(-1)),t.movableCanvas.moveTo(i),r.translate(i.x,i.y)):i=i.plus(n._pan.times(-1)),n.trigger(Mt,{pan:i})},end:function(){this.scroller.disable()},getCursor:function(){return st.move}}),C=W.extend({init:function(e){this.toolService=e},tryActivate:function(){return!0},start:function(e,t){var r=this.toolService,s=r.diagram,o=r.hoveredItem,u=s.options.selectable;o&&(i(u,t)&&n(o,t),o.adorner&&(this.adorner=o.adorner,this.handle=this.adorner._hitTest(e))),this.handle||(this.handle=s._resizingAdorner._hitTest(e),this.handle&&(this.adorner=s._resizingAdorner)),this.adorner&&(this.adorner.isDragHandle(this.handle)&&s.trigger(dt,{shapes:this.adorner.shapes,connections:[]})?(r.startPoint=e,r.end(e)):this.adorner.start(e))},move:function(e){this.adorner&&(this.adorner.move(this.handle,e),this.adorner.isDragHandle(this.handle)&&this.toolService.diagram.trigger(vt,{shapes:this.adorner.shapes,connections:[]}))},end:function(e,n){var r,i=this.toolService.diagram,s=this.toolService,o=this.adorner;o&&(o.isDragHandle(this.handle)&&i.trigger(mt,{shapes:o.shapes,connections:[]})?o.cancel():(r=o.stop(),r&&i.undoRedoService.add(r,!1))),s.hoveredItem&&this.toolService.triggerClick({item:s.hoveredItem,point:e,meta:n}),this.adorner=t,this.handle=t},getCursor:function(e){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(e):st.arrow}}),k=W.extend({init:function(e){this.toolService=e},tryActivate:function(e,t){var n=this.toolService,r=i(n.diagram.options.selectable,t);return r&&!nt(n.hoveredItem)&&!nt(n.hoveredAdorner)},start:function(e){var t=this.toolService.diagram;t.deselect(),t.selector.start(e)},move:function(e){var t=this.toolService.diagram;t.selector.move(e)},end:function(e,t){var n=this.toolService.diagram,r=this.toolService.hoveredItem,i=n.selector.bounds();r&&r.isSelected||t.ctrlKey||n.deselect(),i.isEmpty()||n.selectArea(i),n.selector.end()},getCursor:function(){return st.arrow}}),L=W.extend({init:function(e){this.toolService=e,this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(e,t){var r=this.toolService.diagram,i=this.toolService._hoveredConnector,s=r._createConnection({},i._c,e);u(s)&&!r.trigger(dt,{shapes:[],connections:[s]})&&r._addConnection(s)?(this.toolService._connectionManipulation(s,i._c.shape,!0),this.toolService._removeHover(),n(this.toolService.activeConnection,t)):(s.source(null),this.toolService.end(e))},move:function(e){var t=this.toolService,n=t.activeConnection;return n.target(e),t.diagram.trigger(vt,{shapes:[],connections:[n]}),!0},end:function(e){var t,n=this.toolService,r=n.diagram,i=n.activeConnection,s=n.hoveredItem,o=n._hoveredConnector;i&&(t=o&&o._c!=i.sourceConnector?o._c:s&&s instanceof z.Shape?s.getConnector(ut)||s.getConnector(e):e,i.target(t),r.trigger(mt,{shapes:[],connections:[i]})?(r.remove(i,!1),r.undoRedoService.pop()):(i.updateModel(),r._syncConnectionChanges()),n._connectionManipulation())},getCursor:function(){return st.arrow}}),A=W.extend({init:function(e){this.toolService=e,this.type="ConnectionTool"},tryActivate:function(e,t){var n=this.toolService,r=n.diagram,s=r.options.selectable,o=n.hoveredItem,u=i(s,t)&&o&&o.path&&(!o.isSelected||!t.ctrlKey);return u&&(this._c=o),u},start:function(e,t){var r,i=this._c;n(i,t),r=i.adorner,u(i)&&r&&!this.toolService.diagram.trigger(dt,{shapes:[],connections:[i]})?(this.handle=r._hitTest(e),r.start(e)):(this.toolService.startPoint=e,this.toolService.end(e))},move:function(e){var n=this._c.adorner;return u(this._c)&&n?(n.move(this.handle,e),this.toolService.diagram.trigger(vt,{shapes:[],connections:[this._c]}),!0):t},end:function(e,t){var n,r=this._c,i=r.adorner,s=this.toolService,o=s.diagram;i&&(s.triggerClick({item:r,point:e,meta:t}),u(r)&&(n=i.stop(e),o.trigger(mt,{shapes:[],connections:[r]})?n.undo():(o.undoRedoService.add(n,!1),r.updateModel(),o._syncConnectionChanges())))},getCursor:function(){return st.move}}),O=W.extend({init:function(e){this.diagram=e,this.tools=[new N(this),new A(this),new L(this),new k(this),new C(this)],this.activeTool=t},start:function(e,t){return t=Z({},t),this.activeTool&&this.activeTool.end(e,t),this._updateHoveredItem(e),this._activateTool(e,t),this.activeTool.start(e,t),this._updateCursor(e),this.diagram.focus(),this.startPoint=e,!0},move:function(e,t){t=Z({},t);var n=!0;return this.activeTool&&(n=this.activeTool.move(e,t)),n&&this._updateHoveredItem(e),this._updateCursor(e),!0},end:function(e,n){return n=Z({},n),this.activeTool&&this.activeTool.end(e,n),this.activeTool=t,this._updateCursor(e),!0},keyDown:function(e,t){var n,r=this.diagram;if(t=Z({ctrlKey:!1,metaKey:!1,altKey:!1},t),!t.ctrlKey&&!t.metaKey||t.altKey){if(46===e||8===e)return n=this.diagram._triggerRemove(r.select()),n.length&&(this.diagram.remove(n,!0),this.diagram._syncChanges(),this.diagram._destroyToolBar()),!0;if(27===e)return this._discardNewConnection(),r.deselect(),r._destroyToolBar(),!0}else{if(s(e,"a"))return r.selectAll(),r._destroyToolBar(),!0;if(s(e,"z"))return r.undo(),r._destroyToolBar(),!0;if(s(e,"y"))return r.redo(),r._destroyToolBar(),!0;s(e,"c")?(r.copy(),r._destroyToolBar()):s(e,"x")?(r.cut(),r._destroyToolBar()):s(e,"v")?(r.paste(),r._destroyToolBar()):s(e,"l")?(r.layout(),r._destroyToolBar()):s(e,"d")&&(r._destroyToolBar(),r.copy(),r.paste())}},wheel:function(e,t){var n=this.diagram,r=t.delta,i=n.zoom(),s=n.options,o=s.zoomRate,u={point:e,meta:t,zoom:i};if(!n.trigger(xt,u))return 0>r?i+=o:i-=o,i=R.dataviz.round(Math.max(s.zoomMin,Math.min(s.zoomMax,i)),2),u.zoom=i,n.zoom(i,u),n.trigger(Tt,u),!0},setTool:function(e,t){e.toolService=this,this.tools[t]=e},triggerClick:function(e){this.startPoint.equals(e.point)&&this.diagram.trigger("click",e)},_discardNewConnection:function(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=t)},_activateTool:function(e,t){var n,r;for(n=0;this.tools.length>n;n++)if(r=this.tools[n],r.tryActivate(e,t)){this.activeTool=r;break}},_updateCursor:function(e){var t=this.diagram.element,n=this.activeTool?this.activeTool.getCursor(e):this.hoveredAdorner?this.hoveredAdorner._getCursor(e):this.hoveredItem?this.hoveredItem._getCursor(e):st.arrow;t.css({cursor:n}),tt.msie&&7==tt.version&&(t[0].style.cssText=t[0].style.cssText)},_connectionManipulation:function(e,n,r){this.activeConnection=e,this.disabledShape=n,this.newConnection=r?this.activeConnection:t},_updateHoveredItem:function(e){var n=this._hitTest(e),r=this.diagram;n==this.hoveredItem||this.disabledShape&&n==this.disabledShape||(this.hoveredItem&&(r.trigger(St,{item:this.hoveredItem}),this.hoveredItem._hover(!1)),n&&n.options.enable?(r.trigger(Et,{item:n}),this.hoveredItem=n,this.hoveredItem._hover(!0)):this.hoveredItem=t)},_removeHover:function(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=t)},_hitTest:function(e){var n,r,i,s,o=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=t),o._connectorsAdorner._visible&&(n=o._connectorsAdorner._hitTest(e)))return n;if(n=this.diagram._resizingAdorner._hitTest(e)){if(this.hoveredAdorner=o._resizingAdorner,0!==n.x||0!==n.y)return;n=t}else this.hoveredAdorner=t;if(!this.activeTool||"ConnectionTool"!==this.activeTool.type){for(s=[],i=0;o._selectedItems.length>i;i++)r=o._selectedItems[i],r instanceof z.Connection&&s.push(r);n=this._hitTestItems(s,e)}return n||this._hitTestElements(e)},_hitTestElements:function(e){var t,n,r,i,s=this.diagram,o=this._hitTestItems(s.shapes,e),u=this._hitTestItems(s.connections,e);return this.activeTool&&"ConnectionTool"==this.activeTool.type||!o||!u||a(o,e)||(n=s.mainLayer,r=rt(o.visual,n.children),i=rt(u.visual,n.children),t=r>i?o:u),t||o||u},_hitTestItems:function(e,t){var n,r,i;for(n=e.length-1;n>=0;n--)if(r=e[n],i=r._hitTest(t))return i}}),M=R.Class.extend({init:function(){}}),_=M.extend({init:function(e){var t=this;M.fn.init.call(t),this.connection=e},hitTest:function(e){var t=this.getBounds().inflate(ot);return t.contains(e)?z.Geometry.distanceToPolyline(e,this.connection.allPoints())<ot:!1},getBounds:function(){var e,t=this.connection.allPoints(),n=t[0],r=t[t.length-1],i=Math.max(n.x,r.x),s=Math.min(n.x,r.x),o=Math.min(n.y,r.y),u=Math.max(n.y,r.y);for(e=1;t.length-1>e;++e)i=Math.max(i,t[e].x),s=Math.min(s,t[e].x),o=Math.min(o,t[e].y),u=Math.max(u,t[e].y);return new V(s,o,i-s,u-o)}}),D=_.extend({init:function(e){var t=this;_.fn.init.call(t),this.connection=e},route:function(){}}),P=_.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(e){var t=this;_.fn.init.call(t),this.connection=e},routePoints:function(e,t,n,r){var i;return i=n&&r?this._connectorPoints(e,t,n,r):this._floatingPoints(e,t,n)},route:function(){var e=this.connection._resolvedSourceConnector,t=this.connection._resolvedTargetConnector,n=this.connection.sourcePoint(),r=this.connection.targetPoint(),i=this.routePoints(n,r,e,t);this.connection.points(i)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(e,t){var n,r,i,s,o,u=e.position(),a=e.shape.bounds(_t),f={topLeft:a.topLeft(),bottomRight:a.bottomRight()},l=this._connectorSides,c=R.util.MAX_NUM;for(o=0;l.length>o;o++)s=l[o],i=s.axis,n=Math.round(Math.abs(u[i]-f[s.boundsPoint][i])),c>n?(c=n,r=s):n===c&&(u[i]-t[i])*s.secondarySign>(u[r.axis]-t[r.axis])*r.secondarySign&&(r=s);return r.name},_sameSideDistance:function(e){var t=e.shape.bounds(_t);return Math.min(t.width,t.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(e,t,n,r){var i,s,o=this._connectorSide(n,t),u=this._connectorSide(r,e),a=t.x-e.x,f=t.y-e.y,l=this._sameSideDistance(n),c=[];return o===at||o==ct?u==at||u==ct?o==u?(s=o==at?Math.min(e.y,t.y)-l:Math.max(e.y,t.y)+l,c=[new Q(e.x,s),new Q(t.x,s)]):c=[new Q(e.x,e.y+f/2),new Q(t.x,e.y+f/2)]:c=[new Q(e.x,t.y)]:u==lt||u==ft?o==u?(i=o==lt?Math.min(e.x,t.x)-l:Math.max(e.x,t.x)+l,c=[new Q(i,e.y),new Q(i,t.y)]):c=[new Q(e.x+a/2,e.y),new Q(e.x+a/2,e.y+f)]:c=[new Q(t.x,e.y)],c},_floatingPoints:function(e,t,n){var r,i,s,o=n?this._connectorSide(n,t):null,u=this._startHorizontal(e,t,o),a=[e,e,t,t],f=t.x-e.x,l=t.y-e.y,c=a.length;for(s=1;c-1>s;++s)u?s%2!==0?(r=f/(c/2),i=0):(r=0,i=l/((c-1)/2)):s%2!==0?(r=0,i=l/(c/2)):(r=f/((c-1)/2),i=0),a[s]=new Q(a[s-1].x+r,a[s-1].y+i);return s--,a[c-2]=u&&s%2!==0||!u&&s%2===0?new Q(a[c-1].x,a[c-2].y):new Q(a[c-2].x,a[c-1].y),[a[1],a[2]]},_startHorizontal:function(e,t,n){var r;return r=null===n||n!==ft&&n!==lt?Math.abs(e.x-t.x)>Math.abs(e.y-t.y):!0}}),H=W.extend({init:function(e,t){var n=this;n.diagram=e,n.options=Z({},n.options,t),n.visual=new X,n.diagram._adorners.push(n)},refresh:function(){}}),B=H.extend({init:function(e,t){var n,r,i,s=this;s.connection=e,n=s.connection.diagram,s._ts=n.toolService,H.fn.init.call(s,n,t),r=s.connection.sourcePoint(),i=s.connection.targetPoint(),s.spVisual=new G(Z(s.options.handles,{center:r})),s.epVisual=new G(Z(s.options.handles,{center:i})),s.visual.append(s.spVisual),s.visual.append(s.epVisual)},options:{handles:{}},_getCursor:function(){return st.move},start:function(e){switch(this.handle=this._hitTest(e),this.startPoint=e,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},move:function(e,t){switch(e){case-1:this.connection.source(t);break;case 1:this.connection.target(t);break;default:var n=t.minus(this.startPoint);this.startPoint=t,this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(n)),this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(n))}return this.refresh(),!0},stop:function(e){var n,r=this.diagram.toolService,i=r.hoveredItem;return n=r._hoveredConnector?r._hoveredConnector._c:i&&i instanceof z.Shape?i.getConnector(ut)||i.getConnector(e):e,-1===this.handle?this.connection.source(n):1===this.handle&&this.connection.target(n),this.handle=t,this._ts._connectionManipulation(),new p(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(e){var t=this.connection.sourcePoint(),n=this.connection.targetPoint(),r=this.options.handles.width/2,i=this.options.handles.height/2,s=(new V(t.x,t.y)).inflate(r,i),o=(new V(n.x,n.y)).inflate(r,i);return s.contains(e)?-1:o.contains(e)?1:0},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),j=H.extend({init:function(e,t){var n=this;H.fn.init.call(n,e,t),n._refreshHandler=function(e){e.item==n.shape&&n.refresh()}},show:function(e){var t,n,r,i=this;for(i._visible=!0,i.shape=e,i.diagram.bind(yt,i._refreshHandler),t=e.connectors.length,i.connectors=[],i.visual.clear(),n=0;t>n;n++)r=new q(e.connectors[n]),i.connectors.push(r),i.visual.append(r.visual);i.visual.visible(!0),i.refresh()},destroy:function(){var e=this;e.diagram.unbind(yt,e._refreshHandler),e.shape=t,e._visible=t,e.visual.visible(!1)},_hitTest:function(e){var t,n;for(n=0;this.connectors.length>n;n++)if(t=this.connectors[n],t._hitTest(e)){t._hover(!0),this.diagram.toolService._hoveredConnector=t;break}},refresh:function(){if(this.shape){var t=this.shape.bounds();t=this.diagram.modelToLayer(t),this.visual.position(t.topLeft()),e.each(this.connectors,function(){this.refresh()})}}}),F=H.extend({init:function(e,t){var n=this;H.fn.init.call(n,e,t),n._manipulating=!1,n.map=[],n.shapes=[],n._initSelection(),n._createHandles(),n.redraw(),n.diagram.bind("select",function(e){n._initialize(e.selected)}),n._refreshHandler=function(){n._internalChange||(n.refreshBounds(),n.refresh())},n._rotatedHandler=function(){1==n.shapes.length&&(n._angle=n.shapes[0].rotate().angle),n._refreshHandler()},n.diagram.bind(yt,n._refreshHandler).bind(gt,n._rotatedHandler),n.refreshBounds(),n.refresh()},options:{editable:{},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:Ot}},offset:10},_initSelection:function(){var e=this,t=e.diagram,n=t.options.selectable,r=Z({},e.options.selectable,n);e.rect=new $(r),e.visual.append(e.rect)},_createHandles:function(){var e,t,n,r,i=this.options.editable;if(i&&i.resize)for(e=i.resize.handles,r=-1;1>=r;r++)for(n=-1;1>=n;n++)(0!==r||0!==n)&&(t=new $(e),t.drawingElement._hover=it(this._hover,this),this.map.push({x:r,y:n,visual:t}),this.visual.append(t))},bounds:function(e){return e?(this._innerBounds=e.clone(),this._bounds=this.diagram.modelToLayer(e).inflate(this.options.offset,this.options.offset),t):this._bounds},_hitTest:function(e){var n,r,i,s,o=this.diagram.modelToLayer(e),u=this.options.editable,a=this.map.length;if(this._angle&&(o=o.clone().rotate(this._bounds.center(),this._angle)),u&&u.rotate&&this._rotationThumbBounds&&this._rotationThumbBounds.contains(o))return new Q(-1,-2);if(u&&u.resize)for(n=0;a>n;n++)if(s=this.map[n],r=new Q(s.x,s.y),i=this._getHandleBounds(r),i.offset(this._bounds.x,this._bounds.y),i.contains(o))return r;return this._bounds.contains(o)?new Q(0,0):t},_getHandleBounds:function(e){var n,r,i,s,o=this.options.editable;return o&&o.resize?(n=o.resize.handles||{},r=n.width,i=n.height,s=new V(0,0,r,i),0>e.x?s.x=-r/2:0===e.x?s.x=Math.floor(this._bounds.width/2)-r/2:e.x>0&&(s.x=this._bounds.width+1-r/2),0>e.y?s.y=-i/2:0===e.y?s.y=Math.floor(this._bounds.height/2)-i/2:e.y>0&&(s.y=this._bounds.height+1-i/2),s):t},_getCursor:function(e){var t,n=this._hitTest(e);if(n&&n.x>=-1&&1>=n.x&&n.y>=-1&&1>=n.y&&this.options.editable&&this.options.editable.resize){if(t=this._angle,t&&(t=360-t,n.rotate(new Q(0,0),t),n=new Q(Math.round(n.x),Math.round(n.y))),-1==n.x&&-1==n.y)return"nw-resize";if(1==n.x&&1==n.y)return"se-resize";if(-1==n.x&&1==n.y)return"sw-resize";if(1==n.x&&-1==n.y)return"ne-resize";if(0===n.x&&-1==n.y)return"n-resize";if(0===n.x&&1==n.y)return"s-resize";if(1==n.x&&0===n.y)return"e-resize";if(-1==n.x&&0===n.y)return"w-resize"}return this._manipulating?st.move:st.select},_initialize:function(){var e,t,n=this,r=n.diagram.select();for(n.shapes=[],e=0;r.length>e;e++)t=r[e],t instanceof z.Shape&&(n.shapes.push(t),t._rotationOffset=new Q);n._angle=1==n.shapes.length?n.shapes[0].rotate().angle:0,n._startAngle=n._angle,n._rotates(),n._positions(),n.refreshBounds(),n.refresh(),n.redraw()},_rotates:function(){var e,t,n=this;for(n.initialRotates=[],e=0;n.shapes.length>e;e++)t=n.shapes[e],n.initialRotates.push(t.rotate().angle)},_positions:function(){var e,t,n=this;for(n.initialStates=[],e=0;n.shapes.length>e;e++)t=n.shapes[e],n.initialStates.push(t.bounds())},_hover:function(e,t){var n,r,i,s,o=this.options.editable;o&&o.resize&&(n=o.resize.handles,r=n.hover,i=n.stroke,s=n.fill,e&&J.isDefined(r.stroke)&&(i=Z({},i,r.stroke)),e&&J.isDefined(r.fill)&&(s=r.fill),t.stroke(i.color,i.width,i.opacity),t.fill(s.color,s.opacity))},start:function(e){var t,n;for(this._sp=e,this._cp=e,this._lp=e,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[],t=0;this.shapes.length>t;t++)n=this.shapes[t],this.shapeStates.push(n.bounds())},redraw:function(){var e,t,n=this,r=n.options.editable,i=r.resize,s=r.rotate,o=r&&i?!0:!1,u=r&&s?!0:!1;for(e=0;this.map.length>e;e++)t=this.map[e],t.visual.visible(o);n.rotationThumb&&n.rotationThumb.visible(u)},angle:function(e){return nt(e)&&(this._angle=e),this._angle},rotate:function(){var e,t,n=this._innerBounds.center(),r=this.angle();for(this._internalChange=!0,e=0;this.shapes.length>e;e++)t=this.shapes[e],r=(r+this.initialRotates[e]-this._startAngle)%360,t.rotate(r,n);this.refresh()},move:function(e,n){var r,i,s,a,f,l,c,h,p,d,v,m,g,y,b=new Q,w=new Q,E=0;if(-2===e.y&&-1===e.x){for(a=this._innerBounds.center(),this._angle=this._truncateAngle(J.findAngle(a,n)),l=0;this.shapes.length>l;l++)f=this.shapes[l],c=(this._angle+this.initialRotates[l]-this._startAngle)%360,f.rotate(c,a),f.hasOwnProperty("layout")&&f.layout(f),this._rotating=!0;this.refresh()}else{if(this.shouldSnap()){if(m=this._truncateDistance(n.minus(this._lp)),0===m.x&&0===m.y)return this._cp=n,t;r=m,this._lp=new Q(this._lp.x+m.x,this._lp.y+m.y)}else r=n.minus(this._cp);for(this.isDragHandle(e)?(w=b=r,i=!0):(this._angle&&r.rotate(new Q(0,0),this._angle),-1==e.x?b.x=r.x:1==e.x&&(w.x=r.x),-1==e.y?b.y=r.y:1==e.y&&(w.y=r.y)),i||(p=o(e,this._innerBounds),d=(this._innerBounds.width+r.x*e.x)/this._innerBounds.width,v=(this._innerBounds.height+r.y*e.y)/this._innerBounds.height),l=0;this.shapes.length>l;l++){if(f=this.shapes[l],s=f.bounds(),i){if(!u(f))continue;h=this._displaceBounds(s,b,w,i)}else h=s.clone(),h.scale(d,v,p,this._innerBounds.center(),f.rotate().angle),g=h.center(),g.rotate(s.center(),-this._angle),h=new V(g.x-h.width/2,g.y-h.height/2,h.width,h.height);h.width>=f.options.minWidth&&h.height>=f.options.minHeight&&(y=s,f.bounds(h),f.hasOwnProperty("layout")&&f.layout(f,y,h),(y.width!==h.width||y.height!==h.height)&&f.rotate(f.rotate().angle),E+=1)}E&&(E==l?(h=this._displaceBounds(this._innerBounds,b,w,i),this.bounds(h)):this.refreshBounds(),this.refresh()),this._positions()}this._cp=n},isDragHandle:function(e){return 0===e.x&&0===e.y},cancel:function(){var e,n=this.shapes,r=this.shapeStates;for(e=0;n.length>e;e++)n[e].bounds(r[e]);this.refreshBounds(),this.refresh(),this._manipulating=t,this._internalChange=t,this._rotating=t},_truncatePositionToGuides:function(e){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(e):e},_truncateSizeToGuides:function(e){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(e):e},_truncateAngle:function(e){var t=this.snapOptions(),n=Math.max(t.angle||pt,wt);return t?Math.floor(e%360/n)*n:e%360},_truncateDistance:function(e){var t,n;return e instanceof z.Point?new z.Point(this._truncateDistance(e.x),this._truncateDistance(e.y)):(t=this.snapOptions()||{},n=Math.max(t.size||ht,bt),t?Math.floor(e/n)*n:e)},snapOptions:function(){var e=this.diagram.options.editable,t=((e||{}).drag||{}).snap||{};return t},shouldSnap:function(){var e=this.diagram.options.editable,t=(e||{}).drag,n=(t||{}).snap;return e!==!1&&t!==!1&&n!==!1},_displaceBounds:function(e,t,n,r){var i,s=e.topLeft().plus(t),o=e.bottomRight().plus(n),u=V.fromPoints(s,o);return r||(i=u.center(),i.rotate(e.center(),-this._angle),u=new V(i.x-u.width/2,i.y-u.height/2,u.width,u.height)),u},stop:function(){var e,n,r,i;if(this._cp!=this._sp)if(this._rotating)e=new w(this,this.shapes,this.initialRotates),this._rotating=!1;else if(this._diffStates()){if(this.diagram.ruler)for(n=0;this.shapes.length>n;n++)r=this.shapes[n],i=r.bounds(),i=this._truncateSizeToGuides(this._truncatePositionToGuides(i)),r.bounds(i),this.refreshBounds(),this.refresh();for(n=0;this.shapes.length>n;n++)r=this.shapes[n],r.updateModel();e=new m(this.shapes,this.shapeStates,this),this.diagram._syncShapeChanges()}return this._manipulating=t,this._internalChange=t,this._rotating=t,e},_diffStates:function(){var e,t=this.shapes,n=this.shapeStates;for(e=0;t.length>e;e++)if(!t[e].bounds().equals(n[e]))return!0;return!1},refreshBounds:function(){var e=1==this.shapes.length?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,!0);this.bounds(e)},refresh:function(){var t,n,r,i,s=this;this.shapes.length>0?(n=this.bounds(),this.visual.visible(!0),this.visual.position(n.topLeft()),e.each(this.map,function(){t=s._getHandleBounds(new Q(this.x,this.y)),this.visual.position(t.topLeft())}),this.visual.position(n.topLeft()),r=new Q(n.width/2,n.height/2),this.visual.rotate(this._angle,r),this.rect.redraw({width:n.width,height:n.height}),this.rotationThumb&&(i=this.options.editable.rotate.thumb,this._rotationThumbBounds=(new V(n.center().x,n.y+i.y,0,0)).inflate(i.width),this.rotationThumb.redraw({x:n.width/2-i.width/2}))):this.visual.visible(!1)}}),I=W.extend({init:function(e){var t=e.options.selectable;this.options=Z({},this.options,t),this.visual=new $(this.options),this.diagram=e},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:Ot}},start:function(e){this._sp=this._ep=e,this.refresh(),this.diagram._adorn(this,!0)},end:function(){this._sp=this._ep=t,this.diagram._adorn(this,!1)},bounds:function(e){return e&&(this._bounds=e),this._bounds},move:function(e){this._ep=e,this.refresh()},refresh:function(){if(this._sp){var e=V.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(V.fromPoints(this._sp,this._ep)),this.visual.position(e.topLeft()),this.visual.redraw({height:e.height+1,width:e.width+1})}}}),q=W.extend({init:function(e){this.options=Z({},e.options),this._c=e,this.visual=new G(this.options),this.refresh()},_hover:function(e){var t=this.options,n=t.hover,r=t.stroke,i=t.fill;e&&J.isDefined(n.stroke)&&(r=Z({},r,n.stroke)),e&&J.isDefined(n.fill)&&(i=n.fill),this.visual.redraw({stroke:r,fill:i})},refresh:function(){var e=this._c.shape.diagram.modelToView(this._c.position()),t=e.minus(this._c.shape.bounds("transformed").topLeft()),n=new V(e.x,e.y,0,0);n.inflate(this.options.width/2,this.options.height/2),this._visualBounds=n,this.visual.redraw({center:new Q(t.x,t.y)})},_hitTest:function(e){var t=this._c.shape.diagram.modelToView(e);return this._visualBounds.contains(t)}}),Z(z,{CompositeUnit:c,TransformUnit:m,PanUndoUnit:b,AddShapeUnit:y,AddConnectionUnit:g,DeleteShapeUnit:v,DeleteConnectionUnit:d,ConnectionEditAdorner:B,ConnectionTool:L,ConnectorVisual:q,UndoRedoService:x,ResizingAdorner:F,Selector:I,ToolService:O,ConnectorsAdorner:j,LayoutUndoUnit:l,ConnectionEditUnit:h,ToFrontUnit:E,ToBackUnit:S,ConnectionRouterBase:M,PolylineRouter:D,CascadingRouter:P,SelectionTool:k,ScrollerTool:N,PointerTool:C,ConnectionEditTool:A,RotateUnit:w})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.dataviz.diagram,r=n.Graph,i=n.Node,s=n.Link,o=t.deepExtend,u=n.Size,a=n.Rect,f=n.Dictionary,l=n.Set,c=n.Graph,h=n.Utils,p=n.Point,d=1e-6,v=Math.PI/180,m=h.contains,g=e.grep,y=t.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function(){},gridLayoutComponents:function(e){var t,n,r,i,s,o,u,a,f,l,c,d,v,m,g;if(!e)throw"No components supplied.";for(h.forEach(e,function(e){e.calcBounds()}),e.sort(function(e,t){return t.bounds.width-e.bounds.width}),t=this.options.grid.width,n=this.options.grid.componentSpacingX,r=this.options.grid.componentSpacingY,i=0,s=this.options.grid.offsetX,o=this.options.grid.offsetY,u=s,a=o,l=[],c=[];e.length>0;){for(u>=t&&(u=s,a+=i+r,i=0),d=e.pop(),this.moveToOffset(d,new p(u,a)),f=0;d.nodes.length>f;f++)c.push(d.nodes[f]);for(f=0;d.links.length>f;f++)l.push(d.links[f]);v=d.bounds,m=v.height,(0>=m||isNaN(m))&&(m=0),g=v.width,(0>=g||isNaN(g))&&(g=0),m>=i&&(i=m),u+=g+n}return{nodes:c,links:l}},moveToOffset:function(e,t){var n,r,i,s,o,u,f,l,c=e.bounds,h=t.x-c.x,d=t.y-c.y;for(n=0;e.nodes.length>n;n++)i=e.nodes[n],s=i.bounds(),0===s.width&&0===s.height&&0===s.x&&0===s.y&&(s=new a(0,0,0,0)),s.x+=h,s.y+=d,i.bounds(s);for(n=0;e.links.length>n;n++)if(o=e.links[n],o.points){for(u=[],f=o.points,r=0;f.length>r;r++)l=f[r],l.x+=h,l.y+=d,u.push(l);o.points=u}return this.currentHorizontalOffset+=c.width+this.options.grid.offsetX,new p(h,d)},transferOptions:function(e){this.options=t.deepExtend({},this.defaultOptions),h.isUndefined(e)||(this.options=t.deepExtend(this.options,e||{}))}}),b=t.Class.extend({init:function(e){this.nodeMap=new f,this.shapeMap=new f,this.nodes=[],this.edges=[],this.edgeMap=new f,this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new f,this.hyperTree=new r,this.finalGraph=null,this.diagram=e},convert:function(e){if(h.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=t.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},e||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new f(this.nodes),this.finalLinks=new f(this.edges),this.finalGraph=new r,this.finalNodes.forEach(function(e){this.finalGraph.addNode(e)},this),this.finalLinks.forEach(function(e){this.finalGraph.addExistingLink(e)},this),this.finalGraph},mapConnection:function(e){return this.edgeMap.first(function(t){return m(this.edgeMap.get(t),e)})},mapShape:function(e){var t,n,r,i=this.nodeMap.keys();for(t=0,n=i.length;n>t;t++)if(r=i[t],m(this.nodeMap.get(r),e))return r},getEdge:function(e,t){return h.first(e.links,function(n){return n.getComplement(e)===t})},clear:function(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new c:null,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new f:null,this.nodeMap=new f,this.shapeMap=new f,this.nodes=[],this.edges=[],this.edgeMap=new f,this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[]},listToRoot:function(e){var t=[],n=e.container;if(!n)return t;for(t.push(n);n.parentContainer;)n=n.parentContainer,t.push(n);return t.reverse(),t},firstNonIgnorableContainer:function(e){return e.isContainer&&!this._isIgnorableItem(e)?e:e.parentContainer?this.firstNonIgnorableContainer(e.parentContainer):null},isContainerConnection:function(e,t){return e.isContainer&&this.isDescendantOf(e,t)?!0:t.isContainer&&this.isDescendantOf(t,e)},isDescendantOf:function(e,t){var n,r,i,s;if(!e.isContainer)throw"Expecting a container.";if(e===t)return!1;if(m(e.children,t))return!0;for(n=[],r=0,i=e.children.length;i>r;r++)s=e.children[r],s.isContainer&&this.isDescendantOf(s,t)&&n.push(s);return n.length>0},isIgnorableItem:function(e){return this.options.ignoreInvisible?e.isCollapsed&&this._isVisible(e)?!1:!e.isCollapsed&&this._isVisible(e)?!1:!0:e.isCollapsed&&!this._isTop(e)},isShapeMapped:function(e){return e.isCollapsed&&!this._isVisible(e)&&!this._isTop(e)},leastCommonAncestor:function(e,t){var n,r,i,s,o,u;if(!e)throw"Parameter should not be null.";if(!t)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";if(n=this.listToRoot(e),r=this.listToRoot(t),i=null,h.isEmpty(n)||h.isEmpty(r))return this.hyperTree.root.data;for(s=n[0],o=r[0],u=0;s===o&&(i=n[u],u++,!(u>=n.length||u>=r.length));)s=n[u],o=r[u];return i?g(this.hyperTree.nodes,function(e){return e.data.container===i}):this.hyperTree.root.data},_isTop:function(e){return!e.parentContainer},_isVisible:function(e){return e.visible()?e.parentContainer?this._isVisible(e.parentContainer):e.visible():!1},_isCollapsed:function(e){return e.isContainer&&e.isCollapsed?!0:e.parentContainer&&this._isCollapsed(e.parentContainer)},_renormalizeShapes:function(){var e,t,n,r;if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";for(e=0,t=this.diagram.shapes.length;t>e;e++)n=this.diagram.shapes[e],this.options.ignoreInvisible&&!this._isVisible(n)||n.isContainer?this.ignoredShapes.push(n):(r=new i(n.id,n),r.isVirtual=!1,this.nodeMap.add(r,[n]),this.nodes.push(r))},_renormalizeConnections:function(){var e,t,n,r,i,o,u,a;if(0!==this.diagram.connections.length)for(e=0,t=this.diagram.connections.length;t>e;e++)if(n=this.diagram.connections[e],this.isIgnorableItem(n))this.ignoredConnections.push(n);else if(r=n.sourceConnector?n.sourceConnector.shape:null,i=n.targetConnector?n.targetConnector.shape:null,r&&i)if(!m(this.ignoredShapes,r)||this.shapeMap.containsKey(r))if(!m(this.ignoredShapes,i)||this.shapeMap.containsKey(i))if(this.shapeMap.containsKey(r)&&(r=this.shapeMap[r]),this.shapeMap.containsKey(i)&&(i=this.shapeMap[i]),o=this.mapShape(r),u=this.mapShape(i),o===u||this.areConnectedAlready(o,u))this.ignoredConnections.push(n);else{if(null===o||null===u)throw"A shape was not mapped to a node.";if(!this.options.ignoreContainers)throw"Containers are not supported yet, but stay tuned.";o.isVirtual||u.isVirtual?this.ignoredConnections.push(n):(a=new s(o,u,n.id,n),this.edgeMap.add(a,[n]),this.edges.push(a))}else this.ignoredConnections.push(n);else this.ignoredConnections.push(n);else this.ignoredConnections.push(n)},areConnectedAlready:function(e,t){return h.any(this.edges,function(n){return n.source===e&&n.target===t||n.source===t&&n.target===e})}}),w=y.extend({init:function(e){var t=this;if(y.fn.init.call(t),h.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){var t,r,i,s,o,u;if(this.transferOptions(e),t=new b(this.diagram),r=t.convert(e),!r.isEmpty()&&(i=r.getConnectedComponents(),!h.isEmpty(i))){for(s=0;i.length>s;s++)o=i[s],this.layoutGraph(o,e);return u=this.gridLayoutComponents(i),new n.LayoutState(this.diagram,u)}},layoutGraph:function(e,t){var n,r,i;for(h.isDefined(t)&&this.transferOptions(t),this.graph=e,n=9*this.options.nodeDistance,this.temperature=n,r=this._expectedBounds(),this.width=r.width,this.height=r.height,i=0;this.options.iterations>i;i++)this.refineStage=i>=5*this.options.iterations/6,this.tick(),this.temperature=this.refineStage?n/30:n*(1-i/(2*this.options.iterations))},tick:function(){var e,t,n;for(e=0;this.graph.nodes.length>e;e++)this._repulsion(this.graph.nodes[e]);for(e=0;this.graph.links.length>e;e++)this._attraction(this.graph.links[e]);for(e=0;this.graph.nodes.length>e;e++){if(t=this.graph.nodes[e],n=Math.sqrt(t.dx*t.dx+t.dy*t.dy),0===n)return;t.x+=Math.min(n,this.temperature)*t.dx/n,t.y+=Math.min(n,this.temperature)*t.dy/n,this.options.limitToView&&(t.x=Math.min(this.width,Math.max(t.width/2,t.x)),t.y=Math.min(this.height,Math.max(t.height/2,t.y)))}},_shake:function(e){var t=Math.random()*this.options.nodeDistance/4,n=2*Math.random()*Math.PI;e.x+=t*Math.cos(n),e.y-=t*Math.sin(n)},_InverseSquareForce:function(e,t,n){var r,i,s,o,u,a,f;return this.refineStage?(i=t.x-n.x,s=t.y-n.y,o=t.width/2,u=t.height/2,a=n.width/2,f=n.height/2,r=Math.pow(i,2)/Math.pow(o+a+this.options.nodeDistance,2)+Math.pow(s,2)/Math.pow(u+f+this.options.nodeDistance,2)):r=Math.pow(e,2)/Math.pow(this.options.nodeDistance,2),4*r/3},_SquareForce:function(e,t,n){return 1/this._InverseSquareForce(e,t,n)},_repulsion:function(e){e.dx=0,e.dy=0,h.forEach(this.graph.nodes,function(t){var n,r,i,s;if(t!==e){for(;e.x===t.x&&e.y===t.y;)this._shake(t);n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),s=2*this._SquareForce(i,e,t),e.dx+=n/i*s,e.dy+=r/i*s}},this)},_attraction:function(e){var t,n,r,i,s,o,u=e.target,a=e.source;if(a!==u){for(;a.x===u.x&&a.y===u.y;)this._shake(u);t=a.x-u.x,n=a.y-u.y,r=Math.sqrt(t*t+n*n),i=5*this._InverseSquareForce(r,a,u),s=t/r*i,o=n/r*i,u.dx+=s,u.dy+=o,a.dx-=s,a.dy-=o}},_expectedBounds:function(){var e,t,n,r,i,s=this.graph.nodes.length,o=1.5,u=4;return 0===s?e:(e=h.fold(this.graph.nodes,function(e,t){var n=t.width*t.height;return n>0?e+=Math.sqrt(n):0},0,this),t=e/s,n=t*Math.ceil(Math.sqrt(s)),r=n*Math.sqrt(o),i=n/Math.sqrt(o),{width:r*u,height:i*u})}}),E=t.Class.extend({init:function(e){this.center=null,this.options=e},layout:function(e,t){if(this.graph=e,this.graph.nodes&&0!==this.graph.nodes.length){if(!m(this.graph.nodes,t))throw"The given root is not in the graph.";this.center=t,this.graph.cacheRelationships(),this.layoutSwitch()}},layoutLeft:function(e){var t,n,r,i,s,o,a,f;for(this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,n=0,i=0;e.length>i;i++)s=e[i],s.TreeDirection="Left",o=this.measure(s,u.Empty),n=Math.max(n,o.Width),t+=o.height+this.options.verticalSeparation;for(t-=this.options.verticalSeparation,a=this.center.x-this.options.horizontalSeparation,r=this.center.y+(this.center.height-t)/2,i=0;e.length>i;i++)s=e[i],f=new p(a-s.Size.width,r),this.arrange(s,f),r+=s.Size.height+this.options.verticalSeparation},layoutRight:function(e){var t,n,r,i,s,o,a,f;for(this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,n=0,i=0;e.length>i;i++)s=e[i],s.TreeDirection="Right",o=this.measure(s,u.Empty),n=Math.max(n,o.Width),t+=o.height+this.options.verticalSeparation;for(t-=this.options.verticalSeparation,a=this.center.x+this.options.horizontalSeparation+this.center.width,r=this.center.y+(this.center.height-t)/2,i=0;e.length>i;i++)s=e[i],f=new p(a,r),this.arrange(s,f),r+=s.Size.height+this.options.verticalSeparation},layoutUp:function(e){var t,n,r,i,s,o,a;for(this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1),t=0,i=0;e.length>i;i++)r=e[i],r.TreeDirection="Up",s=this.measure(r,u.Empty),t+=s.width+this.options.horizontalSeparation;for(t-=this.options.horizontalSeparation,o=this.center.x+this.center.width/2-t/2,i=0;e.length>i;i++)r=e[i],n=this.center.y-this.options.verticalSeparation-r.Size.height,a=new p(o,n),this.arrange(r,a),o+=r.Size.width+this.options.horizontalSeparation},layoutDown:function(e){var t,n,r,i,s,o,a;for(this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),r=0,n=0;e.length>n;n++)t=e[n],t.treeDirection="Down",s=this.measure(t,u.Empty),r+=s.width+this.options.horizontalSeparation;for(r-=this.options.horizontalSeparation,o=this.center.x+this.center.width/2-r/2,i=this.center.y+this.options.verticalSeparation+this.center.height,n=0;e.length>n;n++)t=e[n],a=new p(o,i),this.arrange(t,a),o+=t.Size.width+this.options.horizontalSeparation},layoutRadialTree:function(){var e,t;if(this.setChildrenDirection(this.center,"Radial",!1),this.setChildrenLayout(this.center,"Default",!1),this.previousRoot=null,e=this.options.startRadialAngle*v,t=this.options.endRadialAngle*v,e>=t)throw"Final angle should not be less than the start angle.";this.maxDepth=0,this.origin=new p(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,e,t),this.center.Angle=t-e},tipOverTree:function(e,t){var n,r,i,s,o,a,f;for(h.isUndefined(t)&&(t=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,t),n=0,s=0;e.length>s;s++)i=e[s],i.TreeDirection="Down",o=this.measure(i,u.Empty),n+=o.width+this.options.horizontalSeparation;for(n-=this.options.horizontalSeparation,n-=e[e.length-1].width,n+=e[e.length-1].associatedShape.bounds().width,a=this.center.x+this.center.width/2-n/2,r=this.center.y+this.options.verticalSeparation+this.center.height,s=0;e.length>s;s++)i=e[s],f=new p(a,r),this.arrange(i,f),a+=i.Size.width+this.options.horizontalSeparation},calculateAngularWidth:function(e,t){var n,r,i,s,o,u,a;if(t>this.maxDepth&&(this.maxDepth=t),n=0,r=1e3,i=1e3,s=0===t?0:Math.sqrt(r*r+i*i)/t,e.children.length>0){for(o=0,u=e.children.length;u>o;o++)a=e.children[o],n+=this.calculateAngularWidth(a,t+1);n=Math.max(s,n)}else n=s;return e.sectorAngle=n,n},sortChildren:function(e){var t,n,r,i,s,o,u,a,f,l,c,d=0;if(e.parents.length>1)throw"Node is not part of a tree.";if(n=e.parents[0],n&&(r=new p(n.x,n.y),i=new p(e.x,e.y),d=this.normalizeAngle(Math.atan2(r.y-i.y,r.x-i.x))),s=e.children.length,0===s)return null;for(o=[],u=[],t=0;s>t;++t)a=e.children[t],f=new p(a.x,a.y),u[t]=t,o[t]=this.normalizeAngle(-d+Math.atan2(f.y-f.y,f.x-f.x));for(h.bisort(o,u),l=[],c=e.children,t=0;s>t;++t)l.push(c[u[t]]);return l},normalizeAngle:function(e){for(;e>2*Math.PI;)e-=2*Math.PI;for(;0>e;)e+=2*Math.PI;return e},radialLayout:function(e,t,n,r){var i,s,o,u,a,f=r-n,l=f/2,c=e.sectorAngle,h=0,p=this.sortChildren(e);for(i=0,s=p.length;s>i;i++)o=p[i],u=o,a=u.sectorAngle/c,o.children.length>0&&this.radialLayout(o,t+this.options.radialSeparation,n+h*f,n+(h+a)*f),this.setPolarLocation(o,t,n+h*f+a*l),u.angle=a*f,h+=a},setPolarLocation:function(e,t,n){e.x=this.origin.x+t*Math.cos(n),e.y=this.origin.y+t*Math.sin(n),e.BoundingRectangle=new a(e.x,e.y,e.width,e.height)},setChildrenDirection:function(e,t,n){var r=e.treeDirection;this.graph.depthFirstTraversal(e,function(e){e.treeDirection=t}),n||(e.treeDirection=r)},setChildrenLayout:function(e,t,n,r){h.isUndefined(r)&&(r=0);var i=e.childrenLayout;r>0?(this.graph.assignLevels(e),this.graph.depthFirstTraversal(e,function(e){e.level>=r+1&&(e.childrenLayout=t)})):(this.graph.depthFirstTraversal(e,function(e){e.childrenLayout=t}),n||(e.childrenLayout=i))},measure:function(e,t){var n,r,i,s,o,a,f,l=0,c=0,p=new u(0,0);if(!e)throw"";if(r=e.associatedShape.bounds(),i=r.width,s=r.height,1!==e.parents.length)throw"Node not in a spanning tree.";if(o=e.parents[0],"Undefined"===e.treeDirection&&(e.treeDirection=o.treeDirection),h.isEmpty(e.children))p=new u(Math.abs(i)<d?50:i,Math.abs(s)<d?25:s);else if(1===e.children.length){switch(e.treeDirection){case"Radial":n=this.measure(e.children[0],t),l=i+this.options.radialSeparation*Math.cos(e.AngleToParent)+n.width,c=s+Math.abs(this.options.radialSeparation*Math.sin(e.AngleToParent))+n.height;break;case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t),l=i+n.width+this.options.underneathHorizontalOffset,c=s+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t),l=i+this.options.horizontalSeparation+n.width,c=Math.max(s,n.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":n=this.measure(e.children[0],t),l=Math.max(i,n.width+this.options.underneathHorizontalOffset),c=s+this.options.underneathVerticalTopOffset+n.height;break;case"Default":n=this.measure(e.children[0],t),c=s+this.options.verticalSeparation+n.height,l=Math.max(i,n.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}p=new u(l,c)}else{switch(e.treeDirection){case"Left":case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(l=i,c=s+this.options.underneathVerticalTopOffset,a=0;e.children.length>a;a++)f=e.children[a],n=this.measure(f,t),l=Math.max(l,n.width+this.options.underneathHorizontalOffset),c+=n.height+this.options.underneathVerticalSeparation;c-=this.options.underneathVerticalSeparation;break;case"Default":for(l=i,c=0,a=0;e.children.length>a;a++)f=e.children[a],n=this.measure(f,t),l=Math.max(l,i+this.options.horizontalSeparation+n.width),c+=n.height+this.options.verticalSeparation;c-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(l=i,c=s+this.options.underneathVerticalTopOffset,a=0;e.children.length>a;a++)f=e.children[a],n=this.measure(f,t),l=Math.max(l,n.width+this.options.underneathHorizontalOffset),c+=n.height+this.options.underneathVerticalSeparation;c-=this.options.underneathVerticalSeparation;break;case"Default":for(l=0,c=0,a=0;e.children.length>a;a++)f=e.children[a],n=this.measure(f,t),l+=n.width+this.options.horizontalSeparation,c=Math.max(c,n.height+this.options.verticalSeparation+s);l-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}p=new u(l,c)}return e.SectorAngle=Math.sqrt(l*l/4+c*c/4),e.Size=p,p},arrange:function(e,t){var n,r,i,s,o,u,f,l,c=e.associatedShape.bounds(),v=c.width,m=c.height;if(h.isEmpty(e.children))e.x=t.x,e.y=t.y,e.BoundingRectangle=new a(t.x,t.y,v,m);else switch(e.treeDirection){case"Left":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(l=t,e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),f=t.y+m+this.options.underneathVerticalTopOffset,n=0;s.children.length>n;n++)s=s.children[n],u=l.x-s.associatedShape.width-this.options.underneathHorizontalOffset,r=new p(u,f),this.arrange(s,r),f+=s.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(l=new p(t.x+e.Size.width-v,t.y+(e.Size.height-m)/2),e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),u=l.x-this.options.horizontalSeparation,f=t.y,n=0;e.children.length>n;n++)s=e.children[n],r=new p(u-s.Size.width,f),this.arrange(s,r),f+=s.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(l=t,e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),u=t.x+v+this.options.underneathHorizontalOffset,f=t.y+m+this.options.underneathVerticalTopOffset,n=0;e.children.length>n;n++)s=e.children[n],r=new p(u,f),this.arrange(s,r),f+=s.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(l=new p(t.x,t.y+(e.Size.height-m)/2),e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),u=t.x+v+this.options.horizontalSeparation,f=t.y,n=0;e.children.length>n;n++)s=e.children[n],r=new p(u,f),this.arrange(s,r),f+=s.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"Up":if(l=new p(t.x+(e.Size.width-v)/2,t.y+e.Size.height-m),e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),Math.abs(l.x-t.x)<d){for(o=0,n=0;e.children.length>n;n++)i=e.children[n],o+=i.Size.width+this.options.horizontalSeparation;o-=this.options.horizontalSeparation,u=t.x+(v-o)/2}else u=t.x;for(n=0;e.children.length>n;n++)s=e.children[n],f=l.y-this.options.verticalSeparation-s.Size.height,r=new p(u,f),this.arrange(s,r),u+=s.Size.width+this.options.horizontalSeparation;break;case"Down":switch(e.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(l=t,e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),u=t.x+this.options.underneathHorizontalOffset,f=t.y+m+this.options.underneathVerticalTopOffset,n=0;e.children.length>n;n++)s=e.children[n],r=new p(u,f),this.arrange(s,r),f+=s.Size.height+this.options.underneathVerticalSeparation;break;case"Default":if(l=new p(t.x+(e.Size.width-v)/2,t.y),e.x=l.x,e.y=l.y,e.BoundingRectangle=new a(e.x,e.y,e.width,e.height),Math.abs(l.x-t.x)<d){for(o=0,n=0;e.children.length>n;n++)i=e.children[n],o+=i.Size.width+this.options.horizontalSeparation;o-=this.options.horizontalSeparation,u=t.x+(v-o)/2}else u=t.x;for(n=0;e.children.length>n;n++)s=e.children[n],f=l.y+this.options.verticalSeparation+m,r=new p(u,f),this.arrange(s,r),u+=s.Size.width+this.options.horizontalSeparation;break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}},layoutSwitch:function(){var e,t,n,r,i,s;if(this.center&&!h.isEmpty(this.center.children))switch(e=this.options.subtype,h.isUndefined(e)&&(e="Down"),s=this.center.children,e.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":t=this.center.children,1===this.center.children.length?this.layoutRight(t):(i=s.length/2,n=g(this.center.children,function(e){return h.indexOf(s,e)<i}),r=g(this.center.children,function(e){return h.indexOf(s,e)>=i}),this.layoutLeft(n),this.layoutRight(r));break;case"mindmapvertical":t=this.center.children,1===this.center.children.length?this.layoutDown(t):(i=s.length/2,n=g(this.center.children,function(e){return h.indexOf(s,e)<i}),r=g(this.center.children,function(e){return h.indexOf(s,e)>=i}),this.layoutUp(n),this.layoutDown(r));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(0>this.options.tipOverTreeStartLevel)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":}}}),S=y.extend({init:function(e){var t=this;if(y.fn.init.call(t),h.isUndefined(e))throw"No diagram specified.";this.diagram=e},layout:function(e){var t,r;return this.transferOptions(e),t=new b(this.diagram),this.graph=t.convert(),r=this.layoutComponents(),new n.LayoutState(this.diagram,r)},layoutComponents:function(){var e,t,n,r,i,s,o,u;if(!this.graph.isEmpty()&&(e=this.graph.getConnectedComponents(),!h.isEmpty(e))){for(t=new E(this.options),n=[],r=0;e.length>r;r++){if(i=e[r],s=this.getTree(i),!s)throw"Failed to find a spanning tree for the component.";o=s.root,u=s.tree,t.layout(u,o),n.push(u)}return this.gridLayoutComponents(n)}},getTree:function(e){var t,n,r,i,s,o=null;if(this.options.roots&&this.options.roots.length>0)for(t=0,n=e.nodes.length;n>t;t++)for(r=e.nodes[t],i=0;this.options.roots.length>i;i++)if(s=this.options.roots[i],s===r.associatedShape){o=r;break}if(!o&&(o=e.root(),!o))throw"Unable to find a root for the tree.";return this.getTreeForRoot(e,o)},getTreeForRoot:function(e,t){var n=e.getSpanningTree(t);return h.isUndefined(n)||n.isEmpty()?null:{tree:n,root:n.root}}}),x=y.extend({init:function(e){var t=this;if(y.fn.init.call(t),h.isUndefined(e))throw"Diagram is not specified.";this.diagram=e},layout:function(e){var t,r,i,s,o,u;if(this.transferOptions(e),t=new b(this.diagram),r=t.convert(e),!r.isEmpty()&&(i=r.getConnectedComponents(),!h.isEmpty(i))){for(s=0;i.length>s;s++)o=i[s],this.layoutGraph(o,e);return u=this.gridLayoutComponents(i),new n.LayoutState(this.diagram,u)}},_initRuntimeProperties:function(){var e,t;for(e=0;this.graph.nodes.length>e;e++)t=this.graph.nodes[e],t.layer=-1,t.downstreamLinkCount=0,t.upstreamLinkCount=0,t.isVirtual=!1,t.uBaryCenter=0,t.dBaryCenter=0,t.upstreamPriority=0,t.downstreamPriority=0,t.gridPosition=0},_prepare:function(e){var t,n,r,i,s,o,u,a,l,c,p,d,v=[];for(n=0;e.links.length>n;n++)e.links[n].depthOfDumminess=0;for(i=new f,h.forEach(e.nodes,function(e){0===e.incoming.length&&(i.set(e,0),v.push(e))});v.length>0;)for(s=v.shift(),t=0;s.outgoing.length>t;t++)r=s.outgoing[t],o=r.target,i.containsKey(o)?i.set(o,Math.max(i.get(s)+1,i.get(o))):i.set(o,i.get(s)+1),m(v,o)||v.push(o);for(u=0,i.forEachValue(function(e){u=Math.max(u,e)}),a=[],h.addRange(a,i.keys()),a.sort(function(e,t){var n=i.get(e),r=i.get(t);return h.sign(r-n)}),l=0;a.length>l;++l)if(c=a[l],p=Number.MAX_VALUE,0!==c.outgoing.length){for(n=0;c.outgoing.length>n;++n)r=c.outgoing[n],p=Math.min(p,i.get(r.target));p>1&&i.set(c,p-1)}for(this.layers=[],t=0;u+1>t;t++)this.layers.push([]);for(i.forEach(function(e,t){e.layer=t,this.layers[t].push(e)},this),n=0;this.layers.length>n;n++)for(d=this.layers[n],t=0;d.length>t;t++)d[t].gridPosition=t},layoutGraph:function(e,t){if(h.isUndefined(e))throw"No graph given or graph analysis of the diagram failed.";h.isDefined(t)&&this.transferOptions(t),this.graph=e,e.setItemIndices();var n=e.makeAcyclic();this._initRuntimeProperties(),this._prepare(e,t),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),h.forEach(n,function(e){e.points&&e.points.reverse()})},setMinDist:function(e,t,n){var r=e.layer,i=e.layerIndex;this.minDistances[r][i]=n},getMinDist:function(e,t){var n,r=0,i=e.layerIndex,s=t.layerIndex,o=e.layer,u=Math.min(i,s),a=Math.max(i,s);for(n=u;a>n;++n)r+=this.minDistances[o][n];return r},placeLeftToRight:function(e){var t,n,r,i,s,o,u,a,l,c,p=new f;for(r=0;this.layers.length>r;++r)if(i=e[r]){for(t=0;i.length>t;t++)n=i[t],p.containsKey(n)||this.placeLeft(n,p,r);for(s=Number.POSITIVE_INFINITY,t=0;i.length>t;t++)n=i[t],o=this.rightSibling(n),o&&this.nodeLeftClass.get(o)!==r&&(s=Math.min(s,p.get(o)-p.get(n)-this.getMinDist(n,o)));if(s===Number.POSITIVE_INFINITY){for(u=[],t=0;i.length>t;t++)for(n=i[t],a=[],h.addRange(a,this.upNodes.get(n)),h.addRange(a,this.downNodes.get(n)),l=0;a.length>l;l++)c=a[l],this.nodeLeftClass.get(c)<r&&u.push(p.get(c)-p.get(n));u.sort(),s=0===u.length?0:u.length%2===1?u[this.intDiv(u.length,2)]:(u[this.intDiv(u.length,2)-1]+u[this.intDiv(u.length,2)])/2}for(t=0;i.length>t;t++)n=i[t],p.set(n,p.get(n)+s)}return p},placeRightToLeft:function(e){var t,n,r,i,s,o,u,a,l,c,p=new f;for(r=0;this.layers.length>r;++r)if(i=e[r]){for(t=0;i.length>t;t++)n=i[t],p.containsKey(n)||this.placeRight(n,p,r);for(s=Number.NEGATIVE_INFINITY,t=0;i.length>t;t++)n=i[t],o=this.leftSibling(n),o&&this.nodeRightClass.get(o)!==r&&(s=Math.max(s,p.get(o)-p.get(n)+this.getMinDist(o,n)));if(s===Number.NEGATIVE_INFINITY){for(u=[],t=0;i.length>t;t++)for(n=i[t],a=[],h.addRange(a,this.upNodes.get(n)),h.addRange(a,this.downNodes.get(n)),l=0;a.length>l;l++)c=a[l],this.nodeRightClass.get(c)<r&&u.push(p.get(n)-p.get(c));u.sort(),s=0===u.length?0:u.length%2===1?u[this.intDiv(u.length,2)]:(u[this.intDiv(u.length,2)-1]+u[this.intDiv(u.length,2)])/2}for(t=0;i.length>t;t++)n=i[t],p.set(n,p.get(n)+s)}return p},_getLeftWing:function(){var e={value:null},t=this.computeClasses(e,1);return this.nodeLeftClass=e.value,t},_getRightWing:function(){var e={value:null},t=this.computeClasses(e,-1);return this.nodeRightClass=e.value,t},computeClasses:function(e,t){var n,r,i,s,o,u,a,l,c,h=0,p=e.value=new f;for(n=0;this.layers.length>n;++n)for(h=n,r=this.layers[n],i=1===t?0:r.length-1;i>=0&&r.length>i;i+=t)if(s=r[i],p.containsKey(s))h=p.get(s);else if(p.set(s,h),s.isVirtual)for(o=this._nodesInLink(s),u=0;o.length>u;u++)a=o[u],p.set(a,h);for(l=[],c=0;this.layers.length>c;c++)l.push(null);return p.forEach(function(e,t){null===l[t]&&(l[t]=[]),l[t].push(e)}),l},_isVerticalLayout:function(){return"up"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()||"vertical"===this.options.subtype.toLowerCase()},_isHorizontalLayout:function(){return"right"===this.options.subtype.toLowerCase()||"left"===this.options.subtype.toLowerCase()||"horizontal"===this.options.subtype.toLowerCase()},_isIncreasingLayout:function(){return"right"===this.options.subtype.toLowerCase()||"down"===this.options.subtype.toLowerCase()},_moveThingsAround:function(){function e(e,t){var n,r,i=Number.MIN_VALUE;for(n=0;e.length>n;++n)r=e[n],i=t._isVerticalLayout()?Math.max(i,r.height):Math.max(i,r.width);return i}var t,n,r,i,s,o,u,a,l,c,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A;for(n=0;this.layers.length>n;++n)i=this.layers[n],i.sort(this._gridPositionComparer);for(this.minDistances=[],n=0;this.layers.length>n;++n)for(i=this.layers[n],this.minDistances[n]=[],s=0;i.length>s;++s)r=i[s],r.layerIndex=s,this.minDistances[n][s]=this.options.nodeDistance,i.length-1>s&&(this.minDistances[n][s]+=this._isVerticalLayout()?(r.width+i[s+1].width)/2:(r.height+i[s+1].height)/2);for(this.downNodes=new f,this.upNodes=new f,h.forEach(this.graph.nodes,function(e){this.downNodes.set(e,[]),this.upNodes.set(e,[])},this),h.forEach(this.graph.links,function(e){var t=e.source,n=e.target,r=null,i=null;t.layer>n.layer?(r=e.source,i=e.target):(i=e.source,r=e.target),this.downNodes.get(i).push(r),this.upNodes.get(r).push(i)},this),this.downNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this),this.upNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this),n=0;this.layers.length-1>n;++n)for(i=this.layers[n],o=0;i.length-1>o;o++)if(u=i[o],u.isVirtual&&(a=this.downNodes.get(u)[0],a.isVirtual))for(s=o+1;i.length>s;++s)r=i[s],r.isVirtual&&(l=this.downNodes.get(r)[0],l.isVirtual&&a.gridPosition>l.gridPosition&&(c=a.gridPosition,a.gridPosition=l.gridPosition,l.gridPosition=c,p=a.layerIndex,d=l.layerIndex,this.layers[n+1][p]=l,this.layers[n+1][d]=a,a.layerIndex=d,l.layerIndex=p));for(v=this._getLeftWing(),m=this._getRightWing(),g=this.placeLeftToRight(v),y=this.placeRightToLeft(m),b=new f,h.forEach(this.graph.nodes,function(e){b.set(e,(g.get(e)+y.get(e))/2)}),w=new f,E=new f,n=0;this.layers.length>n;++n)for(i=this.layers[n],S=-1,x=-1,s=0;i.length>s;++s)r=i[s],w.set(r,0),E.set(r,!1),r.isVirtual&&(-1===S?S=s:S===s-1?S=s:(x=s,w.set(i[S],0),b.get(r)-b.get(i[S])===this.getMinDist(i[S],r)?E.set(i[S],!0):E.set(i[S],!1),S=s));for(T=[1,-1],h.forEach(T,function(e){var n,r,i,s,o,u,a,f=1===e?0:this.layers.length-1;for(n=f;n>=0&&this.layers.length>n;n+=e){if(r=this.layers[n],i=this._firstVirtualNode(r),s=null,o=null,-1!==i)for(s=r[i],o=[],t=0;i>t;t++)o.push(r[t]);else s=null,o=r;if(o.length>0){for(this._sequencer(b,null,s,e,o),t=0;o.length-1>t;++t)this.setMinDist(o[t],o[t+1],b.get(o[t+1])-b.get(o[t]));s&&this.setMinDist(o[o.length-1],s,b.get(s)-b.get(o[o.length-1]))}for(;s;){if(u=this.nextVirtualNode(r,s)){if(w.get(s)===e){for(i=s.layerIndex,a=u.layerIndex,o=[],t=i+1;a>t;t++)o.push(r[t]);o.length>0&&this._sequencer(b,s,u,e,o),E.set(s,!0)}}else{for(i=s.layerIndex,o=[],t=i+1;r.length>t;t++)o.push(r[t]);if(o.length>0){for(this._sequencer(b,s,null,e,o),t=0;o.length-1>t;++t)this.setMinDist(o[t],o[t+1],b.get(o[t+1])-b.get(o[t]));this.setMinDist(s,o[0],b.get(o[0])-b.get(s))}}s=u}this.adjustDirections(n,e,w,E)}},this),N=this._isIncreasingLayout()?0:this.layers.length-1,C=function(e,t){return t._isIncreasingLayout()?t.layers.length>e:e>=0},k=this._isIncreasingLayout()?1:-1,L=0,t=N;C(t,this);t+=k){for(i=this.layers[t],A=e(i,this),s=0;i.length>s;++s)r=i[s],this._isVerticalLayout()?(r.x=b.get(r),r.y=L+A/2):(r.x=L+A/2,r.y=b.get(r));L+=this.options.layerSeparation+A}},adjustDirections:function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g;if(!(0>e+t||e+t>=this.layers.length))for(i=null,s=null,o=this.layers[e+t],u=0;o.length>u;++u)if(a=o[u],a.isVirtual&&(f=this.getNeighborOnLayer(a,e),f.isVirtual)){if(i){for(l=r.get(s),c=this.layers[e],h=s.layerIndex,p=f.layerIndex,d=h+1;p>d;++d)c[d].isVirtual&&(l=l&&r.get(c[d]));if(l)for(n.set(i,t),v=i.layerIndex,m=a.layerIndex,g=v+1;m>g;++g)o[g].isVirtual&&n.set(o[g],t)}i=a,s=f}},getNeighborOnLayer:function(e,t){var n=this.upNodes.get(e)[0];return n.layer===t?n:(n=this.downNodes.get(e)[0],n.layer===t?n:null)},_sequencer:function(e,t,n,r,i){if(1===i.length&&this._sequenceSingle(e,t,n,r,i[0]),i.length>1){var s=i.length,o=this.intDiv(s,2);this._sequencer(e,t,n,r,i.slice(0,o)),this._sequencer(e,t,n,r,i.slice(o)),this.combineSequences(e,t,n,r,i)}},_sequenceSingle:function(e,t,n,r,i){var s=-1===r?this.downNodes.get(i):this.upNodes.get(i),o=s.length;0!==o&&(o%2===1?e.set(i,e.get(s[this.intDiv(o,2)])):e.set(i,(e.get(s[this.intDiv(o,2)-1])+e.get(s[this.intDiv(o,2)]))/2),t&&e.set(i,Math.max(e.get(i),e.get(t)+this.getMinDist(t,i))),n&&e.set(i,Math.min(e.get(i),e.get(n)-this.getMinDist(i,n))))},combineSequences:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v=i.length,m=this.intDiv(v,2),g=[];for(s=0;m>s;++s){for(o=0,a=-1===r?this.downNodes.get(i[s]):this.upNodes.get(i[s]),u=0;a.length>u;++u)f=a[u],e.get(f)>=e.get(i[s])?o++:(o--,g.push({k:e.get(f)+this.getMinDist(i[s],i[m-1]),v:2}));g.push({k:e.get(i[s])+this.getMinDist(i[s],i[m-1]),v:o})}for(t&&g.push({k:e.get(t)+this.getMinDist(t,i[m-1]),v:Number.MAX_VALUE}),g.sort(this._positionDescendingComparer),c=[],s=m;v>s;++s){for(o=0,a=-1===r?this.downNodes.get(i[s]):this.upNodes.get(i[s]),u=0;a.length>u;++u)f=a[u],e.get(f)<=e.get(i[s])?o++:(o--,c.push({k:e.get(f)-this.getMinDist(i[s],i[m]),v:2}));c.push({k:e.get(i[s])-this.getMinDist(i[s],i[m]),v:o})}for(n&&c.push({k:e.get(n)-this.getMinDist(n,i[m]),v:Number.MAX_VALUE}),c.sort(this._positionAscendingComparer),h=0,p=0,d=this.getMinDist(i[m-1],i[m]);e.get(i[m])-e.get(i[m-1])<d;)if(p>h){if(0===g.length){e.set(i[m-1],e.get(i[m])-d);break}l=g.shift(),h+=l.v,e.set(i[m-1],l.k),e.set(i[m-1],Math.max(e.get(i[m-1]),e.get(i[m])-d))}else{if(0===c.length){e.set(i[m],e.get(i[m-1])+d);break}l=c.shift(),p+=l.v,e.set(i[m],l.k),e.set(i[m],Math.min(e.get(i[m]),e.get(i[m-1])+d))}for(s=m-2;s>=0;s--)e.set(i[s],Math.min(e.get(i[s]),e.get(i[m-1])-this.getMinDist(i[s],i[m-1])));for(s=m+1;v>s;s++)e.set(i[s],Math.max(e.get(i[s]),e.get(i[m])+this.getMinDist(i[s],i[m])))},placeLeft:function(e,t,n){var r=Number.NEGATIVE_INFINITY;h.forEach(this._getComposite(e),function(e){var i=this.leftSibling(e);i&&this.nodeLeftClass.get(i)===this.nodeLeftClass.get(e)&&(t.containsKey(i)||this.placeLeft(i,t,n),r=Math.max(r,t.get(i)+this.getMinDist(i,e)))},this),r===Number.NEGATIVE_INFINITY&&(r=0),h.forEach(this._getComposite(e),function(e){t.set(e,r)})},placeRight:function(e,t,n){var r=Number.POSITIVE_INFINITY;h.forEach(this._getComposite(e),function(e){var i=this.rightSibling(e);i&&this.nodeRightClass.get(i)===this.nodeRightClass.get(e)&&(t.containsKey(i)||this.placeRight(i,t,n),r=Math.min(r,t.get(i)-this.getMinDist(e,i)))},this),r===Number.POSITIVE_INFINITY&&(r=0),h.forEach(this._getComposite(e),function(e){t.set(e,r)})},leftSibling:function(e){var t=this.layers[e.layer],n=e.layerIndex;return 0===n?null:t[n-1]},rightSibling:function(e){var t=this.layers[e.layer],n=e.layerIndex;return n===t.length-1?null:t[n+1]},_getComposite:function(e){return e.isVirtual?this._nodesInLink(e):[e]},arrangeNodes:function(){var e,t,n,r,i,s,o,u;for(t=0;this.layers.length>t;t++)for(r=this.layers[t],n=0;r.length>n;n++)i=r[n],i.upstreamPriority=i.upstreamLinkCount,i.downstreamPriority=i.downstreamLinkCount;for(s=2,o=0;s>o;o++){for(e=this.layers.length-1;e>=1;e--)this.layoutLayer(!1,e);for(e=0;this.layers.length-1>e;e++)this.layoutLayer(!0,e)}for(u=Number.MAX_VALUE,t=0;this.layers.length>t;t++)for(r=this.layers[t],n=0;r.length>n;n++)i=r[n],u=Math.min(u,i.gridPosition);if(0>u)for(t=0;this.layers.length>t;t++)for(r=this.layers[t],n=0;r.length>n;n++)i=r[n],i.gridPosition=i.gridPosition-u},layoutLayer:function(e,t){var n,r,i,s;for(r=e?this.layers[n=t+1]:this.layers[n=t-1],i=[],s=0;r.length>s;s++)i.push(r[s]);i.sort(function(e,t){var n=(e.upstreamPriority+e.downstreamPriority)/2,r=(t.upstreamPriority+t.downstreamPriority)/2;return Math.abs(n-r)<1e-4?0:r>n?1:-1}),h.forEach(i,function(e){var t=e.gridPosition,n=this.calcBaryCenter(e),i=(e.upstreamPriority+e.downstreamPriority)/2;if(!(Math.abs(t-n)<1e-4||Math.abs(t-n)<.2501))if(n>t)for(;n>t&&this.moveRight(e,r,i);)t=e.gridPosition;else for(;t>n&&this.moveLeft(e,r,i);)t=e.gridPosition},this),n>0&&this.calcDownData(n-1),this.layers.length-1>n&&this.calcUpData(n+1)},moveRight:function(e,t,n){var r,i,s=h.indexOf(t,e);return s===t.length-1?(e.gridPosition=e.gridPosition+.5,!0):(r=t[s+1],i=(r.upstreamPriority+r.downstreamPriority)/2,r.gridPosition>e.gridPosition+1?(e.gridPosition=e.gridPosition+.5,!0):i>n||Math.abs(i-n)<1e-4?!1:this.moveRight(r,t,n)?(e.gridPosition=e.gridPosition+.5,!0):!1)},moveLeft:function(e,t,n){var r,i,s=h.indexOf(t,e);return 0===s?(e.gridPosition=e.gridPosition-.5,!0):(r=t[s-1],i=(r.upstreamPriority+r.downstreamPriority)/2,e.gridPosition-1>r.gridPosition?(e.gridPosition=e.gridPosition-.5,!0):i>n||Math.abs(i-n)<1e-4?!1:this.moveLeft(r,t,n)?(e.gridPosition=e.gridPosition-.5,!0):!1)},mapVirtualNode:function(e,t){this.nodeToLinkMap.set(e,t),this.linkToNodeMap.containsKey(t)||this.linkToNodeMap.set(t,[]),this.linkToNodeMap.get(t).push(e)},_nodesInLink:function(e){return this.linkToNodeMap.get(this.nodeToLinkMap.get(e))},_dummify:function(){var e,t,n,r,o,u,a,l,c,p,d,v,m,g,y,b,w,E;for(this.linkToNodeMap=new f,this.nodeToLinkMap=new f,c=this.graph.links.slice(0),l=0;c.length>l;l++){if(p=c[l],d=p.source,v=p.target,m=d.layer,g=v.layer,y=d.gridPosition,b=v.gridPosition,w=(b-y)/Math.abs(g-m),E=d,m-g>1){for(a=m-1;a>g;a--){for(n=new i,n.x=d.x,n.y=d.y,n.width=d.width/100,n.height=d.height/100,e=this.layers[a],t=(a-g)*w+y,t>e.length&&(t=e.length),y>=this.layers[m].length-1&&b>=this.layers[g].length-1?t=e.length:0===y&&0===b&&(t=0),n.layer=a,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,h.insert(e,n,t),o=t+1;e.length>o;o++)r=e[o],r.gridPosition=r.gridPosition+1;u=new s(E,n),u.depthOfDumminess=0,E=n,this.graph.nodes.push(n),this.graph.addLink(u),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,p)}p.changeSource(E),p.depthOfDumminess=m-g-1}if(-1>m-g){for(a=m+1;g>a;a++){for(n=new i,n.x=d.x,n.y=d.y,n.width=d.width/100,n.height=d.height/100,e=this.layers[a],t=(a-m)*w+y,t>e.length&&(t=e.length),y>=this.layers[m].length-1&&b>=this.layers[g].length-1?t=e.length:0===y&&0===b&&(t=0),n.layer=a,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,t&=t,h.insert(e,n,t),o=t+1;e.length>o;o++)r=e[o],r.gridPosition=r.gridPosition+1;u=new s(E,n),u.depthOfDumminess=0,E=n,this.graph.nodes.push(n),this.graph.addLink(u),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,p)}p.changeSource(E),p.depthOfDumminess=g-m-1}}},_dedummify:function(){for(var e,t,n,r,i,s,o,u,a=!0;a;)for(a=!1,e=0;this.graph.links.length>e;e++)if(t=this.graph.links[e],0!==t.depthOfDumminess){for(n=[],n.unshift({x:t.target.x,y:t.target.y}),n.unshift({x:t.source.x,y:t.source.y}),r=t,i=t.depthOfDumminess,s=0;i>s;s++)o=r.source,u=o.incoming[0],n.unshift({x:u.source.x,y:u.source.y}),r=u;t.changeSource(r.source),t.depthOfDumminess=0,n.length>2?(n.splice(0,1),n.splice(n.length-1),t.points=n):t.points=[],a=!0;break}},_optimizeCrossings:function(){for(var e,t=-1,n=3,r=0;0!==t&&!(r++>n);){for(t=0,e=this.layers.length-1;e>=1;e--)t+=this.optimizeLayerCrossings(!1,e);for(e=0;this.layers.length-1>e;e++)t+=this.optimizeLayerCrossings(!0,e)}},calcUpData:function(e){var t,n,r,i,s,o,u,a,f;if(0!==e){for(t=this.layers[e],s=new l,o=this.layers[e-1],n=0;o.length>n;n++)s.add(o[n]);for(n=0;t.length>n;n++){for(u=t[n],a=0,f=0,r=0;u.incoming.length>r;r++)i=u.incoming[r],s.contains(i.source)&&(f++,a+=i.source.gridPosition);for(r=0;u.outgoing.length>r;r++)i=u.outgoing[r],s.contains(i.target)&&(f++,a+=i.target.gridPosition);f>0?(u.uBaryCenter=a/f,u.upstreamLinkCount=f):(u.uBaryCenter=n,u.upstreamLinkCount=0)}}},calcDownData:function(e){var t,n,r,i,s,o,u,a,f;if(e!==this.layers.length-1){for(t=this.layers[e],s=new l,o=this.layers[e+1],n=0;o.length>n;n++)s.add(o[n]);for(n=0;t.length>n;n++){for(u=t[n],a=0,f=0,r=0;u.incoming.length>r;r++)i=u.incoming[r],s.contains(i.source)&&(f++,a+=i.source.gridPosition);for(r=0;u.outgoing.length>r;r++)i=u.outgoing[r],s.contains(i.target)&&(f++,a+=i.target.gridPosition);f>0?(u.dBaryCenter=a/f,u.downstreamLinkCount=f):(u.dBaryCenter=n,u.downstreamLinkCount=0)}}},optimizeLayerCrossings:function(e,t){var n,r,i,s,o,u,a,f;for(r=e?this.layers[n=t+1]:this.layers[n=t-1],i=r.slice(0),e?this.calcUpData(n):this.calcDownData(n),s=this,r.sort(function(e,t){var n,r=s.calcBaryCenter(e),i=s.calcBaryCenter(t);return Math.abs(r-i)<1e-4?e.degree()===t.degree()?s.compareByIndex(e,t):e.degree()<t.degree()?1:-1:(n=1e3*(i-r),n>0?-1:0>n?1:s.compareByIndex(e,t))}),u=0,o=0;r.length>o;o++)r[o]!==i[o]&&u++;if(u>0)for(a=0,o=0;r.length>o;o++)f=r[o],f.gridPosition=a++;return u},_swapPairs:function(){for(var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=this.options.layeredIterations,y=0;;){if(y++>g)break;for(e=1>=y%4,t=y%4===1,n=e?0:this.layers.length-1;e?this.layers.length-1>=n:n>=0;n+=e?1:-1){for(r=this.layers[n],i=!1,s=!0,o=0,u=0;r.length-1>u;u++)a=0,f=0,l=0,s?(0!==n&&(a=this.countLinksCrossingBetweenTwoLayers(n-1,n)),n!==this.layers.length-1&&(f=this.countLinksCrossingBetweenTwoLayers(n,n+1)),e?a*=2:f*=2,l=a+f):l=o,0!==l&&(c=r[u],h=r[u+1],p=c.gridPosition,d=h.gridPosition,r[u]=h,r[u+1]=c,c.gridPosition=d,h.gridPosition=p,a=0,0!==n&&(a=this.countLinksCrossingBetweenTwoLayers(n-1,n)),f=0,n!==this.layers.length-1&&(f=this.countLinksCrossingBetweenTwoLayers(n,n+1)),e?a*=2:f*=2,v=a+f,m=!1,m=t?v>=l:v>l,m?(c=r[u],h=r[u+1],p=c.gridPosition,d=h.gridPosition,r[u]=h,r[u+1]=c,c.gridPosition=d,h.gridPosition=p,o=l,s=!1):(i=!0,s=!0));i&&(n!==this.layers.length-1&&this.calcUpData(n+1),0!==n&&this.calcDownData(n-1))}}},countLinksCrossingBetweenTwoLayers:function(e,t){var n,r,i,s,o,u,a,f,c,p,d,v,m,g,y,b,w,E,S,x,T=0,N=new l,C=this.layers[e];for(n=0;C.length>n;n++)N.add(C[n]);for(r=new l,i=this.layers[t],n=0;i.length>n;n++)r.add(i[n]);for(s=new l,o=[],u=[],N.forEach(function(e){h.addRange(u,e.incoming),h.addRange(u,e.outgoing)}),a=0;u.length>a;a++)f=u[a],N.contains(f.source)&&r.contains(f.target)?(s.add(f),o.push(f)):r.contains(f.source)&&N.contains(f.target)&&o.push(f);for(c=0;o.length>c;c++)for(p=o[c],d=0;o.length>d;d++)c!==d&&(v=o[d],s.contains(p)?(m=p.source,g=p.target):(m=p.target,g=p.source),s.contains(v)?(y=v.source,b=v.target):(y=v.target,b=v.source),w=m.gridPosition,E=g.gridPosition,S=y.gridPosition,x=b.gridPosition,0>(w-S)*(E-x)&&T++);return T/2},calcBaryCenter:function(e){var t=e.upstreamLinkCount,n=e.downstreamLinkCount,r=e.uBaryCenter,i=e.dBaryCenter;return t>0&&n>0?(r+i)/2:t>0?r:n>0?i:0},_gridPositionComparer:function(e,t){return t.gridPosition>e.gridPosition?-1:e.gridPosition>t.gridPosition?1:0},_positionAscendingComparer:function(e,t){return t.k>e.k?-1:e.k>t.k?1:0},_positionDescendingComparer:function(e,t){return t.k>e.k?1:e.k>t.k?-1:0},_firstVirtualNode:function(e){for(var t=0;e.length>t;t++)if(e[t].isVirtual)return t;return-1},compareByIndex:function(e,t){var n=e.index,r=t.index;return r>n?1:n>r?-1:0},intDiv:function(e,t){return(e-e%t)/t},nextVirtualNode:function(e,t){var n,r=t.layerIndex;for(n=r+1;e.length>n;++n)if(e[n].isVirtual)return e[n];return null}}),T=t.Class.extend({init:function(e,t){if(h.isUndefined(e))throw"No diagram given";this.diagram=e,this.nodeMap=new f,this.linkMap=new f,this.capture(t?t:e)},capture:function(e){var t,r,i,s,o,u,f,l,c;if(e instanceof n.Graph){for(s=0;e.nodes.length>s;s++)t=e.nodes[s],i=t.associatedShape,this.nodeMap.set(i.visual.id,new a(t.x,t.y,t.width,t.height));for(s=0;e.links.length>s;s++)u=e.links[s],o=u.associatedConnection,this.linkMap.set(o.visual.id,u.points())}else if(e instanceof Array)for(r=e,s=0;r.length>s;s++)t=r[s],i=t.associatedShape,i&&this.nodeMap.set(i.visual.id,new a(t.x,t.y,t.width,t.height));else if(e.hasOwnProperty("links")&&e.hasOwnProperty("nodes")){for(r=e.nodes,f=e.links,s=0;r.length>s;s++)t=r[s],i=t.associatedShape,i&&this.nodeMap.set(i.visual.id,new a(t.x,t.y,t.width,t.height));for(s=0;f.length>s;s++)u=f[s],o=u.associatedConnection,o&&this.linkMap.set(o.visual.id,u.points)}else{for(l=this.diagram.shapes,c=this.diagram.connections,s=0;l.length>s;s++)i=l[s],this.nodeMap.set(i.visual.id,i.bounds());for(s=0;c.length>s;s++)o=c[s],this.linkMap.set(o.visual.id,o.points())}}});o(n,{init:function(e){t.init(e,n.ui)},SpringLayout:w,TreeLayout:S,GraphAdapter:b,LayeredLayout:x,LayoutBase:y,LayoutState:T})}(window.kendo.jQuery),function(e,t){function n(e){var t=e.originalEvent,n=0;return t.wheelDelta?(n=-t.wheelDelta/40,n=n>0?gt.ceil(n):gt.floor(n)):t.detail&&(n=t.detail),n}function r(e){return e.options.name.toLowerCase()===At.toLowerCase()}function i(e,t){var n,i,s,o,u=Pt,a=t.connectors;for(i=0;a.length>i;i++)s=a[i],r(s)||(o=e.distanceTo(s.position()),u>o&&(u=o,n=s));return n}function s(e,t){var n,r,i,s=[],o=e.drawingContainer().children,u=o.length;for(n=0;t.length>n;n++)for(r=t[n],i=0;u>i;i++)if(o[i]==r.drawingContainer()){s.push(i);break}return s}function o(e){var t=e.drawingContainer().clippedBBox(null);(0!==t.origin.x||0!==t.origin.y)&&e.position(-t.origin.x,-t.origin.y)}function u(e){var t={};return e=e||{},ht(e.text)&&null!==e.text&&(t.text=e.text),ht(e.x)&&null!==e.x&&(t.x=e.x),ht(e.y)&&null!==e.y&&(t.y=e.y),ht(e.width)&&null!==e.width&&(t.width=e.width),ht(e.height)&&null!==e.height&&(t.height=e.height),ht(e.type)&&null!==e.type&&(t.type=e.type),t}function a(e){var t={};return e=e||{},ht(e.text)&&null!==e.text&&(t.content=e.text),ht(e.type)&&null!==e.type&&(t.type=e.type),ht(e.from)&&null!==e.from&&(t.from=e.from),ht(e.fromX)&&null!==e.fromX&&(t.fromX=e.fromX),ht(e.fromY)&&null!==e.fromY&&(t.fromY=e.fromY),ht(e.to)&&null!==e.to&&(t.to=e.to),ht(e.toX)&&null!==e.toX&&(t.toX=e.toX),ht(e.toY)&&null!==e.toY&&(t.toY=e.toY),t}function f(t,n){var r,i=this.dataSource.reader.model;i&&(r=i.fn.fields.text?"text":i.idField,e("<input name='"+n.field+"' />").appendTo(t).kendoDropDownList({dataValueField:i.idField,dataTextField:r,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:!0}))}function l(e){this.dataItem=e,this.callbacks=[]}function c(){this.items={}}function h(e){var t=e;return e instanceof kendo.data.Model&&(t=e.toJSON(),t[e.idField]=e._defaultId),t}function p(e){var t,n,r=[],i=[];for(n=0;e.length>n;n++)t=e[n],t instanceof b?i.push(t):r.push(t);return{shapes:i,connections:r}}function d(e,t){return e.reader.model?new e.reader.model(t):new kendo.data.ObservableObject(t)}function v(e,t,n){var r,i;for(i=0;n.length>i;i++)r=n[i],t&&!ht(t[r])&&(t[r]=e[r])}var m,g,y,b,w,E,S,x,T,N,C,k,L=kendo.dataviz,A=kendo.drawing,O=kendo.geometry,M=L.diagram,_=kendo.ui.Widget,D=kendo.Class,P=e.proxy,H=kendo.deepExtend,B=e.extend,j=kendo.data.HierarchicalDataSource,F=M.Canvas,I=M.Group,q=M.Rectangle,R=M.Circle,U=M.CompositeTransform,z=M.Rect,W=M.Path,X=M.DeleteShapeUnit,V=M.DeleteConnectionUnit,$=M.TextBlock,J=M.Image,K=M.Point,Q=M.Intersect,G=M.ConnectionEditAdorner,Y=M.UndoRedoService,Z=M.ToolService,et=M.Selector,tt=M.ResizingAdorner,nt=M.ConnectorsAdorner,rt=M.Cursors,it=M.Utils,st=kendo.Observable,ot=M.ToBackUnit,ut=M.ToFrontUnit,at=M.PolylineRouter,ft=M.CascadingRouter,lt=it.isUndefined,ct=it.isDefined,ht=kendo.util.defined,pt=e.isArray,dt=kendo.isFunction,vt=it.isString,mt=e.isPlainObject,gt=Math,yt=".kendoDiagram",bt="cascading",wt="itemBoundsChange",Et="change",St="click",xt="drag",Tt="dragEnd",Nt="dragStart",Ct="mouseEnter",kt="mouseLeave",Lt="error",At="Auto",Ot="Top",Mt="Right",_t="Left",Dt="Bottom",Pt=9007199254740992,Ht="select",Bt="itemRotate",jt="pan",Ft="zoomStart",It="zoomEnd",qt="none",Rt=600,Ut=600,zt="rectangle",Wt=100,Xt=100,Vt=20,$t=20,Jt=0,Kt="Yellow",Qt=Number.MAX_VALUE,Gt=-Number.MAX_VALUE,Yt="absolute",Zt="transformed",en="rotated",tn="transparent",nn="width",rn="height",sn="x",on="y",un="DOMMouseScroll"+yt+" mousewheel"+yt,an=.05,fn=5,ln='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>';M.DefaultConnectors=[{name:Ot},{name:Dt},{name:_t},{name:Mt},{name:At,position:function(e){return e.getPosition("center")}}],m={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}},M.shapeDefaults=function(e){var t={type:zt,path:"",autoSize:!0,visual:null,x:Jt,y:Jt,minWidth:Vt,minHeight:$t,width:Wt,height:Xt,hover:{},editable:{connect:!0,tools:[]},connectors:M.DefaultConnectors,rotation:{angle:0}};return it.simpleExtend(t,e),t},g=st.extend({init:function(e){var t=this;t.dataItem=(e||{}).dataItem,st.fn.init.call(t),t.options=H({id:M.randomId()},t.options,e),t.isSelected=!1,t.visual=new I({id:t.options.id,autoSize:t.options.autoSize}),t._template()},options:{hover:{},cursor:rt.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function(e){return this.adorner?this.adorner._getCursor(e):this.options.cursor},visible:function(e){return lt(e)?this.visual.visible():(this.visual.visible(e),t)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(e){this.options.x=e.x,this.options.y=e.y,this.visual.position(e)},toString:function(){return this.options.id},serialize:function(){var e=H({},{options:this.options});return this.dataItem&&(e.dataItem=""+this.dataItem),e},_content:function(e){var n,r,i,s;return e!==t&&(n=this.options,r=this.bounds(),M.Utils.isString(e)?n.content.text=e:H(n.content,e),i=n.content,s=this._contentVisual,!s&&i.text?(this._contentVisual=new $(i),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual)):s&&s.redraw(i)),this.options.content.text},_hitTest:function(e){var t=this.bounds();return this.visible()&&t.contains(e)&&this.options.enable},_template:function(){var e,t,n=this;n.options.content.template&&(e=n.dataItem||{},t=kendo.template(n.options.content.template,{paramName:"dataItem"}),n.options.content.text=t(e))},_canSelect:function(){return this.options.selectable!==!1},toJSON:function(){return{id:this.options.id}}}),y=D.extend({init:function(e,t){this.options=H({},this.options,t),this.connections=[],this.shape=e},options:{width:7,height:7,fill:{color:Kt},hover:{}},position:function(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:""+this.shape,connector:this.options.name}}}),y.parse=function(e,t){var n,r,i=t.split(":"),s=i[0],o=i[1]||At;for(n=0;e.shapes.length>n;n++)if(r=e.shapes[n],r.options.id==s)return r.getConnector(o.trim())},b=g.extend({init:function(e,n){var r=this;g.fn.init.call(r,e),this.diagram=n,this.updateOptionsFromModel(),e=r.options,r.connectors=[],r.type=e.type,r.shapeVisual=b.createShapeVisual(r.options),r.visual.append(this.shapeVisual),r.updateBounds(),r.content(r.content()),r._createConnectors(),r.parentContainer=null,r.isContainer=!1,r.isCollapsed=!1,r.id=r.visual.id,e.hasOwnProperty("layout")&&e.layout!==t&&(r.layout=e.layout.bind(e))},options:M.shapeDefaults(),_setOptionsFromModel:function(e){var t=u(e||this.dataItem);this.options=H({},this.options,t),this.redrawVisual(),this.options.content&&(this._template(),this.content(this.options.content))},updateOptionsFromModel:function(e,t){var n,r;this.diagram&&this.diagram._isEditable&&(n=u(e||this.dataItem),e&&t?L.inArray(t,["x","y","width","height"])?(r=this.bounds(),r[t]=e[t],this.bounds(r)):(this.options.visual?this.redrawVisual():n.type&&(this.options=H({},this.options,n),this.redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content))):this.options=H({},this.options,n))},redrawVisual:function(){this.visual.clear(),this._contentVisual=null,this.options.dataItem=this.dataItem,this.shapeVisual=b.createShapeVisual(this.options),this.visual.append(this.shapeVisual),this.updateBounds()},updateModel:function(e){var t,n,r=this.diagram;r&&r._isEditable&&(t=this._bounds,n=this.dataItem,n&&(r._suspendModelRefresh(),ht(n.x)&&t.x!==n.x&&n.set("x",t.x),ht(n.y)&&t.y!==n.y&&n.set("y",t.y),ht(n.width)&&t.width!==n.width&&n.set("width",t.width),ht(n.height)&&t.height!==n.height&&n.set("height",t.height),this.dataItem=n,r._resumeModelRefresh(),e&&r._syncShapeChanges()))},updateBounds:function(){var e=this.visual._measure(!0),t=this.options;this.bounds(new z(t.x,t.y,e.width,e.height)),this._rotate(),this._alignContent()},content:function(e){var t=this._content(e);return this._alignContent(),t},_alignContent:function(){var e,t,n,r,i,s=this.options.content||{},o=this._contentVisual;o&&s.align&&(e=this.visual._measure(),t=new M.RectAlign(e),n=o.drawingElement.bbox(null),r=new z(0,0,n.width(),n.height()),i=t.align(r,s.align),o.position(i.topLeft()))},_createConnectors:function(){var e,t,n=this.options,r=n.connectors.length,i=n.connectorDefaults;for(t=0;r>t;t++)e=new y(this,H({},i,n.connectors[t])),this.connectors.push(e)},bounds:function(e){var t,n;if(e)if(vt(e))switch(e){case Zt:t=this._transformedBounds();break;case Yt:t=this._transformedBounds(),n=this.diagram._pan,t.x+=n.x,t.y+=n.y;break;case en:t=this._rotatedBounds();break;default:t=this._bounds}else this._setBounds(e),this._triggerBoundsChange(),this.refreshConnections();else t=this._bounds;return t},_setBounds:function(e){var t=this.options,n=e.topLeft(),r=t.x=n.x,i=t.y=n.y,s=t.width=gt.max(e.width,t.minWidth),o=t.height=gt.max(e.height,t.minHeight);this._bounds=new z(r,i,s,o),this.visual.redraw({x:r,y:i,width:s,height:o})},position:function(e){return e?(this.bounds(new z(e.x,e.y,this._bounds.width,this._bounds.height)),t):this._bounds.topLeft()},clone:function(){var e=this.serialize();return e.options.id=M.randomId(),this.diagram&&this.diagram._isEditable&&ht(this.dataItem)&&(e.options.dataItem=h(this.dataItem)),new b(e.options)},select:function(e){var n,r,i=this.diagram;return lt(e)&&(e=!0),this._canSelect()&&this.isSelected!=e?(n=[],r=[],this.isSelected=e,this.isSelected?(i._selectedItems.push(this),n.push(this)):(it.remove(i._selectedItems,this),r.push(this)),i._internalSelection||i._selectionChanged(n,r),!0):t},rotate:function(e,n,r){var i,s,o,u,a=this.visual.rotate();return e!==t&&(r!==!1&&this.diagram&&this.diagram.undoRedoService&&e!==a.angle&&this.diagram.undoRedoService.add(new M.RotateUnit(this.diagram._resizingAdorner,[this],[a.angle]),!1),i=this.bounds(),s=new K(i.width/2,i.height/2),n&&(o=e-a.angle,u=i.center().rotate(n,360-o).minus(s),this._rotationOffset=this._rotationOffset.plus(u.minus(i.topLeft())),this.position(u)),this.visual.rotate(e,s),this.options.rotation.angle=e,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger(Bt,{item:this})),a},connections:function(e){var t,n,r,i,s,o,u,a=[];for(t=0;this.connectors.length>t;t++)for(s=this.connectors[t],i=s.connections,n=0,i;i.length>n;n++)r=i[n],"out"==e?(o=r.source(),o.shape&&o.shape==this&&a.push(r)):"in"==e?(u=r.target(),u.shape&&u.shape==this&&a.push(r)):a.push(r);return a},refreshConnections:function(){e.each(this.connections(),function(){this.refresh()})},getConnector:function(e){var t,n;if(!vt(e))return e instanceof K?i(e,this):this.connectors.length?this.connectors[0]:null;for(e=e.toLocaleLowerCase(),t=0;this.connectors.length>t;t++)if(n=this.connectors[t],n.options.name.toLocaleLowerCase()==e)return n},getPosition:function(e){var t=this.bounds(),n=e.charAt(0).toLowerCase()+e.slice(1);return dt(t[n])?this._transformPoint(t[n]()):t.center()},redraw:function(e){var t,n;e&&(t=this.options,this.shapeVisual.redraw(this._visualOptions(e)),this._diffNumericOptions(e,[nn,rn,sn,on])&&(this.bounds(new z(t.x,t.y,t.width,t.height)),n=!0),e.connectors&&(t.connectors=e.connectors,this._updateConnectors()),t=H(t,e),(e.rotation||n)&&this._rotate(),t.content&&this.content(t.content))},_updateConnectors:function(){var e,t,n,r,i=this.connections();for(this.connectors=[],this._createConnectors(),r=0;i.length>r;r++)e=i[r],t=e.source(),n=e.target(),t.shape&&t.shape===this?e.source(this.getConnector(t.options.name)||null):n.shape&&n.shape===this&&e.target(this.getConnector(n.options.name)||null),e.updateModel()},_diffNumericOptions:M.diffNumericOptions,_visualOptions:function(e){return{data:e.path,source:e.source,hover:e.hover,fill:e.fill,stroke:e.stroke,startCap:e.startCap,endCap:e.endCap}},_triggerBoundsChange:function(){this.diagram&&this.diagram.trigger(wt,{item:this,bounds:this._bounds.clone()})},_transformPoint:function(e){var t=this.rotate(),n=this.bounds(),r=n.topLeft();return t.angle&&e.rotate(t.center().plus(r),360-t.angle),e},_transformedBounds:function(){var e=this.bounds(),t=e.topLeft(),n=e.bottomRight();return z.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(n))},_rotatedBounds:function(){var e=this.bounds().rotatedBounds(this.rotate().angle),t=e.topLeft(),n=e.bottomRight();return z.fromPoints(t,n)},_rotate:function(){var e=this.options.rotation;e&&e.angle&&this.rotate(e.angle),this._rotationOffset=new K},_hover:function(e){var t=this.options,n=t.hover,r=t.stroke,i=t.fill;e&&ct(n.stroke)&&(r=H({},r,n.stroke)),e&&ct(n.fill)&&(i=n.fill),this.shapeVisual.redraw({stroke:r,fill:i}),t.editable&&t.editable.connect&&this.diagram._showConnectors(this,e)},_hitTest:function(e){if(this.visible()){var t,n=this.bounds(),r=this.rotate().angle;if(e.isEmpty&&!e.isEmpty())return Q.rects(e,n,r?r:0);if(t=e.clone().rotate(n.center(),r),n.contains(t))return this}},toJSON:function(){return{shapeId:this.options.id}}}),b.createShapeVisual=function(e){var t,n,r,i;return delete e.diagram,t=H({},e,{x:0,y:0}),n=t.visual,r=(t.type+"").toLocaleLowerCase(),dt(n)?i=n.call(this,t):t.path?(t.data=t.path,i=new W(t),o(i)):i="rectangle"==r?new q(t):"circle"==r?new R(t):"text"==r?new $(t):"image"==r?new J(t):new W(t),i},w=g.extend({init:function(e,t,n){var r=this;g.fn.init.call(r,n),this.updateOptionsFromModel(),this._initRouter(),r.path=new M.Polyline(r.options),r.path.fill(tn),r.visual.append(r.path),r._sourcePoint=r._targetPoint=new K,r.source(e),r.target(t),r.content(r.options.content),r.definers=[],ht(n)&&n.points&&r.points(n.points),r.refresh()},options:{hover:{stroke:{}},startCap:qt,endCap:qt,points:[],selectable:!0},_setOptionsFromModel:function(e){this.updateOptionsFromModel(e||this.dataItem)},updateOptionsFromModel:function(e){var t,n;this.diagram&&this.diagram._isEditable&&(t=this.diagram._dataMap,n=a(e||this.dataItem),e?(ht(n.from)?this.source(t[n.from]):ht(n.fromX)&&ht(n.fromY)&&this.source(new K(n.fromX,n.fromY)),ht(n.to)?this.target(t[n.to]):ht(n.toX)&&ht(n.toY)&&this.target(new K(n.toX,n.toY)),ht(n.type)&&this.type()!==n.type&&(this.points([]),this.type(n.type)),this.dataItem=e,this._template(),this.redraw(this.options)):this.options=H({},n,this.options))},updateModel:function(e){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);t&&(this.diagram._suspendModelRefresh(),ht(this.options.fromX)&&null!==this.options.fromX?(t.set("from",null),t.set("fromX",this.options.fromX),t.set("fromY",this.options.fromY)):(t.set("from",this.options.from),t.set("fromX",null),t.set("fromY",null)),ht(this.options.toX)&&null!==this.options.toX?(t.set("to",null),t.set("toX",this.options.toX),t.set("toY",this.options.toY)):(t.set("to",this.options.to),t.set("toX",null),t.set("toY",null)),ht(this.options.type)&&ht(t.type)&&t.set("type",this.options.type),this.dataItem=t,this.diagram._resumeModelRefresh(),e&&this.diagram._syncConnectionChanges())}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},source:function(e,n){var r,i;if(ct(e)){if(i=e instanceof b,i&&!e.getConnector(At))return;n&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new M.ConnectionEditUnit(this,e)),e!==t&&(this.from=e),this._removeFromSourceConnector(),null===e?this.sourceConnector&&(this._sourcePoint=this._resolvedSourceConnector.position(),this._clearSourceConnector(),this._setFromOptions(null,this._sourcePoint)):e instanceof y?(r=e.shape.dataItem,r&&this._setFromOptions(r.id),this.sourceConnector=e,this.sourceConnector.connections.push(this)):e instanceof K?(this._setFromOptions(null,e),this._sourcePoint=e,this.sourceConnector&&this._clearSourceConnector()):i&&(r=e.dataItem,r&&this._setFromOptions(r.id),this.sourceConnector=e.getConnector(At),this.sourceConnector.connections.push(this)),this.refresh()}return this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(e,t){this.options.from=e,t?(this.options.fromX=t.x,this.options.fromY=t.y):(this.options.fromX=null,this.options.fromY=null)},sourceDefiner:function(e){if(!e)return this._sourceDefiner||(this._sourceDefiner=new M.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(e instanceof M.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.left=null,this._sourceDefiner=e,this.source(e.point)},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},target:function(e,n){var r,i;if(ct(e)){if(i=e instanceof b,i&&!e.getConnector(At))return;n&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new M.ConnectionEditUnit(this,t,e)),e!==t&&(this.to=e),this._removeFromTargetConnector(),null===e?this.targetConnector&&(this._targetPoint=this._resolvedTargetConnector.position(),this._clearTargetConnector(),this._setToOptions(null,this._targetPoint)):e instanceof y?(r=e.shape.dataItem,r&&this._setToOptions(r.id),this.targetConnector=e,this.targetConnector.connections.push(this)):e instanceof K?(this._setToOptions(null,e),this._targetPoint=e,this.targetConnector&&this._clearTargetConnector()):i&&(r=e.dataItem,r&&this._setToOptions(r.id),this.targetConnector=e.getConnector(At),this.targetConnector.connections.push(this)),this.refresh()}return this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(e,t){this.options.to=e,t?(this.options.toX=t.x,this.options.toY=t.y):(this.options.toX=null,this.options.toY=null)},targetDefiner:function(e){if(!e)return this._targetDefiner||(this._targetDefiner=new M.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(e instanceof M.PathDefiner))throw"The sourceDefiner needs to be a PathDefiner.";e.right=null,this._targetDefiner=e,this.target(e.point)},_updateConnectors:function(){this._updateConnector(this.source(),"source"),this._updateConnector(this.target(),"target")},_updateConnector:function(e,t){var n,r,i,s,o=this,u=o.diagram;e instanceof y&&!u.getShapeById(e.shape.id)?(n=e.shape.dataItem,r=e.options.name,i=function(){var i=u._dataMap[n.id];e=i.getConnector(r),o[t](e,!1),o.updateModel()},u._dataMap[n.id]?i():(s=u._inactiveShapeItems.getByUid(n.uid),s&&u._deferredConnectionUpdates.push(s.onActivate(i)))):o[t](e,!1)},content:function(e){var t=this._content(e);return ht(e)&&this._alignContent(),t},_alignContent:function(){var e,t,n,r;this._contentVisual&&(e=this._bounds.topLeft(),t=this.sourcePoint().minus(e),n=this.targetPoint().minus(e),r=K.fn.middleOf(t,n),this._contentVisual.position(new K(r.x+e.x,r.y+e.y)))},select:function(e){var n,r,i=this.diagram;return this._canSelect()&&this.isSelected!==e?(this.isSelected=e,n=[],r=[],this.isSelected?(this.adorner=new G(this,this.options.selection),i._adorn(this.adorner,!0),i._selectedItems.push(this),n.push(this)):this.adorner&&(i._adorn(this.adorner,!1),it.remove(i._selectedItems,this),this.adorner=t,r.push(this)),this.adorner&&this.adorner.refresh(),i._internalSelection||i._selectionChanged(n,r),!0):t},bounds:function(e){return!e||vt(e)?this._bounds:(this._bounds=e,t)},type:function(e){var n=this.options;return e?(e!==n.type&&(n.type=e,this._initRouter(),this.refresh()),t):n.type},_initRouter:function(){var e=(this.options.type||"").toLowerCase();this._router=e==bt?new ft(this):new at(this)},points:function(e){var t,n,r,i;if(!e){if(r=[],ct(this.definers))for(i=0;this.definers.length>i;i++)r.push(this.definers[i].point);return r}for(this.definers=[],t=0;e.length>t;t++)if(n=e[t],n instanceof M.Point)this.definers.push(new M.PathDefiner(n));else{if(!n.hasOwnProperty("x")||!n.hasOwnProperty("y"))throw"A Connection point needs to be a Point or an object with x and y properties.";this.definers.push(new M.PathDefiner(new K(n.x,n.y)))}},allPoints:function(){var e,t=[this.sourcePoint()];if(this.definers)for(e=0;this.definers.length>e;e++)t.push(this.definers[e].point);return t.push(this.targetPoint()),t},refresh:function(){this._resolveConnectors(),this._refreshPath(),this._alignContent(),this.adorner&&this.adorner.refresh()},_resolveConnectors:function(){var e,t,n,s,o=this,u=o.source(),a=o.target();u instanceof K?e=u:u instanceof y&&(r(u)?n=u.shape:(o._resolvedSourceConnector=u,e=u.position())),a instanceof K?t=a:a instanceof y&&(r(a)?s=a.shape:(o._resolvedTargetConnector=a,t=a.position())),e?s&&(o._resolvedTargetConnector=i(e,s)):n&&(t?o._resolvedSourceConnector=i(t,n):s&&this._resolveAutoConnectors(n,s))},_resolveAutoConnectors:function(e,t){var n,i,s,o,u,a,f,l,c,h,p,d,v=Pt,m=Pt,g=e.connectors;for(h=0;g.length>h;h++)if(l=g[h],!r(l))for(o=l.position(),n=t.connectors,p=0;n.length>p;p++)c=n[p],r(c)||(u=c.position(),d=gt.round(o.distanceTo(u)),v>d&&this.diagram&&this._testRoutePoints(o,u,l,c)&&(v=d,i=l,s=c),m>d&&(a=l,f=c,m=d));i&&(a=i,f=s),this._resolvedSourceConnector=a,this._resolvedTargetConnector=f},_testRoutePoints:function(e,t,n,r){var i,s,o,u,a,f,l=this._router,c=!0;if(l instanceof ft)for(i=l.routePoints(e,t,n,r),i.unshift(e),i.push(t),u=[n.shape,r.shape],f=1;i.length>f;f++)if(s=i[f-1],o=i[f],a=new z(gt.min(s.x,o.x),gt.min(s.y,o.y),gt.abs(s.x-o.x),gt.abs(s.y-o.y)),this.diagram._shapesQuadTree.hitTestRect(a,u)){c=!1;break}return c},redraw:function(e){if(e){this.options=H({},this.options,e);var t=this.options.points;ht(t)&&t.length>0&&(this.points(t),this._refreshPath()),(e&&e.content||e.text)&&this.content(e.content),this.path.redraw({fill:e.fill,stroke:e.stroke,startCap:e.startCap,endCap:e.endCap})}},clone:function(){var e=this.serialize();return this.diagram&&this.diagram._isEditable&&ht(this.dataItem)&&(e.options.dataItem=h(this.dataItem)),new w(this.from,this.to,e.options)},serialize:function(){var e=this.from.toJSON?this.from.toJSON:""+this.from,t=this.to.toJSON?this.to.toJSON:""+this.to,n=H({},{options:this.options,from:e,to:t});return ht(this.dataItem)&&(n.dataItem=""+this.dataItem),n.options.points=this.points(),n},_hitTest:function(e){if(this.visible()){var t=new K(e.x,e.y),n=this.sourcePoint(),r=this.targetPoint();if(e.isEmpty&&!e.isEmpty()&&e.contains(n)&&e.contains(r))return this;if(this._router.hitTest(t))return this}},_hover:function(e){var t=(this.options.stroke||{}).color;e&&ct(this.options.hover.stroke.color)&&(t=this.options.hover.stroke.color),this.path.redraw({stroke:{color:t}})},_refreshPath:function(){ht(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPath:function(){var e,t,n;this._router&&this._router.route(),e=this.sourcePoint(),t=this.targetPoint(),n=this.points(),this.path.redraw({points:[e].concat(n,[t])})},_clearSourceConnector:function(){it.remove(this.sourceConnector.connections,this),this.sourceConnector=t,this._resolvedSourceConnector=t},_clearTargetConnector:function(){it.remove(this.targetConnector.connections,this),this.targetConnector=t,this._resolvedTargetConnector=t},_removeFromSourceConnector:function(){this.sourceConnector&&it.remove(this.sourceConnector.connections,this)},_removeFromTargetConnector:function(){this.targetConnector&&it.remove(this.targetConnector.connections,this)}}),E=_.extend({init:function(e,t){var n=this;kendo.destroy(e),_.fn.init.call(n,e,t),n._initTheme(),n._initElements(),n._extendLayoutOptions(n.options),n._initDefaults(t),n._initCanvas(),n.mainLayer=new I({id:"main-layer"}),n.canvas.append(n.mainLayer),n._shapesQuadTree=new k(n),n._pan=new K,n._adorners=[],n.adornerLayer=new I({id:"adorner-layer"}),n.canvas.append(n.adornerLayer),n._createHandlers(),n._initialize(),n._fetchFreshData(),n._createGlobalToolBar(),n._resizingAdorner=new tt(n,{editable:n.options.editable}),n._connectorsAdorner=new nt(n),n._adorn(n._resizingAdorner,!0),n._adorn(n._connectorsAdorner,!0),n.selector=new et(n),n._clipboard=[],n.pauseMouseHandlers=!1,n._createShapes(),n._createConnections(),n.options.layout&&n.layout(n.options.layout),n.zoom(n.options.zoom),n.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0,tools:[],drag:{snap:{size:10,angle:10}},remove:!0},pannable:{key:"ctrl"},selectable:{key:"none"},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},shapeDefaults:M.shapeDefaults({undoable:!0}),connectionDefaults:{editable:{tools:[]},type:bt},shapes:[],connections:[]},events:[It,Ft,jt,Ht,Bt,wt,Et,St,Ct,kt,"toolBarClick","save","cancel","edit","remove","add","dataBound",Nt,xt,Tt],_createGlobalToolBar:function(){var e,t=this.options.editable;t&&(e=t.tools,this._isEditable&&0===e.length&&(e=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]),e&&e.length&&(this.toolBar=new S(this,{tools:e||{},click:P(this._toolBarClick,this),modal:!1}),this.toolBar.element.css({textAlign:"left"}),this.element.prepend(this.toolBar.element),this._resize()))},createShape:function(){var e,t,n,r,i,s;(this.editor&&this.editor.end()||!this.editor)&&(e=this.dataSource,t=e.view()||[],n=t.length,r=d(e,{}),i=this._createShape(r,{}),this.trigger("add",{shape:i})||(e.insert(n,r),s=this._inactiveShapeItems.getByUid(r.uid),s.element=i,this.edit(i)))},_createShape:function(e,t){t=H({},this.options.shapeDefaults,t),t.dataItem=e;var n=new b(t,this);return n},createConnection:function(){var e,t,n,r,i;(this.editor&&this.editor.end()||!this.editor)&&(e=this.connectionsDataSource,t=e.view()||[],n=t.length,r=d(e,{}),i=this._createConnection(r),this.trigger("add",{connection:i})||(this._connectionsDataMap[r.uid]=i,e.insert(n,r),this.addConnection(i,!1),this.edit(i)))},_createConnection:function(e,t,n){var r,i=H({},this.options.connectionDefaults);return i.dataItem=e,r=new w(t||new K,n||new K,i)},editModel:function(e,t){var n,r,i,s;if(this.cancelEdit(),i=this.options.editable,"shape"==t)n=i.shapeEditors,r=i.shapeTemplate;else{if("connection"!=t)return;s=P(f,this),n=H({},{from:s,to:s},i.connectionEditors),r=i.connectionTemplate}this.editor=new T(this.element,{update:P(this._update,this),cancel:P(this._cancel,this),model:e,type:t,target:this,editors:n,template:r}),this.trigger("edit",this._editArgs())},edit:function(e){if(e.dataItem){var t=e instanceof b?"shape":"connection";this.editModel(e.dataItem,t)}},cancelEdit:function(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEdit:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync()},_update:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancel:function(){var e,t;this.editor&&!this.trigger("cancel",this._editArgs())&&(e=this.editor.model,this._getEditDataSource().cancelChanges(e),t=this._connectionsDataMap[e.uid]||this._dataMap[e.id],t&&t._setOptionsFromModel(e),this._destroyEditor())},_getEditDataSource:function(){return"shape"===this.editor.options.type?this.dataSource:this.connectionsDataSource},_editArgs:function(){var e={container:this.editor.element};return e[this.editor.options.type]=this.editor.model,e},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram"),this.scrollable=e("<div />").appendTo(this.element)},_initDefaults:function(e){var t=this.options,n=t.editable,r=t.shapeDefaults,i=t.connectionDefaults,s=(e||{}).shapeDefaults;n===!1?(r.editable=!1,i.editable=!1):(v(n,r.editable,["drag","remove","connect"]),v(n,i.editable,["drag","remove"])),s&&s.connectors&&(t.shapeDefaults.connectors=s.connectors)},_initCanvas:function(){var t=e("<div class='k-layer'></div>").appendTo(this.scrollable)[0],n=this.viewport();this.canvas=new F(t,{width:n.width||Rt,height:n.height||Ut})},_createHandlers:function(){var e=this,t=e.element;t.on(un,P(e._wheel,e)),kendo.support.touch||kendo.support.mobileOS?(e._userEvents=new kendo.UserEvents(t,{multiTouch:!0,tap:P(e._tap,e)}),e._userEvents.bind(["gesturestart","gesturechange","gestureend"],{gesturestart:P(e._gestureStart,e),gesturechange:P(e._gestureChange,e),gestureend:P(e._gestureEnd,e)}),e.toolService=new Z(e),e.options.pannable!==!1&&e.scroller.enable()):(e.toolService=new Z(e),this.scroller.wrapper.on("mousemove"+yt,P(e._mouseMove,e)).on("mouseup"+yt,P(e._mouseUp,e)).on("mousedown"+yt,P(e._mouseDown,e)).on("mouseover"+yt,P(e._mouseover,e)).on("mouseout"+yt,P(e._mouseout,e)),t.on("keydown"+yt,P(e._keydown,e))),this._syncHandler=P(e._syncChanges,e),e._resizeHandler=P(e.resize,e,!1),kendo.onResize(e._resizeHandler),this.bind(Ft,P(e._destroyToolBar,e)),this.bind(jt,P(e._destroyToolBar,e))},_tap:function(e){var t,n=this.toolService,r=this._caculateMobilePosition(e);n._updateHoveredItem(r),n.hoveredItem&&(t=n.hoveredItem,this.options.selectable!==!1&&(this._destroyToolBar(),t.isSelected?t.select(!1):this.select(t,{addToSelection:!0}),this._createToolBar()),this.trigger("click",{item:t,point:r}))},_caculateMobilePosition:function(e){return this.documentToModel(K(e.x.location,e.y.location))},_gestureStart:function(e){var t,n;this._destroyToolBar(),this.scroller.disable(),t=this.documentToModel(new K(e.center.x,e.center.y)),n={point:t,zoom:this.zoom()},this.trigger(Ft,n)||(this._gesture=e,this._initialCenter=t)},_gestureChange:function(e){var t,n,r=this._gesture,i=this._initialCenter,s=this.documentToView(new K(e.center.x,e.center.y)),o=e.distance/r.distance,u=this._zoom,a=!1;gt.abs(o-1)>=an&&(this._zoom=u=this._getValidZoom(u*o),this.options.zoom=u,this._gesture=e,a=!0),t=i.times(u),n=s.minus(t),(a||this._pan.distanceTo(n)>=fn)&&(this._panTransform(n),this._updateAdorners()),e.preventDefault()},_gestureEnd:function(){this.options.pannable!==!1&&this.scroller.enable(),this.trigger(It,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var e=this.viewport();this.canvas&&this.canvas.size(e),this.scrollable&&this.toolBar&&this.scrollable.height(e.height)},_mouseover:function(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!0,t.srcElement)},_mouseout:function(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!1,t.srcElement)},_initTheme:function(){var e=this,t=L.ui.themes||{},n=((e.options||{}).theme||"").toLowerCase(),r=(t[n]||{}).diagram;e.options=H({},r,e.options)},_createShapes:function(){var e,t,n=this,r=n.options,i=r.shapes;for(t=0;i.length>t;t++)e=i[t],n.addShape(e)},_createConnections:function(){var e,t,n,r,i=this,s=i.options,o=s.connectionDefaults,u=s.connections;for(r=0;u.length>r;r++)e=u[r],t=i._findConnectionShape(e.from),n=i._findConnectionShape(e.to),i.connect(t,n,H({},o,e))},_findConnectionShape:function(e){var t=this,n=vt(e)?e:e.shapeId,r=t.getShapeById(n);return r.getConnector(e.connector||At)},destroy:function(){var e=this;_.fn.destroy.call(e),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(e._resizeHandler),e.clear(),e.element.off(yt),e.scroller.wrapper.off(yt),e.canvas.destroy(!0),e.canvas=t,e._destroyEditor(),e.destroyScroller(),e._destroyGlobalToolBar(),e._destroyToolBar()},destroyScroller:function(){var e=this.scroller;e&&(e.destroy(),e.element.remove(),this.scroller=null)},save:function(){var e,t,n,r,i={};for(i.shapes=[],i.connections=[],e=0;this.shapes.length>e;e++)t=this.shapes[e],t.options.serializable&&i.shapes.push(t.options);for(e=0;this.connections.length>e;e++)n=this.connections[e],r=H({},n.options,{from:n.from.toJSON(),to:n.to.toJSON()}),i.connections.push(r);return i},focus:function(){if(!this.element.is(kendo._activeElement())){var e,t=this.element,n=t[0],r=[],i=[],s=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(r.push(n),i.push(n.scrollTop));while(n!=s);for(t.focus(),e=0;r.length>e;e++)r[e].scrollTop=i[e]}},load:function(e){this.clear(),this.setOptions(e),this._createShapes(),this._createConnections()},setOptions:function(e){H(this.options,e)},clear:function(){var e=this;e.select(!1),e.mainLayer.clear(),e._shapesQuadTree.clear(),e._initialize()},connect:function(e,t,n){var r,i;return this.connectionsDataSource&&this._isEditable?(i=this.connectionsDataSource.add({}),r=this._connectionsDataMap[i.uid],r.source(e),r.target(t),r.redraw(n),r.updateModel()):(r=new w(e,t,H({},this.options.connectionDefaults,n)),this.addConnection(r)),r},connected:function(e,t){var n,r;for(n=0;this.connections.length>n;n++)if(r=this.connections[n],r.from==e&&r.to==t)return!0;return!1},addConnection:function(e,t){return t!==!1&&this.undoRedoService.add(new M.AddConnectionUnit(e,this),!1),e.diagram=this,e._setOptionsFromModel(),e.refresh(),this.mainLayer.append(e.visual),this.connections.push(e),this.trigger(Et,{added:[e],removed:[]}),e},_addConnection:function(e,t){var n,r=this.connectionsDataSource;if(r&&this._isEditable){if(n=d(r,h(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{connection:e}))return this._connectionsDataMap[n.uid]=e,r.add(n),this.addConnection(e,t),e._updateConnectors(),e}else if(!this.trigger("add",{connection:e}))return this.addConnection(e,t),e._updateConnectors(),e},addShape:function(e,t){var n,r=this.options.shapeDefaults;if(e instanceof b)r=H({},r,t),e.redraw(t),n=e;else{if(e instanceof kendo.Class)return;r=H({},r,e||{}),n=new b(r)}return r.undoable&&this.undoRedoService.add(new M.AddShapeUnit(n,this),!1),this.shapes.push(n),n.diagram=this,this.mainLayer.append(n.visual),this._shapesQuadTree.insert(n),this.trigger(Et,{added:[n],removed:[]}),n.hasOwnProperty("layout")&&n.layout(n),n},_addShape:function(e,t){var n,r,i=this,s=i.dataSource;if(s&&this._isEditable){if(n=d(s,h(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger("add",{shape:e}))return this.dataSource.add(n),r=this._inactiveShapeItems.getByUid(n.uid),r.element=e,r.undoable=t,e}else if(!this.trigger("add",{shape:e}))return this.addShape(e,{undoable:t})},remove:function(e,t){var n,r,i,s;for(e=pt(e)?e.slice(0):[e],n=p(e),r=n.shapes,i=n.connections,ht(t)||(t=!0),t&&this.undoRedoService.begin(),this._suspendModelRefresh(),s=r.length-1;s>=0;s--)this._removeItem(r[s],t,i);for(s=i.length-1;s>=0;s--)this._removeItem(i[s],t);this._resumeModelRefresh(),t&&this.undoRedoService.commit(!1),this.trigger(Et,{added:[],removed:e})},_removeShapeDataItem:function(e){this._isEditable&&(this.dataSource.remove(e.dataItem),delete this._dataMap[e.dataItem.id])},_removeConnectionDataItem:function(e){this._isEditable&&(this.connectionsDataSource.remove(e.dataItem),delete this._connectionsDataMap[e.dataItem.uid])},_triggerRemove:function(e){var t,n,r,i,s=[];for(i=0;e.length>i;i++)t=e[i],r=t.options.editable,n=t instanceof b?{shape:t}:{connection:t},r&&r.remove!==!1&&!this.trigger("remove",n)&&s.push(t);return s},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(e,t){if(!ct(e))return this._selectedItems;t=H({addToSelection:!1},t);var n,r,i=t.addToSelection,s=[],o=[];for(i||this.deselect(),this._internalSelection=!0,e instanceof Array?s=e:e instanceof g&&(s=[e]),n=0;s.length>n;n++)r=s[n],r.select(!0)&&o.push(r);this._selectionChanged(o,[]),this._internalSelection=!1},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(e){var t,n,r,i;if(this._internalSelection=!0,i=[],e instanceof z)for(n=this.shapes.concat(this.connections),t=0;n.length>t;t++)r=n[t],e&&!r._hitTest(e)||!r.options.enable||r.select(!0)&&i.push(r);this._selectionChanged(i,[]),this._internalSelection=!1},deselect:function(e){this._internalSelection=!0;var t,n,r=[],i=[];for(e instanceof Array?i=e:e instanceof g?i.push(e):ct(e)||(i=this._selectedItems.slice(0)),n=0;i.length>n;n++)t=i[n],t.select(!1)&&r.push(t);this._selectionChanged([],r),this._internalSelection=!1},toFront:function(e,t){var n,r,i;e||(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!ht(t)||t?(r=s(this.mainLayer,n.visuals),i=new ut(this,e,r),this.undoRedoService.add(i)):(this.mainLayer.toFront(n.visuals),this._fixOrdering(n,!0))},toBack:function(e,t){var n,r,i;e||(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!ht(t)||t?(r=s(this.mainLayer,n.visuals),i=new ot(this,e,r),this.undoRedoService.add(i)):(this.mainLayer.toBack(n.visuals),this._fixOrdering(n,!1))},bringIntoView:function(e,t){var n,r,i,s,o=this.viewport(),u=new M.RectAlign(o);0!==o.width&&0!==o.height&&(t=H({animate:!1,align:"center middle"},t),"none"==t.align&&(t.align="center middle"),e instanceof g?r=e.bounds(Zt):pt(e)?r=this.boundingBox(e):e instanceof z&&(r=e.clone()),i=r.clone(),r.zoom(this._zoom),this._storePan(new K),(r.width>o.width||r.height>o.height)&&(this._zoom=this._getValidZoom(gt.min(o.width/i.width,o.height/i.height)),r=i.clone().zoom(this._zoom)),this._zoomMainLayer(),n=r.clone(),u.align(r,t.align),s=r.topLeft().minus(n.topLeft()),this.pan(s.times(-1),t.animate))},alignShapes:function(e){var t,n,r,i,s,o,u;if(lt(e)&&(e="Left"),t=this.select(),0!==t.length){switch(e.toLowerCase()){case"left":case"top":n=Qt;break;case"right":case"bottom":n=Gt}for(i=0;t.length>i;i++)if(r=t[i],r instanceof b)switch(e.toLowerCase()){case"left":n=gt.min(n,r.options.x);break;case"top":n=gt.min(n,r.options.y);break;case"right":n=gt.max(n,r.options.x);break;case"bottom":n=gt.max(n,r.options.y)}for(s=[],o=[],i=0;t.length>i;i++)if(r=t[i],r instanceof b)switch(o.push(r),s.push(r.bounds()),e.toLowerCase()){case"left":case"right":r.position(new K(n,r.options.y));break;case"top":case"bottom":r.position(new K(r.options.x,n))}u=new M.TransformUnit(o,s),this.undoRedoService.add(u,!1)}},zoom:function(e,t){var n,r,i,s;return e&&(n=t?t.point:new M.Point(0,0),e=this._zoom=this._getValidZoom(e),lt(n)||(n=new M.Point(gt.round(n.x),gt.round(n.y)),r=n.times(e),i=this.modelToView(n),s=i.minus(r),this._storePan(new M.Point(gt.round(s.x),gt.round(s.y)))),t&&(t.zoom=e),this._panTransform(),this._updateAdorners()),this._zoom},_getPan:function(e){var t=this.canvas;return t.translate||(e=e.plus(this._pan)),e},pan:function(e,t){var n,r;e instanceof K&&(n=this,r=n.scroller,e=n._getPan(e),e=e.times(-1),t?r.animatedScrollTo(e.x,e.y,function(){n._updateAdorners()}):(r.scrollTo(e.x,e.y),n._updateAdorners()))},viewport:function(){var e=this.element,t=e.width(),n=e.height();return this.toolBar&&(n-=this.toolBar.element.outerHeight()),new z(0,0,t,n)},copy:function(){var e,t;if(this.options.copy.enabled)for(this._clipboard=[],this._copyOffset=1,e=0;this._selectedItems.length>e;e++)t=this._selectedItems[e],this._clipboard.push(t)},cut:function(){var e,t;if(this.options.copy.enabled){for(this._clipboard=[],this._copyOffset=0,e=0;this._selectedItems.length>e;e++)t=this._selectedItems[e],this._clipboard.push(t);this.remove(this._clipboard,!0)}},paste:function(){var e,t,n,r,i,s,o,u;if(this._clipboard.length>0){for(r={},i=p(this._clipboard),s=i.connections,o=i.shapes,u={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY},this.deselect(),n=0;o.length>n;n++)e=o[n],t=e.clone(),r[e.id]=t,t.position(new K(e.options.x+u.x,e.options.y+u.y)),t.diagram=this,t=this._addShape(t),t&&t.select();for(n=0;s.length>n;n++)e=s[n],t=this._addConnection(e.clone()),t&&(this._updateCopiedConnection(t,e,"source",r,u),this._updateCopiedConnection(t,e,"target",r,u),t.select(!0),t.updateModel());this._syncChanges(),this._copyOffset+=1}},_updateCopiedConnection:function(e,t,n,r,i){var s,o,u,a=t[n](),f=this;a instanceof y&&r[a.shape.id]?(u=r[a.shape.id],f.getShapeById(u.id)?e[n](u.getConnector(a.options.name)):(o=f._inactiveShapeItems.getByUid(u.dataItem.uid),o&&(s=function(t){u=f._dataMap[t.id],e[n](u.getConnector(a.options.name)),e.updateModel()},f._deferredConnectionUpdates.push(o.onActivate(s))))):e[n](new K(t[n+"Point"]().x+i.x,t[n+"Point"]().y+i.y))},boundingBox:function(e,t){var n,r,i,s=z.empty(),o=ct(e)?this._getDiagramItems(e):{shapes:this.shapes};if(o.shapes.length>0)for(r=o.shapes[0],s=r.bounds(en),i=1;o.shapes.length>i;i++)r=o.shapes[i],n=r.bounds(en),t===!0&&(n.x-=r._rotationOffset.x,n.y-=r._rotationOffset.y),s=s.union(n);return s},_containerOffset:function(){var e=this.element.offset();return this.toolBar&&(e.top+=this.toolBar.element.outerHeight()),e},documentToView:function(e){var t=this._containerOffset();return new K(e.x-t.left,e.y-t.top)},viewToDocument:function(e){var t=this._containerOffset();return new K(e.x+t.left,e.y+t.top)},viewToModel:function(e){return this._transformWithMatrix(e,this._matrixInvert)},modelToView:function(e){return this._transformWithMatrix(e,this._matrix)},modelToLayer:function(e){return this._transformWithMatrix(e,this._layerMatrix)},layerToModel:function(e){return this._transformWithMatrix(e,this._layerMatrixInvert)},documentToModel:function(e){var t=this.documentToView(e);return this.canvas.translate||(t.x=t.x+this.scroller.scrollLeft,t.y=t.y+this.scroller.scrollTop),this.viewToModel(t)},modelToDocument:function(e){return this.viewToDocument(this.modelToView(e))},_transformWithMatrix:function(e,t){var n,r,i=e;return e instanceof K?t&&(i=t.apply(e)):(n=this._transformWithMatrix(e.topLeft(),t),r=this._transformWithMatrix(e.bottomRight(),t),i=z.fromPoints(n,r)),i},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setConnectionsDataSource:function(e){this.options.connectionsDataSource=e,this._connectionDataSource(),this.options.autoBind&&this.connectionsDataSource.fetch()},layout:function(e){var t,n,r,i,s;switch(this.isLayouting=!0,lt(e)&&(e=this.options.layout),t=lt(e)||lt(e.type)?"Tree":e.type,t.toLowerCase()){case"tree":n=new M.TreeLayout(this);break;case"layered":n=new M.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":n=new M.SpringLayout(this);break;default:throw"Layout algorithm '"+t+"' is not supported."}r=new M.LayoutState(this),i=n.layout(e),i&&(s=new M.LayoutUndoUnit(r,i,e?e.animate:null),this.undoRedoService.add(s)),this.isLayouting=!1},getShapeById:function(e){var t;return(t=it.first(this.shapes,function(t){return t.visual.id===e}))?t:t=it.first(this.connections,function(t){return t.visual.id===e})},_extendLayoutOptions:function(e){e.layout&&(e.layout=H(M.LayoutBase.fn.defaultOptions||{},e.layout))},_selectionChanged:function(e,t){(e.length||t.length)&&this.trigger(Ht,{selected:e,deselected:t})},_getValidZoom:function(e){return gt.min(gt.max(e,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(e){var t=this,n=e||t._pan;t.canvas.translate?(t.scroller.scrollTo(n.x,n.y),t._zoomMainLayer()):(t._storePan(n),t._transformMainLayer())},_finishPan:function(){this.trigger(jt,{total:this._pan,delta:Number.NaN})},_storePan:function(e){this._pan=e,this._storeViewMatrix()},_zoomMainLayer:function(){var e=this._zoom,t=new U(0,0,e,e);t.render(this.mainLayer),this._storeLayerMatrix(t),this._storeViewMatrix()},_transformMainLayer:function(){var e=this._pan,t=this._zoom,n=new U(e.x,e.y,t,t);n.render(this.mainLayer),this._storeLayerMatrix(n),this._storeViewMatrix()},_storeLayerMatrix:function(e){this._layerMatrix=e.toMatrix(),this._layerMatrixInvert=e.invert().toMatrix()},_storeViewMatrix:function(){var e=this._pan,t=this._zoom,n=new U(e.x,e.y,t,t);this._matrix=n.toMatrix(),this._matrixInvert=n.invert().toMatrix()},_toIndex:function(e,t){var n=this._getDiagramItems(e);this.mainLayer.toIndex(n.visuals,t),this._fixOrdering(n,!1)},_fixOrdering:function(e,t){var n,r,i=t?this.shapes.length-1:0,s=t?this.connections.length-1:0;for(n=0;e.shapes.length>n;n++)r=e.shapes[n],it.remove(this.shapes,r),it.insert(this.shapes,r,i);for(n=0;e.cons.length>n;n++)r=e.cons[n],it.remove(this.connections,r),it.insert(this.connections,r,s)},_getDiagramItems:function(e){var t,n,r={},i=e;for(r.visuals=[],r.shapes=[],r.cons=[],e?pt(e)||(i=[e]):i=this._selectedItems.slice(),t=0;i.length>t;t++)n=i[t],n instanceof b?(r.shapes.push(n),r.visuals.push(n.visual)):n instanceof w&&(r.cons.push(n),r.visuals.push(n.visual));return r},_removeItem:function(e,t,n){e.select(!1),e instanceof b?(this._removeShapeDataItem(e),this._removeShape(e,t,n)):e instanceof w&&(this._removeConnectionDataItem(e),this._removeConnection(e,t)),this.mainLayer.remove(e.visual)},_removeShape:function(e,t,n){var r,i,s,o,u=[],a=[];for(this.toolService._removeHover(),t&&this.undoRedoService.addCompositeItem(new X(e)),it.remove(this.shapes,e),this._shapesQuadTree.remove(e),r=0;e.connectors.length>r;r++)for(s=e.connectors[r],o=0;s.connections.length>o;o++)i=s.connections[o],n&&L.inArray(i,n)||(i.sourceConnector==s?u.push(i):i.targetConnector==s&&a.push(i));for(r=0;u.length>r;r++)u[r].source(null,t),u[r].updateModel();for(r=0;a.length>r;r++)a[r].target(null,t),a[r].updateModel()},_removeConnection:function(e,t){e.sourceConnector&&it.remove(e.sourceConnector.connections,e),e.targetConnector&&it.remove(e.targetConnector.connections,e),t&&this.undoRedoService.addCompositeItem(new V(e)),it.remove(this.connections,e)},_removeDataItems:function(e,t){var n,r,i,s;for(e=pt(e)?e:[e];e.length;)if(n=e.shift(),i=this._dataMap[n.uid],i&&(this._removeShapeConnections(i),this._removeItem(i,!1),delete this._dataMap[n.uid],t&&n.hasChildren&&n.loaded()))for(r=n.children.data(),s=0;r.length>s;s++)e.push(r[s])},_removeShapeConnections:function(e){var t,n=e.connections();if(n)for(t=0;n.length>t;t++)this._removeItem(n[t],!1)},_addDataItem:function(e,t){var n,r;if(ht(e))return(n=this._dataMap[e.id])?n:(r=H({},this.options.shapeDefaults),r.dataItem=e,n=new b(r,this),this.addShape(n,{undoable:t!==!1}),this._dataMap[e.id]=n,n)},_addDataItemByUid:function(e){var t,n;if(ht(e))return(t=this._dataMap[e.uid])?t:(n=H({},this.options.shapeDefaults),n.dataItem=e,t=new b(n,this),this.addShape(t),this._dataMap[e.uid]=t,t)},_addDataItems:function(e,t){var n,r,i,s,o;for(r=0;e.length>r;r++)n=e[r],i=this._addDataItemByUid(n),s=this._addDataItemByUid(t),s&&!this.connected(s,i)&&(o=this.connect(s,i))},_refreshSource:function(e){var t,n=this,r=e.node,i=e.action,s=e.items,o=n.options;if(!e.field){if("remove"==i)this._removeDataItems(e.items,!0);else for(i||r||n.clear(),this._addDataItems(s,r),t=0;s.length>t;t++)s[t].load();o.layout&&n.layout(o.layout)}},_mouseDown:function(e){var t=this._calculatePosition(e);1==e.which&&this.toolService.start(t,this._meta(e))&&(this._destroyToolBar(),e.preventDefault())},_addItem:function(e){e instanceof b?this.addShape(e):e instanceof w&&this.addConnection(e)},_mouseUp:function(e){var t=this._calculatePosition(e);1==e.which&&this.toolService.end(t,this._meta(e))&&(this._createToolBar(),e.preventDefault())},_createToolBar:function(){var e,t,n,r,i,s,o,u,a,f,l=this.toolService.diagram;this.singleToolBar||1!==l.select().length||(e=l.select()[0],e&&e.options.editable!==!1&&(t=e.options.editable,n=t.tools,this._isEditable&&0===n.length&&(e instanceof b?n=["edit","rotateClockwise","rotateAnticlockwise"]:e instanceof w&&(n=["edit"]),t&&t.remove!==!1&&n.push("delete")),n&&n.length&&(r=20,this.singleToolBar=new S(l,{tools:n,click:P(this._toolBarClick,this),modal:!0}),s=this.singleToolBar.element,o=this.singleToolBar._popup.element.outerWidth(),u=this.singleToolBar._popup.element.outerHeight(),e instanceof b?(a=this.modelToView(e.bounds(en)),i=K(a.x,a.y).minus(K((o-a.width)/2,u+r))):e instanceof w&&(f=this.modelToView(e.bounds()),i=K(f.x,f.y).minus(K((o-f.width-20)/2,u+r))),i?(this.canvas.translate||(i=i.minus(K(this.scroller.scrollLeft,this.scroller.scrollTop))),i=this.viewToDocument(i),i=K(gt.max(i.x,0),gt.max(i.y,0)),this.singleToolBar.showAt(i)):this._destroyToolBar())))},_toolBarClick:function(e){this.trigger("toolBarClick",e),this._destroyToolBar()},_mouseMove:function(e){if(!this.pauseMouseHandlers){var t=this._calculatePosition(e);0!==e.which&&1!=e.which||!this.toolService.move(t,this._meta(e))||e.preventDefault()}},_keydown:function(e){this.toolService.keyDown(e.keyCode,this._meta(e))&&e.preventDefault()},_wheel:function(e){var t=n(e),r=this._calculatePosition(e),i=H(this._meta(e),{delta:t});this.toolService.wheel(r,i)&&e.preventDefault()},_meta:function(e){return{ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}},_calculatePosition:function(e){var n=e.pageX===t?e.originalEvent:e,r=new K(n.pageX,n.pageY),i=this.documentToModel(r);return i},_normalizePointZoom:function(e){return e.times(1/this.zoom())},_initialize:function(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=new c,this._deferredConnectionUpdates=[],this.undoRedoService=new Y({undone:this._syncHandler,redone:this._syncHandler}),this.id=M.randomId()},_fetchFreshData:function(){var e=this;e._dataSource(),e._isEditable&&e._connectionDataSource(),e.options.autoBind&&(e._isEditable?(this._loadingShapes=!0,this._loadingConnections=!0,e.dataSource.fetch(),e.connectionsDataSource.fetch()):e.dataSource.fetch())},_dataSource:function(){var e,t;ht(this.options.connectionsDataSource)?(this._isEditable=!0,e=this.options.dataSource||{},t=pt(e)?{data:e}:e,this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=P(this._refreshShapes,this),this._shapesRequestStartHandler=P(this._shapesRequestStart,this),this._shapesErrorHandler=P(this._error,this)),this.dataSource=kendo.data.DataSource.create(t).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)):(this._treeDataSource(),this._isEditable=!1)},_connectionDataSource:function(){var e,t=this.options.connectionsDataSource;t&&(e=pt(t)?{data:t}:t,this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=P(this._refreshConnections,this),this._connectionsRequestStartHandler=P(this._connectionsRequestStart,this),this._connectionsErrorHandler=P(this._connectionsError,this)),this.connectionsDataSource=kendo.data.DataSource.create(e).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler))},_shapesRequestStart:function(e){"read"==e.type&&(this._loadingShapes=!0)},_connectionsRequestStart:function(e){"read"==e.type&&(this._loadingConnections=!0)},_error:function(){this._loadingShapes=!1},_connectionsError:function(){this._loadingConnections=!1},_refreshShapes:function(e){"remove"===e.action?this._shouldRefresh()&&this._removeShapes(e.items):"itemchange"===e.action?this._shouldRefresh()&&this._updateShapes(e.items,e.field):"add"===e.action?this._inactiveShapeItems.add(e.items):"sync"===e.action?this._syncShapes(e.items):this.refresh()},_shouldRefresh:function(){return!this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=gt.max((this._suspended||0)-1,0)},refresh:function(){this._loadingShapes=!1,this._loadingConnections||(this.trigger("dataBound"),this._rebindShapesAndConnections())},_rebindShapesAndConnections:function(){this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout&&this.layout(this.options.layout)},refreshConnections:function(){this._loadingConnections=!1,this._loadingShapes||(this.trigger("dataBound"),this._rebindShapesAndConnections())},_removeShapes:function(e){var t,n,r=this._dataMap;for(n=0;e.length>n;n++)t=e[n],r[t.id]&&(this.remove(r[t.id],!1),r[t.id]=null)},_syncShapes:function(){var e=this,t=e._inactiveShapeItems;t.forEach(function(n){var r=n.dataItem,i=n.element;r.isNew()||(i?(i._setOptionsFromModel(),e.addShape(i,{undoable:n.undoable}),e._dataMap[r.id]=i):e._addDataItem(r),n.activate(),t.remove(r))})},_updateShapes:function(e,t){var n,r,i;for(n=0;e.length>n;n++)r=e[n],i=this._dataMap[r.id],i&&i.updateOptionsFromModel(r,t)},_addShapes:function(e){for(var t=0;e.length>t;t++)this._addDataItem(e[t],!1)},_refreshConnections:function(e){"remove"===e.action?this._shouldRefresh()&&this._removeConnections(e.items):"add"===e.action?this._addConnections(e.items):"sync"===e.action||("itemchange"===e.action?this._shouldRefresh()&&this._updateConnections(e.items):this.refreshConnections())},_removeConnections:function(e){for(var t=0;e.length>t;t++)this.remove(this._connectionsDataMap[e[t].uid],!1),this._connectionsDataMap[e[t].uid]=null},_updateConnections:function(e){var t,n,r,i,s;for(t=0;e.length>t;t++)n=e[t],r=this._connectionsDataMap[n.uid],r.updateOptionsFromModel(n),i=this._validateConnector(n.from),i&&r.source(i),s=this._validateConnector(n.to),s&&r.target(s)},_addConnections:function(e,t){var n,r,i=e.length;for(n=0;i>n;n++)r=e[n],this._addConnectionDataItem(r,t)},_addConnectionDataItem:function(e,t){var n,r,i,s;this._connectionsDataMap[e.uid]||(n=this._validateConnector(e.from),ht(n)&&null!==n||(n=new K(e.fromX,e.fromY)),r=this._validateConnector(e.to),ht(r)&&null!==r||(r=new K(e.toX,e.toY)),ht(n)&&ht(r)&&(i=H({},this.options.connectionDefaults),i.dataItem=e,s=new w(n,r,i),this._connectionsDataMap[e.uid]=s,this.addConnection(s,t)))},_validateConnector:function(e){var t;return ht(e)&&null!==e&&(t=this._dataMap[e]),t},_treeDataSource:function(){var e=this,t=e.options,n=t.dataSource;n=pt(n)?{data:n}:n,n.fields||(n.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),e.dataSource&&e._refreshHandler&&e._unbindDataSource(),e._refreshHandler=P(e._refreshSource,e),e._errorHandler=P(e._error,e),e.dataSource=j.create(n).bind(Et,e._refreshHandler).bind(Lt,e._errorHandler)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(Et,e._refreshHandler).unbind(Lt,e._errorHandler)},_adorn:function(e,n){n!==t&&e&&(n?(this._adorners.push(e),this.adornerLayer.append(e.visual)):(it.remove(this._adorners,e),this.adornerLayer.remove(e.visual)))},_showConnectors:function(e,t){t?this._connectorsAdorner.show(e):this._connectorsAdorner.destroy()},_updateAdorners:function(){var e,t,n=this._adorners;for(e=0;n.length>e;e++)t=n[e],t.refreshBounds&&t.refreshBounds(),t.refresh()},_refresh:function(){for(var e=0;this.connections.length>e;e++)this.connections[e].refresh()},_destroyToolBar:function(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null)},_destroyGlobalToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)},exportDOMVisual:function(){var e=this.canvas._viewBox,t=O.transform().translate(-e.x,-e.y),n=new O.Rect([0,0],[e.width,e.height]),r=A.Path.fromRect(n),i=new A.Group({transform:t}),s=new A.Group({clip:r}),o=this.canvas.drawingElement.children[0];return s.append(i),i.children.push(o),s},exportVisual:function(){var e=O.transform().scale(1/this._zoom),t=new A.Group({transform:e}),n=this.mainLayer.drawingElement;return t.children.push(n),t},_syncChanges:function(){this._syncShapeChanges(),this._syncConnectionChanges()},_syncShapeChanges:function(){this.dataSource&&this._isEditable&&this.dataSource.sync()},_syncConnectionChanges:function(){var t=this;t.connectionsDataSource&&t._isEditable&&(e.when.apply(e,t._deferredConnectionUpdates).then(function(){t.connectionsDataSource.sync()}),t.deferredConnectionUpdates=[])}}),L.ExportMixin.extend(E.fn,!0),kendo.PDFMixin&&kendo.PDFMixin.extend(E.fn),S=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this),this.diagram=e,this.options=H({},this.options,t),this._tools=[],this.createToolBar(),this.createTools(),this.appendTools(),this.options.modal&&this.createPopup(),this.bind(this.events,t)},events:["click"],createPopup:function(){this.container=e("<div/>").append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){var e,t;for(e=0;this._tools.length>e;e++)t=this._tools[e],(t.buttons&&t.buttons.length||!ht(t.buttons))&&this._toolBar.add(t)},createToolBar:function(){this.element=e("<div/>"),this._toolBar=this.element.kendoToolBar({click:P(this.click,this),resizable:!1}).getKendoToolBar(),this.element.css("border","none")},createTools:function(){for(var e=0;this.options.tools.length>e;e++)this.createTool(this.options.tools[e])},createTool:function(e){var t=(mt(e)?e.name:e)+"Tool";this[t]?this[t](e):this._tools.push(e)},showAt:function(e){this._popup&&this._popup.open(e.x,e.y)},hide:function(){this._popup&&this._popup.close()},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-pencil",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotateccw",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:e.step})})},rotateClockwiseTool:function(e){this._appendGroup("rotate"),this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotatecw",attributes:this._setAttributes({action:"rotateClockwise",step:e.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create"),this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history"),this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(e){var t="_"+e+"Group";this[t]||(this[t]=this.newGroup(),this._tools.push(this[t]))},_setAttributes:function(e){var t={};return e.action&&(t[kendo.attr("action")]=e.action),e.step&&(t[kendo.attr("step")]=e.step),t},_getAttributes:function(e){var t,n={},r=e.attr(kendo.attr("action"));return r&&(n.action=r),t=e.attr(kendo.attr("step")),t&&(n.step=t),n},click:function(t){var n=this._getAttributes(e(t.target)),r=n.action;r&&this[r](n),this.trigger("click",this.eventData(r))},eventData:function(e){var t=this.selectedElements(),n=[],r=[];return t instanceof b?n.push(t):r.push(t),{shapes:n,connections:r,action:e}},"delete":function(){var e=this.diagram,t=e._triggerRemove(this.selectedElements());t.length&&(this.diagram.remove(t,!0),this.diagram._syncChanges())},edit:function(){this.diagram.edit(this.selectedElements()[0])},rotateClockwise:function(e){var t=(this.selectedElements(),parseFloat(e.step||90));this._rotate(t)},rotateAnticlockwise:function(e){var t=(this.selectedElements(),parseFloat(e.step||90));this._rotate(-t)},_rotate:function(e){var t=this.diagram._resizingAdorner;t.angle(t.angle()+e),t.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null,this.element=null,this.options=null,this._toolBar&&this._toolBar.destroy(),this._popup&&this._popup.destroy()}}),x=kendo.Observable.extend({init:function(e,t){kendo.Observable.fn.init.call(this),this.options=B(!0,{},this.options,t),this.element=e,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var e=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:e.target,clearContainer:!1,model:this.model})},_isEditable:function(e){return this.model.editable&&this.model.editable(e)},_getFields:function(){var e,t,n,r=[],i=this.model.fields;for(e in i)t={},this._isEditable(e)&&(n=this.options.editors[e],n&&(t.editor=n),t.field=e,r.push(t));return r},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy(),this.editable.element.find("["+kendo.attr("container-for")+"]").empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),T=x.extend({init:function(e,t){x.fn.init.call(this,e,t),this.bind(this.events,this.options),this.open()},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var t,n=this;this.wrapper=e('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid),t="",this.options.template?(t+=this._renderTemplate(),this.fields=[]):t+=this._renderFields(),t+=this._renderButtons(),this.wrapper.append(e('<div class="k-edit-form-container"/>').append(t)),this.window=new kendo.ui.Window(this.wrapper,this.options.window),this.window.bind("close",function(e){e.userTriggered&&(e.sender.element.focus(),n._cancelClick(e))}),this._attachButtonEvents()},_renderTemplate:function(){var e=this.options.template;return"string"==typeof e&&(e=window.unescape(e)),e=kendo.template(e)(this.model)},_renderFields:function(){var e,t,n="";for(e=0;this.fields.length>e;e++)t=this.fields[e],n+='<div class="k-edit-label"><label for="'+t.field+'">'+(t.field||"")+"</label></div>",this._isEditable(t.field)&&(n+="<div "+kendo.attr("container-for")+'="'+t.field+'" class="k-edit-field"></div>');return n},_renderButtons:function(){var e='<div class="k-edit-buttons k-state-default">';return e+=this._createButton("update"),e+=this._createButton("cancel"),e+="</div>"},_createButton:function(e){return kendo.template(ln)(m[e])},_attachButtonEvents:function(){this._cancelClickHandler=P(this._cancelClick,this),this.window.element.on(St+yt,"a.k-diagram-cancel",this._cancelClickHandler),this._updateClickHandler=P(this._updateClick,this),this.window.element.on(St+yt,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(e){e.preventDefault(),this.trigger("update")},_cancelClick:function(e){e.preventDefault(),this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",P(this.destroy,this)).close()},destroy:function(){this.window.close().destroy(),this.window.element.off(St+yt,"a.k-diagram-cancel",this._cancelClickHandler),this.window.element.off(St+yt,"a.k-diagram-update",this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,x.fn.destroy.call(this)}}),l.fn=l.prototype={onActivate:function(t){var n=e.Deferred();return this.callbacks.push({callback:t,deferred:n}),n},activate:function(){var e,t,n=this.callbacks;for(t=0;n.length>t;t++)e=this.callbacks[t],e.callback(this.dataItem),e.deferred.resolve();this.callbacks=[]}},c.fn=c.prototype={add:function(e){for(var t=0;e.length>t;t++)this.items[e[t].uid]=new l(e[t])},forEach:function(e){for(var t in this.items)e(this.items[t])},getByUid:function(e){return this.items[e]},remove:function(e){delete this.items[e.uid]}},N=D.extend({init:function(){this.shapes=[]},_add:function(e,t){this.shapes.push({bounds:t,shape:e}),e._quadNode=this},insert:function(e,t){this._add(e,t)},remove:function(e){var t,n=this.shapes,r=n.length;for(t=0;r>t;t++)if(n[t].shape===e){n.splice(t,1);break}},hitTestRect:function(e,t){var n,r=this.shapes,i=r.length,s=!1;for(n=0;i>n;n++)if(this._overlaps(r[n].bounds,e)&&!L.inArray(r[n].shape,t)){s=!0;break}return s},_overlaps:function(e,t){var n=e.bottomRight(),r=t.bottomRight(),i=!(t.x>n.x||t.y>n.y||e.x>r.x||e.y>r.y);return i}}),C=N.extend({init:function(e){N.fn.init.call(this),this.children=[],this.rect=e},inBounds:function(e){var t=this.rect,n=t.bottomRight(),r=e.bottomRight(),i=e.x>=t.x&&e.y>=t.y&&n.x>=r.x&&n.y>=r.y;return i},overlapsBounds:function(e){return this._overlaps(this.rect,e)},insert:function(e,t){var n,r=!1,i=this.children,s=i.length;if(this.inBounds(t)){if(!s&&4>this.shapes.length)this._add(e,t);else{for(s||this._initChildren(),n=0;i.length>n;n++)if(i[n].insert(e,t)){r=!0;break}r||this._add(e,t)}r=!0}return r},_initChildren:function(){var e,t,n=this.rect,r=this.children,i=this.shapes,s=n.center(),o=n.width/2,u=n.height/2;for(r.push(new C(new z(n.x,n.y,o,u)),new C(new z(s.x,n.y,o,u)),new C(new z(n.x,s.y,o,u)),new C(new z(s.x,s.y,o,u))),t=i.length-1;t>=0;t--)for(e=0;r.length>e;e++)if(r[e].insert(i[t].shape,i[t].bounds)){i.splice(t,1);break}},hitTestRect:function(e,t){var n,r=this.children,i=r.length,s=!1;if(this.overlapsBounds(e))if(N.fn.hitTestRect.call(this,e,t))s=!0;else for(n=0;i>n;n++)if(r[n].hitTestRect(e,t)){s=!0;break}return s}}),k=D.extend({ROOT_SIZE:1e3,init:function(e){e.bind(wt,P(this._boundsChange,this)),e.bind(Bt,P(this._boundsChange,this)),this.initRoots()},initRoots:function(){this.rootMap={},this.root=new N},clear:function(){this.initRoots()},_boundsChange:function(e){e.item._quadNode&&(e.item._quadNode.remove(e.item),this.insert(e.item))},insert:function(e){var t=e.bounds(en),n=this.ROOT_SIZE,r=this.getSectors(t),i=r[0][0],s=r[1][0];this.inRoot(r)?this.root.insert(e,t):(this.rootMap[i]||(this.rootMap[i]={}),this.rootMap[i][s]||(this.rootMap[i][s]=new C(new z(i*n,s*n,n,n))),this.rootMap[i][s].insert(e,t))},remove:function(e){e._quadNode&&e._quadNode.remove(e)},inRoot:function(e){return e[0].length>1||e[1].length>1},getSectors:function(e){var t=this.ROOT_SIZE,n=e.bottomRight(),r=Math.floor(e.x/t),i=Math.floor(e.y/t),s=Math.floor(n.x/t),o=Math.floor(n.y/t),u=[[r],[i]];return r!==s&&u[0].push(s),i!==o&&u[1].push(o),u},hitTestRect:function(e,t){var n,r,i,s,o,u=this.getSectors(e);if(this.root.hitTestRect(e,t))return!0;for(n=0;u[0].length>n;n++)for(i=u[0][n],r=0;u[1].length>r;r++)if(s=u[1][r],o=(this.rootMap[i]||{})[s],o&&o.hitTestRect(e,t))return!0;return!1}}),L.ui.plugin(E),H(M,{Shape:b,Connection:w,Connector:y,DiagramToolBar:S,QuadNode:C,QuadRoot:N,ShapesQuadTree:k})}(window.kendo.jQuery),function(e,t){function n(e,t){if(null===t)return t;var n=E(e,!0);return n(t)}function r(e){return typeof e!==O}function i(e,t,n){var r,i,a=u(e),f=u(t),l=c(e)-c(t)<0,h=[];for(h.push(e),r=0;n>r;r++)i={r:s(a.r,f.r,r,n,l),g:s(a.g,f.g,r,n,l),b:s(a.b,f.b,r,n,l)},h.push(o(i));return h.push(t),h}function s(e,t,n,r,i){var s,o=p.min(p.abs(e),p.abs(t)),u=p.max(p.abs(e),p.abs(t)),a=(u-o)/(r+1),f=a*(n+1);return s=i?o+f:u-f}function o(e){return"#"+a(e.r)+a(e.g)+a(e.b)}function u(e){e=e.replace("#","");var t=f(e);return{r:l(t.r),g:l(t.g),b:l(t.b)}}function a(e){var t=p.round(e).toString(16).toUpperCase();return 1===t.length&&(t="0"+t),t}function f(e){var t=e.length,n={};return 3===t?(n.r=e[0],n.g=e[1],n.b=e[2]):(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4,6)),n}function l(e){return parseInt(e.toString(16),16)}function c(e){var t=0;return e&&(e=u(e),t=p.sqrt(.241*e.r*e.r+.691*e.g*e.g+.068*e.b*e.b)),t}function h(e){var t=p.pow(10,4);return p.round(e*t)/t}var p=Math,d=e.proxy,v=window.kendo,m=v.Class,g=v.ui.Widget,y=v.template,b=v.deepExtend,w=v.data.HierarchicalDataSource,E=v.getter,S=v.dataviz,x=".kendoTreeMap",T="change",N="dataBound",C="itemCreated",k=Number.MAX_VALUE,L="mouseover"+x,A="mouseleave"+x,O="undefined",M=g.extend({init:function(t,n){v.destroy(t),e(t).empty(),g.fn.init.call(this,t,n),this._initTheme(this.options),this.element.addClass("k-widget k-treemap"),this._setLayout(),this._originalOptions=b({},this.options),this._initDataSource(),this._attachEvents(),v.notify(this,S.ui)},options:{name:"TreeMap",theme:"default",autoBind:!0,textField:"text",valueField:"value",colorField:"color"},events:[N,C],_initTheme:function(e){var t=this,n=S.ui.themes||{},r=((e||{}).theme||"").toLowerCase(),i=(n[r]||{}).treeMap;t.options=b({},i,e)},_attachEvents:function(){this.element.on(L,d(this._mouseover,this)).on(A,d(this._mouseleave,this))},_setLayout:function(){"horizontal"===this.options.type?(this._layout=new P(!1),this._view=new H(this,this.options)):"vertical"===this.options.type?(this._layout=new P(!0),this._view=new H(this,this.options)):(this._layout=new _,this._view=new D(this,this.options))},_initDataSource:function(){var e=this,t=e.options,n=t.dataSource;e._dataChangeHandler=d(e._onDataChange,e),e.dataSource=w.create(n).bind(T,e._dataChangeHandler),n&&e.options.autoBind&&e.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(T,t._dataChangeHandler),t.dataSource=e.bind(T,t._dataChangeHandler),e&&t.options.autoBind&&t.dataSource.fetch()},_onDataChange:function(e){var t,n,s,o,u,a,f=e.node,l=e.items,c=this.options;if(f){if(l.length){for(o=this._getByUid(f.uid),o.children=[],s=r(o.minColor)||r(o.maxColor)?i(o.minColor,o.maxColor,l.length)||[]:c.colors||[],n=0;l.length>n;n++)t=l[n],o.children.push(this._wrapItem(t));for(u=this._view.htmlSize(o),this._layout.compute(o.children,o.coord,u),n=0;o.children.length>n;n++)t=o.children[n],r(t.color)||("string"==typeof s[0]?t.color=s[n%s.length]:(a=s[n%s.length],a&&(t.color=a[0],t.minColor=a[0],t.maxColor=a[1])));this._view.render(o)}}else this.element.empty(),t=this._wrapItem(l[0]),this._layout.createRoot(t,this.element.outerWidth(),this.element.outerHeight(),"vertical"===this.options.type),this._view.createRoot(t),this._root=t;for(n=0;l.length>n;n++)l[n].load();f&&this.trigger(N,{node:f})},_contentSize:function(e){this.view.renderHeight(e)},_wrapItem:function(e){var t={};return r(this.options.valueField)&&(t.value=n(this.options.valueField,e)),r(this.options.colorField)&&(t.color=n(this.options.colorField,e)),r(this.options.textField)&&(t.text=n(this.options.textField,e)),t.level=e.level(),t.dataItem=e,t},_getByUid:function(e){for(var t,n=[this._root];n.length;){if(t=n.pop(),t.dataItem.uid===e)return t;t.children&&(n=n.concat(t.children))}},dataItem:function(t){var n=e(t).attr(v.attr("uid")),r=this.dataSource;return r&&r.getByUid(n)},findByUid:function(e){return this.element.find(".k-treemap-tile["+v.attr("uid")+"='"+e+"']")},_mouseover:function(t){var n=e(t.target);n.hasClass("k-leaf")&&(this._removeActiveState(),n.removeClass("k-state-hover").addClass("k-state-hover"))},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){g.fn.destroy.call(this),this.element.off(x),this.dataSource&&this.dataSource.unbind(T,this._dataChangeHandler),this._root=null,v.destroy(this.element)},items:function(){return e()},getSize:function(){return v.dimensions(this.element)},_resize:function(){this.dataSource.fetch()},setOptions:function(e){var n=e.dataSource;e.dataSource=t,this._originalOptions=b(this._originalOptions,e),this.options=b({},this._originalOptions),this._setLayout(),this._initTheme(this.options),g.fn._setEvents.call(this,e),n&&this.setDataSource(w.create(n)),this.options.autoBind&&this.dataSource.fetch()}}),_=m.extend({createRoot:function(e,t,n){e.coord={width:t,height:n,top:0,left:0}},leaf:function(e){return!e.children},layoutChildren:function(e,t){var n,r,i,s,o=t.width*t.height,u=0,a=[];for(n=0;e.length>n;n++)a[n]=parseFloat(e[n].value),u+=a[n];for(n=0;a.length>n;n++)e[n].area=o*a[n]/u;r=this.layoutHorizontal()?t.height:t.width,e=(new v.data.Query(e))._sortForGrouping("value","desc"),i=[e[0]],s=e.slice(1),this.squarify(s,i,r,t)},squarify:function(e,t,n,r){this.computeDim(e,t,n,r)},computeDim:function(e,n,r,i){var s,o,u;return e.length+n.length==1?(s=1==e.length?e:n,this.layoutLast(s,r,i),t):(e.length>=2&&0===n.length&&(n=[e[0]],e=e.slice(1)),0===e.length?(n.length>0&&this.layoutRow(n,r,i),t):(o=e[0],this.worstAspectRatio(n,r)>=this.worstAspectRatio([o].concat(n),r)?this.computeDim(e.slice(1),n.concat([o]),r,i):(u=this.layoutRow(n,r,i),this.computeDim(e,[],u.dim,u)),t))},layoutLast:function(e,t,n){e[0].coord=n},layoutRow:function(e,t,n){return this.layoutHorizontal()?this.layoutV(e,t,n):this.layoutH(e,t,n)},orientation:"h",layoutVertical:function(){return"v"===this.orientation},layoutHorizontal:function(){return"h"===this.orientation},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(e,t){var n,r,i,s,o;if(!e||0===e.length)return k;for(n=0,r=0,i=k,s=0;e.length>s;s++)o=e[s].area,n+=o,i=o>i?i:o,r=r>o?r:o;return p.max(t*t*r/(n*n),n*n/(t*t*i))},compute:function(e,t,n){if(t.width>=t.height&&this.layoutHorizontal()||this.layoutChange(),e&&e.length>0){var r={width:t.width,height:t.height-n.text,top:0,left:0};this.layoutChildren(e,r)}},layoutV:function(e,t,n){var r,i,s,o=this._totalArea(e),u=0;for(t=h(o/t),r=0;e.length>r;r++)i=h(e[r].area/t),e[r].coord={height:i,width:t,top:n.top+u,left:n.left},u+=i;return s={height:n.height,width:n.width-t,top:n.top,left:n.left+t},s.dim=p.min(s.width,s.height),s.dim!=s.height&&this.layoutChange(),s},layoutH:function(e,t,n){var r,i,s=this._totalArea(e),o=h(s/t),u=n.top,a=0;for(r=0;e.length>r;r++)e[r].coord={height:o,width:h(e[r].area/o),top:u,left:n.left+a},a+=e[r].coord.width;return i={height:n.height-o,width:n.width,top:n.top+o,left:n.left},i.dim=p.min(i.width,i.height),i.dim!=i.width&&this.layoutChange(),i},_totalArea:function(e){var t,n=0;for(t=0;e.length>t;t++)n+=e[t].area;return n}}),D=m.extend({init:function(t,n){this.options=b({},this.options,n),this.treeMap=t,this.element=e(t.element),this.offset=0},htmlSize:function(e){var t,n,r=this._getByUid(e.dataItem.uid),i={text:0};return e.children&&(this._clean(r),t=this._getText(e),t&&(n=this._createTitle(e),r.append(n),i.text=n.height()),r.append(this._createWrap()),this.offset=(r.outerWidth()-r.innerWidth())/2),i},_getByUid:function(e){return this.element.find(".k-treemap-tile["+v.attr("uid")+"='"+e+"']")},render:function(e){var t,n,r,i,s=this._getByUid(e.dataItem.uid),o=e.children;if(o)for(t=s.find(".k-treemap-wrap"),n=0;o.length>n;n++)r=o[n],i=this._createLeaf(r),t.append(i),this.treeMap.trigger(C,{element:i})},createRoot:function(e){var t=this._createLeaf(e);this.element.append(t),this.treeMap.trigger(C,{element:t})},_clean:function(e){e.css("background-color",""),e.removeClass("k-leaf"),e.removeClass("k-inverse"),e.empty()},_createLeaf:function(t){return this._createTile(t).css("background-color",t.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(t)>180).append(e("<div></div>").html(this._getText(t)))},_createTile:function(t){var n,i={width:t.coord.width,height:t.coord.height,left:t.coord.left,top:t.coord.top};return i.width+=i.left&&this.offset?2*this.offset:this.offset,i.height+=i.top?2*this.offset:this.offset,n=e("<div class='k-treemap-tile'></div>").css({width:i.width,height:i.height,left:i.left,top:i.top}),r(t.dataItem)&&r(t.dataItem.uid)&&n.attr(v.attr("uid"),t.dataItem.uid),n},_getText:function(e){var t=e.text;return this.options.template&&(t=this._renderTemplate(e)),t},_renderTemplate:function(e){var t=y(this.options.template);return t({dataItem:e.dataItem,text:e.text})},_createTitle:function(t){return e("<div class='k-treemap-title'></div>").append(e("<div></div>").html(this._getText(t)))},_createWrap:function(){return e("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(e){return c(e.color)}}),P=m.extend({createRoot:function(e,t,n,r){e.coord={width:t,height:n,top:0,left:0},e.vertical=r},init:function(e){this.vertical=e,this.quotient=e?1:0},compute:function(e,t,n){var r,i,s;e.length>0&&(r=t.width,i=t.height,this.vertical?i-=n.text:r-=n.text,s={width:r,height:i,top:0,left:0},this.layoutChildren(e,s))},layoutChildren:function(e,t){var n,r,i=t.width*t.height,s=0,o=[];for(n=0;e.length>n;n++)r=e[n],o[n]=parseFloat(e[n].value),s+=o[n],r.vertical=this.vertical;for(n=0;o.length>n;n++)e[n].area=i*o[n]/s;e=(new v.data.Query(e))._sortForGrouping("value","desc"),this.sliceAndDice(e,t)},sliceAndDice:function(e,t){var n=this._totalArea(e);e[0].level%2===this.quotient?this.layoutHorizontal(e,t,n):this.layoutVertical(e,t,n)},layoutHorizontal:function(e,t,n){var r,i,s,o=0;for(r=0;e.length>r;r++)i=e[r],s=i.area/(n/t.width),i.coord={height:t.height,width:s,top:t.top,left:t.left+o},o+=s},layoutVertical:function(e,t,n){var r,i,s,o=0;for(r=0;e.length>r;r++)i=e[r],s=i.area/(n/t.height),i.coord={height:s,width:t.width,top:t.top+o,left:t.left},o+=s},_totalArea:function(e){var t,n=0;for(t=0;e.length>t;t++)n+=e[t].area;return n}}),H=D.extend({htmlSize:function(e){var t,n,r=this._getByUid(e.dataItem.uid),i={text:0,offset:0};return e.children&&(this._clean(r),t=this._getText(e),t&&(n=this._createTitle(e),r.append(n),i.text=e.vertical?n.height():n.width()),r.append(this._createWrap()),this.offset=(r.outerWidth()-r.innerWidth())/2),i},_createTitle:function(t){var n;return n=e(t.vertical?"<div class='k-treemap-title'></div>":"<div class='k-treemap-title-vertical'></div>"),n.append(e("<div></div>").html(this._getText(t)))}});S.ui.plugin(M)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,r=n.Shim,i=n.Widget,s="beforeOpen",o="open",u="close",a="init",f='<div class="km-modalview-wrapper" />',l=n.View.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t),n._id(),n._wrap(),n._shim(),this.options.$angular||(n._layout(),n._scroller(),n._model()),n.element.css("display",""),n.trigger(a)},events:[a,s,o,u],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function(){i.fn.destroy.call(this),this.shim.destroy()},open:function(t){var n=this;n.target=e(t),n.shim.show(),n._invokeNgController(),n.trigger("show",{view:n})},openFor:function(e){this.trigger(s,{target:e})||(this.open(e),this.trigger(o,{target:e}))},close:function(){this.element.is(":visible")&&!this.trigger(u)&&this.shim.hide()},_wrap:function(){var e,t,n=this,r=n.element,i=n.options;e=r[0].style.width||"auto",t=r[0].style.height||"auto",r.addClass("km-modalview").wrap(f),n.wrapper=r.parent().css({width:i.width||e||300,height:i.height||t||300}).addClass("auto"==t?" km-auto-height":""),r.css({width:"",height:""})},_shim:function(){var e=this;e.shim=new r(e.wrapper,{modal:e.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(t){e.trigger(u)&&t.preventDefault()}})}});n.plugin(l)}(window.kendo.jQuery),function(e,t){var n=window.kendo,r=n.mobile,i=n.support.mobileOS,s=n.effects.Transition,o=n.roleSelector,u="x",a=r.ui,f=!i.ios||7!=i.majorVersion||!!i.appMode,l="beforeShow",c="init",h="show",p="hide",d="afterHide",v={enable:e.noop},m=a.View.extend({init:function(t,i){var s,u,a,l,h;if(e(t).parent().prepend(t),r.ui.Widget.fn.init.call(this,t,i),this.options.$angular||(this._layout(),this._scroller()),this._model(),s=this.element.closest(o("pane")).data("kendoMobilePane"))this.pane=s,this.pane.bind("viewShow",function(e){l._viewShow(e)}),this.pane.bind("sameViewRequested",function(){l.hide()}),u=this.userEvents=new n.UserEvents(s.element,{filter:o("view splitview"),allowSelection:!0});else{if(this.currentView=v,a=e(this.options.container),!a)throw Error("The drawer needs a container configuration option set.");u=this.userEvents=new n.UserEvents(a,{allowSelection:!0}),this._attachTransition(a)}l=this,h=function(e){l.visible&&(l.hide(),e.preventDefault())},this.options.swipeToOpen&&f?(u.bind("press",function(){l.transition.cancel()}),u.bind("start",function(e){l._start(e)}),u.bind("move",function(e){l._update(e)}),u.bind("end",function(e){l._end(e)}),u.bind("tap",h)):u.bind("press",h),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer"),this.trigger(c)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:[l,p,d,c,h],show:function(){this._activate()&&this._show()},hide:function(){this.currentView&&(this.currentView.enable(),m.current=null,this._moveViewTo(0),this.trigger(p,{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){a.View.fn.destroy.call(this),this.userEvents.destroy()},_activate:function(){if(this.visible)return!0;var e=this._currentViewIncludedIn(this.options.views);return!e||this.trigger(l,{view:this})?!1:(this._setAsCurrent(),this.element.show(),this.trigger(h,{view:this}),this._invokeNgController(),!0)},_currentViewIncludedIn:function(t){if(!this.pane||!t.length)return!0;var n=this.pane.view();return e.inArray(n.id.replace("#",""),t)>-1||e.inArray(n.element.attr("id"),t)>-1},_show:function(){this.currentView.enable(!1),this.visible=!0;var e=this.element.width();this.leftPositioned||(e=-e),this._moveViewTo(e)},_setAsCurrent:function(){m.last!==this&&(m.last&&m.last.element.hide(),this.element.show()),m.last=this,m.current=this},_moveViewTo:function(e){this.userEvents.cancel(),this.transition.moveTo({location:e,duration:400,ease:s.easeOutExpo})},_viewShow:function(e){return this.currentView&&this.currentView.enable(),this.currentView===e.view?(this.hide(),t):(this.currentView=e.view,this._attachTransition(e.view.element),t)},_attachTransition:function(e){var t=this,r=this.movable,i=r&&r.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0)),r=this.movable=new n.ui.Movable(e),this.transition=new s({axis:u,movable:this.movable,onEnd:function(){0===r[u]&&(e[0].style.cssText="",t.element.hide(),t.trigger(d),t.visible=!1)}}),i&&(e.addClass("k-fx-hidden"),n.animationFrame(function(){e.removeClass("k-fx-hidden"),t.movable.moveAxis(u,i),t.hide()}))},_start:function(e){var r,i,s,o,u,a=e.sender;return Math.abs(e.x.velocity)<Math.abs(e.y.velocity)||n.triggeredByInput(e.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)?(a.cancel(),t):(r=this.leftPositioned,i=this.visible,s=r&&i||!r&&!m.current,o=!r&&i||r&&!m.current,u=0>e.x.velocity,(s&&u||o&&!u)&&this._activate()?(a.capture(),t):(a.cancel(),t))},_update:function(e){var t,n=this.movable,r=n.x+e.x.delta;t=this.leftPositioned?Math.min(Math.max(0,r),this.element.width()):Math.max(Math.min(0,r),-this.element.width()),this.movable.moveAxis(u,t),e.event.preventDefault(),e.event.stopPropagation()},_end:function(e){var t,n=e.x.velocity,r=Math.abs(this.movable.x)>this.element.width()/2,i=.8;t=this.leftPositioned?n>-i&&(n>i||r):i>n&&(-i>n||r),t?this._show():this.hide()}});a.plugin(m)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,r=n.Widget,i="<div class='km-expanded-pane-shim' />",s=n.View,o=s.extend({init:function(s,o){var u,a,f=this;r.fn.init.call(f,s,o),s=f.element,e.extend(f,o),f._id(),f.options.$angular?f._overlay():(f._layout(),f._overlay()),f._style(),a=s.children(f._locate("modalview")),f.options.$angular?a.each(function(n,r){t.compileMobileDirective(e(r),o.$angular[0])}):t.mobile.init(a),f.panes=[],f._paramsHistory=[],f.options.$angular?(f.element.children(t.directiveSelector("pane")).each(function(){u=t.compileMobileDirective(e(this),o.$angular[0]),f.panes.push(u)}),f.element.children(t.directiveSelector("header footer")).each(function(){t.compileMobileDirective(e(this),o.$angular[0])})):f.content.children(t.roleSelector("pane")).each(function(){u=t.initWidget(this,{},n.roles),f.panes.push(u)}),f.expandedPaneShim=e(i).appendTo(f.element),f._shimUserEvents=new t.UserEvents(f.expandedPaneShim,{tap:function(){f.collapsePanes()}})},_locate:function(e){return this.options.$angular?t.directiveSelector(e):t.roleSelector(e)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var e=this,n=e.element;e.transition=t.attrValue(n,"transition"),t.mobile.ui.View.prototype._layout.call(this),t.mobile.init(this.header.add(this.footer)),e.element.addClass("km-splitview"),e.content.addClass("km-split-content")},_style:function(){var t,n=this.options.style,r=this.element;n&&(t=n.split(" "),e.each(t,function(){r.addClass("km-split-"+this)}))},showStart:function(){var t=this;t.element.css("display",""),t.inited?this._invokeNgController():(t.inited=!0,e.each(t.panes,function(){this.options.initial?this.navigateToInitial():this.navigate("")}),t.trigger("init",{view:t})),t.trigger("show",{view:t})}});n.plugin(o)}(window.kendo.jQuery),function(e,t){function n(e,t){var n=[];return d&&n.push("km-on-"+d.name),n.push(e.skin?"km-"+e.skin:"ios"==e.name&&e.majorVersion>6?"km-ios7":"km-"+e.name),("ios"==e.name&&7>e.majorVersion||"ios"!=e.name)&&n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.variant&&(e.skin&&e.skin===e.name||!e.skin||e.setDefaultPlatform===!1)&&n.push("km-"+(e.skin?e.skin:e.name)+"-"+e.variant),e.cordova&&n.push("km-cordova"),n.push(e.appMode?"km-app":"km-web"),t&&t.statusBarStyle&&n.push("km-"+t.statusBarStyle+"-status-bar"),n.join(" ")}function r(t){return"km-wp-"+(t.noVariantSet?0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light":t.variant+" km-wp-"+t.variant+"-force")}function i(e){return d.wp?"-kendo-landscape"==e.css("animation-name"):Math.abs(window.orientation)/90==1}function s(e){return i(e)?E:g}function o(e){e.parent().addBack().css("min-height",window.innerHeight)}function u(){e("meta[name=viewport]").remove(),H.append(x({height:", width=device-width"+(i()?", height="+window.innerHeight+"px":l.mobileOS.flatVersion>=600&&700>l.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height")}))}var a=window.kendo,f=a.mobile,l=a.support,c=f.ui.Widget,h=f.ui.Pane,p="ios7",d=l.mobileOS,v="blackberry"==d.device&&d.flatVersion>=600&&1e3>d.flatVersion&&d.appMode,m=.93,g="km-vertical",y="chrome"===d.browser,b=d.ios&&d.flatVersion>=700&&800>d.flatVersion&&(d.appMode||y),w=Math.abs(window.orientation)/90==1,E="km-horizontal",S={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},x=a.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),T=a.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),N=a.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),C=d.android&&"chrome"!=d.browser||d.blackberry,k=a.template('<link rel="apple-touch-icon'+(d.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),L=("iphone"==d.device||"ipod"==d.device)&&7>d.majorVersion,A=("iphone"==d.device||"ipod"==d.device)&&d.majorVersion>=7,O=A?"none":null,M="mobilesafari"==d.browser?60:0,_=20,D=e(window),P=window.screen,H=e("head"),B="init",j=e.proxy,F=c.extend({init:function(t,n){f.application=this,e(e.proxy(this,"bootstrap",t,n))},bootstrap:function(t,n){var r,i,s;t=e(t),t[0]||(t=e(document.body)),c.fn.init.call(this,t,n),this.element.removeAttr("data-"+a.ns+"role"),this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers(),r=e.extend({},this.options),delete r.name,i=this,s=function(){i.pane=new h(i.element,r),i.pane.navigateToInitial(),i.options.updateDocumentTitle&&i._setupDocumentTitle(),i._startHistory(),i.trigger(B)},this.options.$angular?setTimeout(s):s()},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:O,modelScope:window,statusBarStyle:"black",transition:"",retina:!1,platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:[B],navigate:function(e,t){this.pane.navigate(e,t)},replace:function(e,t){this.pane.replace(e,t)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},changeLoadingMessage:function(e){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(e)},view:function(){return this.pane.view()},skin:function(e){var t=this;return arguments.length?(t.options.skin=e||"",t.element[0].className="km-pane",t._setupPlatform(),t._setupElementClass(),t.options.skin):t.options.skin},destroy:function(){c.fn.destroy.call(this),this.pane.destroy(),this.router.destroy()},_setupPlatform:function(){var t=this,i=t.options.platform,s=t.options.skin,o=[],u=d||S[p];i&&(u.setDefaultPlatform=!0,"string"==typeof i?(o=i.split("-"),u=e.extend({variant:o[1]},u,S[o[0]])):u=i),s&&(o=s.split("-"),d||(u.setDefaultPlatform=!1),u=e.extend({},u,{skin:o[0],variant:o[1]})),u.variant||(u.noVariantSet=!0,u.variant="dark"),t.os=u,t.osCssClass=n(t.os,t.options),"wp"==u.name&&(t.refreshBackgroundColorProxy||(t.refreshBackgroundColorProxy=e.proxy(function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name||!t.os.skin)&&t.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(r(t.os))},t)),e(document).off("visibilitychange",t.refreshBackgroundColorProxy),e(document).off("resume",t.refreshBackgroundColorProxy),u.skin||(t.element.parent().css("overflow","hidden"),e(document).on("visibilitychange",t.refreshBackgroundColorProxy),e(document).on("resume",t.refreshBackgroundColorProxy),t.refreshBackgroundColorProxy()))},_startHistory:function(){this.options.browserHistory?(this.router=new a.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("")},_resizeToScreenHeight:function(){var t,n=e("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),r=this.element;t=y?window.innerHeight:i(r)?n?w?P.availWidth+_:P.availWidth:w?P.availWidth:P.availWidth-_:n?w?P.availHeight:P.availHeight+_:w?P.availHeight-_:P.availHeight,r.height(t)},_setupElementClass:function(){var t,n=this,r=n.element;r.parent().addClass("km-root km-"+(n.os.tablet?"tablet":"phone")),r.addClass(n.osCssClass+" "+s(r)),this.options.useNativeScrolling&&r.parent().addClass("km-native-scrolling"),y&&r.addClass("km-ios-chrome"),l.wpDevicePixelRatio&&r.parent().css("font-size",l.wpDevicePixelRatio+"em"),this.options.retina&&(r.parent().addClass("km-retina"),r.parent().css("font-size",l.devicePixelRatio*m+"em")),v&&u(),n.options.useNativeScrolling?r.parent().addClass("km-native-scrolling"):C&&(t=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,e(N({width:t,height:t})).appendTo(H)),b&&n._resizeToScreenHeight(),a.onResize(function(){r.removeClass("km-horizontal km-vertical").addClass(s(r)),n.options.useNativeScrolling&&o(r),b&&n._resizeToScreenHeight(),v&&u(),a.resize(r)})},_clearExistingMeta:function(){H.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var e,t=this.options,n=t.icon;if(this._clearExistingMeta(),v||H.prepend(x({height:"",scale:this.options.retina?1/l.devicePixelRatio:"1.0"})),H.prepend(T(t)),n){"string"==typeof n&&(n={"":n});for(e in n)H.prepend(k({icon:n[e],size:e}))}t.useNativeScrolling&&o(this.element)},_attachHideBarHandlers:function(){var e=this,t=j(e,"_hideBar");!l.mobileOS.appMode&&e.options.hideAddressBar&&L&&!e.options.useNativeScrolling&&(e._initialHeight={},D.on("load",t),a.onResize(function(){setTimeout(window.scrollTo,0,0,1)}))},_setupDocumentTitle:function(){var e=this,n=document.title;e.pane.bind("viewShow",function(e){var r=e.view.title;document.title=r!==t?r:n})},_hideBar:function(){var t=this,n=t.element;n.height(a.support.transforms.css+"calc(100% + "+M+"px)"),e(window).trigger(a.support.resize)}});a.mobile.Application=F,a.ui.plugin(F,a.mobile,"Mobile")}(window.kendo.jQuery),function(e,t){function n(t,n,r){e(n.target).closest(".km-button,.km-detail").toggleClass("km-state-active",r),l&&t.deactivateTimeoutID&&(clearTimeout(t.deactivateTimeoutID),t.deactivateTimeoutID=0)}function r(t){return e('<span class="km-badge">'+t+"</span>")}var i=window.kendo,s=i.mobile,o=s.ui,u=o.Widget,a=i.support,f=a.mobileOS,l=f.android&&f.flatVersion>=300,c="click",h="disabled",p="km-state-disabled",d=u.extend({init:function(e,t){var r,s=this;u.fn.init.call(s,e,t),r="up"===s.options.clickOn,s._wrap(),s._style(),r||s.element.attr("data-navigate-on-press",!0),s.options.enable=s.options.enable&&!s.element.attr(h),s.enable(s.options.enable),s._userEvents=new i.UserEvents(s.element,{allowSelection:!r,press:function(e){s._activate(e)},release:function(e){n(s,e,!1),r||e.event.stopPropagation()}}),s._userEvents.bind(r?"tap":"press",function(e){s._release(e)}),l&&s.element.on("move",function(e){s._timeoutDeactivate(e)})},destroy:function(){u.fn.destroy.call(this),this._userEvents.destroy()},events:[c],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:!0},badge:function(e){var t=this.badgeElement=this.badgeElement||r(e).appendTo(this.element);return e||0===e?(t.html(e),this):e===!1?(t.empty().remove(),this.badgeElement=!1,this):t.html()},enable:function(e){var n=this.element;t===e&&(e=!0),this.options.enable=e,e?n.removeAttr(h):n.attr(h,h),n.toggleClass(p,!e)},_timeoutDeactivate:function(e){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(n,500,this,e,!1))},_activate:function(e){var t=document.activeElement,r=t?t.nodeName:"";this.options.enable&&(n(this,e,!0),("INPUT"==r||"TEXTAREA"==r)&&t.blur())},_release:function(n){var r=this;if(!(n.which>1))return r.options.enable?(r.trigger(c,{target:e(n.target),button:r.element})&&n.preventDefault(),t):(n.preventDefault(),t)},_style:function(){var t,n=this.options.style,r=this.element;n&&(t=n.split(" "),e.each(t,function(){r.addClass("km-"+this)}))},_wrap:function(){var t=this,n=t.options.icon,i=t.options.badge,s='<span class="km-icon km-'+n,o=t.element.addClass("km-button"),u=o.children("span:not(.km-icon)").addClass("km-text"),a=o.find("img").addClass("km-image");!u[0]&&o.html()&&(u=o.wrapInner('<span class="km-text" />').children("span.km-text")),!a[0]&&n&&(u[0]||(s+=" km-notext"),t.iconElement=o.prepend(e(s+'" />'))),(i||0===i)&&(t.badgeElement=r(i).appendTo(o))}}),v=d.extend({options:{name:"BackButton",style:"back"},init:function(e,n){var r=this;d.fn.init.call(r,e,n),t===r.element.attr("href")&&r.element.attr("href","#:back")}}),m=d.extend({options:{name:"DetailButton",style:""},init:function(e,t){d.fn.init.call(this,e,t)},_style:function(){var t,n=this.options.style+" detail",r=this.element;n&&(t=n.split(" "),e.each(t,function(){r.addClass("km-"+this)}))},_wrap:function(){var t=this,n=t.options.icon,r='<span class="km-icon km-'+n,i=t.element,s=i.children("span"),o=i.find("img").addClass("km-image");!o[0]&&n&&(s[0]||(r+=" km-notext"),i.prepend(e(r+'" />')))}});o.plugin(d),o.plugin(v),o.plugin(m)}(window.kendo.jQuery),function(e,t){function n(t){return e('<span class="km-badge">'+t+"</span>")}var r=window.kendo,i=r.mobile.ui,s=i.Widget,o="km-state-active",u="km-state-disabled",a="select",f="li:not(."+o+")",l=s.extend({init:function(e,t){var n=this;s.fn.init.call(n,e,t),n.element.addClass("km-buttongroup").find("li").each(n._button),n.element.on(n.options.selectOn,f,"_select"),n._enable=!0,n.select(n.options.index),n.options.enable||(n._enable=!1,n.wrapper.addClass(u))},events:[a],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function(){return this.element.find("."+o)},select:function(n){var r=this,i=-1;n!==t&&-1!==n&&r._enable&&!e(n).is("."+u)&&(r.current().removeClass(o),"number"==typeof n?(i=n,n=e(r.element[0].children[n])):n.nodeType&&(n=e(n),i=n.index()),n.addClass(o),r.selectedIndex=i)},badge:function(t,r){var i,s=this.element;return isNaN(t)||(t=s.children().get(t)),t=s.find(t),i=e(t.children(".km-badge")[0]||n(r).appendTo(t)),r||0===r?(i.html(r),this):r===!1?(i.empty().remove(),this):i.html()},enable:function(e){var n=this.wrapper;t===e&&(e=!0),e?n.removeClass(u):n.addClass(u),this._enable=this.options.enable=e},_button:function(){var t=e(this).addClass("km-button"),i=r.attrValue(t,"icon"),s=r.attrValue(t,"badge"),o=t.children("span"),u=t.find("img").addClass("km-image");o[0]||(o=t.wrapInner("<span/>").children("span")),o.addClass("km-text"),!u[0]&&i&&t.prepend(e('<span class="km-icon km-'+i+'"/>')),(s||0===s)&&n(s).appendTo(t)},_select:function(e){e.which>1||e.isDefaultPrevented()||!this._enable||(this.select(e.currentTarget),this.trigger(a,{index:this.selectedIndex}))}});i.plugin(l)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,r=n.Widget,i="km-collapsible",s="km-collapsible-header",o="km-collapsible-content",u="km-collapsibleinset",a="<div data-role='collapsible-header' class='"+s+"'></div>",f="<div data-role='collapsible-content' class='"+o+"'></div>",l="km-collapsed",c="km-expanded",h="km-animated",p="left",d="expand",v="collapse",m=r.extend({init:function(n,s){var o=this,a=e(n);r.fn.init.call(o,a,s),a.addClass(i),o._buildHeader(),o.content=a.children().not(o.header).wrapAll(f).parent(),o._userEvents=new t.UserEvents(o.header,{tap:function(){o.toggle()}}),a.addClass(o.options.collapsed?l:c),o.options.inset&&a.addClass(u),o.options.animation?(o.content.addClass(h),o.content.height(0),o.options.collapsed&&o.content.hide()):o.options.collapsed&&o.content.hide()},events:[d,v],options:{name:"Collapsible",collapsed:!0,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:p,animation:!0,inset:!1},destroy:function(){r.fn.destroy.call(this),this._userEvents.destroy()},expand:function(e){var n=this.options.collapseIcon,r=this.content,i=t.support.mobileOS.ios;this.trigger(d)||(n&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+n),this.element.removeClass(l).addClass(c),this.options.animation&&!e?(r.off("transitionend"),r.show(),i&&r.removeClass(h),r.height(this._getContentHeight()),i&&r.addClass(h),t.resize(r)):r.show())},collapse:function(e){var t=this.options.expandIcon,n=this.content;this.trigger(v)||(t&&this.header.find(".km-icon").removeClass().addClass("km-icon km-"+t),this.element.removeClass(c).addClass(l),this.options.animation&&!e?(n.one("transitionend",function(){n.hide()}),n.height(0)):n.hide())},toggle:function(e){this.isCollapsed()?this.expand(e):this.collapse(e)},isCollapsed:function(){return this.element.hasClass(l)},resize:function(){!this.isCollapsed()&&this.options.animation&&this.content.height(this._getContentHeight())},_buildHeader:function(){var t=this.element.children(":header").wrapAll(a),n=e('<span class="km-icon"/>'),r=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,i=this.options.iconPosition;r&&(t.prepend(n),n.addClass("km-"+r)),this.header=t.parent(),this.header.addClass("km-icon-"+i)},_getContentHeight:function(){var e,t=this.content.attr("style");return this.content.css({position:"absolute",visibility:"hidden",height:"auto"}),e=this.content.height(),this.content.attr("style",t?t:""),e}});n.plugin(m)}(window.kendo.jQuery),function(e,t){function n(){return this.nodeType===g.TEXT_NODE&&this.nodeValue.match(U)}function r(e,t){t&&!e[0].querySelector(".km-icon")&&e.prepend('<span class="km-icon km-'+t+'"/>')}function i(e){r(e,C(e,"icon")),r(e,C(e.children(T),"icon"))}function s(e){var t=e.parent(),i=e.add(t.children(m.roleSelector("detailbutton"))),s=t.contents().not(i).not(n);s.length||(e.addClass("km-listview-link").attr(m.attr("role"),"listview-link"),r(e,C(t,"icon")),r(e,C(e,"icon")))}function o(e){if(e[0].querySelector("input[type=checkbox],input[type=radio]")){var t=e.parent();t.contents().not(e).not(function(){return 3==this.nodeType})[0]||(e.addClass("km-listview-label"),e.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check"))}}function u(t,n){e(t).css("transform","translate3d(0px, "+n+"px, 0px)")}var a,f,l,c,h,p,d,v,m=window.kendo,g=window.Node,y=m.mobile,b=y.ui,w=m.data.DataSource,E=b.DataBoundWidget,S=".km-list > li, > li:not(.km-group-container)",x=".km-listview-link, .km-listview-label",T="["+m.attr("icon")+"]",N=e.proxy,C=m.attrValue,k="km-group-title",L="km-state-active",A='<div class="'+k+'"><div class="km-text"></div></div>',O=m.template('<li><div class="'+k+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),M='<div class="km-listview-wrapper" />',_=m.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),D=".kendoMobileListView",P="styled",H="dataBound",B="dataBinding",j="itemChange",F="click",I="change",q="progress",R="function",U=/^\s+$/,z=/button/,W=m.Class.extend({init:function(e){var t,n,r=e.scroller();r&&(this.options=e.options,this.element=e.element,this.scroller=e.scroller(),this._shouldFixHeaders(),t=this,n=function(){t._cacheHeaders()},e.bind("resize",n),e.bind(P,n),e.bind(H,n),r.bind("scroll",function(e){t._fixHeader(e)}))},_fixHeader:function(t){if(this.fixedHeaders){var n,r,i,s=0,o=this.scroller,u=this.headers,a=t.scrollTop;do{if(n=u[s++],!n){i=e("<div />");break}r=n.offset,i=n.header}while(r+1>a);this.currentHeader!=s&&(o.fixedContainer.html(i.clone()),this.currentHeader=s)}},_shouldFixHeaders:function(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var t=[],n=this.scroller.scrollTop;this.element.find("."+k).each(function(r,i){i=e(i),t.unshift({offset:i.position().top+n,header:i})}),this.headers=t,this._fixHeader({scrollTop:n})}}}),X=function(){return{page:1}},V=m.Class.extend({init:function(e){var t=this,n=e.options,r=e.scroller(),i=n.pullParameters||X;this.listView=e,this.scroller=r,e.bind("_dataSource",function(e){t.setDataSource(e.dataSource)}),r.setOptions({pullToRefresh:!0,pull:function(){t._pulled||(t._pulled=!0,t.dataSource.read(i.call(e,t._first)))},messages:{pullTemplate:n.messages.pullTemplate,releaseTemplate:n.messages.releaseTemplate,refreshTemplate:n.messages.refreshTemplate}})},setDataSource:function(e){var t=this;this._first=e.view()[0],this.dataSource=e,e.bind("change",function(){t._change()}),e.bind("error",function(){t._change()})},_change:function(){var e,t=this.scroller,n=this.dataSource;this._pulled&&t.pullHandled(),(this._pulled||!this._first)&&(e=n.view(),e[0]&&(this._first=e[0])),this._pulled=!1}}),$=m.Observable.extend({init:function(e){var t=this;m.Observable.fn.init.call(t),t.buffer=e.buffer,t.height=e.height,t.item=e.item,t.items=[],t.footer=e.footer,t.buffer.bind("reset",function(){t.refresh()})},refresh:function(){for(var e,t,n,r,i=this.buffer,s=this.items,o=!1;s.length;)s.pop().destroy();for(this.offset=i.offset,e=this.item,r=0;i.viewSize>r;r++){if(r===i.total()){o=!0;break}n=e(this.content(this.offset+s.length)),n.below(t),t=n,s.push(n)}this.itemCount=s.length,this.trigger("reset"),this._resize(),o&&this.trigger("endReached")},totalHeight:function(){if(!this.items[0])return 0;var e=this,t=e.items,n=t[0].top,r=t[t.length-1].bottom,i=(r-n)/e.itemCount,s=e.buffer.length-e.offset-e.itemCount;return(this.footer?this.footer.height:0)+r+s*i},batchUpdate:function(e){var t,n,r=this.height(),i=this.items,s=this.offset;if(i[0]){if(this.lastDirection)for(;i[i.length-1].bottom>e+2*r&&0!==this.offset;)this.offset--,t=i.pop(),t.update(this.content(this.offset)),t.above(i[0]),i.unshift(t);else for(;e-r>i[0].top;){if(n=this.offset+this.itemCount,n===this.buffer.total()){this.trigger("endReached");break}if(n===this.buffer.length)break;t=i.shift(),t.update(this.content(this.offset+this.itemCount)),t.below(i[i.length-1]),i.push(t),this.offset++}s!==this.offset&&this._resize()}},update:function(e){var t,n,r,i,s=this,o=this.items,u=this.height(),a=this.itemCount,f=u/2,l=(this.lastTop||0)>e,c=e-f,h=e+u+f;o[0]&&(this.lastTop=e,this.lastDirection=l,l?o[0].top>c&&o[o.length-1].bottom>h+f&&this.offset>0&&(this.offset--,t=o.pop(),n=o[0],t.update(this.content(this.offset)),o.unshift(t),t.above(n),s._resize()):h>o[o.length-1].bottom&&c-f>o[0].top&&(i=this.offset+a,i===this.buffer.total()?this.trigger("endReached"):i!==this.buffer.length&&(t=o.shift(),r=o[o.length-1],o.push(t),t.update(this.content(this.offset+this.itemCount)),s.offset++,t.below(r),s._resize())))},content:function(e){return this.buffer.at(e)},destroy:function(){this.unbind()},_resize:function(){var e=this.items,t=0,n=0,r=e[0],i=e[e.length-1];r&&(t=r.top,n=i.bottom),this.trigger("resize",{top:t,bottom:n}),this.footer&&this.footer.below(i)}});m.mobile.ui.VirtualList=$,a=m.Class.extend({init:function(t,n){var r=t.append([n],!0)[0],i=r.offsetHeight;e.extend(this,{top:0,element:r,listView:t,height:i,bottom:i})},update:function(e){this.element=this.listView.setDataItem(this.element,e)},above:function(e){e&&(this.height=this.element.offsetHeight,this.top=e.top-this.height,this.bottom=e.top,u(this.element,this.top))},below:function(e){e&&(this.height=this.element.offsetHeight,this.top=e.bottom,this.bottom=this.top+this.height,u(this.element,this.top))},destroy:function(){m.destroy(this.element),e(this.element).remove()}}),f='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',l=m.Class.extend({init:function(t){this.element=e('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(t.element),this._loadIcon=e(f).appendTo(this.element)},enable:function(){this.element.show(),this.height=this.element.outerHeight(!0)},disable:function(){this.element.hide(),this.height=0},below:function(e){e&&(this.top=e.bottom,this.bottom=this.height+this.top,u(this.element,this.top))}}),c=l.extend({init:function(t,n){this._loadIcon=e(f).hide(),this._loadButton=e('<a class="km-load">'+t.options.messages.loadMoreText+"</a>").hide(),this.element=e('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(t.element);var r=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){r._hideShowButton(),n.next()}),n.bind("resize",function(){r._showLoadButton()}),this.height=this.element.outerHeight(!0),this.disable()},_hideShowButton:function(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide()}}),h=m.Class.extend({init:function(e){var t=this;this.chromeHeight=e.wrapper.children().not(e.element).outerHeight()||0,this.listView=e,this.scroller=e.scroller(),this.options=e.options,e.bind("_dataSource",function(e){t.setDataSource(e.dataSource,e.empty)}),e.bind("resize",function(){t.list.items.length&&(t.scroller.reset(),t.buffer.range(0),t.list.refresh())}),this.scroller.makeVirtual(),this.scroller.bind("scroll",function(e){t.list.update(e.scrollTop)}),this.scroller.bind("scrollEnd",function(e){t.list.batchUpdate(e.scrollTop)})},destroy:function(){this.list.unbind(),this.buffer.unbind()},setDataSource:function(t,n){var r,i,s,o,u=this,f=this.options,h=this.listView,p=h.scroller(),d=f.loadMore;if(this.dataSource=t,r=t.pageSize()||f.virtualViewSize,!r&&!n)throw Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy(),i=new m.data.Buffer(t,Math.floor(r/2),d),s=d?new c(h,i):new l(h),this.list&&this.list.destroy(),o=new $({buffer:i,footer:s,item:function(e){return new a(h,e)},height:function(){return p.height()}}),o.bind("resize",function(){u.updateScrollerSize(),h.updateSize()}),o.bind("reset",function(){u.footer.enable()}),o.bind("endReached",function(){s.disable(),u.updateScrollerSize()}),i.bind("expand",function(){o.lastDirection=!1,o.batchUpdate(p.scrollTop)}),e.extend(this,{buffer:i,scroller:p,list:o,footer:s})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0),this.list.refresh()}}),p=m.Class.extend({init:function(e){var t,n=this;this.listView=e,this.options=e.options,t=this,this._refreshHandler=function(e){t.refresh(e)},this._progressHandler=function(){e.showLoading()},e.bind("_dataSource",function(e){n.setDataSource(e.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(e){var n,r,i,s,o,u,a,f=e&&e.action,l=e&&e.items,c=this.listView,h=this.dataSource,p=this.options.appendOnRefresh,d=h.view(),v=h.group(),m=v&&v[0];return"itemchange"!==f||c._hasBindingTarget()?(o="add"===f&&!m||p&&!c._filter,u="remove"===f&&!m,o?r=[]:u&&(r=c.findByDataItem(l)),c.trigger(B,{action:f||"rebind",items:l,removedItems:r,index:e&&e.index})?(this._shouldShowLoading()&&c.hideLoading(),t):("add"!==f||m?"remove"!==f||m?m?c.replaceGrouped(d):p&&!c._filter?(i=c.prepend(d),s=d):c.replace(d):(i=[],c.remove(l)):(a=d.indexOf(l[0]),a>-1&&(i=c.insertAt(l,a),s=l)),this._shouldShowLoading()&&c.hideLoading(),c.trigger(H,{ns:b,addedItems:i,addedDataItems:s}),t)):(n=c.findByDataItem(l)[0],n&&c.setDataItem(n,l[0]),t)},setDataSource:function(e){this.dataSource&&this._unbindDataSource(),this.dataSource=e,e.bind(I,this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind(q,this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind(I,this._refreshHandler).unbind(q,this._progressHandler)},_shouldShowLoading:function(){var e=this.options;return!e.pullToRefresh&&!e.loadMore&&!e.endlessScroll}}),d=m.Class.extend({init:function(t){var n=this,r=t.options.filterable,i="change paste",s=this;this.listView=t,this.options=r,t.element.before(_({placeholder:r.placeholder||"Search..."})),r.autoFilter!==!1&&(i+=" keyup"),this.element=t.wrapper.find(".km-search-form"),this.searchInput=t.wrapper.find("input[type=search]").closest("form").on("submit"+D,function(e){e.preventDefault()}).end().on("focus"+D,function(){n._oldFilter=n.searchInput.val()}).on(i.split(" ").join(D+" ")+D,N(this._filterChange,this)),this.clearButton=t.wrapper.find(".km-filter-reset").on(F,N(this,"_clearFilter")).hide(),this._dataSourceChange=e.proxy(this._refreshInput,this),t.bind("_dataSource",function(e){e.dataSource.bind("change",s._dataSourceChange)})},_refreshInput:function(){var e=this.listView.dataSource.filter(),t=this.listView._filter.searchInput;t.val(e&&e.filters[0].field===this.listView.options.filterable.field?e.filters[0].value:"")},_search:function(e){this._filter=!0,this.clearButton[e?"show":"hide"](),this.listView.dataSource.filter(e)},_filterChange:function(e){var t=this;"paste"==e.type&&this.options.autoFilter!==!1?setTimeout(function(){t._applyFilter()},1):this._applyFilter()},_applyFilter:function(){var e=this.options,t=this.searchInput.val(),n=t.length?{field:e.field,operator:e.operator||"startswith",ignoreCase:e.ignoreCase,value:t}:null;t!==this._oldFilter&&(this._oldFilter=t,this._search(n))},_clearFilter:function(e){this.searchInput.val(""),this._search(null),e.preventDefault()}}),v=E.extend({init:function(t,n){var r=this;E.fn.init.call(this,t,n),t=this.element,n=this.options,n.scrollTreshold&&(n.scrollThreshold=n.scrollTreshold),t.on("down",x,"_highlight").on("move up cancel",x,"_dim"),this._userEvents=new m.UserEvents(t,{filter:S,allowSelection:!0,tap:function(e){r._click(e)}}),t.css("-ms-touch-action","auto"),t.wrap(M),this.wrapper=this.element.parent(),this._headerFixer=new W(this),this._itemsCache={},this._templates(),this.virtual=n.endlessScroll||n.loadMore,this._style(),this.options.$angular&&(this.virtual||this.options.pullToRefresh)?setTimeout(e.proxy(this,"_start")):this._start()},_start:function(){var e=this.options;this.options.filterable&&(this._filter=new d(this)),this._itemBinder=this.virtual?new h(this):new p(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new V(this)),this.setDataSource(e.dataSource),this._enhanceItems(this.items()),m.notify(this,b)},events:[F,B,H,j],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(e){var t=!e;this.dataSource=w.create(e),this.trigger("_dataSource",{dataSource:this.dataSource,empty:t}),this.options.autoBind&&!t&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){E.fn.destroy.call(this),m.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents},items:function(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var e=this.view();e&&e.loader&&e.loader.show()},hideLoading:function(){var e=this.view();e&&e.loader&&e.loader.hide()},insertAt:function(e,t,n){var r=this;return r._renderItems(e,function(i){if(0===t?r.element.prepend(i):-1===t?r.element.append(i):r.items().eq(t-1).after(i),n)for(var s=0;i.length>s;s++)r.trigger(j,{item:i.eq(s),data:e[s],ns:b})})},append:function(e,t){return this.insertAt(e,-1,t)},prepend:function(e,t){return this.insertAt(e,0,t)},replace:function(e){return this.options.type="flat",this._angularItems("cleanup"),this.element.empty(),this._style(),this.insertAt(e,0)},replaceGrouped:function(t){this.options.type="group",this._angularItems("cleanup"),this.element.empty();var n=e(m.render(this.groupTemplate,t));this._enhanceItems(n.children("ul").children("li")),this.element.append(n),y.init(n),this._style(),this._angularItems("compile")},remove:function(e){var t=this.findByDataItem(e);this.angular("cleanup",function(){return{elements:t}}),m.destroy(t),t.remove()},findByDataItem:function(e){var t,n,r=[];for(t=0,n=e.length;n>t;t++)r[t]="[data-"+m.ns+"uid="+e[t].uid+"]";return this.element.find(r.join(","))},setDataItem:function(t,n){var r=this,i=function(i){var s=e(i[0]);m.destroy(t),e(t).replaceWith(s),r.trigger(j,{item:s,data:n,ns:b})};return this._renderItems([n],i)[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(t,n){var r=e(m.render(this.template,t));return this.angular("compile",function(){return{elements:r,data:t.map(function(e){return{dataItem:e}})}}),n(r),y.init(r),this._enhanceItems(r),r},_dim:function(e){this._toggle(e,!1)},_highlight:function(e){this._toggle(e,!0)},_toggle:function(t,n){if(!(t.which>1)){var r=e(t.currentTarget),i=r.parent(),s=C(r,"role")||"",o=!s.match(z),u=t.isDefaultPrevented();o&&i.toggleClass(L,n&&!u)}},_templates:function(){var e=this.options.template,t=this.options.headerTemplate,n=' data-uid="#=arguments[0].uid || ""#"',r={},i={};typeof e===R&&(r.template=e,e="#=this.template(data)#"),this.template=N(m.template("<li"+n+">"+e+"</li>"),r),i.template=this.template,typeof t===R&&(i._headerTemplate=t,t="#=this._headerTemplate(data)#"),i.headerTemplate=m.template(t),this.groupTemplate=N(O,i)},_click:function(t){if(!(t.event.which>1||t.event.isDefaultPrevented())){var n,r=t.target,i=e(t.event.target),s=i.closest(m.roleSelector("button","detailbutton","backbutton")),o=m.widgetInstance(s,b),u=r.attr(m.attr("uid"));u&&(n=this.dataSource.getByUid(u)),this.trigger(F,{target:i,item:r,dataItem:n,button:o})&&t.preventDefault()}},_styleGroups:function(){var t=this.element.children();t.children("ul").addClass("km-list"),t.each(function(){var t=e(this),n=t.contents().first();t.addClass("km-group-container"),n.is("ul")||n.is("div."+k)||n.wrap(A)})},_style:function(){var e=this.options,t="group"===e.type,n=this.element,r="inset"===e.style;n.addClass("km-listview").toggleClass("km-list",!t).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!t&&r).toggleClass("km-listgroup",t&&!r).toggleClass("km-listgroupinset",t&&r),n.parents(".km-listview")[0]||n.closest(".km-content").toggleClass("km-insetcontent",r),t&&this._styleGroups(),this.trigger(P)},_enhanceItems:function(t){t.each(function(){var t,n=e(this),r=!1;n.children().each(function(){t=e(this),t.is("a")?(s(t),r=!0):t.is("label")&&(o(t),r=!0)}),r||i(n)})}}),b.plugin(v)}(window.kendo.jQuery),function(e,t){function n(n,r){var s=r.find("["+i.attr("align")+"="+n+"]");return s[0]?e('<div class="km-'+n+'item" />').append(s).prependTo(r):t}function r(t){var n=t.siblings(),r=!!t.children("ul")[0],s=!!n[0]&&""===e.trim(t.text()),o=!!i.mobile.application&&!!i.mobile.application.element.is(".km-android");t.prevAll().toggleClass("km-absolute",r),t.toggleClass("km-show-title",s),t.toggleClass("km-fill-title",s&&!e.trim(t.html())),t.toggleClass("km-no-title",r),t.toggleClass("km-hide-title",o&&!n.children().is(":visible"))}var i=window.kendo,s=i.mobile,o=s.ui,u=o.Widget,a=u.extend({init:function(t,r){var i=this;u.fn.init.call(i,t,r),t=i.element,i.container().bind("show",e.proxy(this,"refresh")),t.addClass("km-navbar").wrapInner(e('<div class="km-view-title km-show-title" />')),i.leftElement=n("left",t),i.rightElement=n("right",t),i.centerElement=t.find(".km-view-title")},options:{name:"NavBar"},title:function(e){this.element.find(i.roleSelector("view-title")).text(e),r(this.centerElement)},refresh:function(e){var t=e.view;t.options.title?this.title(t.options.title):r(this.centerElement)},destroy:function(){u.fn.destroy.call(this),i.destroy(this.element)}});o.plugin(a)}(window.kendo.jQuery),function(e,t){var n,r,i,s,o,u,a,f,l=window.kendo,c=l.mobile,h=c.ui,p=e.proxy,d=l.effects.Transition,v=l.ui.Pane,m=l.ui.PaneDimensions,g=h.DataBoundWidget,y=l.data.DataSource,b=l.data.Buffer,w=l.data.BatchBuffer,E=Math,S=E.abs,x=E.ceil,T=E.round,N=E.max,C=E.min,k=E.floor,L="change",A="changing",O="refresh",M="km-current-page",_="km-virtual-page",D="function",P="itemChange",H="cleanup",B=3,j=-1,F=0,I=1,q=-1,R=0,U=1,z=l.Class.extend({init:function(t){var n=this,r=e("<ol class='km-pages'/>");t.element.append(r),this._changeProxy=p(n,"_change"),this._refreshProxy=p(n,"_refresh"),t.bind(L,this._changeProxy),t.bind(O,this._refreshProxy),e.extend(n,{element:r,scrollView:t})},items:function(){return this.element.children()},_refresh:function(e){var t,n="";for(t=0;e.pageCount>t;t++)n+="<li/>";this.element.html(n),this.items().eq(e.page).addClass(M)},_change:function(e){this.items().removeClass(M).eq(e.page).addClass(M)},destroy:function(){this.scrollView.unbind(L,this._changeProxy),this.scrollView.unbind(O,this._refreshProxy),this.element.remove()}});l.mobile.ui.ScrollViewPager=z,n="transitionEnd",r="dragStart",i="dragEnd",s=l.Observable.extend({init:function(t,s){var o,u,a,f,c,h,p=this;l.Observable.fn.init.call(this),this.element=t,this.container=t.parent(),o=new l.ui.Movable(p.element),u=new d({axis:"x",movable:o,onEnd:function(){p.trigger(n)}}),a=new l.UserEvents(t,{start:function(e){2*S(e.x.velocity)>=S(e.y.velocity)?a.capture():a.cancel(),p.trigger(r,e),u.cancel()},allowSelection:!0,end:function(e){p.trigger(i,e)}}),f=new m({element:p.element,container:p.container}),c=f.x,c.bind(L,function(){p.trigger(L)}),h=new v({dimensions:f,userEvents:a,movable:o,elastic:!0}),e.extend(p,{duration:s&&s.duration||1,movable:o,transition:u,userEvents:a,dimensions:f,dimension:c,pane:h}),this.bind([n,r,i,L],s)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t,n){n?this.moveTo(-e):this.transition.moveTo({location:e,duration:this.duration,ease:t})}}),l.mobile.ui.ScrollViewElasticPane=s,o=l.Observable.extend({init:function(e,t,n){var r=this;l.Observable.fn.init.call(this),r.element=e,r.pane=t,r._getPages(),this.page=0,this.pageSize=n.pageSize||1,this.contentHeight=n.contentHeight,this.enablePager=n.enablePager,this.pagerOverlay=n.pagerOverlay},scrollTo:function(e,t){this.page=e,this.pane.transitionTo(-e*this.pane.size().width,d.easeOutExpo,t)},paneMoved:function(e,t,n,r){var i,s,o=this,u=o.pane,a=u.size().width*o.pageSize,f=T,l=t?d.easeOutBack:d.easeOutExpo;e===q?f=x:e===U&&(f=k),s=f(u.offset()/a),i=N(o.minSnap,C(-s*a,o.maxSnap)),s!=o.page&&n&&n({currentPage:o.page,nextPage:s})&&(i=-o.page*u.size().width),u.transitionTo(i,l,r)},updatePage:function(){var e=this.pane,t=T(e.offset()/e.size().width);return t!=this.page?(this.page=t,!0):!1},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(e){var t,n,r=this.pane,i=e.width;this.pageElements.width(i),"100%"===this.contentHeight&&(t=this.element.parent().height(),this.enablePager===!0&&(n=this.element.parent().find("ol.km-pages"),!this.pagerOverlay&&n.length&&(t-=n.outerHeight(!0))),this.element.css("height",t),this.pageElements.css("height",t)),r.updateDimension(),this._paged||(this.page=k(r.offset()/i)),this.scrollTo(this.page,!0),this.pageCount=x(r.total()/i),this.minSnap=-(this.pageCount-1)*i,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(l.roleSelector("page")),this._paged=this.pageElements.length>0}}),l.mobile.ui.ScrollViewContent=o,u=l.Observable.extend({init:function(e,t,n){var r=this;l.Observable.fn.init.call(this),r.element=e,r.pane=t,r.options=n,r._templates(),r.page=n.page||0,r.pages=[],r._initPages(),r.resizeTo(r.pane.size()),r.pane.dimension.forceEnabled()},setDataSource:function(e){this.dataSource=y.create(e),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShow:function(){var e=this;e._pendingWidgetRefresh&&(setTimeout(function(){e._resetPages()},0),e._pendingWidgetRefresh=!1)},_buffer:function(){var e=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=e>1?new w(this.dataSource,e):new b(this.dataSource,3*e),this._resizeProxy=p(this,"_onResize"),this._resetProxy=p(this,"_onReset"),this._endReachedProxy=p(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var e=this.options.template,t=this.options.emptyTemplate,n={},r={};typeof e===D&&(n.template=e,e="#=this.template(data)#"),this.template=p(l.template(e),n),typeof t===D&&(r.emptyTemplate=t,t="#=this.emptyTemplate(data)#"),this.emptyTemplate=p(l.template(t),r)},_initPages:function(){var e,t,n=this.pages,r=this.element;for(t=0;B>t;t++)e=new a(r),n.push(e);this.pane.updateDimension()},resizeTo:function(e){var t,n,r,i=this.pages,s=this.pane;for(t=0;i.length>t;t++)i[t].setWidth(e.width);"auto"===this.options.contentHeight?this.element.css("height",this.pages[1].element.height()):"100%"===this.options.contentHeight&&(n=this.element.parent().height(),this.options.enablePager===!0&&(r=this.element.parent().find("ol.km-pages"),!this.options.pagerOverlay&&r.length&&(n-=r.outerHeight(!0))),this.element.css("height",n),i[0].element.css("height",n),i[1].element.css("height",n),i[2].element.css("height",n)),s.updateDimension(),this._repositionPages(),this.width=e.width},scrollTo:function(e){var t,n=this.buffer;n.syncDataSource(),t=n.at(e),t&&(this._updatePagesContent(e),this.page=e)},paneMoved:function(e,t,n,r){var i,s=this,o=s.pane,u=o.size().width,a=o.offset(),f=Math.abs(a)>=u/3,c=t?l.effects.Transition.easeOutBack:l.effects.Transition.easeOutExpo,h=s.page+2>s.buffer.total(),p=0;e===U?0!==s.page&&(p=-1):e!==q||h?a>0&&f&&!h?p=1:0>a&&f&&0!==s.page&&(p=-1):p=1,i=s.page,p&&(i=p>0?i+1:i-1),n&&n({currentPage:s.page,nextPage:i})&&(p=0),0===p?s._cancelMove(c,r):-1===p?s._moveBackward(r):1===p&&s._moveForward(r)},updatePage:function(){var e=this.pages;return 0===this.pane.offset()?!1:(this.pane.offset()>0?(e.push(this.pages.shift()),this.page++,this.setPageContent(e[2],this.page+1)):(e.unshift(this.pages.pop()),this.page--,this.setPageContent(e[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var e=this.pane.offset(),t=3*this.pane.size().width/4;return S(e)>t?this.updatePage():!1},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(e){this.pane.transitionTo(-this.width,l.effects.Transition.easeOutExpo,e)},_moveBackward:function(e){this.pane.transitionTo(this.width,l.effects.Transition.easeOutExpo,e)},_cancelMove:function(e,t){this.pane.transitionTo(0,e,t)},_resetPages:function(){this.page=this.options.page||0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger("reset")},_onResize:function(){this.pageCount=x(this.dataSource.total()/this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger("resize")},_onReset:function(){this.pageCount=x(this.dataSource.total()/this.options.itemsPerPage),this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var e=this.pages;e[0].position(j),e[1].position(F),e[2].position(I)},_updatePagesContent:function(e){var t=this.pages,n=e||0;this.setPageContent(t[0],n-1),this.setPageContent(t[1],n),this.setPageContent(t[2],n+1)},setPageContent:function(t,n){var r=this.buffer,i=this.template,s=this.emptyTemplate,o=null;n>=0&&(o=r.at(n),e.isArray(o)&&!o.length&&(o=null)),this.trigger(H,{item:t.element}),t.content(null!==o?i(o):s({})),l.mobile.init(t.element),this.trigger(P,{item:t.element,data:o,ns:l.mobile.ui})}}),l.mobile.ui.VirtualScrollViewContent=u,a=l.Class.extend({init:function(t){this.element=e("<div class='"+_+"'></div>"),this.width=t.width(),this.element.width(this.width),t.append(this.element)},content:function(e){this.element.html(e)},position:function(e){this.element.css("transform","translate3d("+this.width*e+"px, 0, 0)")},setWidth:function(e){this.width=e,this.element.width(e)}}),l.mobile.ui.VirtualPage=a,f=g.extend({init:function(e,t){var n,r,i,a=this;g.fn.init.call(a,e,t),t=a.options,e=a.element,l.stripWhitespace(e[0]),e.wrapInner("<div/>").addClass("km-scrollview"),this.options.enablePager&&(this.pager=new z(this),this.options.pagerOverlay&&e.addClass("km-scrollview-overlay")),a.inner=e.children().first(),a.page=0,a.inner.css("height",t.contentHeight),a.pane=new s(a.inner,{duration:this.options.duration,transitionEnd:p(this,"_transitionEnd"),dragStart:p(this,"_dragStart"),dragEnd:p(this,"_dragEnd"),change:p(this,O)}),a.bind("resize",function(){a.pane.refresh()}),a.page=t.page,n=0===this.inner.children().length,r=n?new u(a.inner,a.pane,t):new o(a.inner,a.pane,t),r.page=a.page,r.bind("reset",function(){a._syncWithContent(),a.trigger(O,{pageCount:r.pageCount,page:r.page})}),r.bind("resize",function(){a.trigger(O,{pageCount:r.pageCount,page:r.page})}),r.bind(P,function(e){a.trigger(P,e),a.angular("compile",function(){return{elements:e.item,data:[{dataItem:e.data}]}})}),r.bind(H,function(e){a.angular("cleanup",function(){return{elements:e.item}})}),a._content=r,a.setDataSource(t.dataSource),i=a.container(),i.nullObject?(a.viewInit(),a.viewShow()):i.bind("show",p(this,"viewShow")).bind("init",p(this,"viewInit"))},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,pagerOverlay:!1,autoBind:!0,template:"",emptyTemplate:""},events:[A,L,O],destroy:function(){g.fn.destroy.call(this),l.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var e=this._content;e.resizeTo(this.pane.size()),this.page=e.page,this.trigger(O,{pageCount:e.pageCount,page:e.page})},content:function(e){this.element.children().first().html(e),this._content._getPages(),this.pane.refresh()},value:function(e){var n=this.dataSource;return e?(this.scrollTo(n.indexOf(e),!0),t):n.at(this.page)},scrollTo:function(e,t){this._content.scrollTo(e,t),this._syncWithContent()},prev:function(){var e=this,n=e.page-1;e._content instanceof u?e._content.paneMoved(U,t,function(t){return e.trigger(A,t)}):n>-1&&e.scrollTo(n)},next:function(){var e=this,n=e.page+1;e._content instanceof u?e._content.paneMoved(q,t,function(t){return e.trigger(A,t)}):e._content.pageCount>n&&e.scrollTo(n)},setDataSource:function(e){if(this._content instanceof u){var t=!e;this.dataSource=y.create(e),this._content.setDataSource(this.dataSource),this.options.autoBind&&!t&&this.dataSource.fetch()}},items:function(){return this.element.find("."+_)},_syncWithContent:function(){var e,n,r=this._content.pages,i=this._content.buffer;this.page=this._content.page,e=i?i.at(this.page):t,e instanceof Array||(e=[e]),n=r?r[1].element:t,this.trigger(L,{page:this.page,element:n,data:e})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(e){var t=this,n=e.x.velocity,r=this.options.velocityThreshold,i=R,s=S(n)>this.options.bounceVelocityThreshold;n>r?i=U:-r>n&&(i=q),this._content.paneMoved(i,s,function(e){return t.trigger(A,e)})},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}}),h.plugin(f)}(window.kendo.jQuery),function(e,t){function n(e,t,n){return Math.max(t,Math.min(n,e))}var r=window.kendo,i=r.mobile.ui,s=i.Widget,o=r.support,u="change",a="km-switch-on",f="km-switch-off",l="margin-left",c="km-state-active",h="km-state-disabled",p="disabled",d=o.transitions.css+"transform",v=e.proxy,m='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"></span></span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}</span>             <span class="km-switch-label-off">{1}</span>         </span>     </span>',g=s.extend({init:function(t,n){var i,o=this;s.fn.init.call(o,t,n),n=o.options,o.wrapper=e(r.format(m,n.onLabel,n.offLabel)),o.handle=o.wrapper.find(".km-switch-handle"),o.background=o.wrapper.find(".km-switch-background"),o.wrapper.insertBefore(o.element).prepend(o.element),o._drag(),o.origin=parseInt(o.background.css(l),10),o.constrain=0,o.snapPoint=0,t=o.element[0],t.type="checkbox",o._animateBackground=!0,i=o.options.checked,null===i&&(i=t.checked),o.check(i),o.options.enable=o.options.enable&&!o.element.attr(p),o.enable(o.options.enable),o.refresh(),r.notify(o,r.mobile.ui)},refresh:function(){var e=this,t=e.handle.outerWidth(!0);e.width=e.wrapper.width(),e.constrain=e.width-t,e.snapPoint=e.constrain/2,"number"!=typeof e.origin&&(e.origin=parseInt(e.background.css(l),10)),e.background.data("origin",e.origin),e.check(e.element[0].checked)},events:[u],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function(e){var n=this,r=n.element[0];return e===t?r.checked:(n._position(e?n.constrain:0),r.checked=e,n.wrapper.toggleClass(a,e).toggleClass(f,!e),t)},value:function(){return this.check.apply(this,arguments)},destroy:function(){s.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){var e=this;e.check(!e.element[0].checked)},enable:function(e){var n=this.element,r=this.wrapper;t===e&&(e=!0),this.options.enable=e,e?n.removeAttr(p):n.attr(p,p),r.toggleClass(h,!e)},_resize:function(){this.refresh()},_move:function(e){var t=this;e.preventDefault(),t._position(n(t.position+e.x.delta,0,t.width-t.handle.outerWidth(!0)))},_position:function(e){var t=this;t.position=e,t.handle.css(d,"translatex("+e+"px)"),t._animateBackground&&t.background.css(l,t.origin+e)},_start:function(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(c)):this.userEvents.cancel()},_stop:function(){var e=this;e.handle.removeClass(c),e._toggle(e.position>e.snapPoint)},_toggle:function(e){var t,n=this,i=n.handle,s=n.element[0],o=s.checked,l=r.mobile.application&&r.mobile.application.os.wp?100:200;n.wrapper.toggleClass(a,e).toggleClass(f,!e),n.position=t=e*n.constrain,n._animateBackground&&n.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:t,reset:!0,reverse:!e,axis:"left",duration:l}),i.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:l,offset:t+"px,0",reset:!0,complete:function(){o!==e&&(s.checked=e,n.trigger(u,{checked:e}))}})},_drag:function(){var e=this;e.userEvents=new r.UserEvents(e.wrapper,{tap:function(){e.options.enable&&e._toggle(!e.element[0].checked)},start:v(e._start,e),move:v(e._move,e),end:v(e._stop,e)})}});i.plugin(g)}(window.kendo.jQuery),function(e){function t(t){return e('<span class="km-badge">'+t+"</span>")}var n=window.kendo,r=n.mobile.ui,i=r.Widget,s="km-state-active",o="select",u=i.extend({init:function(t,n){var r=this;i.fn.init.call(r,t,n),r.container().bind("show",e.proxy(this,"refresh")),r.element.addClass("km-tabstrip").find("a").each(r._buildButton).eq(r.options.selectedIndex).addClass(s),r.element.on("down","a","_release")},events:[o],switchTo:function(t){var n,r,i=this.element.find("a"),s=0,o=i.length;if(!isNaN(t))return this._setActiveItem(i.eq(t)),!0;for(;o>s;s++)if(n=i[s],r=n.href.replace(/(\#.+)(\?.+)$/,"$1"),-1!==r.indexOf(t,r.length-t.length))return this._setActiveItem(e(n)),!0;return!1},switchByFullUrl:function(e){var t;t=this.element.find("a[href$='"+e+"']"),this._setActiveItem(t)},clear:function(){this.currentItem().removeClass(s)},currentItem:function(){return this.element.children("."+s)},badge:function(n,r){var i,s=this.element;return isNaN(n)||(n=s.children().get(n)),n=s.find(n),i=e(n.find(".km-badge")[0]||t(r).insertAfter(n.children(".km-icon"))),r||0===r?(i.html(r),this):r===!1?(i.empty().remove(),this):i.html()},_release:function(t){if(!(t.which>1)){var n=this,r=e(t.currentTarget);r[0]!==n.currentItem()[0]&&(n.trigger(o,{item:r})?t.preventDefault():n._setActiveItem(r))}},_setActiveItem:function(e){e[0]&&(this.clear(),e.addClass(s))},_buildButton:function(){var r=e(this),i=n.attrValue(r,"icon"),s=n.attrValue(r,"badge"),o=r.find("img"),u=e('<span class="km-icon"/>');r.addClass("km-button").attr(n.attr("role"),"tab").contents().not(o).wrapAll('<span class="km-text"/>'),o[0]?o.addClass("km-image").prependTo(r):(r.prepend(u),i&&(u.addClass("km-"+i),(s||0===s)&&t(s).insertAfter(u)))},refresh:function(e){var t=e.view.element.attr(n.attr("url"));t&&!this.switchTo(e.view.id)&&this.switchTo(t)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});r.plugin(u)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(e,t){t()}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function t(){return e.apply(null,arguments)}function n(t){e=t}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function o(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return pn(e,t,n,r,!0).utc()}function l(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0&&e._pf.bigHour===undefined)),e._isValid}function c(e){var t=f(NaN);return e!=null?a(t._pf,e):t._pf.userInvalidated=!0,t}function p(e,t){var n,r,i;typeof t._isAMomentObject!="undefined"&&(e._isAMomentObject=t._isAMomentObject),typeof t._i!="undefined"&&(e._i=t._i),typeof t._f!="undefined"&&(e._f=t._f),typeof t._l!="undefined"&&(e._l=t._l),typeof t._strict!="undefined"&&(e._strict=t._strict),typeof t._tzm!="undefined"&&(e._tzm=t._tzm),typeof t._isUTC!="undefined"&&(e._isUTC=t._isUTC),typeof t._offset!="undefined"&&(e._offset=t._offset),typeof t._pf!="undefined"&&(e._pf=t._pf),typeof t._locale!="undefined"&&(e._locale=t._locale);if(h.length>0)for(n in h)r=h[n],i=t[r],typeof i!="undefined"&&(e[r]=i);return e}function v(e){p(this,e),this._d=new Date(+e._d),d===!1&&(d=!0,t.updateOffset(this),d=!1)}function m(e){return e instanceof v||e!=null&&u(e,"_isAMomentObject")}function g(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(t>=0?n=Math.floor(t):n=Math.ceil(t)),n}function y(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&g(e[o])!==g(t[o]))&&s++;return s+i}function b(){}function S(e){return e?e.toLowerCase().replace("_","-"):e}function x(e){var t=0,n,r,i,s;while(t<e.length){s=S(e[t]).split("-"),n=s.length,r=S(e[t+1]),r=r?r.split("-"):null;while(n>0){i=T(s.slice(0,n).join("-"));if(i)return i;if(r&&r.length>=n&&y(s,r,!0)>=n-1)break;n--}t++}return null}function T(e){var t=null;if(!w[e]&&typeof module!="undefined"&&module&&module.exports)try{t=E._abbr,require("./locale/"+e),N(t)}catch(n){}return w[e]}function N(e,t){var n;return e&&(typeof t=="undefined"?n=k(e):n=C(e,t),n&&(E=n)),E._abbr}function C(e,t){return t!==null?(t.abbr=e,w[e]||(w[e]=new b),w[e].set(t),N(e),w[e]):(delete w[e],null)}function k(e){var t;e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr);if(!e)return E;if(!i(e)){t=T(e);if(t)return t;e=[e]}return x(e)}function A(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function O(e){return typeof e=="string"?L[e]||L[e.toLowerCase()]:undefined}function M(e){var t={},n,r;for(r in e)u(e,r)&&(n=O(r),n&&(t[n]=e[r]));return t}function _(e,n){return function(r){return r!=null?(P(this,e,r),t.updateOffset(this,n),this):D(this,e)}}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function P(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e,t){var n;if(typeof e=="object")for(n in e)this.set(n,e[n]);else{e=O(e);if(typeof this[e]=="function")return this[e](t)}return this}function B(e,t,n){var r=""+Math.abs(e),i=e>=0;while(r.length<t)r="0"+r;return(i?n?"+":"":"-")+r}function R(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(q[e]=i),t&&(q[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(q[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t=e.match(j),n,r;for(n=0,r=t.length;n<r;n++)q[t[n]]?t[n]=q[t[n]]:t[n]=U(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function W(e,t){return e.isValid()?(t=X(t,e.localeData()),I[t]||(I[t]=z(t)),I[t](e)):e.localeData().invalidDate()}function X(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;F.lastIndex=0;while(n>=0&&F.test(e))e=e.replace(F,r),F.lastIndex=0,n-=1;return e}function ut(e,t,n){ot[e]=typeof t=="function"?t:function(e){return e&&n?n:t}}function at(e,t){return u(ot,e)?ot[e](t._strict,t._locale):new RegExp(ft(e))}function ft(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ct(e,t){var n,r=t;typeof e=="string"&&(e=[e]),typeof t=="number"&&(r=function(e,n){n[t]=g(e)});for(n=0;n<e.length;n++)lt[e[n]]=r}function ht(e,t){ct(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function pt(e,t,n){t!=null&&u(lt,e)&&lt[e](t,n._a,n,e)}function Et(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function xt(e){return this._months[e.month()]}function Nt(e){return this._monthsShort[e.month()]}function Ct(e,t,n){var r,i,s;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(r=0;r<12;r++){i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i"));if(n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function kt(e,t){var n;if(typeof t=="string"){t=e.localeData().monthsParse(t);if(typeof t!="number")return e}return n=Math.min(e.date(),Et(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Lt(e){return e!=null?(kt(this,e),t.updateOffset(this,!0),this):D(this,"Month")}function At(){return Et(this.year(),this.month())}function Ot(e){var t,n=e._a;return n&&e._pf.overflow===-2&&(t=n[vt]<0||n[vt]>11?vt:n[mt]<1||n[mt]>Et(n[dt],n[vt])?mt:n[gt]<0||n[gt]>24||n[gt]===24&&(n[yt]!==0||n[bt]!==0||n[wt]!==0)?gt:n[yt]<0||n[yt]>59?yt:n[bt]<0||n[bt]>59?bt:n[wt]<0||n[wt]>999?wt:-1,e._pf._overflowDayOfYear&&(t<dt||t>mt)&&(t=mt),e._pf.overflow=t),e}function Mt(e){t.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function _t(e,t){var n=!0;return a(function(){return n&&(Mt(e),n=!1),t.apply(this,arguments)},t)}function Pt(e,t){Dt[e]||(Mt(t),Dt[e]=!0)}function It(e){var t,n,r=e._i,i=Ht.exec(r);if(i){e._pf.iso=!0;for(t=0,n=Bt.length;t<n;t++)if(Bt[t][1].exec(r)){e._f=Bt[t][0]+(i[6]||" ");break}for(t=0,n=jt.length;t<n;t++)if(jt[t][1].exec(r)){e._f+=jt[t][0];break}r.match(rt)&&(e._f+="Z"),un(e)}else e._isValid=!1}function qt(e){var n=Ft.exec(e._i);if(n!==null){e._d=new Date(+n[1]);return}It(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))}function Rt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function Ut(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function zt(e){return Wt(e)?366:365}function Wt(e){return e%4===0&&e%100!==0||e%400===0}function Vt(){return Wt(this.year())}function $t(e,t,n){var r=n-t,i=n-e.day(),s;return i>r&&(i-=7),i<r-7&&(i+=7),s=dn(e).add(i,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function Jt(e){return $t(e,this._week.dow,this._week.doy).week}function Qt(){return this._week.dow}function Gt(){return this._week.doy}function Yt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Zt(e){var t=$t(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function en(e,t,n,r,i){var s=Ut(e,0,1).getUTCDay(),o,u;return s=s===0?7:s,n=n!=null?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),u=7*(t-1)+(n-i)+o+1,{year:u>0?e:e-1,dayOfYear:u>0?u:zt(e-1)+u}}function tn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}function nn(e,t,n){return e!=null?e:t!=null?t:n}function rn(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function sn(e){var t,n,r=[],i,s;if(e._d)return;i=rn(e),e._w&&e._a[mt]==null&&e._a[vt]==null&&on(e),e._dayOfYear&&(s=nn(e._a[dt],i[dt]),e._dayOfYear>zt(s)&&(e._pf._overflowDayOfYear=!0),n=Ut(s,0,e._dayOfYear),e._a[vt]=n.getUTCMonth(),e._a[mt]=n.getUTCDate());for(t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[gt]===24&&e._a[yt]===0&&e._a[bt]===0&&e._a[wt]===0&&(e._nextDay=!0,e._a[gt]=0),e._d=(e._useUTC?Ut:Rt).apply(null,r),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gt]=24)}function on(e){var t,n,r,i,s,o,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,n=nn(t.GG,e._a[dt],$t(dn(),1,4).year),r=nn(t.W,1),i=nn(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=nn(t.gg,e._a[dt],$t(dn(),s,o).year),r=nn(t.w,1),t.d!=null?(i=t.d,i<s&&++r):t.e!=null?i=t.e+s:i=s),u=en(n,r,i,o,s),e._a[dt]=u.year,e._dayOfYear=u.dayOfYear}function un(e){if(e._f===t.ISO_8601){It(e);return}e._a=[],e._pf.empty=!0;var n=""+e._i,r,i,s,o,u,a=n.length,f=0;s=X(e._f,e._locale).match(j)||[];for(r=0;r<s.length;r++)o=s[r],i=(n.match(at(o,e))||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&e._pf.unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),f+=i.length),q[o]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(o),pt(o,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=a-f,n.length>0&&e._pf.unusedInput.push(n),e._pf.bigHour===!0&&e._a[gt]<=12&&(e._pf.bigHour=undefined),e._a[gt]=an(e._locale,e._a[gt],e._meridiem),sn(e),Ot(e)}function an(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):e.isPM!=null?(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0),t):t}function fn(e){var t,n,i,s,o;if(e._f.length===0){e._pf.invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<e._f.length;s++){o=0,t=p({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[s],un(t);if(!l(t))continue;o+=t._pf.charsLeftOver,o+=t._pf.unusedTokens.length*10,t._pf.score=o;if(i==null||o<i)i=o,n=t}a(e,n||t)}function ln(e){if(e._d)return;var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],sn(e)}function cn(e){var t=e._i,n=e._f,r;return e._locale=e._locale||k(e._l),t===null||n===undefined&&t===""?c({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),m(t)?new v(Ot(t)):(i(n)?fn(e):n?un(e):hn(e),r=new v(Ot(e)),r._nextDay&&(r.add(1,"d"),r._nextDay=undefined),r))}function hn(e){var n=e._i;n===undefined?e._d=new Date:s(n)?e._d=new Date(+n):typeof n=="string"?qt(e):i(n)?(e._a=o(n.slice(0),function(e){return parseInt(e,10)}),sn(e)):typeof n=="object"?ln(e):typeof n=="number"?e._d=new Date(n):t.createFromInputFallback(e)}function pn(e,t,n,i,s){var o={};return typeof n=="boolean"&&(i=n,n=undefined),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=n,o._i=e,o._f=t,o._strict=i,o._pf=r(),cn(o)}function dn(e,t,n,r){return pn(e,t,n,r,!1)}function gn(e,t){var n,r;t.length===1&&i(t[0])&&(t=t[0]);if(!t.length)return dn();n=t[0];for(r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function yn(){var e=[].slice.call(arguments,0);return gn("isBefore",e)}function bn(){var e=[].slice.call(arguments,0);return gn("isAfter",e)}function wn(e){var t=M(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+f*1e3+a*6e4+u*36e5,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=k(),this._bubble()}function En(e){return e instanceof wn}function Sn(e,t){R(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Tn(e){var t=(e||"").match(rt)||[],n=t[t.length-1]||[],r=(n+"").match(xn)||["-",0,0],i=+(r[1]*60)+g(r[2]);return r[0]==="+"?i:-i}function Nn(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(m(e)||s(e)?+e:+dn(e))- +r,r._d.setTime(+r._d+i),t.updateOffset(r,!1),r):dn(e).local()}function Cn(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}function kn(e,n){var r=this._offset||0,i;return e!=null?(typeof e=="string"&&(e=Tn(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=Cn(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Xn(this,qn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Cn(this)}function Ln(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function An(e){return this.utcOffset(0,e)}function On(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Cn(this),"m")),this}function Mn(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(Tn(this._i)),this}function _n(e){return e?e=dn(e).utcOffset():e=0,(this.utcOffset()-e)%60===0}function Dn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pn(){if(this._a){var e=this._isUTC?f(this._a):dn(this._a);return this.isValid()&&y(this._a,e.toArray())>0}return!1}function Hn(){return!this._isUTC}function Bn(){return this._isUTC}function jn(){return this._isUTC&&this._offset===0}function qn(e,t){var n=e,r=null,i,s,o;return En(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(n={},t?n[t]=e:n.milliseconds=e):(r=Fn.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:g(r[mt])*i,h:g(r[gt])*i,m:g(r[yt])*i,s:g(r[bt])*i,ms:g(r[wt])*i}):(r=In.exec(e))?(i=r[1]==="-"?-1:1,n={y:Rn(r[2],i),M:Rn(r[3],i),d:Rn(r[4],i),h:Rn(r[5],i),m:Rn(r[6],i),s:Rn(r[7],i),w:Rn(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=zn(dn(n.from),dn(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new wn(n),En(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function Rn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Un(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function zn(e,t){var n;return t=Nn(t,e),e.isBefore(t)?n=Un(e,t):(n=Un(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Wn(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(Pt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n=typeof n=="string"?+n:n,i=qn(n,r),Xn(this,i,e),this}}function Xn(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months;i=i==null?!0:i,s&&e._d.setTime(+e._d+s*r),o&&P(e,"Date",D(e,"Date")+o*r),u&&kt(e,D(e,"Month")+u*r),i&&t.updateOffset(e,o||u)}function Jn(e){var t=e||dn(),n=Nn(t,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,dn(t)))}function Kn(){return new v(this)}function Qn(e,t){var n;return t=O(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this>+e):(n=m(e)?+e:+dn(e),n<+this.clone().startOf(t))}function Gn(e,t){var n;return t=O(typeof t!="undefined"?t:"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this<+e):(n=m(e)?+e:+dn(e),+this.clone().endOf(t)<n)}function Yn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function Zn(e,t){var n;return t=O(t||"millisecond"),t==="millisecond"?(e=m(e)?e:dn(e),+this===+e):(n=+dn(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function er(e){return e<0?Math.ceil(e):Math.floor(e)}function tr(e,t,n){var r=Nn(e,this),i=(r.utcOffset()-this.utcOffset())*6e4,s,o;return t=O(t),t==="year"||t==="month"||t==="quarter"?(o=nr(this,r),t==="quarter"?o/=3:t==="year"&&(o/=12)):(s=this-r,o=t==="second"?s/1e3:t==="minute"?s/6e4:t==="hour"?s/36e5:t==="day"?(s-i)/864e5:t==="week"?(s-i)/6048e5:s),n?o:er(o)}function nr(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)}function rr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ir(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sr(e){var n=W(this,e||t.defaultFormat);return this.localeData().postformat(n)}function or(e,t){return qn({to:this,from:e}).locale(this.locale()).humanize(!t)}function ur(e){return this.from(dn(),e)}function ar(e){var t;return e===undefined?this._locale._abbr:(t=k(e),t!=null&&(this._locale=t),this)}function lr(){return this._locale}function cr(e){e=O(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.weekday(0),e==="isoWeek"&&this.isoWeekday(1),e==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function hr(e){return e=O(e),e===undefined||e==="millisecond"?this:this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function pr(){return+this._d-(this._offset||0)*6e4}function dr(){return Math.floor(+this/1e3)}function vr(){return this._offset?new Date(+this):this._d}function mr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gr(){return l(this)}function yr(){return a({},this._pf)}function br(){return this._pf.overflow}function wr(e,t){R(0,[e,e.length],0,t)}function Er(e,t,n){return $t(dn([e,11,31+t-n]),t,n).week}function Sr(e){var t=$t(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")}function xr(e){var t=$t(this,1,4).year;return e==null?t:this.add(e-t,"y")}function Tr(){return Er(this.year(),1,4)}function Nr(){var e=this.localeData()._week;return Er(this.year(),e.dow,e.doy)}function Cr(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}function Lr(e,t){if(typeof e=="string")if(!isNaN(e))e=parseInt(e,10);else{e=t.weekdaysParse(e);if(typeof e!="number")return null}return e}function Or(e){return this._weekdays[e.day()]}function _r(e){return this._weekdaysShort[e.day()]}function Pr(e){return this._weekdaysMin[e.day()]}function Hr(e){var t,n,r;this._weekdaysParse||(this._weekdaysParse=[]);for(t=0;t<7;t++){this._weekdaysParse[t]||(n=dn([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i"));if(this._weekdaysParse[t].test(e))return t}}function Br(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Lr(e,this.localeData()),this.add(e-t,"d")):t}function jr(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Fr(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)}function Ir(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qr(e,t){return t._meridiemParse}function Rr(e){return(e+"").toLowerCase().charAt(0)==="p"}function zr(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function $r(e){R(0,[e,3],0,"millisecond")}function Kr(){return this._isUTC?"UTC":""}function Qr(){return this._isUTC?"Coordinated Universal Time":""}function Zr(e){return dn(e*1e3)}function ei(){return dn.apply(null,arguments).parseZone()}function ni(e,t,n){var r=this._calendar[e];return typeof r=="function"?r.call(t,n):r}function ii(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function oi(){return this._invalidDate}function fi(e){return this._ordinal.replace("%d",e)}function li(e){return e}function hi(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)}function pi(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)}function di(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mi(e,t,n,r){var i=k(),s=f().set(r,t);return i[n](s,e)}function gi(e,t,n,r,i){typeof e=="number"&&(t=e,e=undefined),e=e||"";if(t!=null)return mi(e,t,n,i);var s,o=[];for(s=0;s<r;s++)o[s]=mi(e,s,n,i);return o}function yi(e,t){return gi(e,t,"months",12,"month")}function bi(e,t){return gi(e,t,"monthsShort",12,"month")}function wi(e,t){return gi(e,t,"weekdays",7,"day")}function Ei(e,t){return gi(e,t,"weekdaysShort",7,"day")}function Si(e,t){return gi(e,t,"weekdaysMin",7,"day")}function Ti(){var e=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),e.milliseconds=xi(e.milliseconds),e.seconds=xi(e.seconds),e.minutes=xi(e.minutes),e.hours=xi(e.hours),e.months=xi(e.months),e.years=xi(e.years),this}function Ni(e,t,n,r){var i=qn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ci(e,t){return Ni(this,e,t,1)}function ki(e,t){return Ni(this,e,t,-1)}function Li(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u=0;return r.milliseconds=e%1e3,i=er(e/1e3),r.seconds=i%60,s=er(i/60),r.minutes=s%60,o=er(s/60),r.hours=o%24,t+=er(o/24),u=er(Ai(t)),t-=er(Oi(u)),n+=er(t/30),t%=30,u+=er(n/12),n%=12,r.days=t,r.months=n,r.years=u,this}function Ai(e){return e*400/146097}function Oi(e){return e*146097/400}function Mi(e){var t,n,r=this._milliseconds;e=O(e);if(e==="month"||e==="year")return t=this._days+r/864e5,n=this._months+Ai(t)*12,e==="month"?n:n/12;t=this._days+Math.round(Oi(this._months/12));switch(e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*24*60+r/6e4;case"second":return t*24*60*60+r/1e3;case"millisecond":return Math.floor(t*24*60*60*1e3)+r;default:throw new Error("Unknown unit "+e)}}function _i(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+g(this._months/12)*31536e6}function Di(e){return function(){return this.as(e)}}function Ui(e){return e=O(e),this[e+"s"]()}function zi(e){return function(){return this._data[e]}}function Gi(){return er(this.days()/7)}function es(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ts(e,t,n){var r=qn(e).abs(),i=Yi(r.as("s")),s=Yi(r.as("m")),o=Yi(r.as("h")),u=Yi(r.as("d")),a=Yi(r.as("M")),f=Yi(r.as("y")),l=i<Zi.s&&["s",i]||s===1&&["m"]||s<Zi.m&&["mm",s]||o===1&&["h"]||o<Zi.h&&["hh",o]||u===1&&["d"]||u<Zi.d&&["dd",u]||a===1&&["M"]||a<Zi.M&&["MM",a]||f===1&&["y"]||["yy",f];return l[2]=t,l[3]=+e>0,l[4]=n,es.apply(null,l)}function ns(e,t){return Zi[e]===undefined?!1:t===undefined?Zi[e]:(Zi[e]=t,!0)}function rs(e){var t=this.localeData(),n=ts(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ss(){var e=is(this.years()),t=is(this.months()),n=is(this.days()),r=is(this.hours()),i=is(this.minutes()),s=is(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(o<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}var e,h=t.momentProperties=[],d=!1,w={},E,L={},j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},q={},V=/\d/,$=/\d\d/,J=/\d{3}/,K=/\d{4}/,Q=/[+-]?\d{6}/,G=/\d\d?/,Y=/\d{1,3}/,Z=/\d{1,4}/,et=/[+-]?\d{1,6}/,tt=/\d+/,nt=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,it=/[+-]?\d+(\.\d{1,3})?/,st=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ot={},lt={},dt=0,vt=1,mt=2,gt=3,yt=4,bt=5,wt=6;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),ut("M",G),ut("MM",G,$),ut("MMM",st),ut("MMMM",st),ct(["M","MM"],function(e,t){t[vt]=g(e)-1}),ct(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[vt]=i:n._pf.invalidMonth=e});var St="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dt={};t.suppressDeprecationWarnings=!1;var Ht=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],jt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ft=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=_t("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),A("year","y"),ut("Y",nt),ut("YY",G,$),ut("YYYY",Z,K),ut("YYYYY",et,Q),ut("YYYYYY",et,Q),ct(["YYYY","YYYYY","YYYYYY"],dt),ct("YY",function(e,n){n[dt]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Xt=_("FullYear",!1);R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),ut("w",G),ut("ww",G,$),ut("W",G),ut("WW",G,$),ht(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=g(e)});var Kt={dow:0,doy:6};R("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),ut("DDD",Y),ut("DDDD",J),ct(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),t.ISO_8601=function(){};var vn=_t("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=dn.apply(null,arguments);return e<this?this:e}),mn=_t("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=dn.apply(null,arguments);return e>this?this:e});Sn("Z",":"),Sn("ZZ",""),ut("Z",rt),ut("ZZ",rt),ct(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Tn(e)});var xn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Fn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,In=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;qn.fn=wn.prototype;var Vn=Wn(1,"add"),$n=Wn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var fr=_t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),wr("gggg","weekYear"),wr("ggggg","weekYear"),wr("GGGG","isoWeekYear"),wr("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),ut("G",nt),ut("g",nt),ut("GG",G,$),ut("gg",G,$),ut("GGGG",Z,K),ut("gggg",Z,K),ut("GGGGG",et,Q),ut("ggggg",et,Q),ht(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=g(e)}),ht(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),R("Q",0,0,"quarter"),A("quarter","Q"),ut("Q",V),ct("Q",function(e,t){t[vt]=(g(e)-1)*3}),R("D",["DD",2],"Do","date"),A("date","D"),ut("D",G),ut("DD",G,$),ut("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ct(["D","DD"],mt),ct("Do",function(e,t){t[mt]=g(e.match(G)[0],10)});var kr=_("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),ut("d",G),ut("e",G),ut("E",G),ut("dd",st),ut("ddd",st),ut("dddd",st),ht(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);r!=null?t.d=r:n._pf.invalidWeekday=e}),ht(["d","e","E"],function(e,t,n,r){t[r]=g(e)});var Ar="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("H",["HH",2],0,"hour"),R("h",["hh",2],0,function(){return this.hours()%12||12}),Ir("a",!0),Ir("A",!1),A("hour","h"),ut("a",qr),ut("A",qr),ut("H",G),ut("h",G),ut("HH",G,$),ut("hh",G,$),ct(["H","HH"],gt),ct(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ct(["h","hh"],function(e,t,n){t[gt]=g(e),n._pf.bigHour=!0});var Ur=/[ap]\.?m?\.?/i,Wr=_("Hours",!0);R("m",["mm",2],0,"minute"),A("minute","m"),ut("m",G),ut("mm",G,$),ct(["m","mm"],yt);var Xr=_("Minutes",!1);R("s",["ss",2],0,"second"),A("second","s"),ut("s",G),ut("ss",G,$),ct(["s","ss"],bt);var Vr=_("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$r("SSS"),$r("SSSS"),A("millisecond","ms"),ut("S",Y,V),ut("SS",Y,$),ut("SSS",Y,J),ut("SSSS",tt),ct(["S","SS","SSS","SSSS"],function(e,t){t[wt]=g(("0."+e)*1e3)});var Jr=_("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Gr=v.prototype;Gr.add=Vn,Gr.calendar=Jn,Gr.clone=Kn,Gr.diff=tr,Gr.endOf=hr,Gr.format=sr,Gr.from=or,Gr.fromNow=ur,Gr.get=H,Gr.invalidAt=br,Gr.isAfter=Qn,Gr.isBefore=Gn,Gr.isBetween=Yn,Gr.isSame=Zn,Gr.isValid=gr,Gr.lang=fr,Gr.locale=ar,Gr.localeData=lr,Gr.max=mn,Gr.min=vn,Gr.parsingFlags=yr,Gr.set=H,Gr.startOf=cr,Gr.subtract=$n,Gr.toArray=mr,Gr.toDate=vr,Gr.toISOString=ir,Gr.toJSON=ir,Gr.toString=rr,Gr.unix=dr,Gr.valueOf=pr,Gr.year=Xt,Gr.isLeapYear=Vt,Gr.weekYear=Sr,Gr.isoWeekYear=xr,Gr.quarter=Gr.quarters=Cr,Gr.month=Lt,Gr.daysInMonth=At,Gr.week=Gr.weeks=Yt,Gr.isoWeek=Gr.isoWeeks=Zt,Gr.weeksInYear=Nr,Gr.isoWeeksInYear=Tr,Gr.date=kr,Gr.day=Gr.days=Br,Gr.weekday=jr,Gr.isoWeekday=Fr,Gr.dayOfYear=tn,Gr.hour=Gr.hours=Wr,Gr.minute=Gr.minutes=Xr,Gr.second=Gr.seconds=Vr,Gr.millisecond=Gr.milliseconds=Jr,Gr.utcOffset=kn,Gr.utc=An,Gr.local=On,Gr.parseZone=Mn,Gr.hasAlignedHourOffset=_n,Gr.isDST=Dn,Gr.isDSTShifted=Pn,Gr.isLocal=Hn,Gr.isUtcOffset=Bn,Gr.isUtc=jn,Gr.isUTC=jn,Gr.zoneAbbr=Kr,Gr.zoneName=Qr,Gr.dates=_t("dates accessor is deprecated. Use date instead.",kr),Gr.months=_t("months accessor is deprecated. Use month instead",Lt),Gr.years=_t("years accessor is deprecated. Use year instead",Xt),Gr.zone=_t("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ln);var Yr=Gr,ti={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},si="Invalid date",ui="%d",ai=/\d{1,2}/,ci={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},vi=b.prototype;vi._calendar=ti,vi.calendar=ni,vi._longDateFormat=ri,vi.longDateFormat=ii,vi._invalidDate=si,vi.invalidDate=oi,vi._ordinal=ui,vi.ordinal=fi,vi._ordinalParse=ai,vi.preparse=li,vi.postformat=li,vi._relativeTime=ci,vi.relativeTime=hi,vi.pastFuture=pi,vi.set=di,vi.months=xt,vi._months=St,vi.monthsShort=Nt,vi._monthsShort=Tt,vi.monthsParse=Ct,vi.week=Jt,vi._week=Kt,vi.firstDayOfYear=Gt,vi.firstDayOfWeek=Qt,vi.weekdays=Or,vi._weekdays=Ar,vi.weekdaysMin=Pr,vi._weekdaysMin=Dr,vi.weekdaysShort=_r,vi._weekdaysShort=Mr,vi.weekdaysParse=Hr,vi.isPM=Rr,vi._meridiemParse=Ur,vi.meridiem=zr,N("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=g(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),t.lang=_t("moment.lang is deprecated. Use moment.locale instead.",N),t.langData=_t("moment.langData is deprecated. Use moment.localeData instead.",k);var xi=Math.abs,Pi=Di("ms"),Hi=Di("s"),Bi=Di("m"),ji=Di("h"),Fi=Di("d"),Ii=Di("w"),qi=Di("M"),Ri=Di("y"),Wi=zi("milliseconds"),Xi=zi("seconds"),Vi=zi("minutes"),$i=zi("hours"),Ji=zi("days"),Ki=zi("months"),Qi=zi("years"),Yi=Math.round,Zi={s:45,m:45,h:22,d:26,M:11},is=Math.abs,os=wn.prototype;os.abs=Ti,os.add=Ci,os.subtract=ki,os.as=Mi,os.asMilliseconds=Pi,os.asSeconds=Hi,os.asMinutes=Bi,os.asHours=ji,os.asDays=Fi,os.asWeeks=Ii,os.asMonths=qi,os.asYears=Ri,os.valueOf=_i,os._bubble=Li,os.get=Ui,os.milliseconds=Wi,os.seconds=Xi,os.minutes=Vi,os.hours=$i,os.days=Ji,os.weeks=Gi,os.months=Ki,os.years=Qi,os.humanize=rs,os.toISOString=ss,os.toString=ss,os.toJSON=ss,os.locale=ar,os.localeData=lr,os.toIsoString=_t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ss),os.lang=fr,R("X",0,0,"unix"),R("x",0,0,"valueOf"),ut("x",nt),ut("X",it),ct("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)}),ct("x",function(e,t,n){n._d=new Date(g(e))}),t.version="2.10.2",n(dn),t.fn=Yr,t.min=yn,t.max=bn,t.utc=f,t.unix=Zr,t.months=yi,t.isDate=s,t.locale=N,t.invalid=c,t.duration=qn,t.isMoment=m,t.weekdays=wi,t.parseZone=ei,t.localeData=k,t.isDuration=En,t.monthsShort=bi,t.weekdaysMin=Si,t.defineLocale=C,t.weekdaysShort=Ei,t.normalizeUnits=O,t.relativeTimeThreshold=ns;var us=t;return us}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.14",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("tpl",["underscore","text"],function(e,t){"use strict";var n={},r={version:"0.1.0",load:function(r,i,s,o){var u=function(t){e.extend(e.templateSettings,o.underscoreTemplateSettings||{}),t=e.template(t),o.isBuild?t=n[r]=t.source:t=(new Function("obj","return "+t.source))(),s(t)};t.load(r,i,u,o)},write:function(e,t,r){n.hasOwnProperty(t)&&r('define("'+e+"!"+t+'", ["underscore"], function(_) { '+"return "+n[t]+";"+"});\n")}};return r}),define("tpl!templates/home.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default" style="background-color: transparent; margin-bottom: 56px; box-shadow: none; border: none">\r\n    <div class="panel-heading">\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">Analytics Dashboard</h1>\r\n    </div>\r\n    <div class="panel-body animated fadeIn" style="margin-left: 10px; margin-right: 10px">\r\n        <div class="row" style="margin: 15px 0">\r\n            <div class="col-sm-6 col-md-4">\r\n                <form class="form-inline">\r\n                    <div class="input-group">\r\n                        <div class="input-group-addon dashboardTitle">Project</div>\r\n                        <select class="form-control" id="projectSets">\r\n                            ',combineData[0].length<2?(__p+="\r\n                                ",$.each(combineData[0],function(e,t){__p+='\r\n                                <option value="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'">'+((__t=t.Description)==null?"":_.escape(__t))+"</option>\r\n                                "})):(__p+='\r\n                                <option value="">Select Project</option>\r\n                                ',$.each(combineData[0],function(e,t){__p+='\r\n                                <option value="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'">'+((__t=t.Description)==null?"":_.escape(__t))+"</option>\r\n                                "})),__p+='\r\n                        </select>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <!--div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getAnalytics" data-id="projectAnalytics" data-temp="projectAnalytics" data-name="projectAnalytics" role="button"><h4 class="menuTitle">Project Analytics</h4><img class="menuItemImg" src="./assets/img/projectAnalytics.png"></div>\r\n            </div-->\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getAnalytics" data-id="spa" data-temp="spa" data-name="spa" role="button"><h4 class="menuTitle">SPA Chart</h4><img class="menuItemImg" src="./assets/img/spa.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getAnalytics" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI" role="button"><h4 class="menuTitle">SPI CPI Chart</h4><img class="menuItemImg" src="./assets/img/spiCPI.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getAnalytics" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR" role="button"><h4 class="menuTitle">Schedule Variance</h4><img class="menuItemImg" src="./assets/img/scheduleVAR.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getAnalytics" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule" role="button"><h4 class="menuTitle">Earned Schedule</h4><img class="menuItemImg" src="./assets/img/earnedSchedule.png"></div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1" role="button"><h4 class="menuTitle">CPR1 - WBS</h4><img class="menuItemImg" src="./assets/img/wbs.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2" role="button"><h4 class="menuTitle">CPR2 - OBS</h4><img class="menuItemImg" src="./assets/img/obs.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="baselineTable" data-temp="cpr3" data-name="CPR3_Baseline" data-sheet="CPR-3" role="button"><h4 class="menuTitle">CPR3 - Baseline</h4><img class="menuItemImg" src="./assets/img/baseline.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4" role="button"><h4 class="menuTitle">CPR4 - Staffing/Forecast</h4><img class="menuItemImg" src="./assets/img/staffing.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5" role="button"><h4 class="menuTitle">CPR5 - VAR</h4><img class="menuItemImg" src="./assets/img/var.png"></div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS" role="button"><h4 class="menuTitle">CPR Trend - WBS</h4><img class="menuItemImg" src="./assets/img/trendWBS.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS" role="button"><h4 class="menuTitle">CPR Trend - OBS</h4><img class="menuItemImg" src="./assets/img/trendOBS.png"></div>\r\n            </div>\r\n            <div class="col-sm-6 col-md-3 col-lg-2 menuItemMarginBottom">\r\n                <div class="menuItem getReport" data-id="fooTable" data-temp="foo" data-name="FOO_REPORT" data-sheet="FOO_REPORT" role="button"><h4 class="menuTitle">FOO Report</h4><img class="menuItemImg" src="./assets/img/trendOBS.png"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/analytics/projectAnalyticsFT.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="animated fadeIn panel panel-default" style="height:80vh;min-height:45vh; max-height:89vh;padding:0 0 8% 0; border: none">\r\n    <div class="panel-heading">\r\n        <span class="pull-left"><a class="homeTpl" data-id="wbsTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img src="./assets/img/home.png"></a></span>\r\n        <h1 class="panel-title" style="font-size: 24px; font-weight: bold; text-align: center">Project Analytics\r\n    <span class="pull-right dropdown">\r\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="k-icon k-i-hbars"></span></a>\r\n    <ul class="dropdown-menu" role="menu" style="min-width: 180px; padding: 5px 2px">\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select class="form-control selectpicker" tabindex="-1" style="padding: 3px 6px 3px 6px; cursor: pointer"><option value="baseline">Baseline Version</option><option value="">Baseline Version 1</option><option value="">Baseline Version 2</option></select>\r\n            </form>\r\n        </li>\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="eac" style="padding: 3px 6px 3px 6px; cursor: pointer"><option value="eac">EAC Version 1</option><option value="">EAC Version 2</option><option value="">EAC Version 3</option></select>\r\n            </form>\r\n        </li>\r\n        <li>\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="snapshot" style="padding: 3px 6px 3px 6px; cursor: pointer"><option value="snapshot">Snapshot Selection</option><option value="">Snapshot Selection</option><option value="">Snapshot Selection</option></select></select>\r\n            </form>\r\n        </li>\r\n        <li class="divider"></li>\r\n        <li><a tabindex="-1" href="#">Refresh</a></li>\r\n    </ul>\r\n    </span>\r\n        </h1>\r\n    </div>\r\n\r\n    <div id="horizontal">\r\n        <div id="treelist" style="height: 100%; border: 0"></div>\r\n        <div id="vertical">\r\n            <div>\r\n                <div align="center">\r\n                    <p class="gaugeHeading">gaugeHeading</p>\r\n                    <div class="gauge-loading"></div>\r\n                    <div class="col-xs-12 col-sm-3">\r\n                        <div class="gauge-container" style="display: inline-block">\r\n                            <div id="lgauge" class="gauge"></div>\r\n                            <div id="lgaugeTitle" class="gaugeTitle">SPI</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-12 col-sm-3">\r\n                        <div class="gauge-container" style="display: inline-block">\r\n                            <div id="rgauge" class="gauge"></div>\r\n                            <div id="rgaugeTitle" class="gaugeTitle">CPI</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-12 col-sm-3">\r\n                        <div class="details-container" style="display: inline-block">\r\n                            <div class="detailsPane">\r\n                                <li class="list-group-item" style="padding: 5px 10px; font-size: 12px;">BAC: <span class="total-bac"></span></li>\r\n                                <li class="list-group-item" style="padding: 5px 10px; font-size: 12px;">EAC: <span class="total-eacCum"></span></li>\r\n                                <li class="list-group-item" style="padding: 5px 10px; font-size: 12px;">TCPIeac: <span class="total-tcpi"></span></li>\r\n                                <li class="list-group-item" style="padding: 5px 10px; font-size: 12px;">User: <span class="user-name"></span></li>\r\n                                <li class="list-group-item" style="padding: 5px 10px; font-size: 12px;">Project: <span class="project"></span></li>\r\n                            </div>\r\n                            <div class="detailsTitle">&nbsp;</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-xs-12 col-sm-1"></div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class="chart-type-chooser">\r\n                    <strong class="radio-group-label">Chart type</strong>\r\n                    <ul class="radio-group">\r\n                        <li><input type="radio" name="seriesType" value="combo" id="seriesType-combo"><label for="seriesType-combo">Combo</label></li>\r\n                        <li><input type="radio" name="seriesType" value="column" id="seriesType-period"><label for="seriesType-period">Bar</label></li>\r\n                        <li><input type="radio" name="seriesType" value="line" id="seriesType-s-curve"checked><label for="seriesType-s-curve">Bullseye</label></li>\r\n                    </ul>\r\n                </div>\r\n                <div id="chart"></div>\r\n                <div class="chart-loading"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/analytics/earnedSchedule.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="animated fadeIn panel panel-default" style="height: Calc(100vh - 196px); border: none">\r\n    <div class="panel-heading">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="wbsTable" data-temp="#indexTpl" data-name="home" role="button" href="#">\r\n                <img src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 24px; font-weight: bold; text-align: center">Earned Schedule <span id="weekMonth">(Weekly)</span>\r\n            <span class="pull-right dropdown">\r\n            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">\r\n                <span class="k-icon k-i-hbars"></span></a>\r\n                <ul class="dropdown-menu" role="menu">\r\n                    <li id="switchWeeklyButton" style="display:none;"  data-id="earnedSchedule" data-temp="earnedSchedule"\r\n                        data-name="earnedSchedule">\r\n                        <a tabindex="-1" href="#" id="switchWeekly" class="btn btn-default btn-block" data-type="W" style="cursor: pointer">Switch to Weekly</a>\r\n                    </li>\r\n                    <li id="switchMonthlyButton" data-id="earnedSchedule" data-temp="earnedSchedule"\r\n                        data-name="earnedSchedule">\r\n                        <a tabindex="-1" href="#" id="switchMonthly" class="btn btn-default btn-block" data-type="M" style="cursor: pointer">Switch to Monthly</a>\r\n                    </li>\r\n                </ul>\r\n                </span></h1>\r\n    </div>\r\n\r\n    <div id="vertical">\r\n        <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n            <form class="form-inline">\r\n                <div class="col-xs-5 input-group">\r\n                    <select class="col-xs-6 form-control dataTypeAnalytics controller" id="dataType">\r\n                        <option value="Quantity" data-id="earnedSchedule" data-temp="earnedSchedule"\r\n                                data-name="earnedSchedule">Hours\r\n                        </option>\r\n                        <option value="Material" data-id="earnedSchedule" data-temp="earnedSchedule"\r\n                                data-name="earnedSchedule">Material\r\n                        </option>\r\n                        <option value="Costs" data-id="earnedSchedule" data-temp="earnedSchedule"\r\n                                data-name="earnedSchedule">Total Cost\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n                <!--div class="col-xs-5 input-group">\r\n                    <select class="col-xs-6 form-control dataTypeAnalytics costType" id="costType" style="display: none;">\r\n                        <option value="IntValProjCurr" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">Internal Cost</option>\r\n                        <option value="ExtValProjCurr" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">External Cost</option>\r\n                    </select>\r\n                </div>\r\n                <div-- class="input-group">\r\n                    <select class="col-lg-2 col-md-3 col-sm-4 col-xs-5 form-control" id="periodBack" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">\r\n                        <option value="2" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">2</option>\r\n                        <option value="4" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">4</option>\r\n                        <option value="6" data-id="earnedSchedule" data-temp="earnedSchedule" data-name="earnedSchedule">6</option>\r\n                    </select>\r\n                </div-->\r\n            </form>\r\n        </div>\r\n        <div>\r\n            <div id="chart"></div>\r\n            <div class="chart-loading"></div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/analytics/scheduleVAR.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="animated fadeIn panel panel-default" style="height: Calc(100vh - 196px); border: none">\r\n    <div class="panel-heading">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="wbsTable" data-temp="#indexTpl" data-name="home" role="button" href="#">\r\n                <img src="./assets/img/home.png"></a>\r\n        </span>\r\n        <h1 class="panel-title" style="font-size: 24px; font-weight: bold; text-align: center">Schedule Variance <span id="weekMonth">(Weekly)</span>\r\n        <span class="pull-right dropdown">\r\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">\r\n        <span class="k-icon k-i-hbars"></span></a>\r\n             <ul class="dropdown-menu" role="menu" style="min-width: 180px; padding: 5px 2px">\r\n                <li id="switchWeeklyButton" style="display:none;" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">\r\n                    <a tabindex="-1" href="#" id="switchWeekly" class="btn btn-default btn-block" data-type="W" style="cursor: pointer">Switch to Weekly</a>\r\n                </li>\r\n                <li id="switchMonthlyButton" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">\r\n                    <a tabindex="-1" href="#" id="switchMonthly" class="btn btn-default btn-block" data-type="M" style="cursor: pointer">Switch to Monthly</a>\r\n                </li>\r\n            </ul>\r\n        </span>\r\n        </h1>\r\n    </div>\r\n\r\n    <div id="vertical">\r\n        <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n            <form class="form-inline">\r\n                <div class="col-xs-5 input-group">\r\n                    <select class="col-xs-6 form-control dataTypeAnalytics controller" id="dataType">\r\n                        <option value="Quantity" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">Hours</option>\r\n                        <option value="Material" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">Material</option>\r\n                        <option value="Costs" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">Total Cost</option>\r\n                    </select>\r\n                </div>\r\n                <!--div class="col-xs-5 input-group">\r\n                    <select class="col-xs-6 form-control dataTypeAnalytics costType" id="costType" style="display: none;">\r\n                        <option value="IntValProjCurr" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">Internal Cost</option>\r\n                        <option value="ExtValProjCurr" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">External Cost</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class="input-group">\r\n                    <select class="col-lg-2 col-md-3 col-sm-4 col-xs-5 form-control" id="periodBack" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">\r\n                        <option value="2" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">2</option>\r\n                        <option value="4" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">4</option>\r\n                        <option value="6" data-id="scheduleVAR" data-temp="scheduleVAR" data-name="scheduleVAR">6</option>\r\n                    </select>\r\n                </div-->\r\n            </form>\r\n        </div>\r\n        <div>\r\n            <div id="chart"></div>\r\n            <div class="chart-loading"></div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/analytics/spa.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="animated fadeIn panel panel-default" style="height: Calc(100vh - 176px); border: none">\r\n    <div class="panel-heading">\r\n        <span class="pull-left"><a class="homeTpl" data-id="wbsTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img src="./assets/img/home.png"></a></span>\r\n        <h1 class="panel-title" style="font-size: 24px; font-weight: bold; text-align: center">SPA Chart <span id="weekMonth">(Weekly)</span>\r\n    <span class="pull-right dropdown">\r\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">\r\n        <span class="k-icon k-i-hbars"></span>\r\n    </a>\r\n    <ul class="dropdown-menu" role="menu" style="min-width: 180px; padding: 5px 2px">\r\n        <li id="switchWeeklyButton" style="display:none;" data-id="spa" data-temp="spa" data-name="spa">\r\n            <a tabindex="-1" href="#" id="switchWeekly" class="btn btn-default btn-block" data-type="W" style="cursor: pointer">Switch to Weekly</a>\r\n        </li>\r\n        <li id="switchMonthlyButton" data-id="spa" data-temp="spa" data-name="spa">\r\n            <a tabindex="-1" href="#" id="switchMonthly" class="btn btn-default btn-block" data-type="M" style="cursor: pointer">Switch to Monthly</a>\r\n        </li>\r\n        <li class="divider"></li>\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select class="form-control selectpicker" id="baseline" tabindex="-1" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[2].baseline.length<2?(__p+="\r\n                    ",$.each(combineData[2].baseline,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[2].baseline,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="eac" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[2].eac.length<2?(__p+="\r\n                    ",$.each(combineData[2].eac,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[2].eac,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li>\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="snapshot" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[0].length<2?(__p+="\r\n                    ",$.each(combineData[0],function(e,t){__p+='\r\n                    <option value="'+((__t=t.SnapshotSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'" data-id="spa" data-temp="spa" data-name="spa" data-chartType="SPA">'+((__t=t.formatDate)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[0],function(e,t){__p+='\r\n                    <option value="'+((__t=t.SnapshotSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'" data-id="spa" data-temp="spa" data-name="spa" data-chartType="SPA">'+((__t=t.formatDate)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li class="divider"></li>\r\n        <li><button tabindex="-1" class="btn btn-default btn-block" id="refresh">Refresh</button></li>\r\n    </ul>\r\n    </span>\r\n        </h1>\r\n    </div>\r\n\r\n    <div id="horizontal">\r\n        <div>\r\n            <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n                <form class="form-inline">\r\n                    <div class="input-group">\r\n                        <div class="input-group-addon dashboardTitle">Hierarchy</div>\r\n                        <select class="form-control" id="hChange" >\r\n                            ',combineData[1].length<2?(__p+="\r\n                            ",$.each(combineData[1],function(e,t){__p+='\r\n                            <option value="'+((__t=t.HierarchySelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+'" data-id="spa" data-temp="spa" data-name="spa" data-chartType="SPA">'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+"</option>\r\n                            "})):(__p+='\r\n                            <option value="">Select Hierarchy</option>\r\n                            ',$.each(combineData[1],function(e,t){__p+='\r\n                            <option value="'+((__t=t.HierarchySelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+'" data-id="spa" data-temp="spa" data-name="spa" data-chartType="SPA">'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+"</option>\r\n                            "})),__p+='\r\n                        </select>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div id="treelist" style="height: 92%; border: 0"></div>\r\n        </div>\r\n        <div>\r\n            <div id="vertical">\r\n                <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n                    <form class="form-inline">\r\n                        <div class="col-xs-5 input-group">\r\n                            <select class="col-xs-6 form-control dataTypeAnalytics controller" id="dataType">\r\n                                <option value="Quantity" data-id="spa" data-temp="spa" data-name="spa">Hours</option>\r\n                                <option value="Material" data-id="spa" data-temp="spa" data-name="spa">Material</option>\r\n                                <option value="Costs" data-id="spa" data-temp="spa" data-name="spa">Total Cost</option>\r\n                            </select>\r\n                        </div>\r\n                        <!--div class="col-xs-5 input-group">\r\n                            <select class="col-xs-6 form-control dataTypeAnalytics costType" id="costType" style="display: none;">\r\n                                <option value="IntValProjCurr" data-id="spa" data-temp="spa" data-name="spa">Internal Cost</option>\r\n                                <option value="ExtValProjCurr" data-id="spa" data-temp="spa" data-name="spa">External Cost</option>\r\n                            </select>\r\n                        </div-->\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    <div id="chart"></div>\r\n                    <div class="chart-loading"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/analytics/spiCPI.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="animated fadeIn panel panel-default" style="height: Calc(100vh - 176px); border: none">\r\n    <div class="panel-heading">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="wbsTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img src="./assets/img/home.png"></a>\r\n        </span>\r\n        <h1 class="panel-title" style="font-size: 24px; font-weight: bold; text-align: center">SPI CPI Chart <span id="weekMonth">(Weekly)</span>\r\n    <span class="pull-right dropdown">\r\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n            class="k-icon k-i-hbars"></span></a>\r\n    <ul class="dropdown-menu" role="menu" style="min-width: 180px; padding: 5px 2px">\r\n        <li id="switchWeeklyButton" style="display:none;" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">\r\n            <a tabindex="-1" href="#" id="switchWeekly" class="btn btn-default btn-block" data-type="W" style="cursor: pointer">Switch to Weekly</a>\r\n        </li>\r\n        <li id="switchMonthlyButton" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">\r\n            <a tabindex="-1" href="#" id="switchMonthly" class="btn btn-default btn-block" data-type="M" style="cursor: pointer">Switch to Monthly</a>\r\n        </li>\r\n        <li class="divider"></li>\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select class="form-control selectpicker" tabindex="-1" id="baseline" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[2].baseline.length<2?(__p+="\r\n                    ",$.each(combineData[2].baseline,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[2].baseline,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li style="padding-bottom: 2px">\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="eac" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[2].eac.length<2?(__p+="\r\n                    ",$.each(combineData[2].eac,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[2].eac,function(e,t){__p+='\r\n                    <option value="'+((__t=t.VersionSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.VersionDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.VersionDescription)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li>\r\n            <form>\r\n                <select tabindex="-1" class="form-control selectpicker" id="snapshot" style="padding: 3px 6px 3px 6px; cursor: pointer">\r\n                    ',combineData[0].length<2?(__p+="\r\n                    ",$.each(combineData[0],function(e,t){__p+='\r\n                    <option value="'+((__t=t.SnapshotSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI" data-chartType="SPA">'+((__t=t.formatDate)==null?"":_.escape(__t))+"</option>\r\n                    "})):(__p+="\r\n                    ",$.each(combineData[0],function(e,t){__p+='\r\n                    <option value="'+((__t=t.SnapshotSelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.ProjectSelection)==null?"":_.escape(__t))+'" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI" data-chartType="SPA">'+((__t=t.formatDate)==null?"":_.escape(__t))+"</option>\r\n                    "})),__p+='\r\n                </select>\r\n            </form>\r\n        </li>\r\n        <li class="divider"></li>\r\n        <li><button tabindex="-1" id="refresh" class="btn btn-default btn-block">Refresh</button></li>\r\n    </ul>\r\n    </span>\r\n        </h1>\r\n    </div>\r\n\r\n    <div id="horizontal">\r\n        <div>\r\n            <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n                <form class="form-inline">\r\n                    <div class="input-group">\r\n                        <div class="input-group-addon dashboardTitle">Hierachy</div>\r\n                        <select class="form-control" id="cpiSpiChange" >\r\n                            ',combineData[1].length<2?(__p+="\r\n                            ",$.each(combineData[1],function(e,t){__p+='\r\n                            <option value="'+((__t=t.HierarchySelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+"</option>\r\n                            "})):(__p+='\r\n                            <option value="">Select Hierarchy</option>\r\n                            ',$.each(combineData[1],function(e,t){__p+='\r\n                            <option value="'+((__t=t.HierarchySelection)==null?"":_.escape(__t))+'" data-title="'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+'" data-chartType="SPA">'+((__t=t.HierarchyDescription)==null?"":_.escape(__t))+"</option>\r\n                            "})),__p+='\r\n                        </select>\r\n                    </div>\r\n\r\n\r\n                </form>\r\n            </div>\r\n            <div id="treelist" style="height: 92%; border: 0"></div>\r\n        </div>\r\n        <div>\r\n            <div id="vertical">\r\n                <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n                    <form class="form-inline">\r\n                        <div class="col-xs-5 input-group">\r\n                            <select class="col-xs-6 form-control dataTypeAnalytics controller" id="dataType">\r\n                                <option value="Quantity" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">Hours</option>\r\n                                <option value="Material" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">Material</option>\r\n                                <option value="Costs" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">Total Cost</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <!--div class="col-xs-5 input-group">\r\n                            <select class="col-xs-6 form-control dataTypeAnalytics costType" id="costType" style="display: none;">\r\n                                <option value="IntValProjCurr" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">Internal Cost</option>\r\n                                <option value="ExtValProjCurr" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">External Cost</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class="input-group">\r\n                            <select class="col-lg-2 col-md-3 col-sm-4 col-xs-5 form-control" id="periodBack">\r\n                                <option value="2" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">2</option>\r\n                                <option value="4" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">4</option>\r\n                                <option value="6" data-id="spiCPI" data-temp="spiCPI" data-name="spiCPI">6</option>\r\n                            </select>\r\n                        </div-->\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    <div id="chart"></div>\r\n                    <div class="chart-loading"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';return __p}}),define("tpl!templates/footers/reportsFooter.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<nav class="navbar navbar-default navbar-fixed-bottom" style="padding :15px; background: black; border: none">\r\n    <div class="col-xs-6 navbar-header">\r\n        <div class="dropdown">\r\n            <!--a href="" class="dropdown-toggle" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n            <img src="../assets/img/settings.png">\r\n            </a-->\r\n        </div>\r\n    </div>\r\n    <div class="dropup"style="float:right">\r\n        <a href="" class="navbar-link dropdown-toggle" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n            <img src="./assets/img/export.png">\r\n        </a>\r\n        <ul class="dropdown-menu" aria-labelledby="dropdownMenu3" style="position: absolute; left: -80px; text-align: center; min-width: 100px;">\r\n            <li><span class="export-excel k-icon k-i-excel" style="cursor: pointer" data-id="" data-name="" data-sheet=""></span></li>\r\n            <li><span class="export-report-pdf k-icon k-i-pdf" style="cursor: pointer" data-id=""></span></li>\r\n        </ul>\r\n    </div>\r\n</nav>';return __p}}),define("tpl!templates/footers/blankFooter.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<nav class="navbar navbar-default navbar-fixed-bottom" style="padding :15px; background: black; border: none">\r\n    <div class="col-xs-6 navbar-header">\r\n        <div class="dropdown">\r\n            <!--a href="" class="dropdown-toggle" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n            <img src="./assets/img/settings.png">\r\n            </a-->\r\n        </div>\r\n    </div>\r\n</nav>';return __p}}),define("tpl!templates/footers/analyticsFooterA.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<nav class="navbar navbar-default navbar-fixed-bottom" style="padding :15px; background: black; border: none">\r\n    <div class="col-xs-6 navbar-header">\r\n        <div class="dropdown">\r\n            <a href="" class="dropdown-toggle" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                <img src="./assets/img/settings.png">\r\n            </a>\r\n            <ul class="dropdown-menu dropup-menu" aria-labelledby="dropdownMenu2">\r\n                <li class="dropdown-submenu">\r\n                    <a tabindex="-1" href="#">X-Axis</a>\r\n                    <ul class="dropdown-menu upOverride">\r\n                        <li><a tabindex="-1" href="#">From Date</a></li>\r\n                        <li><a tabindex="-1" href="#">To Date</a></li>\r\n                    </ul>\r\n                </li>\r\n                <li class="dropdown-submenu">\r\n                    <a tabindex="-1" href="#">Y-Axis</a>\r\n                    <ul class="dropdown-menu upOverride">\r\n                        <li><a tabindex="-1" href="#">Ones</a></li>\r\n                        <li><a tabindex="-1" href="#">Thousands</a></li>\r\n                        <li><a tabindex="-1" href="#">Millions</a></li>\r\n                        <li><a tabindex="-1" href="#">Billions</a></li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <div class="dropup"style="float:right">\r\n        <a href="" class="navbar-link dropdown-toggle" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n            <img src="./assets/img/export.png">\r\n        </a>\r\n        <ul class="dropdown-menu" aria-labelledby="dropdownMenu3" style="position: absolute; left: -80px; text-align: center; min-width: 100px;">\r\n            <li><span class="export-pdf k-icon k-i-pdf" style="cursor: pointer"></span></li>\r\n        </ul>\r\n    </div>\r\n</nav>';return __p}}),define("tpl!templates/footers/analyticsFooterB.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<nav class="navbar navbar-default navbar-fixed-bottom" style="padding :15px; background: black; border: none">\r\n    <div class="col-xs-6 navbar-header">\r\n    </div>\r\n    <div class="dropup"style="float:right">\r\n        <a href="" class="navbar-link dropdown-toggle" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n            <img src="./assets/img/export.png">\r\n        </a>\r\n        <ul class="dropdown-menu" aria-labelledby="dropdownMenu3" style="position: absolute; left: -80px; text-align: center; min-width: 100px;">\r\n            <li><span class="export-chart-pdf k-icon k-i-pdf" style="cursor: pointer" data-id=""></span></li>\r\n        </ul>\r\n    </div>\r\n</nav>';return __p}}),define("tpl!templates/spinner.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="spinner spinnerBkg"></div>';return __p}}),define("tpl!templates/reports/cpr1.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="wbsTable" data-temp="home" data-name="home" role="button" href="#">\r\n                <img src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR1 - WBS\r\n        <span class="pull-right dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n                class="k-icon k-i-hbars"></span></a>\r\n        <ul class="dropdown-menu" role="menu">\r\n            <li >\r\n                <a href="#" id="cprHierarchyToggle" tabindex="-1" data-temp="cpr1" data-sheet="CPR-1" data-hierarchy="" data-default="" style="cursor: pointer">Toggle Hiearchy</a>\r\n            </li>\r\n            <li class="divider"></li>\r\n            <li id="applyRAGButton" style="display: none">\r\n                <a tabindex="-1" href="#" id="applyRAG" style="cursor: pointer">Apply RAG</a>\r\n            </li>\r\n            <li id="clearRAGButton">\r\n                <a tabindex="-1" href="#" id="clearRAG" style="cursor: pointer">Clear RAG</a>\r\n            </li>\r\n        </ul>\r\n        </span>\r\n        </h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1">Hours</option>\r\n                    <option value="Material" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1">Material</option>\r\n                    <option value="Costs" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="wbsTable" data-temp="cpr1" data-name="CPR1_WBS" data-sheet="CPR-1">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="wbsTable" align="center" border=\'0\' cellspacing=\'0\' cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'20\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cpr1Title" colspan=\'20\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT 1 - WBS (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'20\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'5\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[2].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                   "+((__t=combineData[2].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='8'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[2].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='8'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='7'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CURRENT PERIOD\r\n            </td>\r\n            <td colspan='7'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CUMULATIVE TO DATE\r\n            </td>\r\n            <td colspan='4'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                AT COMPLETION\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGETED COST\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACTUAL COST\r\n            </td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGETED COST\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACTUAL COST\r\n            </td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WBS ITEM\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                DESCRIPTION\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK SCHEDULED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SCHEDULE\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                COST\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK SCHEDULED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SCHEDULE\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                COST\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n            <td style='text-align: center; text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET AT COMPLETION\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ETC/CPI (Calculated)\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EAC (Calculated)\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE AT COMPLETION\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- FOR EACH ITEM -->\r\n        ",_.each(combineData[1],function(e,t){__p+="\r\n        ",e.isChild||t===0?__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="child'+((__t=e.ParentObjNum)==null?"":_.escape(__t))+"\">\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.ExtID)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ":__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="parent">\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                <div class="getChildren" data-id="'+((__t=e.ObjectNumber)==null?"":_.escape(__t))+'" role="button">\r\n                    <i class="glyphicon glyphicon-minus"></i> '+((__t=e.ExtID)==null?"":_.escape(__t))+"\r\n                </div>\r\n            </td>\r\n            ",__p+="\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.Description)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curAcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrSV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrCV)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=e.totals.curSPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=e.totals.curSPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curSPI)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curCPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.acwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.sv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.cv)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=e.totals.spiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=e.totals.spiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.spi)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=e.totals.cpiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=e.totals.cpiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.cpi)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.ETC_CPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.eacTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.vac)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n        "}),__p+="\r\n        <!-- END OF FOR EACH -->\r\n        <tr>\r\n            <td colspan=\"2\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                OVERHEAD\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td align="center" valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td valign="middle" style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.eacOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\" style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n       <!-- <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                COST OF MONEY\r\n            </td>\r\n\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvCom)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvCom)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svCom)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvCom)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.eacCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>-->\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                GENERAL & ADMINISTRATIVE\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.eacGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNDISTRIBUTED BUDGET\r\n            </td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsUB)==null?"":_.escape(__t))+"</td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>0</td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsUB)==null?"":_.escape(__t))+"</td>\r\n        </tr>\r\n\r\n\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SUB TOTAL [PMB]\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curracwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bacAllSubBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.eacAllBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                MANAGEMENT RESERVE\r\n            </td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsMR)==null?"":_.escape(__t))+"</td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TOTAL\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curracwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bacAllBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n            </td>\r\n            <td style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n            </td>\r\n        </tr>\r\n        <!--%-combineData[1][0].com.eacAllBelow%-->\r\n        <!--%-combineData[1][0].com.vacBelow%-->\r\n        <tr>\r\n            <td colspan='10' style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='5' style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='5' style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20' style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cpr2.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="orgCatTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img\r\n                    src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR2 - OBS\r\n        <span class="pull-right dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n                class="k-icon k-i-hbars"></span></a>\r\n        <ul class="dropdown-menu" role="menu">\r\n            <li >\r\n                <a href="#" id="cprHierarchyToggle" tabindex="-1" data-temp="cpr2" data-sheet="CPR-2" data-hierarchy="" data-default="" style="cursor: pointer">Toggle Hiearchy</a>\r\n            </li>\r\n            <li class="divider"></li>\r\n            <li id="applyRAGButton" style="display: none">\r\n                <a tabindex="-1" href="#" id="applyRAG" style="cursor: pointer">Apply RAG</a>\r\n            </li>\r\n            <li id="clearRAGButton">\r\n                <a tabindex="-1" href="#" id="clearRAG" style="cursor: pointer">Clear RAG</a>\r\n            </li>\r\n        </ul>\r\n        </span></h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2">Hours</option>\r\n                    <option value="Material" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2">Material</option>\r\n                    <option value="Costs" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="orgCatTable" data-temp="cpr2" data-name="CPR2_OBS" data-sheet="CPR-2">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="orgCatTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'20\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cpr2Title" colspan=\'20\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT 2 - OBS (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'20\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'5\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[2].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='8'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[2].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='8'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='7'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CURRENT PERIOD\r\n            </td>\r\n            <td colspan='7'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CUMULATIVE TO DATE\r\n            </td>\r\n            <td colspan='4'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                AT COMPLETION\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGETED COST\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACTUAL COST\r\n            </td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGETED COST\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACTUAL COST\r\n            </td>\r\n            <td colspan='2'\r\n                style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WBS ITEM\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                DESCRIPTION\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK SCHEDULED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SCHEDULE\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                COST\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK SCHEDULED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                WORK PERFORMED\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SCHEDULE\r\n            </td>\r\n            <td style='text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                COST\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET AT COMPLETION\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ETC/CPI (Calculated)\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EAC (Calculated)\r\n            </td>\r\n            <td style='text-align: center; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE AT COMPLETION\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- FOR EACH ITEM -->\r\n        ",$.each(combineData[1],function(e,t){__p+="\r\n        ",t.isChild||e===0?__p+='\r\n        <tr data-type="'+((__t=t.Type)==null?"":_.escape(__t))+'" class="child'+((__t=t.ParentObjNum)==null?"":_.escape(__t))+"\">\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.ExtID)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ":__p+='\r\n        <tr data-type="'+((__t=t.Type)==null?"":_.escape(__t))+'" class="parent">\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                <div class="getChildren" data-id="'+((__t=t.ObjectNumber)==null?"":_.escape(__t))+'" role="button">\r\n                    <i class="glyphicon glyphicon-minus"></i> '+((__t=t.ExtID)==null?"":_.escape(__t))+"\r\n                </div>\r\n            </td>\r\n            ",__p+="\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.Description)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.curBcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.curBcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.curAcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.CurrSV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.CurrCV)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=t.totals.curSPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=t.totals.curSPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.curSPI)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=t.totals.curCPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=t.totals.curCPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.curCPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.bcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.acwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.sv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.cv)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=t.totals.spiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=t.totals.spiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.spi)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=t.totals.cpiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=t.totals.cpiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.cpi)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.bac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.ETC_CPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.eacTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.totals.vac)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n        "}),__p+="\r\n        <!-- END OF FOR EACH -->\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                OVERHEAD\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsOH)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.eacOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacOH)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <!--tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cost Of Money\r\n            </td>\r\n\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvCom)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvCom)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svCom)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvCom)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" valign=\"middle\"\r\n                style=' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.eacCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacCOM)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr-->\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                GENERAL & ADMINISTRATIVE\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwsGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curbcwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curacwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSvGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCvGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.bcwsGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.allbcwsGA)==null?"":_.escape(__t))+'\r\n            </td>\r\n\r\n            <td align="center" valign="middle"\r\n                style=\' border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                -\r\n            </td>\r\n            <td valign="middle"\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1][0].com.eacGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td valign=\"middle\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacGA)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNDISTRIBUTED BUDGET\r\n            </td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsUB)==null?"":_.escape(__t))+"</td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>0</td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsUB)==null?"":_.escape(__t))+"</td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SUB TOTAL [PMB]\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curracwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bacAllSubBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.eacAllBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.vacBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                MANAGEMENT RESERVE\r\n            </td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=combineData[1][0].com.bcwsMR)==null?"":_.escape(__t))+"</td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\" style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\"2\"\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TOTAL\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.currbcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.curracwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrSVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.CurrCVBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwsBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bcwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.acwpBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.svBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.cvBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1][0].com.bacAllBelow)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td align=\"center\" style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='14'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='3'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cpr3.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n    <span class="pull-left">\r\n        <a class="homeTpl" data-id="baselineTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img\r\n                src="./assets/img/home.png"></a>\r\n    </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR3 - Baseline</h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="baselineTable" data-temp="cpr3" data-name="CPR3_Baseline" data-sheet="CPR-3">Hours</option>\r\n                    <option value="Costs" data-id="baselineTable" data-temp="cpr3" data-name="CPR3_Baseline" data-sheet="CPR-3">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="baselineTable" data-temp="cpr3" data-name="CPR3_Baseline" data-sheet="CPR-3">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="baselineTable" data-temp="cpr3" data-name="CPR3_Baseline" data-sheet="CPR-3">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="baselineTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'16\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cpr3Title" colspan=\'16\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT 3 - BASELINE (TOTAL COST)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'16\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[1].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='16'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[1].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='16'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS\r\n            </td>\r\n            <td colspan='11'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGETED COST FOR WORK SCHEDULED (BCWS) (Non-Cumulative)\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CUMULA-\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                FOR\r\n            </td>\r\n            <td colspan='6'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SIX MONTH FORECAST\r\n            </td>\r\n            <td colspan='5'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ENTER SPECIFIED PERIODS\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNDISTRIB\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TOTAL\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TIVE TO\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                REPORT\r\n            </td>\r\n\r\n            ",_.each(combineData[0].forcast.current,function(e,t){__p+="\r\n            ",e.order<7&&(__p+="\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=e.month)==null?"":_.escape(__t))+"\r\n            </td>\r\n            "),__p+="\r\n            "}),__p+="\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TC\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ITEM\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                DATE\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                PERIOD\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [1]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [2]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [3]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [4]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [5]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [6]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [7]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [8]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [9]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [10]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [11]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [12]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [13]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [14]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [15]\r\n            </td>\r\n            <td colspan='1'\r\n                style='text-align: center; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [16]\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                a. PERFORMANCE\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                MEASUREMENT\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BASELINE\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [Beginning of Period]\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsFP)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].curBcwsTotalFP)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n\r\n            ",_.each(combineData[0].forcast.past,function(e,t){__p+="\r\n            ",e.order<=6&&(__p+="\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=e.total)==null?"":_.escape(__t))+"\r\n            </td>\r\n            "),__p+="\r\n            "}),__p+="\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsUBFP)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsTotalFP)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                b. BASELINE CHANGES\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                AUTHORIZED\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                DURING REPORT\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                PERIOD\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <!-- FOR EACH ITEM -->\r\n        ",$.each(combineData[2],function(e,t){__p+="\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>"+((__t=t.ChangeNumber)==null?"":_.escape(__t))+"</td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>"+((__t=parseFloat(t.Value).toFixed(0))==null?"":_.escape(__t))+"</td>\r\n        </tr>\r\n        "}),__p+="\r\n        <!-- END OF FOR EACH -->\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                c. PERFORMANCE\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                MEASUREMENT\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BASELINE\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                [End of Period]\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\" style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n\r\n            ",_.each(combineData[0].forcast.current,function(e,t){__p+="\r\n            ",e.order<=6&&(__p+="\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=e.total)==null?"":_.escape(__t))+"\r\n            </td>\r\n            "),__p+="\r\n            "}),__p+="\r\n\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan='1' style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsUB)==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].subBAC)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- -->\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                7. MANAGEMENT\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:none; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                RESERVE\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:none; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].bcwsMR)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                8. TOTAL\r\n            </td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1' class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[0].totalBAC)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='10'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='3'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='16'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cpr4.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n    <span class="pull-left">\r\n        <a class="homeTpl" data-id="staffingTable" data-temp="#indexTpl" data-name="home" role="button" href="#"><img\r\n                src="./assets/img/home.png"></a>\r\n    </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR4 -\r\n            Staffing/Forecast</h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4">Hours</option>\r\n                    <option value="Material" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4">Material</option>\r\n                    <option value="Costs" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="staffingTable" data-temp="cpr4" data-name="CPR4_Staffing_Forecast" data-sheet="CPR-4">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="staffingTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'14\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cpr4Title" colspan=\'14\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT 4 - STAFFING/FORECAST (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'14\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'1\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[3].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='14'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[3].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Hours\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                FY11/12\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                FY12/13\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                FY13/14Q123\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Cumulative\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                in Year\r\n            </td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                FY15/16\r\n            </td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Baseline Plan (Period)\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Planned\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Baseline Plan (Period)\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Earned\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Earned\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Earned\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actuals/Forecast Last Period\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actuals/Forecast Last Period\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actual/Forecast, this period\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actuals\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actual/Forecast, this period\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Change\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            <td colspan=\"2\"\r\n                style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Change\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Change\r\n            </td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:none; border-bottom:none; border-left:none; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        ",$.each(combineData[1],function(e,t){__p+="\r\n        ";if(_.isEmpty(t))return;__p+="\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Hours\r\n            </td>\r\n            ";for(var n=0;n<12;n++)__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].months[n])==null?"":_.escape(__t))+"-"+((__t=e)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ";__p+="\r\n\r\n            ";var r=e+1;r===combineData[1].length?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                At-"+((__t=combineData[2].months[11])==null?"":_.escape(__t))+"-"+((__t=e)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ":__p+="\r\n            <td style='border-top:none; border-bottom:none; border-left:1px solid black; border-right:none; font-size:12px; padding:2px'></td>\r\n            ",__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Baseline Plan (Period)\r\n            </td>\r\n            ";for(var i=1;i<13;i++)__p+="\r\n            ",_.isUndefined(t.bcws)?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            ":_.isUndefined(t.bcws[i])?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            ":__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.bcws[i].Quantity.toFixed(0))==null?"":_.escape(__t))+"\r\n            </td>\r\n            ",__p+="\r\n            ";__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Earned\r\n            </td>\r\n            ";for(var s=1;s<13;s++)__p+="\r\n            ",_.isUndefined(t.bcwp)?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            ":_.isUndefined(t.bcwp[s])?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            ":__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.bcwp[s].Quantity.toFixed(0))==null?"":_.escape(__t))+"\r\n            </td>\r\n            ",__p+="\r\n            ";__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actuals/Forecast Last Period\r\n            </td>\r\n            ";for(var o=1;o<13;o++)__p+="\r\n            ",_.isUndefined(t.eac)?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            ":_.isUndefined(t.eac[o])?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            ":__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.eac[o].Quantity.toFixed(0))==null?"":_.escape(__t))+"\r\n            </td>\r\n            ",__p+="\r\n            ";__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Actual/Forecast, this period\r\n            </td>\r\n            ";for(var u=1;u<13;u++)__p+="\r\n            ",_.isUndefined(t.acwp)?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                -\r\n            </td>\r\n            ":_.isUndefined(t.acwp[u])?__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            ":__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=t.acwp[u].Quantity.toFixed(0))==null?"":_.escape(__t))+"\r\n            </td>\r\n            ",__p+="\r\n            ";__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Change\r\n            </td>\r\n            ";for(var a=1;a<13;a++)__p+="\r\n            <td style='border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                0\r\n            </td>\r\n            ";__p+="\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='border-top:1px solid black; border-bottom:none; border-left:none; border-right:none; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        "}),__p+="\r\n\r\n        <tr>\r\n            <td colspan='8'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='3'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='14'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cpr5.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n    <span class="pull-left">\r\n        <a class="homeTpl" data-id="eAndPAnalysesTable" data-temp="#indexTpl" data-name="home" role="button"\r\n           href="#"><img src="./assets/img/home.png"></a>\r\n    </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR5 - VAR\r\n        <span class="pull-right dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n                class="k-icon k-i-hbars"></span></a>\r\n        <ul class="dropdown-menu" role="menu">\r\n            <!--li><a tabindex="-1" href="#" style="cursor: pointer"><input id="picker" /></a></li>\r\n            <li><a tabindex="-1" href="#" id="clearPicker" style="cursor: pointer">Clear All Color</a></li>\r\n            <li-- role="separator" class="divider"></li-->\r\n            <li id="applyRAGButton" style="display: none"><a tabindex="-1" href="#" id="applyRAG"\r\n                                                             style="cursor: pointer">Apply RAG</a></li>\r\n            <li id="clearRAGButton"><a tabindex="-1" href="#" id="clearRAG" style="cursor: pointer">Clear RAG</a></li>\r\n        </ul>\r\n        </span></h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5">Hours</option>\r\n                    <option value="Material" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5">Material</option>\r\n                    <option value="Costs" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="eAndPAnalysesTable" data-temp="cpr5" data-name="CPR5_VAR" data-sheet="CPR-5">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="eAndPAnalysesTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'13\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cpr5Title" colspan=\'13\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT 5 - VAR (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'13\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'2\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'1\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[3].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[3].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='2' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[3].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='2'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                LRE\r\n            </td>\r\n            <td colspan='9'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                VAC\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#0066CC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                >1.2\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='text-align: right; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Min\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='9'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#009933; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                0.95 - 1.2\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='text-align: right; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Most Likely\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='9'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#FF9933; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                0.9 - 0.95\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td style='text-align: right; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Max\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='9'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#FF0000; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                <0.9\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Labour\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Current budget (BAC)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Planned (BCWS)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Earned (BCWP)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Actual (ACWP)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Cost Variance (CV)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Schedule (SV)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Cost Perf (CPI)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Schedule Perf (SPI)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Calculated (EAC)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                Budget Variance (VAR)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TCPI (BAC)\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='text-align: center; background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TCPI (EAC)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; font-weight: bold; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Period\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].curBcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].curBcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].curAcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].CurrSV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].CurrSV)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=combineData[1].curCPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=combineData[1].curCPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].curCPI)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=combineData[1].curSPIColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=combineData[1].curSPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].curSPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].eacCum)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].vac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n\r\n            </td>\r\n            <td style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#CCC; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; font-weight: bold; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Cum\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].bac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].bcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].acwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].cv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].sv)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=combineData[1].cpiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=combineData[1].cpiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].cpi)==null?"":_.escape(__t))+'\r\n            </td>\r\n            <td class="no-paint rag" data-colour="'+((__t=combineData[1].spiColour)==null?"":_.escape(__t))+"\"\r\n                style='background-color:"+((__t=combineData[1].spiColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].spi)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].eacCum)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].vac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].BAC_TCPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[1].EAC_TCPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td class=\"no-paint\" colspan=\"2\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; font-weight: bold; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                Last month\r\n            </td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td class=\"no-paint\"\r\n                style='background-color:#999; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EVALUATION\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id=\"cpr5Eval\" colspan='13'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                "+((__t=combineData[2].ReportText)==null?"":__t)+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='7'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='3'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='13'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cprTWBS.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="trendTable" data-temp="home" data-name="home" role="button" href="#"><img\r\n                    src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR Trend - WBS\r\n        <span class="pull-right dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n                class="k-icon k-i-hbars"></span></a>\r\n        <ul class="dropdown-menu" role="menu">\r\n            <li>\r\n                <a href="#" id="cprHierarchyToggle" tabindex="-1" data-temp="cprTWBS" data-sheet="CPR-TWBS" data-hierarchy="" data-default="" style="cursor: pointer">Toggle Hiearchy</a>\r\n            </li>\r\n            <li class="divider"></li>\r\n            <li id="applyRAGButton" style="display: none">\r\n                <a tabindex="-1" href="#" id="applyRAG" style="cursor: pointer">Apply RAG</a>\r\n            </li>\r\n            <li id="clearRAGButton">\r\n                <a tabindex="-1" href="#" id="clearRAG" style="cursor: pointer">Clear RAG</a>\r\n            </li>\r\n        </ul>\r\n        </span></h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS">Hours</option>\r\n                    <option value="Material" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS">Material</option>\r\n                    <option value="Costs" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="trendTable" data-temp="cprTWBS" data-name="CPR_TrendWBS" data-sheet="CPR-TWBS">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="trendTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'27\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cprTWTitle" colspan=\'27\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT TREND - WBS (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'27\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'5\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[2].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='8'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='7'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[2].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='8'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='7'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Work Element by WBS\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Current Period\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cumulative to Date\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                At Completion\r\n            </td>\r\n            <td colspan='12'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI CPI Trend (over 6months)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Budgeted Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACWP\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Variance\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Budgeted Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACWP\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Variance\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET AT COMPLETION\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ETC/CPI (Calculated)\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EAC (Calculated)\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE AT COMPLETION\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS Work Scheduled\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWP Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Actual Cost of Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Schedule\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS Work Scheduled\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWP Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Actual Cost of Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Schedule\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Now\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -1\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -2\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -3\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -4\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -5\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Now\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -1\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -2\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -3\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -4\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -5\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- FOR EACH ITEM -->\r\n        ",_.each(combineData[1],function(e,t){__p+="\r\n        ",e.isChild||t===0?__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="child'+((__t=e.ParentObjNum)==null?"":_.escape(__t))+"\">\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.ExtID)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ":__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="parent">\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                <div class="getChildren" data-id="'+((__t=e.ObjectNumber)==null?"":_.escape(__t))+'" role="button">\r\n                    <i class="glyphicon glyphicon-minus"></i> '+((__t=e.ExtID)==null?"":_.escape(__t))+" - "+((__t=e.Description)==null?"":_.escape(__t))+"\r\n                </div>\r\n            </td>\r\n            ",__p+="\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curAcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrSV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrCV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.acwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.sv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.cv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.ETC_CPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.eacTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.vac)==null?"":_.escape(__t))+"\r\n            </td>\r\n        ";if(!_.isEmpty(e.trend)){__p+="\r\n        ";for(var n=e.trend.length-1;n>=0;n--)__p+="\r\n        ",n>=e.trend.length-6?__p+='\r\n        <td colspan=\'1\' class="no-paint rag" data-colour="'+((__t=e.trend[n].SPIColour)==null?"":_.escape(__t))+'" title="'+((__t=e.trend[n].SnapshotDate)==null?"":_.escape(__t))+"\" style='background-color:"+((__t=e.trend[n].SPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=e.trend[n].SPI)==null?"":_.escape(__t))+"</td>\r\n        ":__p+="\r\n        ",__p+="\r\n        ";__p+="\r\n        "}else __p+="\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        ";__p+='\r\n        <!-- <td class="no-paint rag" data-colour="'+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"\" colspan='1' style='background-color:"+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n             "+((__t=e.totals.curCPI)==null?"":_.escape(__t))+"\r\n         </td>-->\r\n        ";if(!_.isEmpty(e.trend)){__p+="\r\n        ";for(var n=e.trend.length-1;n>=0;n--)__p+="\r\n        ",n>=e.trend.length-6?__p+='\r\n        <td colspan=\'1\' class="no-paint rag" data-colour="'+((__t=e.trend[n].CPIColour)==null?"":_.escape(__t))+'" title="'+((__t=e.trend[n].SnapshotDate)==null?"":_.escape(__t))+"\" style='background-color:"+((__t=e.trend[n].CPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=e.trend[n].CPI)==null?"":_.escape(__t))+"</td>\r\n        ":__p+="\r\n        ",__p+="\r\n        ";__p+="\r\n        "}else __p+="\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        ";__p+="\r\n        </tr>\r\n        "}),__p+="\r\n        <!-- END OF FOR EACH -->\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='4'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/cprTOBS.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="trendTable" data-temp="home" data-name="home" role="button" href="#"><img\r\n                    src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">CPR Trend - OBS\r\n        <span class="pull-right dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span\r\n                class="k-icon k-i-hbars"></span></a>\r\n        <ul class="dropdown-menu" role="menu">\r\n            <li>\r\n                <a href="#" id="cprHierarchyToggle" tabindex="-1" data-temp="cprTOBS" data-sheet="CPR-TOBS" data-hierarchy="" data-default="" style="cursor: pointer">Toggle Hiearchy</a>\r\n            </li>\r\n            <li class="divider"></li>\r\n            <li id="applyRAGButton" style="display: none">\r\n                <a tabindex="-1" href="#" id="applyRAG" style="cursor: pointer">Apply RAG</a>\r\n            </li>\r\n            <li id="clearRAGButton">\r\n                <a tabindex="-1" href="#" id="clearRAG" style="cursor: pointer">Clear RAG</a>\r\n            </li>\r\n        </ul>\r\n        </span></h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS">Hours</option>\r\n                    <option value="Material" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS">Material</option>\r\n                    <option value="Costs" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS">Total Cost</option>\r\n                </select>\r\n            </div>\r\n            <!--div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType costType" id="costType" style="display: none;">\r\n                    <option value="IntValProjCurr" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS">Internal Cost</option>\r\n                    <option value="ExtValProjCurr" data-id="trendTable" data-temp="cprTOBS" data-name="CPR_TrendOBS" data-sheet="CPR-TOBS">External Cost</option>\r\n                </select>\r\n            </div-->\r\n        </form>\r\n    </div>\r\n\r\n    <table class="animated fadeIn exportTable" id="trendTable" align="center" border=\'0\' cellspacing=\'0\'\r\n           cellpadding=\'0\'>\r\n        <tr>\r\n            <td colspan=\'27\'\r\n                style=\'text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td id="cprTOTitle" colspan=\'27\'\r\n                style=\'text-align: center; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CPR FORMAT TREND - OBS (MANHOURS)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'27\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONTRACTOR\r\n            </td>\r\n            <td colspan=\'3\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                CONT. TYPE\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NAME\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                PROGRAMME NO.\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                REPORT PERIOD\r\n            </td>\r\n            <td colspan=\'4\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px\'>\r\n                FROM\r\n            </td>\r\n            <td colspan=\'5\'\r\n                style=\'border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                '+((__t=combineData[2].ReportStartDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractType)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramName)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ProgramNumber)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-weight: bold; font-size:12px; padding:2px'>\r\n                TO\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ReportEndDate)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCATION\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                NEGOTIATED COST\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. COST AUTH UNPRICED WORK\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PROFIT\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                TARGET PRICE\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ESTIMATED PRICE\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].ContractorStreet1)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].NegotiatedCost)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].AuthorizedUnpricedWork)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetProfit)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].TargetPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                QUANTITY\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                UNITS\r\n            </td>\r\n            <td colspan='8'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CONTRACT CEILING\r\n            </td>\r\n            <td colspan='7'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EST. CONT. CEILING\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].RDQuantity)==null?"":_.escape(__t))+" / "+((__t=combineData[2].ProductionQuantity)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='4' id=\"units\"\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>HRS</td>\r\n            <td colspan='8'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='4'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].CeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='7'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=combineData[2].EstimatedCeilingPrice)==null?"":_.escape(__t))+"\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='border-top:1px solid black; border-bottom:1px solid black; font-size:12px; padding:2px'></td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Work Element by OBS\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Current Period\r\n            </td>\r\n            <td colspan='5'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cumulative to Date\r\n            </td>\r\n            <td colspan='4'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                At Completion\r\n            </td>\r\n            <td colspan='12'\r\n                style='border-top:1px solid black; border-left:1px solid black;  border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI CPI Trend (over 6months)\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Budgeted Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACWP\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Variance\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Budgeted Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ACWP\r\n            </td>\r\n            <td colspan='2'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Variance\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BUDGET AT COMPLETION\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                ETC/CPI (Calculated)\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                EAC (Calculated)\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                VARIANCE AT COMPLETION\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                SPI\r\n            </td>\r\n            <td colspan='6'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                CPI\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS Work Scheduled\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWP Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Actual Cost of Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Schedule\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWS Work Scheduled\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                BCWP Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Actual Cost of Work Performed\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Schedule\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Cost\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'></td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Now\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -1\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -2\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -3\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -4\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -5\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                Now\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -1\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -2\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -3\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -4\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; font-weight: bold; padding:2px'>\r\n                -5\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- FOR EACH ITEM -->\r\n        ",_.each(combineData[1],function(e,t){__p+="\r\n        ",e.isChild||t===0?__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="child'+((__t=e.ParentObjNum)==null?"":_.escape(__t))+"\">\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.ExtID)==null?"":_.escape(__t))+"\r\n            </td>\r\n            ":__p+='\r\n        <tr data-type="'+((__t=e.Type)==null?"":_.escape(__t))+'" class="parent">\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px\'>\r\n                <div class="getChildren" data-id="'+((__t=e.ObjectNumber)==null?"":_.escape(__t))+'" role="button">\r\n                    <i class="glyphicon glyphicon-minus"></i> '+((__t=e.ExtID)==null?"":_.escape(__t))+" - "+((__t=e.Description)==null?"":_.escape(__t))+"\r\n                </div>\r\n            </td>\r\n            ",__p+="\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curBcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curAcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrSV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.CurrCV)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwsTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bcwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.acwpTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.sv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.cv)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.bac)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.ETC_CPI)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.eacTotal)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td colspan='1'\r\n                style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.vac)==null?"":_.escape(__t))+'\r\n            </td>\r\n          <!--  <td class="no-paint rag" data-colour="'+((__t=e.totals.curSPIColour)==null?"":_.escape(__t))+"\" colspan='1' style='background-color:"+((__t=e.totals.curSPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e.totals.curSPI)==null?"":_.escape(__t))+"\r\n            </td>-->\r\n        ";if(!_.isEmpty(e.trend)){__p+="\r\n        ";for(var n=e.trend.length-1;n>=0;n--)__p+="\r\n            ",n>=e.trend.length-6?__p+='\r\n                <td colspan=\'1\' class="no-paint rag" data-colour="'+((__t=e.trend[n].SPIColour)==null?"":_.escape(__t))+'" title="'+((__t=e.trend[n].SnapshotDate)==null?"":_.escape(__t))+"\" style='background-color:"+((__t=e.trend[n].SPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=e.trend[n].SPI)==null?"":_.escape(__t))+"</td>\r\n            ":__p+="\r\n            ",__p+="\r\n        ";__p+="\r\n        "}else __p+="\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        ";__p+='\r\n       <!-- <td class="no-paint rag" data-colour="'+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"\" colspan='1' style='background-color:"+((__t=e.totals.curCPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n            "+((__t=e.totals.curCPI)==null?"":_.escape(__t))+"\r\n        </td>-->\r\n        ";if(!_.isEmpty(e.trend)){__p+="\r\n        ";for(var n=e.trend.length-1;n>=0;n--)__p+="\r\n            ",n>=e.trend.length-6?__p+='\r\n                <td colspan=\'1\' class="no-paint rag" data-colour="'+((__t=e.trend[n].CPIColour)==null?"":_.escape(__t))+'" title="'+((__t=e.trend[n].SnapshotDate)==null?"":_.escape(__t))+"\" style='background-color:"+((__t=e.trend[n].CPIColour)==null?"":_.escape(__t))+"; border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>"+((__t=e.trend[n].CPI)==null?"":_.escape(__t))+"</td>\r\n            ":__p+="\r\n            ",__p+="\r\n        ";__p+="\r\n        "}else __p+="\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n        ";__p+="\r\n\r\n            <!--\r\n\r\n            <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>\r\n            <td colspan='1' style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'></td>-->\r\n        </tr>\r\n        "}),__p+="\r\n        <!-- END OF FOR EACH -->\r\n\r\n        <tr>\r\n            <td colspan='20'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                DD FORM 2734/1, APR 2005\r\n            </td>\r\n            <td colspan='3'\r\n                style='border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                PREVIOUS EDITION IS OBSOLETE.\r\n            </td>\r\n            <td colspan='4'\r\n                style='text-align: right; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                LOCAL REPRODUCTION AUTHORIZED.\r\n            </td>\r\n        </tr>\r\n\r\n        <tr>\r\n            <td colspan='27'\r\n                style='text-align: center; border-top:none; border-left:none; border-bottom:none; border-right:none; font-size:12px; font-weight: bold; padding:2px'>\r\n                CLASSIFICATION (when filled in)\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>";return __p}}),define("tpl!templates/reports/foo.html",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="panel panel-default"\r\n     style="background-color: transparent; margin-bottom: 100px; box-shadow: none; border: none">\r\n    <div class="panel-heading" style="margin-bottom: 20px">\r\n        <span class="pull-left">\r\n            <a class="homeTpl" data-id="wbsTable" data-temp="home" data-name="home" role="button" href="#">\r\n                <img src="./assets/img/home.png"></a>\r\n        </span>\r\n\r\n        <h1 class="panel-title" style="font-size: 30px; font-weight: bold;  text-align: center">FOO REPORT</h1>\r\n    </div>\r\n\r\n    <div style="border: 0; padding-bottom: 10px; padding-top: 10px">\r\n        <form class="form-inline">\r\n            <div class="col-xs-5 input-group">\r\n                <select class="col-xs-6 form-control dataType controller" id="dataType">\r\n                    <option value="Quantity" data-id="fooTable" data-temp="foo" data-name="FOO_REPORT" data-sheet="FOO_REPORT">Hours</option>\r\n                    <option value="Material" data-id="fooTable" data-temp="foo" data-name="FOO_REPORT" data-sheet="FOO_REPORT">Material</option>\r\n                    <option value="Costs" data-id="fooTable" data-temp="foo" data-name="FOO_REPORT" data-sheet="FOO_REPORT">Total Cost</option>\r\n                </select>\r\n            </div>\r\n        </form>\r\n    </div>\r\n\r\n    <br>\r\n    <br>\r\n\r\n    <table class="animated fadeIn exportTable" id="fooTable" align="center" border=\'0\' cellspacing=\'0\' cellpadding=\'0\'>\r\n\r\n\r\n        <tr  class="">\r\n            <td style=\'border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:5px 10px;\'>\r\n                '+((__t=combineData[1].title.ExtID)==null?"":_.escape(__t))+"\r\n            </td>\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:5px 10px;'>\r\n                OBS\r\n            </td>\r\n\r\n            ",_.each(combineData[1].dates,function(e,t){__p+="\r\n            <td style='font-weight:bold;border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:5px 10px;'>\r\n                "+((__t=e.Date)==null?"":_.escape(__t))+"\r\n            </td>\r\n            "}),__p+="\r\n        </tr>\r\n        ",_.each(combineData[1].obs,function(e,t){__p+="\r\n        <tr  class=\"\">\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=_.last(combineData[1].default[t].Description.split("-")))==null?"":_.escape(__t))+"\r\n            </td>\r\n\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                <!--"+((__t=_.last(combineData[1].obs[t].Description.split("-")).split(" ")[2])==null?"":_.escape(__t))+" "+((__t=_.last(combineData[1].obs[t].Description.split("-")).split(" ")[3])==null?"":_.escape(__t))+"-->\r\n                "+((__t=_.first(e.Description.split("-")))==null?"":_.escape(__t))+" "+((__t=_.last(e.Description.split("-")))==null?"":_.escape(__t))+"\r\n            </td>\r\n            ",_.each(e.Total,function(e){__p+="\r\n            <td style='border-top:1px solid black; border-left:1px solid black; border-bottom:1px solid black; border-right:1px solid black; font-size:12px; padding:2px'>\r\n                "+((__t=e)==null?"":_.escape(__t))+"\r\n            </td>\r\n            "}),__p+="\r\n        </tr>\r\n         "}),__p+="\r\n\r\n    </table>\r\n</div>";return __p}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("jszip",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.JSZip=e()}}(function(){return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return i(n?n:e)},h,h.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,o,u,a,f="",l=0;l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),s=t>>2,o=(3&t)<<4|n>>4,u=(15&n)<<2|i>>6,a=63&i,isNaN(n)?u=a=64:isNaN(i)&&(a=64),f=f+r.charAt(s)+r.charAt(o)+r.charAt(u)+r.charAt(a);return f},n.decode=function(e){var t,n,i,s,o,u,a,f="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)s=r.indexOf(e.charAt(l++)),o=r.indexOf(e.charAt(l++)),u=r.indexOf(e.charAt(l++)),a=r.indexOf(e.charAt(l++)),t=s<<2|o>>4,n=(15&o)<<4|u>>2,i=(3&u)<<6|a,f+=String.fromCharCode(t),64!=u&&(f+=String.fromCharCode(n)),64!=a&&(f+=String.fromCharCode(i));return f}},{}],2:[function(e,t){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=n},{}],3:[function(e,t,n){"use strict";n.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":8}],4:[function(e,t){"use strict";var n=e("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var i="string"!==n.getTypeOf(e);"undefined"==typeof t&&(t=0);var s=0,o=0,u=0;t=-1^t;for(var a=0,f=e.length;f>a;a++)u=i?e[a]:e.charCodeAt(a),o=255&(t^u),s=r[o],t=t>>>8^s;return-1^t}},{"./utils":21}],5:[function(e,t){"use strict";function n(){this.data=null,this.length=0,this.index=0}var r=e("./utils");n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=n},{"./utils":21}],6:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.comment=null},{}],7:[function(e,t,n){"use strict";var r=e("./utils");n.string2binary=function(e){return r.string2binary(e)},n.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},n.uint8Array2String=function(e){return r.transformTo("string",e)},n.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return r.transformTo(e,t)},n.getTypeOf=function(e){return r.getTypeOf(e)},n.checkSupport=function(e){return r.checkSupport(e)},n.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,n.pretty=function(e){return r.pretty(e)},n.findCompression=function(e){return r.findCompression(e)},n.isRegExp=function(e){return r.isRegExp(e)}},{"./utils":21}],8:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako");n.uncompressInputType=r?"uint8array":"array",n.compressInputType=r?"uint8array":"array",n.magic="\b\0",n.compress=function(e){return i.deflateRaw(e)},n.uncompress=function(e){return i.inflateRaw(e)}},{pako:24}],9:[function(e,t){"use strict";function n(e,t){return this instanceof n?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void (this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new n(e,t)}var r=e("./base64");n.prototype=e("./object"),n.prototype.load=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.utils=e("./deprecatedPublicUtils"),n.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},n.compressions=e("./compressions"),t.exports=n},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(e,t){"use strict";var n=e("./base64"),r=e("./zipEntries");t.exports=function(e,t){var i,s,o,u;for(t=t||{},t.base64&&(e=n.decode(e)),s=new r(e,t),i=s.files,o=0;o<i.length;o++)u=i[o],this.file(u.fileName,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileComment.length?u.fileComment:null,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(e,t){(function(e){"use strict";t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(e,t){"use strict";function n(e){this.data=e,this.length=this.data.length,this.index=0}var r=e("./uint8ArrayReader");n.prototype=new r,n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./uint8ArrayReader":18}],13:[function(e,t){"use strict";var n=e("./support"),r=e("./utils"),i=e("./crc32"),s=e("./signature"),o=e("./defaults"),u=e("./base64"),a=e("./compressions"),f=e("./compressedObject"),l=e("./nodeBuffer"),c=e("./utf8"),h=e("./stringWriter"),p=e("./uint8ArrayWriter"),d=function(e){if(e._data instanceof f&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===r.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},v=function(e){var t=d(e),i=r.getTypeOf(t);return"string"===i?!e.options.binary&&n.nodebuffer?l(t,"utf-8"):e.asBinary():t},m=function(e){var t=d(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=u.decode(t)),t=e&&this.options.binary?C.utf8decode(t):r.transformTo("string",t),e||this.options.binary||(t=r.transformTo("string",C.utf8encode(t))),t)},g=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};g.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var e=v(this);return r.transformTo("nodebuffer",e)},asUint8Array:function(){var e=v(this);return r.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,r="";for(n=0;t>n;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},b=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},w=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=b(e,o),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},E=function(e,t,n){var i,s=r.getTypeOf(t);if(n=w(n),n.createFolders&&(i=S(e))&&x.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null;else if("string"===s)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=r.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(s||t instanceof f))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===s&&(t=r.transformTo("uint8array",t))}var o=new g(e,t,n);return this.files[e]=o,o},S=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},x=function(e,t){return"/"!=e.slice(-1)&&(e+="/"),t="undefined"!=typeof t?t:!1,this.files[e]||E.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},T=function(e,t){var n,s=new f;return e._data instanceof f?(s.uncompressedSize=e._data.uncompressedSize,s.crc32=e._data.crc32,0===s.uncompressedSize||e.dir?(t=a.STORE,s.compressedContent="",s.crc32=0):e._data.compressionMethod===t.magic?s.compressedContent=e._data.getCompressedContent():(n=e._data.getContent(),s.compressedContent=t.compress(r.transformTo(t.compressInputType,n)))):(n=v(e),(!n||0===n.length||e.dir)&&(t=a.STORE,n=""),s.uncompressedSize=n.length,s.crc32=i(n),s.compressedContent=t.compress(r.transformTo(t.compressInputType,n))),s.compressedSize=s.compressedContent.length,s.compressionMethod=t.magic,s},N=function(e,t,n,o){var u,a,f,l,h=(n.compressedContent,r.transformTo("string",c.utf8encode(t.name))),p=t.comment||"",d=r.transformTo("string",c.utf8encode(p)),v=h.length!==t.name.length,m=d.length!==p.length,g=t.options,b="",w="",E="";f=t._initialMetadata.dir!==t.dir?t.dir:g.dir,l=t._initialMetadata.date!==t.date?t.date:g.date,u=l.getHours(),u<<=6,u|=l.getMinutes(),u<<=5,u|=l.getSeconds()/2,a=l.getFullYear()-1980,a<<=4,a|=l.getMonth()+1,a<<=5,a|=l.getDate(),v&&(w=y(1,1)+y(i(h),4)+h,b+="up"+y(w.length,2)+w),m&&(E=y(1,1)+y(this.crc32(d),4)+d,b+="uc"+y(E.length,2)+E);var S="";S+="\n\0",S+=v||m?"\0\b":"\0\0",S+=n.compressionMethod,S+=y(u,2),S+=y(a,2),S+=y(n.crc32,4),S+=y(n.compressedSize,4),S+=y(n.uncompressedSize,4),S+=y(h.length,2),S+=y(b.length,2);var x=s.LOCAL_FILE_HEADER+S+h+b,T=s.CENTRAL_FILE_HEADER+"\0"+S+y(d.length,2)+"\0\0\0\0"+(f===!0?"\0\0\0":"\0\0\0\0")+y(o,4)+h+b+d;return{fileRecord:x,dirRecord:T,compressedObject:n}},C={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,r,i,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],i=new g(r.name,r._data,b(r.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,i)&&s.push(i));return s},file:function(e,t,n){if(1===arguments.length){if(r.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,E.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(r.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=x.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){e=b(e||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),r.checkSupport(e.type);var t,n,i=[],o=0,f=0,l=r.transformTo("string",this.utf8encode(e.comment||this.comment||""));for(var c in this.files)if(this.files.hasOwnProperty(c)){var d=this.files[c],v=d.options.compression||e.compression.toUpperCase(),m=a[v];if(!m)throw new Error(v+" is not a valid compression method !");var g=T.call(this,d,m),w=N.call(this,c,d,g,o);o+=w.fileRecord.length+g.compressedSize,f+=w.dirRecord.length,i.push(w)}var E="";E=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(i.length,2)+y(i.length,2)+y(f,4)+y(o,4)+y(l.length,2)+l;var S=e.type.toLowerCase();for(t="uint8array"===S||"arraybuffer"===S||"blob"===S||"nodebuffer"===S?new p(o+f+E.length):new h(o+f+E.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(E);var x=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(e.type.toLowerCase(),x);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",x));case"base64":return e.base64?u.encode(x):x;default:return x}},crc32:function(e,t){return i(e,t)},utf8encode:function(e){return r.transformTo("string",c.utf8encode(e))},utf8decode:function(e){return c.utf8decode(e)}};t.exports=C},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(e,t){"use strict";function n(e,t){this.data=e,t||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0}var r=e("./dataReader"),i=e("./utils");n.prototype=new r,n.prototype.byteAt=function(e){return this.data.charCodeAt(e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./dataReader":5,"./utils":21}],16:[function(e,t){"use strict";var n=e("./utils"),r=function(){this.data=[]};r.prototype={append:function(e){e=n.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=r},{"./utils":21}],17:[function(e,t,n){(function(e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof e,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var t=new ArrayBuffer(0);try{n.blob=0===(new Blob([t],{type:"application/zip"})).size}catch(r){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,s=new i;s.append(t),n.blob=0===s.getBlob("application/zip").size}catch(r){n.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(e,t){"use strict";function n(e){e&&(this.data=e,this.length=this.data.length,this.index=0)}var r=e("./dataReader");n.prototype=new r,n.prototype.byteAt=function(e){return this.data[e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s;return-1},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./dataReader":5}],19:[function(e,t){"use strict";var n=e("./utils"),r=function(e){this.data=new Uint8Array(e),this.index=0};r.prototype={append:function(e){0!==e.length&&(e=n.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=r},{"./utils":21}],20:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodeBuffer"),o=new Array(256),u=0;256>u;u++)o[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;o[254]=o[254]=1;var a=function(e){var t,n,r,s,o,u=e.length,a=0;for(s=0;u>s;s++)n=e.charCodeAt(s),55296===(64512&n)&&u>s+1&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=128>n?1:2048>n?2:65536>n?3:4;for(t=i.uint8array?new Uint8Array(a):new Array(a),o=0,s=0;a>o;s++)n=e.charCodeAt(s),55296===(64512&n)&&u>s+1&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},f=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+o[e[n]]>t?n:t},l=function(e){var t,n,i,s,u=e.length,a=new Array(2*u);for(n=0,t=0;u>t;)if(i=e[t++],128>i)a[n++]=i;else if(s=o[i],s>4)a[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&u>t;)i=i<<6|63&e[t++],s--;s>1?a[n++]=65533:65536>i?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),r.applyFromCharCode(a)};n.utf8encode=function(e){return i.nodebuffer?s(e,"utf-8"):a(e)},n.utf8decode=function(e){if(i.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");e=r.transformTo(i.uint8array?"uint8array":"array",e);for(var t=[],n=0,s=e.length,o=65536;s>n;){var u=f(e,Math.min(n+o,s));t.push(i.uint8array?l(e.subarray(n,u)):l(e.slice(n,u))),n=u}return t.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(e,t,n){"use strict";function r(e){return e}function i(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function s(e){var t=65536,r=[],i=e.length,s=n.getTypeOf(e),o=0,u=!0;try{switch(s){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,f(0))}}catch(a){u=!1}if(!u){for(var l="",h=0;h<e.length;h++)l+=String.fromCharCode(e[h]);return l}for(;i>o&&t>1;)try{r.push("array"===s||"nodebuffer"===s?String.fromCharCode.apply(null,e.slice(o,Math.min(o+t,i))):String.fromCharCode.apply(null,e.subarray(o,Math.min(o+t,i)))),o+=t}catch(a){t=Math.floor(t/2)}return r.join("")}function o(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var u=e("./support"),a=e("./compressions"),f=e("./nodeBuffer");n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e){n.checkSupport("blob");try{return new Blob([e],{type:"application/zip"})}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;return i.append(e),i.getBlob("application/zip")}catch(t){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=s;var l={};l.string={string:r,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return l.string.uint8array(e).buffer},uint8array:function(e){return i(e,new Uint8Array(e.length))},nodebuffer:function(e){return i(e,f(e.length))}},l.array={string:s,array:r,arraybuffer:function(e){return(new Uint8Array(e)).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return f(e)}},l.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return o(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return f(new Uint8Array(e))}},l.uint8array={string:s,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return f(e)}},l.nodebuffer={string:s,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return l.nodebuffer.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:r},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var r=n.getTypeOf(t),i=l[r][e](t);return i},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":u.nodebuffer&&f.test(e)?"nodebuffer":u.uint8array&&e instanceof Uint8Array?"uint8array":u.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=u[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),r+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return r},n.findCompression=function(e){for(var t in a)if(a.hasOwnProperty(t)&&a[t].magic===e)return a[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(e,t){"use strict";function n(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var r=e("./stringReader"),i=e("./nodeBufferReader"),s=e("./uint8ArrayReader"),o=e("./utils"),u=e("./signature"),a=e("./zipEntry"),f=e("./support"),l=e("./object");n.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=l.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44,i=0;r>i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)e=new a({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(-1===e)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(e),this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(e),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(e){var t=o.getTypeOf(e);this.reader="string"!==t||f.uint8array?"nodebuffer"===t?new i(e):new s(o.transformTo("uint8array",e)):new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=n},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(e,t){"use strict";function n(e,t){this.options=e,this.loadOptions=t}var r=e("./stringReader"),i=e("./utils"),s=e("./compressedObject"),o=e("./object");n.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var r=e.index;e.setIndex(t);var i=e.readData(n);return e.setIndex(r),i}},prepareContent:function(e,t,n,r,s){return function(){var e=i.transformTo(r.uncompressInputType,this.getCompressedContent()),t=r.uncompress(e);if(t.length!==s)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readString(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=i.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readString(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readString(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readString(this.fileCommentLength),this.dir=16&this.externalFileAttributes?!0:!1},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=new r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index;for(this.extraFields=this.extraFields||{};e.index<i+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),r=e.readString(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e&&(this.fileName=e);var t=this.findExtraFieldUnicodeComment();null!==t&&(this.fileComment=t)}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:o.crc32(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:o.crc32(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readString(e.length-5))}return null}},t.exports=n},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(e,t){"use strict";var n=e("./lib/utils/common").assign,r=e("./lib/deflate"),i=e("./lib/inflate"),s=e("./lib/zlib/constants"),o={};n(o,r,i,s),t.exports=o},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(e,t,n){"use strict";function r(e,t){var n=new y(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},t.raw=!0,r(e,t)}function s(e,t){return t=t||{},t.gzip=!0,r(e,t)}var o=e("./zlib/deflate.js"),u=e("./utils/common"),a=e("./utils/strings"),f=e("./zlib/messages"),l=e("./zlib/zstream"),c=0,h=4,p=0,d=1,v=-1,m=0,g=8,y=function(e){this.options=u.assign({level:v,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==p)throw new Error(f[n]);t.header&&o.deflateSetHeader(this.strm,t.header)};y.prototype.push=function(e,t){var n,r,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?h:c,i.input="string"==typeof e?a.string2buf(e):e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(s),i.next_out=0,i.avail_out=s),n=o.deflate(i,r),n!==d&&n!==p)return this.onEnd(n),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&r===h)&&this.onData("string"===this.options.to?a.buf2binstring(u.shrinkBuf(i.output,i.next_out)):u.shrinkBuf(i.output,i.next_out))}while((i.avail_in>0||0===i.avail_out)&&n!==d);return r===h?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p):!0},y.prototype.onData=function(e){this.chunks.push(e)},y.prototype.onEnd=function(e){e===p&&(this.result="string"===this.options.to?this.chunks.join(""):u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=y,n.deflate=r,n.deflateRaw=i,n.gzip=s},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(e,t,n){"use strict";function r(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function i(e,t){return t=t||{},t.raw=!0,r(e,t)}var s=e("./zlib/inflate.js"),o=e("./utils/common"),u=e("./utils/strings"),a=e("./zlib/constants"),f=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=function(e){this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(f[n]);this.header=new c,s.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t){var n,r,i,f,l,c=this.strm,h=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?a.Z_FINISH:a.Z_NO_FLUSH,c.input="string"==typeof e?u.binstring2buf(e):e,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new o.Buf8(h),c.next_out=0,c.avail_out=h),n=s.inflate(c,a.Z_NO_FLUSH),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;c.next_out&&(0===c.avail_out||n===a.Z_STREAM_END||0===c.avail_in&&r===a.Z_FINISH)&&("string"===this.options.to?(i=u.utf8border(c.output,c.next_out),f=c.next_out-i,l=u.buf2string(c.output,i),c.next_out=f,c.avail_out=h-f,f&&o.arraySet(c.output,c.output,i,f,0),this.onData(l)):this.onData(o.shrinkBuf(c.output,c.next_out)))}while(c.avail_in>0&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(r=a.Z_FINISH),r===a.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):!0},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=r,n.inflateRaw=i,n.ungzip=r},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var s=0;r>s;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(r=0,t=0,n=e.length;n>t;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;n>t;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,n,r,i){for(var s=0;r>s;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],28:[function(e,t,n){"use strict";function r(e,t){if(65537>t&&(e.subarray&&o||!e.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;t>r;r++)n+=String.fromCharCode(e[r]);return n}var i=e("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new i.Buf8(256),f=0;256>f;f++)a[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,s,o,u=e.length,a=0;for(s=0;u>s;s++)n=e.charCodeAt(s),55296===(64512&n)&&u>s+1&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=128>n?1:2048>n?2:65536>n?3:4;for(t=new i.Buf8(a),o=0,s=0;a>o;s++)n=e.charCodeAt(s),55296===(64512&n)&&u>s+1&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;r>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,s,o,u=t||e.length,f=new Array(2*u);for(i=0,n=0;u>n;)if(s=e[n++],128>s)f[i++]=s;else if(o=a[s],o>4)f[i++]=65533,n+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&u>n;)s=s<<6|63&e[n++],o--;o>1?f[i++]=65533:65536>s?f[i++]=s:(s-=65536,f[i++]=55296|s>>10&1023,f[i++]=56320|1023&s)}return r(f,i)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":27}],29:[function(e,t){"use strict";function n(e,t,n,r){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}t.exports=n},{}],30:[function(e,t){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(e,t){"use strict";function n(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,r){var s=i,o=r+n;e=-1^e;for(var u=r;o>u;u++)e=e>>>8^s[255&(e^t[u])];return-1^e}var i=n();t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e,t){return e.msg=_[t],t}function i(e){return(e<<1)-(e>4?9:0)}function s(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(L.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function u(e,t){A._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function a(e,t){e.pending_buf[e.pending++]=t}function f(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,L.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=O(e.adler,t,i,n):2===e.state.wrap&&(e.adler=M(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function c(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,u=e.nice_match,a=e.strstart>e.w_size-ft?e.strstart-(e.w_size-ft):0,f=e.window,l=e.w_mask,c=e.prev,h=e.strstart+at,p=f[s+o-1],d=f[s+o];e.prev_length>=e.good_match&&(i>>=2),u>e.lookahead&&(u=e.lookahead);do if(n=t,f[n+o]===d&&f[n+o-1]===p&&f[n]===f[s]&&f[++n]===f[s+1]){s+=2,n++;do;while(f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&f[++s]===f[++n]&&h>s);if(r=at-(h-s),s=h-at,r>o){if(e.match_start=t,o=r,r>=u)break;p=f[s+o-1],d=f[s+o]}}while((t=c[t&l])>a&&0!==--i);return o<=e.lookahead?o:e.lookahead}function h(e){var t,n,r,i,s,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-ft)){L.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=o?r-o:0;while(--n);n=o,t=n;do r=e.prev[--t],e.prev[t]=r>=o?r-o:0;while(--n);i+=o}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=ut)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+ut-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<ut)););}while(e.lookahead<ft&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===D)return yt;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,u(e,!1),0===e.strm.avail_out))return yt;if(e.strstart-e.block_start>=e.w_size-ft&&(u(e,!1),0===e.strm.avail_out))return yt}return e.insert=0,t===B?(u(e,!0),0===e.strm.avail_out?wt:Et):e.strstart>e.block_start&&(u(e,!1),0===e.strm.avail_out)?yt:yt}function d(e,t){for(var n,r;;){if(e.lookahead<ft){if(h(e),e.lookahead<ft&&t===D)return yt;if(0===e.lookahead)break}if(n=0,e.lookahead>=ut&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ft&&(e.match_length=c(e,n)),e.match_length>=ut)if(r=A._tr_tally(e,e.strstart-e.match_start,e.match_length-ut),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ut){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(u(e,!1),0===e.strm.avail_out))return yt}return e.insert=e.strstart<ut-1?e.strstart:ut-1,t===B?(u(e,!0),0===e.strm.avail_out?wt:Et):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?yt:bt}function v(e,t){for(var n,r,i;;){if(e.lookahead<ft){if(h(e),e.lookahead<ft&&t===D)return yt;if(0===e.lookahead)break}if(n=0,e.lookahead>=ut&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ut-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ft&&(e.match_length=c(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===ut&&e.strstart-e.match_start>4096)&&(e.match_length=ut-1)),e.prev_length>=ut&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-ut,r=A._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ut),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ut-1,e.strstart++,r&&(u(e,!1),0===e.strm.avail_out))return yt}else if(e.match_available){if(r=A._tr_tally(e,0,e.window[e.strstart-1]),r&&u(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return yt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=A._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ut-1?e.strstart:ut-1,t===B?(u(e,!0),0===e.strm.avail_out?wt:Et):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?yt:bt}function m(e,t){for(var n,r,i,s,o=e.window;;){if(e.lookahead<=at){if(h(e),e.lookahead<=at&&t===D)return yt;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ut&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+at;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&s>i);e.match_length=at-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ut?(n=A._tr_tally(e,1,e.match_length-ut),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(u(e,!1),0===e.strm.avail_out))return yt}return e.insert=0,t===B?(u(e,!0),0===e.strm.avail_out?wt:Et):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?yt:bt}function g(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===D)return yt;break}if(e.match_length=0,n=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(u(e,!1),0===e.strm.avail_out))return yt}return e.insert=0,t===B?(u(e,!0),0===e.strm.avail_out?wt:Et):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?yt:bt}function y(e){e.window_size=2*e.w_size,s(e.head),e.max_lazy_match=k[e.level].max_lazy,e.good_match=k[e.level].good_length,e.nice_match=k[e.level].nice_length,e.max_chain_length=k[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ut-1,e.match_available=0,e.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new L.Buf16(2*st),this.dyn_dtree=new L.Buf16(2*(2*rt+1)),this.bl_tree=new L.Buf16(2*(2*it+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new L.Buf16(ot+1),this.heap=new L.Buf16(2*nt+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new L.Buf16(2*nt+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=K,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ct:mt,e.adler=2===t.wrap?0:1,t.last_flush=D,A._tr_init(t),F):r(e,q)}function E(e){var t=w(e);return t===F&&y(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?q:(e.state.gzhead=t,F):q}function x(e,t,n,i,s,o){if(!e)return q;var u=1;if(t===z&&(t=6),0>i?(u=0,i=-i):i>15&&(u=2,i-=16),1>s||s>G||n!==Q||8>i||i>15||0>t||t>9||0>o||o>$)return r(e,q);8===i&&(i=9);var a=new b;return e.state=a,a.strm=e,a.wrap=u,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ut-1)/ut),a.window=new L.Buf8(2*a.w_size),a.head=new L.Buf16(a.hash_size),a.prev=new L.Buf16(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new L.Buf8(a.pending_buf_size),a.d_buf=a.lit_bufsize>>1,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,E(e)}function T(e,t){return x(e,t,Q,Y,Z,J)}function N(e,t){var n,u,l,c;if(!e||!e.state||t>j||0>t)return e?r(e,q):q;if(u=e.state,!e.output||!e.input&&0!==e.avail_in||u.status===gt&&t!==B)return r(e,0===e.avail_out?U:q);if(u.strm=e,n=u.last_flush,u.last_flush=t,u.status===ct)if(2===u.wrap)e.adler=0,a(u,31),a(u,139),a(u,8),u.gzhead?(a(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),a(u,255&u.gzhead.time),a(u,u.gzhead.time>>8&255),a(u,u.gzhead.time>>16&255),a(u,u.gzhead.time>>24&255),a(u,9===u.level?2:u.strategy>=X||u.level<2?4:0),a(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(a(u,255&u.gzhead.extra.length),a(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(e.adler=M(e.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=ht):(a(u,0),a(u,0),a(u,0),a(u,0),a(u,0),a(u,9===u.level?2:u.strategy>=X||u.level<2?4:0),a(u,St),u.status=mt);else{var h=Q+(u.w_bits-8<<4)<<8,p=-1;p=u.strategy>=X||u.level<2?0:u.level<6?1:6===u.level?2:3,h|=p<<6,0!==u.strstart&&(h|=lt),h+=31-h%31,u.status=mt,f(u,h),0!==u.strstart&&(f(u,e.adler>>>16),f(u,65535&e.adler)),e.adler=1}if(u.status===ht)if(u.gzhead.extra){for(l=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),o(e),l=u.pending,u.pending!==u.pending_buf_size));)a(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=pt)}else u.status=pt;if(u.status===pt)if(u.gzhead.name){l=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),o(e),l=u.pending,u.pending===u.pending_buf_size)){c=1;break}c=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,a(u,c)}while(0!==c);u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),0===c&&(u.gzindex=0,u.status=dt)}else u.status=dt;if(u.status===dt)if(u.gzhead.comment){l=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),o(e),l=u.pending,u.pending===u.pending_buf_size)){c=1;break}c=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,a(u,c)}while(0!==c);u.gzhead.hcrc&&u.pending>l&&(e.adler=M(e.adler,u.pending_buf,u.pending-l,l)),0===c&&(u.status=vt)}else u.status=vt;if(u.status===vt&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&o(e),u.pending+2<=u.pending_buf_size&&(a(u,255&e.adler),a(u,e.adler>>8&255),e.adler=0,u.status=mt)):u.status=mt),0!==u.pending){if(o(e),0===e.avail_out)return u.last_flush=-1,F}else if(0===e.avail_in&&i(t)<=i(n)&&t!==B)return r(e,U);if(u.status===gt&&0!==e.avail_in)return r(e,U);if(0!==e.avail_in||0!==u.lookahead||t!==D&&u.status!==gt){var d=u.strategy===X?g(u,t):u.strategy===V?m(u,t):k[u.level].func(u,t);if((d===wt||d===Et)&&(u.status=gt),d===yt||d===wt)return 0===e.avail_out&&(u.last_flush=-1),F;if(d===bt&&(t===P?A._tr_align(u):t!==j&&(A._tr_stored_block(u,0,0,!1),t===H&&(s(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),o(e),0===e.avail_out))return u.last_flush=-1,F}return t!==B?F:u.wrap<=0?I:(2===u.wrap?(a(u,255&e.adler),a(u,e.adler>>8&255),a(u,e.adler>>16&255),a(u,e.adler>>24&255),a(u,255&e.total_in),a(u,e.total_in>>8&255),a(u,e.total_in>>16&255),a(u,e.total_in>>24&255)):(f(u,e.adler>>>16),f(u,65535&e.adler)),o(e),u.wrap>0&&(u.wrap=-u.wrap),0!==u.pending?F:I)}function C(e){var t;return e&&e.state?(t=e.state.status,t!==ct&&t!==ht&&t!==pt&&t!==dt&&t!==vt&&t!==mt&&t!==gt?r(e,q):(e.state=null,t===mt?r(e,R):F)):q}var k,L=e("../utils/common"),A=e("./trees"),O=e("./adler32"),M=e("./crc32"),_=e("./messages"),D=0,P=1,H=3,B=4,j=5,F=0,I=1,q=-2,R=-3,U=-5,z=-1,W=1,X=2,V=3,$=4,J=0,K=2,Q=8,G=9,Y=15,Z=8,et=29,tt=256,nt=tt+1+et,rt=30,it=19,st=2*nt+1,ot=15,ut=3,at=258,ft=at+ut+1,lt=32,ct=42,ht=69,pt=73,dt=91,vt=103,mt=113,gt=666,yt=1,bt=2,wt=3,Et=4,St=3,xt=function(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i};k=[new xt(0,0,0,0,p),new xt(4,4,8,4,d),new xt(4,5,16,8,d),new xt(4,6,32,32,d),new xt(4,4,16,16,v),new xt(8,16,32,32,v),new xt(8,16,128,128,v),new xt(8,32,128,256,v),new xt(32,128,258,1024,v),new xt(32,258,258,4096,v)],n.deflateInit=T,n.deflateInit2=x,n.deflateReset=E,n.deflateResetKeep=w,n.deflateSetHeader=S,n.deflate=N,n.deflateEnd=C,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(e,t){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},{}],34:[function(e,t){"use strict";var n=30,r=12;t.exports=function(e,t){var i,s,o,u,a,f,l,h,p,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;i=e.state,s=e.next_in,A=e.input,o=s+(e.avail_in-5),u=e.next_out,O=e.output,a=u-(t-e.avail_out),f=u+(e.avail_out-257),l=i.dmax,h=i.wsize,p=i.whave,v=i.wnext,m=i.window,g=i.hold,y=i.bits,b=i.lencode,w=i.distcode,E=(1<<i.lenbits)-1,S=(1<<i.distbits)-1;e:do{15>y&&(g+=A[s++]<<y,y+=8,g+=A[s++]<<y,y+=8),x=b[g&E];t:for(;;){if(T=x>>>24,g>>>=T,y-=T,T=x>>>16&255,0===T)O[u++]=65535&x;else{if(!(16&T)){if(0===(64&T)){x=b[(65535&x)+(g&(1<<T)-1)];continue t}if(32&T){i.mode=r;break e}e.msg="invalid literal/length code",i.mode=n;break e}N=65535&x,T&=15,T&&(T>y&&(g+=A[s++]<<y,y+=8),N+=g&(1<<T)-1,g>>>=T,y-=T),15>y&&(g+=A[s++]<<y,y+=8,g+=A[s++]<<y,y+=8),x=w[g&S];n:for(;;){if(T=x>>>24,g>>>=T,y-=T,T=x>>>16&255,!(16&T)){if(0===(64&T)){x=w[(65535&x)+(g&(1<<T)-1)];continue n}e.msg="invalid distance code",i.mode=n;break e}if(C=65535&x,T&=15,T>y&&(g+=A[s++]<<y,y+=8,T>y&&(g+=A[s++]<<y,y+=8)),C+=g&(1<<T)-1,C>l){e.msg="invalid distance too far back",i.mode=n;break e}if(g>>>=T,y-=T,T=u-a,C>T){if(T=C-T,T>p&&i.sane){e.msg="invalid distance too far back",i.mode=n;break e}if(k=0,L=m,0===v){if(k+=h-T,N>T){N-=T;do O[u++]=m[k++];while(--T);k=u-C,L=O}}else if(T>v){if(k+=h+v-T,T-=v,N>T){N-=T;do O[u++]=m[k++];while(--T);if(k=0,N>v){T=v,N-=T;do O[u++]=m[k++];while(--T);k=u-C,L=O}}}else if(k+=v-T,N>T){N-=T;do O[u++]=m[k++];while(--T);k=u-C,L=O}for(;N>2;)O[u++]=L[k++],O[u++]=L[k++],O[u++]=L[k++],N-=3;N&&(O[u++]=L[k++],N>1&&(O[u++]=L[k++]))}else{k=u-C;do O[u++]=O[k++],O[u++]=O[k++],O[u++]=O[k++],N-=3;while(N>2);N&&(O[u++]=O[k++],N>1&&(O[u++]=O[k++]))}break}}break}}while(o>s&&f>u);N=y>>3,s-=N,y-=N<<3,g&=(1<<y)-1,e.next_in=s,e.next_out=u,e.avail_in=o>s?5+(o-s):5-(s-o),e.avail_out=f>u?257+(f-u):257-(u-f),i.hold=g,i.bits=y}},{}],35:[function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=B,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new g.Buf32(dt),t.distcode=t.distdyn=new g.Buf32(vt),t.sane=1,t.back=-1,L):M}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,s(e)):M}function u(e,t){var n,r;return e&&e.state?(r=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?M:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,o(e))):M}function a(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=u(e,t),n!==L&&(e.state=null),n):M}function f(e){return a(e,gt)}function l(e){if(yt){var t;for(v=new g.Buf32(512),m=new g.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(E(x,e.lens,0,288,v,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;E(T,e.lens,0,32,m,0,e.work,{bits:5}),yt=!1}e.lencode=v,e.lenbits=9,e.distcode=m,e.distbits=5}function c(e,t,n,r){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new g.Buf8(s.wsize)),r>=s.wsize?(g.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),g.arraySet(s.window,t,n-r,i,s.wnext),r-=i,r?(g.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function h(e,t){var n,i,s,o,u,a,f,h,p,d,v,m,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct=0,kt=new g.Buf8(4),Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return M;n=e.state,n.mode===$&&(n.mode=J),u=e.next_out,s=e.output,f=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,h=n.hold,p=n.bits,d=a,v=f,xt=L;e:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=J;break}for(;16>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(2&n.wrap&&35615===h){n.check=0,kt[0]=255&h,kt[1]=h>>>8&255,n.check=b(n.check,kt,2,0),h=0,p=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=ct;break}if((15&h)!==H){e.msg="unknown compression method",n.mode=ct;break}if(h>>>=4,p-=4,St=(15&h)+8,0===n.wbits)n.wbits=St;else if(St>n.wbits){e.msg="invalid window size",n.mode=ct;break}n.dmax=1<<St,e.adler=n.check=1,n.mode=512&h?X:$,h=0,p=0;break;case j:for(;16>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(n.flags=h,(255&n.flags)!==H){e.msg="unknown compression method",n.mode=ct;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ct;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(kt[0]=255&h,kt[1]=h>>>8&255,n.check=b(n.check,kt,2,0)),h=0,p=0,n.mode=F;case F:for(;32>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.head&&(n.head.time=h),512&n.flags&&(kt[0]=255&h,kt[1]=h>>>8&255,kt[2]=h>>>16&255,kt[3]=h>>>24&255,n.check=b(n.check,kt,4,0)),h=0,p=0,n.mode=I;case I:for(;16>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(kt[0]=255&h,kt[1]=h>>>8&255,n.check=b(n.check,kt,2,0)),h=0,p=0,n.mode=q;case q:if(1024&n.flags){for(;16>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(kt[0]=255&h,kt[1]=h>>>8&255,n.check=b(n.check,kt,2,0)),h=0,p=0}else n.head&&(n.head.extra=null);n.mode=R;case R:if(1024&n.flags&&(m=n.length,m>a&&(m=a),m&&(n.head&&(St=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),g.arraySet(n.head.extra,i,o,m,St)),512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,n.length-=m),n.length))break e;n.length=0,n.mode=U;case U:if(2048&n.flags){if(0===a)break e;m=0;do St=i[o+m++],n.head&&St&&n.length<65536&&(n.head.name+=String.fromCharCode(St));while(St&&a>m);if(512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,St)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=z;case z:if(4096&n.flags){if(0===a)break e;m=0;do St=i[o+m++],n.head&&St&&n.length<65536&&(n.head.comment+=String.fromCharCode(St));while(St&&a>m);if(512&n.flags&&(n.check=b(n.check,i,m,o)),a-=m,o+=m,St)break e}else n.head&&(n.head.comment=null);n.mode=W;case W:if(512&n.flags){for(;16>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ct;break}h=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=$;break;case X:for(;32>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}e.adler=n.check=r(h),h=0,p=0,n.mode=V;case V:if(0===n.havedict)return e.next_out=u,e.avail_out=f,e.next_in=o,e.avail_in=a,n.hold=h,n.bits=p,O;e.adler=n.check=1,n.mode=$;case $:if(t===C||t===k)break e;case J:if(n.last){h>>>=7&p,p-=7&p,n.mode=at;break}for(;3>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}switch(n.last=1&h,h>>>=1,p-=1,3&h){case 0:n.mode=K;break;case 1:if(l(n),n.mode=tt,t===k){h>>>=2,p-=2;break e}break;case 2:n.mode=Y;break;case 3:e.msg="invalid block type",n.mode=ct}h>>>=2,p-=2;break;case K:for(h>>>=7&p,p-=7&p;32>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ct;break}if(n.length=65535&h,h=0,p=0,n.mode=Q,t===k)break e;case Q:n.mode=G;case G:if(m=n.length){if(m>a&&(m=a),m>f&&(m=f),0===m)break e;g.arraySet(s,i,o,m,u),a-=m,o+=m,f-=m,u+=m,n.length-=m;break}n.mode=$;break;case Y:for(;14>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(n.nlen=(31&h)+257,h>>>=5,p-=5,n.ndist=(31&h)+1,h>>>=5,p-=5,n.ncode=(15&h)+4,h>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ct;break}n.have=0,n.mode=Z;case Z:for(;n.have<n.ncode;){for(;3>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.lens[Lt[n.have++]]=7&h,h>>>=3,p-=3}for(;n.have<19;)n.lens[Lt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Tt={bits:n.lenbits},xt=E(S,n.lens,0,19,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,xt){e.msg="invalid code lengths set",n.mode=ct;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Ct=n.lencode[h&(1<<n.lenbits)-1],mt=Ct>>>24,gt=Ct>>>16&255,yt=65535&Ct,!(p>=mt);){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(16>yt)h>>>=mt,p-=mt,n.lens[n.have++]=yt;else{if(16===yt){for(Nt=mt+2;Nt>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(h>>>=mt,p-=mt,0===n.have){e.msg="invalid bit length repeat",n.mode=ct;break}St=n.lens[n.have-1],m=3+(3&h),h>>>=2,p-=2}else if(17===yt){for(Nt=mt+3;Nt>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}h>>>=mt,p-=mt,St=0,m=3+(7&h),h>>>=3,p-=3}else{for(Nt=mt+7;Nt>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}h>>>=mt,p-=mt,St=0,m=11+(127&h),h>>>=7,p-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ct;break}for(;m--;)n.lens[n.have++]=St}}if(n.mode===ct)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ct;break}if(n.lenbits=9,Tt={bits:n.lenbits},xt=E(x,n.lens,0,n.nlen,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,xt){e.msg="invalid literal/lengths set",n.mode=ct;break}if(n.distbits=6,n.distcode=n.distdyn,Tt={bits:n.distbits},xt=E(T,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Tt),n.distbits=Tt.bits,xt){e.msg="invalid distances set",n.mode=ct;break}if(n.mode=tt,t===k)break e;case tt:n.mode=nt;case nt:if(a>=6&&f>=258){e.next_out=u,e.avail_out=f,e.next_in=o,e.avail_in=a,n.hold=h,n.bits=p,w(e,v),u=e.next_out,s=e.output,f=e.avail_out,o=e.next_in,i=e.input,a=e.avail_in,h=n.hold,p=n.bits,n.mode===$&&(n.back=-1);break}for(n.back=0;Ct=n.lencode[h&(1<<n.lenbits)-1],mt=Ct>>>24,gt=Ct>>>16&255,yt=65535&Ct,!(p>=mt);){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(gt&&0===(240&gt)){for(bt=mt,wt=gt,Et=yt;Ct=n.lencode[Et+((h&(1<<bt+wt)-1)>>bt)],mt=Ct>>>24,gt=Ct>>>16&255,yt=65535&Ct,!(p>=bt+mt);){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}h>>>=bt,p-=bt,n.back+=bt}if(h>>>=mt,p-=mt,n.back+=mt,n.length=yt,0===gt){n.mode=ut;break}if(32&gt){n.back=-1,n.mode=$;break}if(64&gt){e.msg="invalid literal/length code",n.mode=ct;break}n.extra=15&gt,n.mode=rt;case rt:if(n.extra){for(Nt=n.extra;Nt>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=it;case it:for(;Ct=n.distcode[h&(1<<n.distbits)-1],mt=Ct>>>24,gt=Ct>>>16&255,yt=65535&Ct,!(p>=mt);){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(0===(240&gt)){for(bt=mt,wt=gt,Et=yt;Ct=n.distcode[Et+((h&(1<<bt+wt)-1)>>bt)],mt=Ct>>>24,gt=Ct>>>16&255,yt=65535&Ct,!(p>=bt+mt);){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}h>>>=bt,p-=bt,n.back+=bt}if(h>>>=mt,p-=mt,n.back+=mt,64&gt){e.msg="invalid distance code",n.mode=ct;break}n.offset=yt,n.extra=15&gt,n.mode=st;case st:if(n.extra){for(Nt=n.extra;Nt>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ct;break}n.mode=ot;case ot:if(0===f)break e;if(m=v-f,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ct;break}m>n.wnext?(m-=n.wnext,dt=n.wsize-m):dt=n.wnext-m,m>n.length&&(m=n.length),vt=n.window}else vt=s,dt=u-n.offset,m=n.length;m>f&&(m=f),f-=m,n.length-=m;do s[u++]=vt[dt++];while(--m);0===n.length&&(n.mode=nt);break;case ut:if(0===f)break e;s[u++]=n.length,f--,n.mode=nt;break;case at:if(n.wrap){for(;32>p;){if(0===a)break e;a--,h|=i[o++]<<p,p+=8}if(v-=f,e.total_out+=v,n.total+=v,v&&(e.adler=n.check=n.flags?b(n.check,s,v,u-v):y(n.check,s,v,u-v)),v=f,(n.flags?h:r(h))!==n.check){e.msg="incorrect data check",n.mode=ct;break}h=0,p=0}n.mode=ft;case ft:if(n.wrap&&n.flags){for(;32>p;){if(0===a)break e;a--,h+=i[o++]<<p,p+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ct;break}h=0,p=0}n.mode=lt;case lt:xt=A;break e;case ct:xt=_;break e;case ht:return D;case pt:default:return M}return e.next_out=u,e.avail_out=f,e.next_in=o,e.avail_in=a,n.hold=h,n.bits=p,(n.wsize||v!==e.avail_out&&n.mode<ct&&(n.mode<at||t!==N))&&c(e,e.output,e.next_out,v-e.avail_out)?(n.mode=ht,D):(d-=e.avail_in,v-=e.avail_out,e.total_in+=d,e.total_out+=v,n.total+=v,n.wrap&&v&&(e.adler=n.check=n.flags?b(n.check,s,v,e.next_out-v):y(n.check,s,v,e.next_out-v)),e.data_type=n.bits+(n.last?64:0)+(n.mode===$?128:0)+(n.mode===tt||n.mode===Q?256:0),(0===d&&0===v||t===N)&&xt===L&&(xt=P),xt)}function p(e){if(!e||!e.state)return M;var t=e.state;return t.window&&(t.window=null),e.state=null,L}function d(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?M:(n.head=t,t.done=!1,L)):M}var v,m,g=e("../utils/common"),y=e("./adler32"),b=e("./crc32"),w=e("./inffast"),E=e("./inftrees"),S=0,x=1,T=2,N=4,C=5,k=6,L=0,A=1,O=2,M=-2,_=-3,D=-4,P=-5,H=8,B=1,j=2,F=3,I=4,q=5,R=6,U=7,z=8,W=9,X=10,V=11,$=12,J=13,K=14,Q=15,G=16,Y=17,Z=18,et=19,tt=20,nt=21,rt=22,it=23,st=24,ot=25,ut=26,at=27,ft=28,lt=29,ct=30,ht=31,pt=32,dt=852,vt=592,mt=15,gt=mt,yt=!0;n.inflateReset=o,n.inflateReset2=u,n.inflateResetKeep=s,n.inflateInit=f,n.inflateInit2=a,n.inflate=h,n.inflateEnd=p,n.inflateGetHeader=d,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(e,t){"use strict";var n=e("../utils/common"),r=15,i=852,s=592,o=0,u=1,a=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,p,v,y,b,w,E){var S,x,T,N,C,L,A,O,M,_=E.bits,D=0,P=0,H=0,B=0,F=0,I=0,q=0,R=0,U=0,z=0,W=null,X=0,V=new n.Buf16(r+1),$=new n.Buf16(r+1),J=null,K=0;for(D=0;r>=D;D++)V[D]=0;for(P=0;v>P;P++)V[t[p+P]]++;for(F=_,B=r;B>=1&&0===V[B];B--);if(F>B&&(F=B),0===B)return y[b++]=20971520,y[b++]=20971520,E.bits=1,0;for(H=1;B>H&&0===V[H];H++);for(H>F&&(F=H),R=1,D=1;r>=D;D++)if(R<<=1,R-=V[D],0>R)return-1;if(R>0&&(e===o||1!==B))return-1;for($[1]=0,D=1;r>D;D++)$[D+1]=$[D]+V[D];for(P=0;v>P;P++)0!==t[p+P]&&(w[$[t[p+P]]++]=P);if(e===o?(W=J=w,L=19):e===u?(W=f,X-=257,J=l,K-=257,L=256):(W=c,J=h,L=-1),z=0,P=0,D=H,C=b,I=F,q=0,T=-1,U=1<<F,N=U-1,e===u&&U>i||e===a&&U>s)return 1;for(var Q=0;;){Q++,A=D-q,w[P]<L?(O=0,M=w[P]):w[P]>L?(O=J[K+w[P]],M=W[X+w[P]]):(O=96,M=0),S=1<<D-q,x=1<<I,H=x;do x-=S,y[C+(z>>q)+x]=A<<24|O<<16|M|0;while(0!==x);for(S=1<<D-1;z&S;)S>>=1;if(0!==S?(z&=S-1,z+=S):z=0,P++,0===--V[D]){if(D===B)break;D=t[p+w[P]]}if(D>F&&(z&N)!==T){for(0===q&&(q=F),C+=H,I=D-q,R=1<<I;B>I+q&&(R-=V[I+q],!(0>=R));)I++,R<<=1;if(U+=1<<I,e===u&&U>i||e===a&&U>s)return 1;T=z&N,y[T]=F<<24|I<<16|C-b|0}}return 0!==z&&(y[C+z]=D-q<<24|64<<16|0),E.bits=F,0}},{"../utils/common":27}],37:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e){return 256>e?ot[e]:ot[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function o(e,t,n){e.bi_valid>$-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>$-e.bi_valid,e.bi_valid+=n-$):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){o(e,n[2*t],n[2*t+1])}function a(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function f(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function l(e,t){var n,r,i,s,o,u,a=t.dyn_tree,f=t.max_code,l=t.stat_desc.static_tree,c=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,d=t.stat_desc.max_length,v=0;for(s=0;V>=s;s++)e.bl_count[s]=0;for(a[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;X>n;n++)r=e.heap[n],s=a[2*a[2*r+1]+1]+1,s>d&&(s=d,v++),a[2*r+1]=s,r>f||(e.bl_count[s]++,o=0,r>=p&&(o=h[r-p]),u=a[2*r],e.opt_len+=u*(s+o),c&&(e.static_len+=u*(l[2*r+1]+o)));if(0!==v){do{for(s=d-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[d]--,v-=2}while(v>0);for(s=d;0!==s;s--)for(r=e.bl_count[s];0!==r;)i=e.heap[--n],i>f||(a[2*i+1]!==s&&(e.opt_len+=(s-a[2*i+1])*a[2*i],a[2*i+1]=s),r--)}}function c(e,t,n){var r,i,s=new Array(V+1),o=0;for(r=1;V>=r;r++)s[r]=o=o+n[r-1]<<1;for(i=0;t>=i;i++){var u=e[2*i+1];0!==u&&(e[2*i]=a(s[u]++,u))}}function h(){var e,t,n,r,i,s=new Array(V+1);for(n=0,r=0;q-1>r;r++)for(at[r]=n,e=0;e<1<<Z[r];e++)ut[n++]=r;for(ut[n-1]=r,i=0,r=0;16>r;r++)for(ft[r]=i,e=0;e<1<<et[r];e++)ot[i++]=r;for(i>>=7;z>r;r++)for(ft[r]=i<<7,e=0;e<1<<et[r]-7;e++)ot[256+i++]=r;for(t=0;V>=t;t++)s[t]=0;for(e=0;143>=e;)it[2*e+1]=8,e++,s[8]++;for(;255>=e;)it[2*e+1]=9,e++,s[9]++;for(;279>=e;)it[2*e+1]=7,e++,s[7]++;for(;287>=e;)it[2*e+1]=8,e++,s[8]++;for(c(it,U+1,s),e=0;z>e;e++)st[2*e+1]=5,st[2*e]=a(e,5);lt=new pt(it,Z,R+1,U,V),ct=new pt(st,et,0,z,V),ht=new pt(new Array(0),tt,0,W,J)}function p(e){var t;for(t=0;U>t;t++)e.dyn_ltree[2*t]=0;for(t=0;z>t;t++)e.dyn_dtree[2*t]=0;for(t=0;W>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*K]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function d(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){d(e),r&&(s(e,n),s(e,~n)),O.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function m(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function g(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&m(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!m(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function y(e,t,n){var r,s,a,f,l=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],s=e.pending_buf[e.l_buf+l],l++,0===r?u(e,s,t):(a=ut[s],u(e,a+R+1,t),f=Z[a],0!==f&&(s-=at[a],o(e,s,f)),r--,a=i(r),u(e,a,n),f=et[a],0!==f&&(r-=ft[a],o(e,r,f)));while(l<e.last_lit);u(e,K,t)}function b(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,u=t.stat_desc.has_stree,a=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=X,n=0;a>n;n++)0!==s[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>f?++f:0,s[2*i]=1,e.depth[i]=0,e.opt_len--,u&&(e.static_len-=o[2*i+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)g(e,s,n);i=a;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,g(e,s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],l(e,t),c(s,f,e.bl_count)}function w(e,t,n){var r,i,s=-1,o=t[1],u=0,a=7,f=4;for(0===o&&(a=138,f=3),t[2*(n+1)+1]=65535,r=0;n>=r;r++)i=o,o=t[2*(r+1)+1],++u<a&&i===o||(f>u?e.bl_tree[2*i]+=u:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*Q]++):10>=u?e.bl_tree[2*G]++:e.bl_tree[2*Y]++,u=0,s=i,0===o?(a=138,f=3):i===o?(a=6,f=3):(a=7,f=4))}function E(e,t,n){var r,i,s=-1,a=t[1],f=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;n>=r;r++)if(i=a,a=t[2*(r+1)+1],!(++f<l&&i===a)){if(c>f){do u(e,i,e.bl_tree);while(0!==--f)}else 0!==i?(i!==s&&(u(e,i,e.bl_tree),f--),u(e,Q,e.bl_tree),o(e,f-3,2)):10>=f?(u(e,G,e.bl_tree),o(e,f-3,3)):(u(e,Y,e.bl_tree),o(e,f-11,7));f=0,s=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}function S(e){var t;for(w(e,e.dyn_ltree,e.l_desc.max_code),w(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*nt[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function x(e,t,n,r){var i;for(o(e,t-257,5),o(e,n-1,5),o(e,r-4,4),i=0;r>i;i++)o(e,e.bl_tree[2*nt[i]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,n-1)}function T(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return _;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return D;for(t=32;R>t;t++)if(0!==e.dyn_ltree[2*t])return D;return _}function N(e){vt||(h(),vt=!0),e.l_desc=new dt(e.dyn_ltree,lt),e.d_desc=new dt(e.dyn_dtree,ct),e.bl_desc=new dt(e.bl_tree,ht),e.bi_buf=0,e.bi_valid=0,p(e)}function C(e,t,n,r){o(e,(H<<1)+(r?1:0),3),v(e,t,n,!0)}function k(e){o(e,B<<1,3),u(e,K,it),f(e)}function L(e,t,n,r){var i,s,u=0;e.level>0?(e.strm.data_type===P&&(e.strm.data_type=T(e)),b(e,e.l_desc),b(e,e.d_desc),u=S(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,i>=s&&(i=s)):i=s=n+5,i>=n+4&&-1!==t?C(e,t,n,r):e.strategy===M||s===i?(o(e,(B<<1)+(r?1:0),3),y(e,it,st)):(o(e,(j<<1)+(r?1:0),3),x(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),y(e,e.dyn_ltree,e.dyn_dtree)),p(e),r&&d(e)}function A(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ut[n]+R+1)]++,e.dyn_dtree[2*i(t)]++),e.last_lit===e.lit_bufsize-1}var O=e("../utils/common"),M=4,_=0,D=1,P=2,H=0,B=1,j=2,F=3,I=258,q=29,R=256,U=R+1+q,z=30,W=19,X=2*U+1,V=15,$=16,J=7,K=256,Q=16,G=17,Y=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,it=new Array(2*(U+2));r(it);var st=new Array(2*z);r(st);var ot=new Array(rt);r(ot);var ut=new Array(I-F+1);r(ut);var at=new Array(q);r(at);var ft=new Array(z);r(ft);var lt,ct,ht,pt=function(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length},dt=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t},vt=!1;n._tr_init=N,n._tr_stored_block=C,n._tr_flush_block=L,n._tr_tally=A,n._tr_align=k},{"../utils/common":27}],39:[function(e,t){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},{}]},{},[9])(9)}),function(e){"use strict";e.URL=e.URL||e.webkitURL;if(e.Blob&&e.URL)try{new Blob;return}catch(t){}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,n,r){this.data=t,this.size=t.length,this.type=n,this.encoding=r},i=n.prototype,s=r.prototype,o=e.FileReaderSync,u=function(e){this.code=this[this.name=e]},a="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),f=a.length,l=e.URL||e.webkitURL||e,c=l.createObjectURL,h=l.revokeObjectURL,p=l,d=e.btoa,v=e.atob,m=e.ArrayBuffer,g=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;r.fake=s.fake=!0;while(f--)u.prototype[a[f]]=f+1;return l.createObjectURL||(p=e.URL=function(e){var t=document.createElementNS("http://www.w3.org/1999/xhtml","a"),n;return t.href=e,"origin"in t||(t.protocol.toLowerCase()==="data:"?t.origin=null:(n=e.match(y),t.origin=n&&n[1])),t}),p.createObjectURL=function(e){var t=e.type,n;t===null&&(t="application/octet-stream");if(e instanceof r)return n="data:"+t,e.encoding==="base64"?n+";base64,"+e.data:e.encoding==="URI"?n+","+decodeURIComponent(e.data):d?n+";base64,"+d(e.data):n+","+encodeURIComponent(e.data);if(c)return c.call(l,e)},p.revokeObjectURL=function(e){e.substring(0,5)!=="data:"&&h&&h.call(l,e)},i.append=function(e){var n=this.data;if(g&&(e instanceof m||e instanceof g)){var i="",s=new g(e),a=0,f=s.length;for(;a<f;a++)i+=String.fromCharCode(s[a]);n.push(i)}else if(t(e)==="Blob"||t(e)==="File"){if(!o)throw new u("NOT_READABLE_ERR");var l=new o;n.push(l.readAsBinaryString(e))}else e instanceof r?e.encoding==="base64"&&v?n.push(v(e.data)):e.encoding==="URI"?n.push(decodeURIComponent(e.data)):e.encoding==="raw"&&n.push(e.data):(typeof e!="string"&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},s.slice=function(e,t,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},s.toString=function(){return"[object Blob]"},s.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,t){var r=t?t.type||"":"",i=new n;if(e)for(var s=0,o=e.length;s<o;s++)Uint8Array&&e[s]instanceof Uint8Array?i.append(e[s].buffer):i.append(e[s]);var u=i.getBlob(r);return!u.slice&&u.webkitSlice&&(u.slice=u.webkitSlice),u};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||this.content||this),define("Blob",function(){});var base64={};base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.makeDOMException=function(){var e,t;try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(t){var n=new Error("DOM Exception 5");return n.code=n.number=5,n.name=n.description="INVALID_CHARACTER_ERR",n.toString=function(){return"Error: "+n.name+": "+n.message},n}},base64.getbyte64=function(e,t){var n=base64.ALPHA.indexOf(e.charAt(t));if(n===-1)throw base64.makeDOMException();return n},base64.decode=function(e){e=""+e;var t=base64.getbyte64,n,r,i,s=e.length;if(s===0)return e;if(s%4!==0)throw base64.makeDOMException();n=0,e.charAt(s-1)===base64.PADCHAR&&(n=1,e.charAt(s-2)===base64.PADCHAR&&(n=2),s-=4);var o=[];for(r=0;r<s;r+=4)i=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6|t(e,r+3),o.push(String.fromCharCode(i>>16,i>>8&255,i&255));switch(n){case 1:i=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6,o.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=t(e,r)<<18|t(e,r+1)<<12,o.push(String.fromCharCode(i>>16))}return o.join("")},base64.getbyte=function(e,t){var n=e.charCodeAt(t);if(n>255)throw base64.makeDOMException();return n},base64.encode=function(e){if(arguments.length!==1)throw new SyntaxError("Not enough arguments");var t=base64.PADCHAR,n=base64.ALPHA,r=base64.getbyte,i,s,o=[];e=""+e;var u=e.length-e.length%3;if(e.length===0)return e;for(i=0;i<u;i+=3)s=r(e,i)<<16|r(e,i+1)<<8|r(e,i+2),o.push(n.charAt(s>>18)),o.push(n.charAt(s>>12&63)),o.push(n.charAt(s>>6&63)),o.push(n.charAt(s&63));switch(e.length-u){case 1:s=r(e,i)<<16,o.push(n.charAt(s>>18)+n.charAt(s>>12&63)+t+t);break;case 2:s=r(e,i)<<16|r(e,i+1)<<8,o.push(n.charAt(s>>18)+n.charAt(s>>12&63)+n.charAt(s>>6&63)+t)}return o.join("")},define("base64",function(){});var saveAs=saveAs||typeof navigator!="undefined"&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if(typeof navigator!="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent))return;var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i=!e.externalHost&&"download"in r,s=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},o=e.webkitRequestFileSystem,u=e.requestFileSystem||o||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f="application/octet-stream",l=0,c=[],h=function(){var e=c.length;while(e--){var t=c[e];typeof t=="string"?n().revokeObjectURL(t):t.remove()}c.length=0},p=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var i=e["on"+t[r]];if(typeof i=="function")try{i.call(e,n||e)}catch(s){a(s)}}},d=function(t,a){var h=this,d=t.type,v=!1,m,g,y=function(){var e=n().createObjectURL(t);return c.push(e),e},b=function(){p(h,"writestart progress write writeend".split(" "))},w=function(){if(v||!m)m=y(t);g?g.location.href=m:window.open(m,"_blank"),h.readyState=h.DONE,b()},E=function(e){return function(){if(h.readyState!==h.DONE)return e.apply(this,arguments)}},S={create:!0,exclusive:!1},x;h.readyState=h.INIT,a||(a="download");if(i){m=y(t),r.href=m,r.download=a,s(r),h.readyState=h.DONE,b();return}e.chrome&&d&&d!==f&&(x=t.slice||t.webkitSlice,t=x.call(t,0,t.size,f),v=!0),o&&a!=="download"&&(a+=".download");if(d===f||o)g=e;if(!u){w();return}l+=t.size,u(e.TEMPORARY,l,E(function(e){e.root.getDirectory("saved",S,E(function(e){var n=function(){e.getFile(a,S,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){g.location.href=e.toURL(),c.push(e),h.readyState=h.DONE,p(h,"writeend",t)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=h["on"+e]}),n.write(t),h.abort=function(){n.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),w)}),w)};e.getFile(a,{create:!1},E(function(e){e.remove(),n()}),E(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)},v=d.prototype,m=function(e,t){return new d(e,t)};return v.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,e.addEventListener("unload",h,!1),m.unload=function(){h(),e.removeEventListener("unload",h,!1)},m}(typeof self!="undefined"&&self||typeof window!="undefined"&&window||this.content);typeof module!="undefined"&&module!==null?module.exports=saveAs:typeof define!="undefined"&&define!==null&&define.amd!=null&&define("FileSaver",[],function(){return saveAs}),String.prototype.endsWithAny=function(){var e=Array.prototype.slice.call(arguments),t=this.toLowerCase().toString();for(var n=0;n<e.length;n++)if(t.indexOf(e[n],t.length-e[n].length)!==-1)return!0;return!1};var saveTextAs=saveTextAs||function(e,t,n){t=t||"download.txt",n=n||"utf-8",e=(e||"").replace(/\r?\n/g,"\r\n");if(saveAs&&Blob){var r=new Blob([e],{type:"text/plain;charset="+n});return saveAs(r,t),!0}var i=window.frames.saveTxtWindow;if(!i){i=document.createElement("iframe"),i.id="saveTxtWindow",i.style.display="none",document.body.insertBefore(i,null),i=window.frames.saveTxtWindow;if(!i){i=window.open("","_temp","width=100,height=100");if(!i)return window.alert("Sorry, download file could not be created."),!1}}var s=i.document;s.open("text/html","replace"),s.charset=n,t.endsWithAny(".htm",".html")?(s.close(),s.body.innerHTML="\r\n"+e+"\r\n"):(t.endsWithAny(".txt")||(t+=".txt"),s.write(e),s.close());var o=s.execCommand("SaveAs",null,t);return i.close(),o},XLSX={},JSZip=require("./jszip");(function(t){function i(){s(1200)}function o(e){var t=[];for(var n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function c(e){return new(l?Buffer:Array)(e)}function h(e){return l?new Buffer(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)&255})}function E(e){return e!==undefined&&e!==null}function S(e){return Object.keys(e)}function x(e,t){var n=[],r=S(e);for(var i=0;i!==r.length;++i)n[e[r[i]][t]]=r[i];return n}function T(e){var t=[],n=S(e);for(var r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function N(e){var t=[],n=S(e);for(var r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function C(e){var t=[],n=S(e);for(var r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}function k(e,t){t&&(e+=1462);var n=Date.parse(e);return(n+22091616e5)/864e5}function L(e){var t="";for(var n=0;n!=e.length;++n)t+=String.fromCharCode(e[n]);return t}function A(e){if(!e)return null;if(e.name.substr(-4)===".bin"){if(e.data)return o(e.data);if(e.asNodeBuffer&&l)return e.asNodeBuffer();if(e._data&&e._data.getContent)return Array.prototype.slice.call(e._data.getContent())}else{if(e.data)return e.name.substr(-4)!==".bin"?u(e.data):o(e.data);if(e.asNodeBuffer&&l)return u(e.asNodeBuffer().toString("binary"));if(e.asBinary)return u(e.asBinary());if(e._data&&e._data.getContent)return u(L(Array.prototype.slice.call(e._data.getContent(),0)))}return null}function O(e,t){var n=t;return e.files[n]?e.files[n]:(n=t.toLowerCase(),e.files[n]?e.files[n]:(n=n.replace(/\//g,"\\"),e.files[n]?e.files[n]:null))}function M(e,t){var n=O(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function _(e,t,n){if(!n)return A(M(e,t));if(!t)return null;try{return _(e,t)}catch(r){return null}}function I(e,t){var n=[],r=0,i=0;for(;r!==e.length;++r)if((i=e.charCodeAt(r))===32||i===10||i===13)break;t||(n[0]=e.substr(0,r));if(r===e.length)return n;var s=e.match(H),o=0,u="",a="",f=0,l="",c="";if(s)for(f=0;f!=s.length;++f){c=s[f];for(i=0;i!=c.length;++i)if(c.charCodeAt(i)===61)break;l=c.substr(0,i),a=c.substring(i+2,c.length-1);for(o=0;o!=l.length;++o)if(l.charCodeAt(o)===58)break;o===l.length?n[l]=a:n[(o===5&&l.substr(0,5)==="xmlns"?"xmlns":"")+l.substr(o+1)]=a}return n}function q(e){return e.replace(F,"<$1")}function $(e){var t=e+"";return t.replace(X,function(e){return U[e]}).replace(V,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).substr(-4)+"_"})}function K(e,t){switch(e){case"1":case"true":case"TRUE":return!0;default:return!1}}function it(e){var t=I(e),n=e.match(tt(t.baseType))||[];if(n.length!=t.size)throw"unexpected vector length "+n.length+" != "+t.size;var r=[];return n.forEach(function(e){var t=e.replace(nt,"").match(rt);r.push({v:t[2],t:t[1]})}),r}function ot(e,t){return"<"+e+(t.match(st)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ut(e){return S(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function at(e,t,n){return"<"+e+(E(n)?ut(n):"")+(E(t)?(t.match(st)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ft(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}}function lt(e){switch(typeof e){case"string":return at("vt:lpwstr",e);case"number":return at((e|0)==e?"vt:i4":"vt:r8",String(e));case"boolean":return at("vt:bool",e?"true":"false")}if(e instanceof Date)return at("vt:filetime",ft(e));throw new Error("Unable to serialize "+e)}function pt(e,t,n,r,i){n===undefined&&(n=!0),r||(r=8),!i&&r===8&&(i=52);var s,o,u=r*8-i-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?-1:1,h=n?r-1:0,p=e[t+h];h+=c,s=p&(1<<-l)-1,p>>>=-l,l+=u;for(;l>0;s=s*256+e[t+h],h+=c,l-=8);o=s&(1<<-l)-1,s>>>=-l,l+=i;for(;l>0;o=o*256+e[t+h],h+=c,l-=8);return s===a?o?NaN:(p?-1:1)*Infinity:(s===0?s=1-f:(o+=Math.pow(2,i),s-=f),(p?-1:1)*o*Math.pow(2,s-i))}function Bt(e,t){var n="",r,i,s=[],o,u,f,c;switch(t){case"dbcs":c=this.l;if(l&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(f=0;f!=e;++f)n+=String.fromCharCode(Ot(this,c)),c+=2;e*=2;break;case"utf8":n=wt(this,this.l,this.l+e);break;case"utf16le":e*=2,n=mt(this,this.l,this.l+e);break;case"lpstr":n=St(this,this.l),e=5+n.length;break;case"lpwstr":n=Tt(this,this.l),e=5+n.length,n[n.length-1]=="\0"&&(e+=2);break;case"cstr":e=0,n="";while((o=At(this,this.l+e++))!==0)s.push(a(o));n=s.join("");break;case"wstr":e=0,n="";while((o=Ot(this,this.l+e))!==0)s.push(a(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":n="",c=this.l;for(f=0;f!=e;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=At(this,c),this.l=c+1,u=Bt.call(this,e-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(a(Ot(this,c))),c+=2}n=s.join(""),e*=2;break;case"sbcs-cont":n="",c=this.l;for(f=0;f!=e;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=At(this,c),this.l=c+1,u=Bt.call(this,e-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(a(At(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=At(this,this.l),this.l++,r;case 2:return r=(t==="i"?Mt:Ot)(this,this.l),this.l+=2,r;case 4:return t==="i"||(this[this.l+3]&128)===0?(r=Dt(this,this.l),this.l+=4,r):(i=_t(this,this.l),this.l+=4,i);case 8:if(t==="f")return i=Ct(this,this.l),this.l+=8,i;case 16:n=yt(this,this.l,e)}}return this.l+=e,n}function jt(e,t,n){var r,i;if(n==="dbcs"){for(i=0;i!=t.length;++i)this.writeUInt16LE(t.charCodeAt(i),this.l+2*i);r=2*t.length}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 3:r=3,this[this.l+2]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l]=t&255;break;case 4:r=4,this.writeUInt32LE(t,this.l);break;case 8:r=8;if(n==="f"){this.writeDoubleLE(t,this.l);break};case 16:break;case-4:r=4,this.writeInt32LE(t,this.l)}return this.l+=r,this}function Ft(e,t){var n=yt(this,this.l,e.length>>1);if(n!==e)throw t+"Expected "+e+" saw "+n;this.l+=e.length>>1}function It(e,t){e.l=t,e.read_shift=Bt,e.chk=Ft,e.write_shift=jt}function qt(e,t){e.l+=t}function Rt(e,t){e.l+=t}function Ut(e){var t=c(e);return It(t,0),t}function zt(e,t,n){var r,i,s;It(e,e.l||0);while(e.l<e.length){var o=e.read_shift(1);o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=Mm[o]||Mm[65535];r=e.read_shift(1),s=r&127;for(i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;var a=u.f(e,s,n);if(t(a,u,o))return}}function Wt(){var e=[],t=2048,n=function(t){var n=Ut(t);return It(n,0),n},r=n(t),i=function(){r.length=r.l,r.length>0&&e.push(r),r=null},s=function(s){return s<r.length-r.l?r:(i(),r=n(Math.max(s+1,t)))},o=function(){return i(),dt([e])},u=function(n){i(),r=n,s(t)};return{next:s,push:u,end:o,_bufs:e}}function Xt(e,t,n,r){var i=_m[t],s;r||(r=Mm[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1+r,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=e.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var u=0;u!=4;++u){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,(r&127)+128),r>>=7}r>0&&Lt(n)&&e.push(n)}function Vt(e,t){t.s?(e.cRel&&(e.c+=t.s.c),e.rRel&&(e.r+=t.s.r)):(e.c+=t.c,e.r+=t.r),e.cRel=e.rRel=0;while(e.c>=256)e.c-=256;while(e.r>=65536)e.r-=65536;return e}function $t(e,t){return e.s=Vt(e.s,t.s),e.e=Vt(e.e,t.s),e}function Qt(e,t){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Gt(e,t){var n=e.l,r=e.read_shift(1),i=sn(e),s=[],o={t:i,h:i};if((r&1)!==0){var u=e.read_shift(4);for(var a=0;a!=u;++a)s.push(Qt(e));o.r=s}else o.r="<t>"+$(i)+"</t>";return(r&2)!==0,e.l=n+t,o}function Yt(e,t){return t==null&&(t=Ut(5+2*e.t.length)),t.write_shift(1,0),on(e.t,t),t}function Zt(e){var t=e.read_shift(4),n=e.read_shift(2);n+=e.read_shift(1)<<16;var r=e.read_shift(1);return{c:t,iStyleRef:n}}function en(e,t){return t==null&&(t=Ut(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef===undefined?e.iStyleRef:e.s),t.write_shift(1,0),t}function tn(e,t){return sn(e,t)}function nn(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function rn(e,t){return t||(t=Ut(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),t}function sn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function on(e,t){return t==null&&(t=Ut(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),t}function fn(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4,t[0]&=252;var i=r===0?Ct([0,0,0,0,t[0],t[1],t[2],t[3]],0):Dt(t,0)>>2;return n?i/100:i}function ln(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function cn(e,t){return t||(t=Ut(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}function hn(e,t){return e.read_shift(8,"f")}function pn(e,t){return(t||Ut(8)).write_shift(8,"f",e)}function mn(e,t){var n={},r=e.read_shift(1);n.fValidRGB=r&1,n.xColorType=r>>>1,n.index=e.read_shift(1),n.nTintAndShade=e.read_shift(2,"i"),n.bRed=e.read_shift(1),n.bGreen=e.read_shift(1),n.bBlue=e.read_shift(1),n.bAlpha=e.read_shift(1)}function gn(e,t){var n=e.read_shift(1);e.l++;var r={fItalic:n&2,fStrikeout:n&8,fOutline:n&16,fShadow:n&32,fCondense:n&64,fExtend:n&128};return r}function ur(e){return e.map(function(e){return[e>>16&255,e>>8&255,e&255]})}function hr(e,t){var n={};if(!e||!e.match)return e;var r={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};(e.match(B)||[]).forEach(function(e){var i=I(e);switch(i[0].replace(j,"<")){case"<?xml":break;case"<Types":r.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":r[fr[i.ContentType]]!==undefined?r[fr[i.ContentType]].push(i.PartName):t.WTF&&console.error(i)}});if(r.xmlns!==ht.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=n,delete r.calcchains,r}function vr(e,t){var n=[],r;n[n.length]=ct,n[n.length]=pr,n=n.concat(dr);var i=function(i){e[i]&&e[i].length>0&&(r=e[i][0],n[n.length]=at("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:lr[i][t.bookType||"xlsx"]}))},s=function(r){e[r].forEach(function(e){n[n.length]=at("Override",null,{PartName:(e[0]=="/"?"":"/")+e,ContentType:lr[r][t.bookType||"xlsx"]})})},o=function(t){(e[t]||[]).forEach(function(e){n[n.length]=at("Override",null,{PartName:(e[0]=="/"?"":"/")+e,ContentType:cr[t][0]})})};return i("workbooks"),s("sheets"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}function gr(e,t){if(!e)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={},r={},i=function(e){var n=t.split("/");n.pop();var r=e.split("/"),i=[];while(r.length!==0){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")};return e.match(B).forEach(function(e){var t=I(e);if(t[0]==="<Relationship"){var s={};s.Type=t.Type,s.Target=t.Target,s.Id=t.Id,s.TargetMode=t.TargetMode;var o=t.TargetMode==="External"?t.Target:i(t.Target);n[o]=s,r[t.Id]=s}}),n["!id"]=r,n}function br(e){var t=[];return t[t.length]=ct,t[t.length]=yr,S(e["!id"]).forEach(function(n){var r=e["!id"][n];t[t.length]=at("Relationship",null,r)}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Sr(e){var t={};for(var n=0;n<wr.length;++n){var r=wr[n],i=e.match(Er[n]);i!=null&&i.length>0&&(t[r[1]]=i[1]),r[2]==="date"&&t[r[1]]&&(t[r[1]]=new Date(t[r[1]]))}return t}function Tr(e,t,n,r,i){if(i[e]!=null||t==null||t==="")return;i[e]=t,r[r.length]=n?at(e,t,n):ot(e,t)}function Nr(e,t){var n=[ct,xr],r={};if(!e)return n.join("");e.CreatedDate!=null&&Tr("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ft(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),e.ModifiedDate!=null&&Tr("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ft(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r);for(var i=0;i!=wr.length;++i){var s=wr[i];Tr(s[0],e[s[1]],null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}function kr(e,t){var n={};t||(t={}),Cr.forEach(function(r){switch(r[2]){case"string":t[r[1]]=(e.match(et(r[0]))||[])[1];break;case"bool":t[r[1]]=(e.match(et(r[0]))||[])[1]==="true";break;case"raw":var i=e.match(new RegExp("<"+r[0]+"[^>]*>(.*)</"+r[0]+">"));i&&i.length>0&&(n[r[1]]=i[1])}});if(n.HeadingPairs&&n.TitlesOfParts){var r=it(n.HeadingPairs),i=0,s=0;for(var o=0;o!==r.length;++o)switch(r[o].v){case"Worksheets":s=i,t.Worksheets=+r[++o].v;break;case"Named Ranges":++o}var u=it(n.TitlesOfParts).map(function(e){return Q(e.v)});t.SheetNames=u.slice(s,s+t.Worksheets)}return t}function Ar(e,t){var n=[],r={},i=at;return e||(e={}),e.Application="SheetJS",n[n.length]=ct,n[n.length]=Lr,Cr.forEach(function(t){if(e[t[1]]===undefined)return;var r;switch(t[2]){case"string":r=e[t[1]];break;case"bool":r=e[t[1]]?"true":"false"}r!==undefined&&(n[n.length]=i(t[0],r))}),n[n.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=i("TitlesOfParts",i("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+e+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}function Mr(e,t){var n={},r,i=e.match(Or);if(i)for(var s=0;s!=i.length;++s){var o=i[s],u=I(o);switch(u[0]){case"<?xml":break;case"<Properties":if(u.xmlns!==ht.CUST_PROPS)throw"unrecognized xmlns "+u.xmlns;if(u.xmlnsvt&&u.xmlnsvt!==ht.vt)throw"unrecognized vt "+u.xmlnsvt;break;case"<property":r=u.name;break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var a=o.split(">"),f=a[0].substring(4),l=a[1];switch(f){case"lpstr":case"lpwstr":case"bstr":case"lpwstr":n[r]=W(l);break;case"bool":n[r]=K(l,"<vt:bool>");break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(l,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(l);break;case"filetime":case"date":n[r]=new Date(l);break;case"cy":case"error":n[r]=W(l);break;default:typeof console!="undefined"&&console.warn("Unexpected",o,f,a)}}else if(o.substr(0,2)!=="</"&&t.WTF)throw new Error(o)}}return n}function Dr(e,t){var n=[ct,_r];if(!e)return n.join("");var r=1;return S(e).forEach(function(i){++r,n[n.length]=at("property",lt(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:i})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}function Pr(e,t,n){switch(t){case"Description":t="Comments"}e[t]=n}function Hr(e){var t=e.read_shift(4),n=e.read_shift(4);return(new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3)).toISOString().replace(/\.000/,"")}function Br(e,t,n){var r=e.read_shift(0,"lpstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function jr(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function Fr(e,t,n){return t===31?jr(e):Br(e,t,n)}function Ir(e,t,n){return Fr(e,t,n===!1?0:4)}function qr(e,t){if(!t)throw new Error("dafuq?");return Fr(e,t,0)}function Rr(e){var t=e.read_shift(4),n=[];for(var r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr");return n}function Ur(e){return Rr(e)}function zr(e){var t=Qr(e,er),n=Qr(e,En);return[t,n]}function Wr(e){var t=e.read_shift(4),n=[];for(var r=0;r!=t/2;++r)n.push(zr(e));return n}function Xr(e){return Wr(e)}function Vr(e,t){var n=e.read_shift(4),r={};for(var i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(d,"").replace(v,"!")}return e.l&3&&(e.l=e.l>>3<<2),r}function $r(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return t&!0&&(e.l+=4-(t&3)&3),n}function Jr(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size,t}function Kr(e,t){}function Qr(e,t,n){var r=e.read_shift(2),i,s=n||{};e.l+=2;if(t!==An&&r!==t&&tr.indexOf(t)===-1)throw new Error("Expected type "+t+" saw "+r);switch(t===An?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return Br(e,r,4).replace(d,"");case 31:return jr(e);case 64:return Hr(e);case 65:return $r(e);case 71:return Jr(e);case 80:return Ir(e,r,!s.raw&&4).replace(d,"");case 81:return qr(e,r,4).replace(d,"");case 4108:return Xr(e);case 4126:return Ur(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function Gr(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),o=[],u=0,a=0,f=-1,l;for(u=0;u!=i;++u){var c=e.read_shift(4),h=e.read_shift(4);o[u]=[c,h+n]}var p={};for(u=0;u!=i;++u){if(e.l!==o[u][1]){var d=!0;if(u>0&&t)switch(t[o[u-1][0]].t){case 2:e.l+2===o[u][1]&&(e.l+=2,d=!1);break;case 80:e.l<=o[u][1]&&(e.l=o[u][1],d=!1);break;case 4108:e.l<=o[u][1]&&(e.l=o[u][1],d=!1)}!t&&e.l<=o[u][1]&&(d=!1,e.l=o[u][1]);if(d)throw new Error("Read Error: Expected address "+o[u][1]+" at "+e.l+" :"+u)}if(t){var v=t[o[u][0]];p[v.n]=Qr(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+String(p[v.n]&65535));if(v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 1e4:case 1252:case 874:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 932:case 936:case 949:case 950:case 1200:case 1201:case 65e3:case-536:case 65001:case-535:s(a=p[v.n]);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(o[u][0]===1){a=p.CodePage=Qr(e,wn),s(a);if(f!==-1){var m=e.l;e.l=o[f][1],l=Vr(e,a),e.l=m}}else if(o[u][0]===0){if(a===0){f=u,e.l=o[u+1][1];continue}l=Vr(e,a)}else{var g=l[o[u][0]],y;switch(e[e.l]){case 65:e.l+=4,y=$r(e);break;case 30:e.l+=4,y=Ir(e,e[e.l-4]);break;case 31:e.l+=4,y=Ir(e,e[e.l-4]);break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ni(e,4);break;case 64:e.l+=4,y=new Date(Hr(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[g]=y}}return e.l=n+r,p}function Yr(e,t){var n=e.content;It(n,0);var r,i,s,o,u;n.chk("feff","Byte Order: ");var a=n.read_shift(2),f=n.read_shift(4);n.chk(w.utils.consts.HEADER_CLSID,"CLSID: "),r=n.read_shift(4);if(r!==1&&r!==2)throw"Unrecognized #Sets: "+r;i=n.read_shift(16),o=n.read_shift(4);if(r===1&&o!==n.l)throw"Length mismatch";r===2&&(s=n.read_shift(16),u=n.read_shift(4));var l=Gr(n,t),c={SystemIdentifier:f};for(var h in l)c[h]=l[h];c.FMTID=i;if(r===1)return c;if(n.l!==u)throw"Length mismatch 2: "+n.l+" !== "+u;var p;try{p=Gr(n,null)}catch(d){}for(h in p)c[h]=p[h];return c.FMTID=[i,s],c}function Zr(e,t){return e.read_shift(t),null}function ei(e,t,n){var r=[],i=e.l+t;while(e.l<i)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function ti(e,t,n){var r=[],i=e.l+t,s=e.read_shift(2);while(s--!==0)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function ni(e,t){return e.read_shift(t)===1}function ri(e){return e.read_shift(2,"u")}function ii(e,t){return ei(e,t,ri)}function oi(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function ui(e,t,r){var i=e.read_shift(1),s=1,o="sbcs-cont",u=n;r&&r.biff>=8&&(n=1200);if(r===undefined||r.biff!==5){var a=e.read_shift(1);a&&(s=2,o="dbcs-cont")}var f=i?e.read_shift(i,o):"";return n=u,f}function ai(e){var t=n;n=1200;var r=e.read_shift(2),i=e.read_shift(1),s=i&1,o=i&4,u=i&8,a=1+(i&1),f,l,c={};u&&(f=e.read_shift(2)),o&&(l=e.read_shift(4));var h=i&1?"dbcs-cont":"sbcs-cont",p=r===0?"":e.read_shift(r,h);return u&&(e.l+=4*f),o&&(e.l+=l),c.t=p,u||(c.raw="<t>"+c.t+"</t>",c.r=c.t),n=t,c}function fi(e,t,n){var r,i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function li(e,t,n){var r=e.read_shift(n!==undefined&&n.biff>0&&n.biff<8?1:2);return r===0?(e.l++,""):fi(e,r,n)}function ci(e,t,n){if(n.biff!==5&&n.biff!==2)return li(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,"sbcs-cont")}function yi(e,t){var n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1),s=e.read_shift(1);return[n,r,i,s]}function bi(e,t){var n=yi(e,t);return n[3]=0,n}function wi(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{r:n,c:r,ixfe:i}}function Ei(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Si(e,t,n){return t===0?"":ci(e,t,n)}function Ni(e,t){var n=e.read_shift(2),r=e.read_shift(2,"i"),i=e.read_shift(2,"i");return[n,r,i]}function Ci(e,t){var n=e.read_shift(2),r=fn(e);return[n,r]}function ki(e,t){e.l+=4,t-=4;var n=e.l+t,r=ui(e,t),i=e.read_shift(2);n-=e.l;if(i!==n)throw"Malformed AddinUdf: padding = "+n+" != "+i;return e.l+=i,r}function Li(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);return{s:{c:i,r:n},e:{c:s,r:r}}}function Ai(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1);return{s:{c:i,r:n},e:{c:s,r:r}}}function Mi(e,t){e.l+=4;var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[r,n,i]}function _i(e,t){var n={};return e.l+=4,e.l+=16,n.fSharedNote=e.read_shift(2),e.l+=4,n}function Di(e,t){var n={};return e.l+=4,e.cf=e.read_shift(2),n}function Hi(e,t,n){var r=e.l,i=[];while(e.l<r+t){var s=e.read_shift(2);e.l-=2;try{i.push(Pi[s](e,r+t-e.l))}catch(o){return e.l=r+t,i}}return e.l!=r+t&&(e.l=r+t),i}function ji(e,t){var n={};n.BIFFVer=e.read_shift(2),t-=2;switch(n.BIFFVer){case 1536:case 1280:case 2:case 7:break;default:throw"Unexpected BIFF Ver "+n.BIFFVer}return e.read_shift(t),n}function Fi(e,t){if(t===0)return 1200;var n;if((n=e.read_shift(2))!==1200)throw"InterfaceHdr codePage "+n;return 1200}function Ii(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=li(e,0,n);return e.read_shift(t+r-e.l),i}function qi(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)>>6,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var o=ui(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function Ri(e,t){var n=e.read_shift(4),r=e.read_shift(4),i=[];for(var s=0;s!=r;++s)i.push(ai(e));return i.Count=n,i.Unique=r,i}function Ui(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function zi(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.read_shift(4);var o=e.read_shift(1);return e.read_shift(1),e.read_shift(2),{r:n,c:r,cnt:i-r}}function Wi(e,t){var n=Ei(e);if(n.type!=2211)throw"Invalid Future Record "+n.type;var r=e.read_shift(4);return r!==0}function Vi(e,t){return e.read_shift(2),e.read_shift(4)}function $i(e,t){var n=e.read_shift(2),r;r=e.read_shift(2);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,r]}function Ji(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),a=e.read_shift(2),f=e.read_shift(2),l=e.read_shift(2);return{Pos:[n,r],Dim:[i,s],Flags:o,CurTab:u,FirstTab:a,Selected:f,TabRatio:l}}function Ki(e,t,n){e.l+=14;var r=ui(e,0,n);return r}function Qi(e,t){var n=wi(e);return n.isst=e.read_shift(4),n}function Gi(e,t,n){var r=wi(e,6),i=li(e,t-6,n);return r.val=i,r}function Yi(e,t,n){var r=e.read_shift(2),i=ci(e,0,n);return[r,i]}function Zi(e,t){var n=t===10?2:4,r=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(2),o=e.read_shift(2);return e.l+=2,{s:{r:r,c:s},e:{r:i,c:o}}}function es(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=Ci(e);return{r:n,c:r,ixfe:i[0],rknum:i[1]}}function ts(e,t){var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];while(e.l<n)s.push(Ci(e));if(e.l!==n)throw"MulRK read error";var o=e.read_shift(2);if(s.length!=o-i+1)throw"MulRK length mismatch";return{r:r,c:i,C:o,rkrec:s}}function ns(e,t,n){var r={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return r.patternType=or[o>>26],r.icvFore=u&127,r.icvBack=u>>7&127,r}function rs(e,t){return ns(e,t,0)}function is(e,t){return ns(e,t,1)}function ss(e,t){var n={};return n.ifnt=e.read_shift(2),n.ifmt=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=ns(e,t,n.fStyle),n}function os(e,t){e.l+=4;var n=[e.read_shift(2),e.read_shift(2)];n[0]!==0&&n[0]--,n[1]!==0&&n[1]--;if(n[0]>7||n[1]>7)throw"Bad Gutters: "+n;return n}function us(e,t){var n=wi(e,6),r=oi(e,2);return n.val=r,n.t=r===!0||r===!1?"b":"e",n}function as(e,t){var n=wi(e,6),r=hn(e,8);return n.val=r,n}function ls(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2),o;s>=1&&s<=255&&(o=fi(e,s));var u=e.read_shift(r-e.l);return n.sbcch=s,[s,i,o,u]}function cs(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=ki(e,t-2)),s.body=i||e.read_shift(t-2),s}function hs(e,t,n){if(n.biff<8)return Gi(e,t,n);var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(2);e.l+=2;var a=e.read_shift(2);e.l+=4;var f=fi(e,o,n),l=xd(e,r-e.l,n,u);return{chKey:s,Name:f,rgce:l}}function ps(e,t,n){if(n.biff<8)return ui(e,t,n);var r=ti(e,t,Ni),i=[];if(n.sbcch===1025){for(var s=0;s!=r.length;++s)i.push(n.snames[r[s][1]]);return i}return r}function ds(e,t,n){var r=Ai(e,6);e.l++;var i=e.read_shift(1);return t-=8,[Nd(e,t,n),i]}function vs(e,t,n){var r=Oi(e,6);return e.l+=6,t-=12,[r,Cd(e,t,n,r)]}function ms(e,t){var n=e.read_shift(4)!==0,r=e.read_shift(4)!==0,i=e.read_shift(4);return[n,r,i]}function gs(e,t,n){if(n.biff<8)return;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),u=ci(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:i},u,o,s]}function ys(e,t,n){return gs(e,t,n)}function bs(e,t){var n=[],r=e.read_shift(2);while(r--)n.push(Li(e,t));return n}function ws(e,t){var n=Mi(e,22),r=Hi(e,t-22,n[1]);return{cmo:n,ft:r}}function Es(e,t,n){var r=e.l;try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=hi(e,6,n);var o=e.read_shift(2),u=e.read_shift(2),a=Bi(e,2),f=e.read_shift(2);e.l+=f;var l="";for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw"TxO: bad continue record";var h=e[e.l],p=fi(e,e.lens[c+1]-e.lens[c]-1);l+=p;if(l.length>=(h?o:2*o))break}if(l.length!==o&&l.length!==o*2)throw"cchText: "+o+" != "+l.length;return e.l=r+t,{t:l}}catch(d){return e.l=r+t,{t:l||""}}}function Ts(e,t){var n=[],r;return r=e.read_shift(2),n[0]=sr[r]||r,r=e.read_shift(2),n[1]=sr[r]||r,n}function Ns(e,t){var n=e.read_shift(2),r=[];while(n-->0)r.push(bi(e,8));return r}function Cs(e,t){var n=e.read_shift(2),r=[];while(n-->0)r.push(bi(e,8));return r}function ks(e,t){e.l+=2;var n={cxfs:0,crc:0};return n.cxfs=e.read_shift(2),n.crc=e.read_shift(4),n}function vc(e){var t=e.read_shift(1);return e.read_shift(t,"sbcs-cont")}function mc(e,t,n){var r=wi(e,6);++e.l;var i=ci(e,t-7,n);return r.val=i,r}function gc(e,t,n){var r=wi(e,6);++e.l;var i=hn(e,8);return r.val=i,r}function Sc(e,t){var n=t?t.cellHTML:!0,r={};if(!e)return null;var i;if(e.charCodeAt(1)===116)r.t=Q(W(e.substr(e.indexOf(">")+1).split(/<\/t>/)[0])),r.r=e,n&&(r.h=r.t);else if(i=e.match(Ec))r.r=e,r.t=Q(W(e.match(wc).join("").replace(B,""))),n&&(r.h=bc(e));return r}function Cc(e,t){var n=[],r,i=e.match(xc);if(E(i)){r=i[2].replace(Tc,"").split(Nc);for(var s=0;s!=r.length;++s){var o=Sc(r[s],t);o!=null&&(n[n.length]=o)}i=I(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function Lc(e,t){if(!t.bookSST)return"";var n=[ct];n[n.length]=at("sst",null,{xmlns:ht.main[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r){if(e[r]==null)continue;var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t.match(kc)&&(s+=' xml:space="preserve"'),s+=">"+$(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Ac(e,t){return[e.read_shift(4),e.read_shift(4)]}function Oc(e,t){var n=[],r=!1;return zt(e,function(i,s,o){switch(s.n){case"BrtBeginSst":n.Count=i[0],n.Unique=i[1];break;case"BrtSSTItem":n.push(i);break;case"BrtEndSst":return!0;case"BrtFRTBegin":r=!0;break;case"BrtFRTEnd":r=!1;break;default:if(!r||t.WTF)throw new Error("Unexpected record "+o+" "+s.n)}}),n}function Mc(e,t){return t||(t=Ut(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}function Dc(e,t){var n=Wt();Xt(n,"BrtBeginSst",Mc(e));for(var r=0;r<e.length;++r)Xt(n,"BrtSSTItem",_c(e[r]));return Xt(n,"BrtEndSst"),n.end()}function Pc(e){return typeof cptable!="undefined"?cptable.utils.encode(1252,e):e.split("").map(function(e){return e.charCodeAt(0)})}function Hc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),n}function Bc(e,t){var n={};n.Flags=e.read_shift(4);var r=e.read_shift(4);if(r!==0)throw"Unrecognized SizeExtra: "+r;n.AlgID=e.read_shift(4);switch(n.AlgID){case 0:case 26625:case 26126:case 26127:case 26128:break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}return qt(e,t-12),n}function jc(e,t){return qt(e,t)}function Fc(e,t){var n={},r=n.EncryptionVersionInfo=Hc(e,4);t-=4;if(r.Minor!=2)throw"unrecognized minor version code: "+r.Minor;if(r.Major>4||r.Major<2)throw"unrecognized major version code: "+r.Major;n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=Bc(e,i),t-=i,n.EncryptionVerifier=jc(e,t),n}function Ic(e,t){var n={},r=n.EncryptionVersionInfo=Hc(e,4);t-=4;if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return n.Salt=e.read_shift(16),n.EncryptedVerifier=e.read_shift(16),n.EncryptedVerifierHash=e.read_shift(16),n}function qc(e){var t=0,n,r=Pc(e),i=r.length+1,s,o,u,a,f;n=c(i),n[0]=r.length;for(s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],u=(t&16384)===0?0:1,a=t<<1&32767,f=u|a,t=f^o;return t^52811}function Wc(e,t,n,r){var i={key:ri(e),verificationBytes:ri(e)};return n.password&&(i.verifier=qc(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu_decrypt=zc(n.password)),i}function Xc(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=Ic(e,t):r.Data=Fc(e,t),r}function Vc(e,t,n){var r={Type:e.read_shift(2)};return r.Type?Xc(e,t-2,r):Wc(e,t-2,n,r),r}function $c(e){var t=e.substr(e[0]==="#"?1:0,6);return[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]}function Jc(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().substr(1)}function Kc(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var u=0,a=0,f=i+s;a=o/(f>1?2-f:f);switch(i){case t:u=((n-r)/o+6)%6;break;case n:u=(r-t)/o+2;break;case r:u=(t-n)/o+4}return[u/6,a,f/2]}function Qc(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],u=6*t,a;if(n!==0)switch(u|0){case 0:case 6:a=i*u,o[0]+=i,o[1]+=a;break;case 1:a=i*(2-u),o[0]+=a,o[1]+=i;break;case 2:a=i*(u-2),o[1]+=i,o[2]+=a;break;case 3:a=i*(4-u),o[1]+=a,o[2]+=i;break;case 4:a=i*(u-4),o[2]+=i,o[0]+=a;break;case 5:a=i*(6-u),o[2]+=a,o[0]+=i}for(var f=0;f!=3;++f)o[f]=Math.round(o[f]*255);return o}function Gc(e,t){if(t==0)return e;var n=Kc($c(e));t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t);var r=Jc(Qc(n));return r}function nh(e){return(e+(128/th|0)/256)*th|0}function rh(e){return((e-5)/th*100+.5|0)/100}function ih(e){return((e*th+5)/th*256|0)/256}function sh(e){return ih(rh(nh(e)))}function oh(e,t){if(sh(e)!=e){for(th=Yc;th>eh;--th)if(sh(e)===e)break;if(th===eh)for(th=Yc+1;th<Zc;++th)if(sh(e)===e)break;th===Zc&&(th=Yc)}}function lh(e,t){ah.Fills=[];var n={};e[0].match(B).forEach(function(e){var r=I(e);switch(r[0]){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":break;case"</fill>":ah.Fills.push(n),n={};break;case"<patternFill":r.patternType&&(n.patternType=r.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),r.indexed&&(n.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(n.bgColor.theme=parseInt(r.theme,10)),r.tint&&(n.bgColor.tint=parseFloat(r.tint)),r.theme&&fh.themeElements&&fh.themeElements.clrScheme&&(n.bgColor.rgb=Gc(fh.themeElements.clrScheme[n.bgColor.theme].rgb,n.bgColor.tint||0),t.WTF&&(n.bgColor.raw_rgb=Gc(fh.themeElements.clrScheme[n.bgColor.theme].rgb,0))),r.rgb&&(n.bgColor.rgb=r.rgb);break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),r.theme&&(n.fgColor.theme=parseInt(r.theme,10)),r.tint&&(n.fgColor.tint=parseFloat(r.tint)),r.theme&&fh.themeElements&&fh.themeElements.clrScheme&&(n.fgColor.rgb=Gc(fh.themeElements.clrScheme[n.fgColor.theme].rgb,n.fgColor.tint||0),t.WTF&&(n.fgColor.raw_rgb=Gc(fh.themeElements.clrScheme[n.fgColor.theme].rgb,0))),r.rgb&&(n.fgColor.rgb=r.rgb);break;case"<fgColor/>":case"</fgColor>":break;default:if(t.WTF)throw"unrecognized "+r[0]+" in fills"}})}function ch(e,t){ah.Fonts=[];var n={};e[0].match(B).forEach(function(e){var t=I(e);switch(t[0]){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":break;case"</font>":ah.Fonts.push(n),n={};break;case"<name":t.val&&(n.name=t.val);break;case"<name/>":case"</name>":break;case"<b/>":n.bold=!0;break;case"<u/>":n.underline=!0;break;case"<i/>":n.italic=!0;break;case"<strike/>":n.strike=!0;break;case"<outline/>":n.outline=!0;break;case"<shadow/>":n.shadow=!0;break;case"<sz":t.val&&(n.sz=t.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":t.val&&(n.vertAlign=t.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<color":n.color||(n.color={}),t.theme&&(n.color.theme=t.theme),t.tint&&(n.color.tint=t.tint),t.theme&&fh.themeElements&&fh.themeElements.clrScheme&&(n.color.rgb=Gc(fh.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)),t.rgb&&(n.color.rgb=t.rgb);break;case"<color/>":case"</color>":}})}function hh(e,t){ah.Borders=[];var n={},r={};e[0].match(B).forEach(function(e){var t=I(e);switch(t[0]){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":n={},t.diagonalUp&&(n.diagonalUp=t.diagonalUp),t.diagonalDown&&(n.diagonalDown=t.diagonalDown),ah.Borders.push(n);break;case"</border>":break;case"<left":r=n.left={},t.style&&(r.style=t.style);break;case"<right":r=n.right={},t.style&&(r.style=t.style);break;case"<top":r=n.top={},t.style&&(r.style=t.style);break;case"<bottom":r=n.bottom={},t.style&&(r.style=t.style);break;case"<diagonal":r=n.diagonal={},t.style&&(r.style=t.style);break;case"<color":r.color={},t.theme&&(r.color.theme=t.theme),t.theme&&fh.themeElements&&fh.themeElements.clrScheme&&(r.color.rgb=Gc(fh.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)),t.tint&&(r.color.tint=t.tint),t.rgb&&(r.color.rgb=t.rgb),t.auto&&(r.color.auto=t.auto);break;case"<name/>":case"</name>":break;default:}})}function ph(e,t){ah.NumberFmt=[];var n=S(m._table);for(var r=0;r<n.length;++r)ah.NumberFmt[n[r]]=m._table[n[r]];var i=e[0].match(B);for(r=0;r<i.length;++r){var s=I(i[r]);switch(s[0]){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var o=W(Q(s.formatCode)),u=parseInt(s.numFmtId,10);ah.NumberFmt[u]=o,u>0&&m.load(o,u);break;default:if(t.WTF)throw"unrecognized "+s[0]+" in numFmts"}}}function dh(e,t){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[63,66],[164,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)e[r]!==undefined&&(n[n.length]=at("numFmt",null,{numFmtId:r,formatCode:$(e[r])}))}),n.length===1?"":(n[n.length]="</numFmts>",n[0]=at("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}function vh(e,t){ah.CellXf=[];var n;e[0].match(B).forEach(function(e){var r=I(e);switch(r[0]){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":n=r,delete n[0],delete r[0],n.numFmtId&&(n.numFmtId=parseInt(n.numFmtId,10)),n.fillId&&(n.fillId=parseInt(n.fillId,10)),ah.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var i={};r.vertical&&(i.vertical=r.vertical),r.horizontal&&(i.horizontal=r.horizontal),r.textRotation!=undefined&&(i.textRotation=r.textRotation),r.indent&&(i.indent=r.indent),r.wrapText&&(i.wrapText=r.wrapText),n.alignment=i;break;case"<protection":case"</protection>":case"<protection/>":break;case"<extLst":case"</extLst>":break;case"<ext":break;default:if(t.WTF)throw"unrecognized "+r[0]+" in cellXfs"}})}function mh(e){var t=[];return t[t.length]=at("cellXfs",null),e.forEach(function(e){t[t.length]=at("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=at("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bh(e,t){if(typeof style_builder!="undefined"&&!0)return style_builder.toXml();var n=[ct,yh],r;(r=dh(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>';if(r=mh(t.cellXfs))n[n.length]=r;return n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function wh(e,t){var n=e.read_shift(2),r=sn(e,t-2);return[n,r]}function Eh(e,t){var n={flags:{}};return n.dyHeight=e.read_shift(2),n.grbit=gn(e,2),n.bls=e.read_shift(2),n.sss=e.read_shift(2),n.uls=e.read_shift(1),n.bFamily=e.read_shift(1),n.bCharSet=e.read_shift(1),e.l++,n.brtColor=mn(e,8),n.bFontScheme=e.read_shift(1),n.name=sn(e,t-21),n.flags.Bold=n.bls===700,n.flags.Italic=n.grbit.fItalic,n.flags.Strikeout=n.grbit.fStrikeout,n.flags.Outline=n.grbit.fOutline,n.flags.Shadow=n.grbit.fShadow,n.flags.Condense=n.grbit.fCondense,n.flags.Extend=n.grbit.fExtend,n.flags.Sub=n.sss&2,n.flags.Sup=n.sss&1,n}function Sh(e,t){var n=e.read_shift(2),r=e.read_shift(2);return qt(e,t-4),{ixfe:n,ifmt:r}}function xh(e,t){ah.NumberFmt=[];for(var n in m._table)ah.NumberFmt[n]=m._table[n];ah.CellXf=[];var r="",i=!1;return zt(e,function(n,s,o){switch(s.n){case"BrtFmt":ah.NumberFmt[n[0]]=n[1],m.load(n[1],n[0]);break;case"BrtFont":break;case"BrtKnownFonts":break;case"BrtFill":break;case"BrtBorder":break;case"BrtXF":r==="CELLXFS"&&ah.CellXf.push(n);break;case"BrtStyle":break;case"BrtDXF":break;case"BrtMRUColor":break;case"BrtIndexedColor":break;case"BrtBeginStyleSheet":break;case"BrtEndStyleSheet":break;case"BrtBeginTableStyle":break;case"BrtTableStyleElement":break;case"BrtEndTableStyle":break;case"BrtBeginFmts":r="FMTS";break;case"BrtEndFmts":r="";break;case"BrtBeginFonts":r="FONTS";break;case"BrtEndFonts":r="";break;case"BrtACBegin":r="ACFONTS";break;case"BrtACEnd":r="";break;case"BrtBeginFills":r="FILLS";break;case"BrtEndFills":r="";break;case"BrtBeginBorders":r="BORDERS";break;case"BrtEndBorders":r="";break;case"BrtBeginCellStyleXFs":r="CELLSTYLEXFS";break;case"BrtEndCellStyleXFs":r="";break;case"BrtBeginCellXFs":r="CELLXFS";break;case"BrtEndCellXFs":r="";break;case"BrtBeginStyles":r="STYLES";break;case"BrtEndStyles":r="";break;case"BrtBeginDXFs":r="DXFS";break;case"BrtEndDXFs":r="";break;case"BrtBeginTableStyles":r="TABLESTYLES";break;case"BrtEndTableStyles":r="";break;case"BrtBeginColorPalette":r="COLORPALETTE";break;case"BrtEndColorPalette":r="";break;case"BrtBeginIndexedColors":r="INDEXEDCOLORS";break;case"BrtEndIndexedColors":r="";break;case"BrtBeginMRUColors":r="MRUCOLORS";break;case"BrtEndMRUColors":r="";break;case"BrtFRTBegin":i=!0;break;case"BrtFRTEnd":i=!1;break;case"BrtBeginStyleSheetExt14":break;case"BrtBeginSlicerStyles":break;case"BrtEndSlicerStyles":break;case"BrtBeginTimelineStylesheetExt15":break;case"BrtEndTimelineStylesheetExt15":break;case"BrtBeginTimelineStyles":break;case"BrtEndTimelineStyles":break;case"BrtEndStyleSheetExt14":break;default:if(!i||t.WTF)throw new Error("Unexpected record "+o+" "+s.n)}}),ah}function Th(e,t){var n=Wt();return Xt(n,"BrtBeginStyleSheet"),Xt(n,"BrtEndStyleSheet"),n.end()}function Nh(e,t){fh.themeElements.clrScheme=[];var n={};e[0].match(B).forEach(function(e){var r=I(e);switch(r[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=r.val;break;case"<a:sysClr":n.rgb=r.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt1>":case"</a:lt1>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":r[0][1]==="/"?(fh.themeElements.clrScheme.push(n),n={}):n.name=r[0].substring(3,r[0].length-1);break;default:if(t.WTF)throw"unrecognized "+r[0]+" in clrScheme"}})}function Ch(e,t){}function kh(e,t){}function Mh(e,t){fh.themeElements={};var n;[["clrScheme",Lh,Nh],["fontScheme",Ah,Ch],["fmtScheme",Oh,kh]].forEach(function(r){if(!(n=e.match(r[1])))throw r[0]+" not found in themeElements";r[2](n,t)})}function Dh(e,t){if(!e||e.length===0)return fh;var n;if(!(n=e.match(_h)))throw"themeElements not found in theme";return Mh(n[0],t),fh}function Ph(e){return e.themeXml?e.themeXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="?? ?????"/><a:font script="Hang" typeface="?? ??"/><a:font script="Hans" typeface="??"/><a:font script="Hant" typeface="????"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="?? ?????"/><a:font script="Hang" typeface="?? ??"/><a:font script="Hans" typeface="??"/><a:font script="Hant" typeface="????"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>'}function Hh(e,t){var n=e.read_shift(4);if(n===124226)return;e.l+=t-4}function Bh(e,t){return e.read_shift(4)}function jh(e,t){var n={};n.xclrType=e.read_shift(2),n.nTintShade=e.read_shift(2);switch(n.xclrType){case 0:e.l+=4;break;case 1:n.xclrValue=Fh(e,4);break;case 2:n.xclrValue=yi(e,4);break;case 3:n.xclrValue=Bh(e,4);break;case 4:e.l+=4}return e.l+=8,n}function Fh(e,t){return qt(e,t)}function Ih(e,t){return qt(e,t)}function qh(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=[n];switch(n){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=jh(e,r);break;case 6:i[1]=Ih(e,r);break;case 14:case 15:i[1]=e.read_shift(r===5?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+n+" "+r)}return i}function Rh(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;var i=e.read_shift(2),s=[];while(i-->0)s.push(qh(e,n-e.l));return{ixfe:r,ext:s}}function Uh(e,t){t.forEach(function(e){switch(e[0]){case 4:break;case 5:break;case 7:case 8:case 9:case 10:break;case 13:break;case 14:break;default:throw"bafuq"+e[0].toString(16)}})}function zh(e,t){var n=[],r=0,i=1;return(e.match(B)||[]).forEach(function(e){var t=I(e);switch(t[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete t[0],t.i?i=t.i:t.i=i,n.push(t)}}),n}function Wh(e,t){}function Xh(e,t){var n={};n.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),n.r=ug(r);var i=e.read_shift(1);return i&2&&(n.l="1"),i&8&&(n.a="1"),n}function Vh(e,t){var n=[],r=!1;return zt(e,function(i,s,o){switch(s.n){case"BrtCalcChainItem$":n.push(i);break;case"BrtBeginCalcChain$":break;case"BrtEndCalcChain$":break;default:if(!r||t.WTF)throw new Error("Unexpected record "+o+" "+s.n)}}),n}function $h(e,t){}function Jh(e,t,n,r,i){for(var s=0;s!=t.length;++s){var o=t[s],u=nm(_(e,o.replace(/^\//,""),!0),o,i);if(!u||!u.length)continue;var a=S(n);for(var f=0;f!=a.length;++f){var l=a[f],c=r[l];if(c){var h=c[o];h&&Kh(l,n[l],u)}}}}function Kh(e,t,n){n.forEach(function(e){var n=t[e.ref];if(!n){n={},t[e.ref]=n;var r=hg(t["!ref"]||"BDWGO1000001:A1"),i=og(e.ref);r.s.r>i.r&&(r.s.r=i.r),r.e.r<i.r&&(r.e.r=i.r),r.s.c>i.c&&(r.s.c=i.c),r.e.c<i.c&&(r.e.c=i.c);var s=cg(r);s!==t["!ref"]&&(t["!ref"]=s)}n.c||(n.c=[]);var o={a:e.author,t:e.t,r:e.r};e.h&&(o.h=e.h),n.c.push(o)})}function Qh(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[];return e.match(/<(?:\w+:)?authors>([^\u2603]*)<\/(?:\w+:)?authors>/)[1].split(/<\/\w*:?author>/).forEach(function(e){if(e===""||e.trim()==="")return;n.push(e.match(/<(?:\w+:)?author[^>]*>(.*)/)[1])}),(e.match(/<(?:\w+:)?commentList>([^\u2603]*)<\/(?:\w+:)?commentList>/)||["",""])[1].split(/<\/\w*:?comment>/).forEach(function(e,i){if(e===""||e.trim()==="")return;var s=I(e.match(/<(?:\w+:)?comment[^>]*>/)[0]),o={author:s.authorId&&n[s.authorId]?n[s.authorId]:undefined,ref:s.ref,guid:s.guid},u=og(s.ref);if(t.sheetRows&&t.sheetRows<=u.r)return;var a=e.match(/<text>([^\u2603]*)<\/text>/);if(!a||!a[1])return;var f=Sc(a[1]);o.r=f.r,o.t=f.t,t.cellHTML&&(o.h=f.h),r.push(o)}),r}function Gh(e,t){}function Yh(e,t){var n={};n.iauthor=e.read_shift(4);var r=ln(e,16);return n.rfx=r.s,n.ref=ug(r.s),e.l+=16,n}function tp(e,t){var n=[],r=[],i={},s=!1;return zt(e,function(o,u,a){switch(u.n){case"BrtCommentAuthor":r.push(o);break;case"BrtBeginComment":i=o;break;case"BrtCommentText":i.t=o.t,i.h=o.h,i.r=o.r;break;case"BrtEndComment":i.author=r[i.iauthor],delete i.iauthor;if(t.sheetRows&&t.sheetRows<=i.rfx.r)break;delete i.rfx,n.push(i);break;case"BrtBeginComments":break;case"BrtEndComments":break;case"BrtBeginCommentAuthors":break;case"BrtEndCommentAuthors":break;case"BrtBeginCommentList":break;case"BrtEndCommentList":break;default:if(!s||t.WTF)throw new Error("Unexpected record "+a+" "+u.n)}}),n}function np(e,t){}function ip(e){return function(t,n){t.l+=e;return}}function sp(e,t){e.l+=1;return}function op(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function up(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=op(e,2),s=op(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:r,c:s[0],cRel:s[1],rRel:s[2]}}}function ap(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=op(e,2),s=op(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:r,c:s[0],cRel:s[1],rRel:s[2]}}}function fp(e,t){var n=e.read_shift(2),r=op(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function lp(e,t){var n=e.read_shift(2),r=e.read_shift(2),i=(r&32768)>>15,s=(r&16384)>>14;r&=16383;if(i!==0)while(r>=256)r-=256;return{r:n,c:r,cRel:i,rRel:s}}function cp(e,t){var n=(e[e.l++]&96)>>5,r=up(e,8);return[n,r]}function hp(e,t){var n=(e[e.l++]&96)>>5,r=e.read_shift(2),i=up(e,8);return[n,r,i]}function pp(e,t){var n=(e[e.l++]&96)>>5;return e.l+=8,[n]}function dp(e,t){var n=(e[e.l++]&96)>>5,r=e.read_shift(2);return e.l+=8,[n,r]}function vp(e,t){var n=(e[e.l++]&96)>>5,r=ap(e,8);return[n,r]}function mp(e,t){var n=(e[e.l++]&96)>>5;return e.l+=7,[n]}function gp(e,t){var n=e[e.l+1]&1,r=1;return e.l+=4,[n,r]}function yp(e,t){e.l+=2;var n=e.read_shift(2),r=[];for(var i=0;i<=n;++i)r.push(e.read_shift(2));return r}function bp(e,t){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(2)]}function wp(e,t){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(2)]}function Ep(e,t){var n=e[e.l+1]&255?1:0;return e.l+=4,[n]}function Sp(e,t){var n=e.read_shift(1),r=e.read_shift(1);return[n,r]}function xp(e,t){return e.read_shift(2),Sp(e,2)}function Tp(e,t){return e.read_shift(2),Sp(e,2)}function Np(e,t){var n=e[e.l]&31,r=(e[e.l]&96)>>5;e.l+=1;var i=fp(e,4);return[r,i]}function Cp(e,t){var n=e[e.l]&31,r=(e[e.l]&96)>>5;e.l+=1;var i=lp(e,4);return[r,i]}function kp(e,t){var n=e[e.l]&31,r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2),s=fp(e,4);return[r,i,s]}function Lp(e,t){var n=e[e.l]&31,r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);return[Pd[i],Dd[i]]}function Ap(e,t){e.l++;var n=e.read_shift(1),r=Op(e);return[n,(r[0]===0?Dd:_d)[r[1]]]}function Op(e,t){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Dp(e,t){e.l++;var n=e.read_shift(2),r=e.read_shift(2);return[n,r]}function Pp(e,t){return e.l++,dn[e.read_shift(1)]}function Hp(e,t){return e.l++,e.read_shift(2)}function Bp(e,t){return e.l++,e.read_shift(1)!==0}function jp(e,t){return e.l++,hn(e,8)}function Fp(e,t){return e.l++,ui(e)}function Ip(e){var t=[];switch(t[0]=e.read_shift(1)){case 4:t[1]=ni(e,1)?"TRUE":"FALSE",e.l+=7;break;case 16:t[1]=dn[e[e.l]],e.l+=8;break;case 0:e.l+=8;break;case 1:t[1]=hn(e,8);break;case 2:t[1]=li(e)}return t}function qp(e,t){var n=e.read_shift(2),r=[];for(var i=0;i!=n;++i)r.push(Li(e,8));return r}function Rp(e){var t=1+e.read_shift(1),n=1+e.read_shift(2);for(var r=0,i=[];r!=n&&(i[r]=[]);++r)for(var s=0;s!=t;++s)i[r][s]=Ip(e);return i}function Up(e,t){var n=e.read_shift(1)>>>5&3,r=e.read_shift(4);return[n,0,r]}function zp(e,t){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2),i=e.read_shift(4);return[n,r,i]}function Wp(e,t){var n=e.read_shift(1)>>>5&3;e.l+=4;var r=e.read_shift(2);return[n,r]}function Xp(e,t){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[n,r]}function Vp(e,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,[n]}function wd(e,t,n){var r=wi(e,6),i=Ed(e,8),s=e.read_shift(1);e.read_shift(1);var o=e.read_shift(4),u="";return n.biff===5?e.l+=t-20:u=Td(e,t-20,n),{cell:r,val:i[0],formula:u,shared:s>>3&1,tt:i[1]}}function Ed(e){var t;if(Ot(e,e.l+6)!==65535)return[hn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}}function Sd(e,t,n,r){if(r.biff<8)return qt(e,t);var i=e.l+t,s=[];for(var o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Rp(e),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=qp(e,n[o][1]),s.push(n[o][2]);break;default:}return t=i-e.l,t!==0&&s.push(qt(e,t)),s}function xd(e,t,n,r){var i=e.l+t,s=kd(e,r),o;return i!==e.l&&(o=Sd(e,i-e.l,s,n)),[s,o]}function Td(e,t,n){var r=e.l+t,i,s=e.read_shift(2);if(s==65535)return[[],qt(e,t-2)];var o=kd(e,s);return t!==s+2&&(i=Sd(e,t-s-2,o,n)),[o,i]}function Nd(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=kd(e,s);return s==65535?[[],qt(e,t-2)]:(t!==s+2&&(i=Sd(e,r-s-2,o,n)),[o,i])}function Cd(e,t,n,r){var i=e.l+t,s,o=e.read_shift(2);if(o==65535)return[[],qt(e,t-2)];var u=kd(e,o);return t!==o+2&&(s=Sd(e,i-o-2,u,n)),[u,s]}function kd(e,t){var n=e.l+t,r,i,s=[];while(n!=e.l){t=n-e.l,i=e[e.l],r=md[i];if(i===24||i===25)i=e[e.l+1],r=(i===24?yd:bd)[i];!r||!r.f?s.push(qt(e,t)):s.push([r.n,r.f(e,t)])}return s}function Ld(e){return e.map(function(t){return t[1]}).join(",")}function Ad(e,t,n,r,i){if(i!==undefined&&i.biff===5)return"BIFF5??";var s=t!==undefined?t:{s:{c:0,r:0}},o=[],u,a,f,l,c,h,p;if(!e[0]||!e[0][0])return"";for(var d=0,v=e[0].length;d<v;++d){var m=e[0][d];switch(m[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":u=o.pop(),a=o.pop(),o.push(a+"+"+u);break;case"PtgSub":u=o.pop(),a=o.pop(),o.push(a+"-"+u);break;case"PtgMul":u=o.pop(),a=o.pop(),o.push(a+"*"+u);break;case"PtgDiv":u=o.pop(),a=o.pop(),o.push(a+"/"+u);break;case"PtgPower":u=o.pop(),a=o.pop(),o.push(a+"^"+u);break;case"PtgConcat":u=o.pop(),a=o.pop(),o.push(a+"&"+u);break;case"PtgLt":u=o.pop(),a=o.pop(),o.push(a+"<"+u);break;case"PtgLe":u=o.pop(),a=o.pop(),o.push(a+"<="+u);break;case"PtgEq":u=o.pop(),a=o.pop(),o.push(a+"="+u);break;case"PtgGe":u=o.pop(),a=o.pop(),o.push(a+">="+u);break;case"PtgGt":u=o.pop(),a=o.pop(),o.push(a+">"+u);break;case"PtgNe":u=o.pop(),a=o.pop(),o.push(a+"<>"+u);break;case"PtgIsect":u=o.pop(),a=o.pop(),o.push(a+" "+u);break;case"PtgUnion":u=o.pop(),a=o.pop(),o.push(a+","+u);break;case"PtgRange":break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgRef":f=m[1][0],l=Vt(og(ug(m[1][1])),s),o.push(ug(l));break;case"PtgRefN":f=m[1][0],l=Vt(og(ug(m[1][1])),n),o.push(ug(l));break;case"PtgRef3d":f=m[1][0],c=m[1][1],l=Vt(m[1][2],s),o.push(r[1][c+1]+"!"+ug(l));break;case"PtgFunc":case"PtgFuncVar":var g=m[1][0],y=m[1][1];g||(g=0);var b=o.slice(-g);o.length-=g,y==="User"&&(y=b.shift()),o.push(y+"("+b.join(",")+")");break;case"PtgBool":o.push(m[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(m[1]);break;case"PtgNum":o.push(String(m[1]));break;case"PtgStr":o.push('"'+m[1]+'"');break;case"PtgErr":o.push(m[1]);break;case"PtgArea":f=m[1][0],p=$t(m[1][1],s),o.push(cg(p));break;case"PtgArea3d":f=m[1][0],c=m[1][1],p=m[1][2],o.push(r[1][c+1]+"!"+cg(p));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrSemi":break;case"PtgName":h=m[1][2];var w=r[0][h],E=w.Name;E in Hd&&(E=Hd[E]),o.push(E);break;case"PtgNameX":var S=m[1][1];h=m[1][2];var x;r[S+1]?x=r[S+1][h]:r[S-1]&&(x=r[S-1][h]),x||(x={body:"??NAMEX??"}),o.push(x.body);break;case"PtgParen":o.push("("+o.pop()+")");break;case"PtgRefErr":o.push("#REF!");break;case"PtgExp":l={c:m[1][1],r:m[1][0]};var T={c:n.c,r:n.r};if(r.sharedf[ug(l)]){var N=r.sharedf[ug(l)];o.push(Ad(N,s,T,r,i))}else{var C=!1;for(u=0;u!=r.arrayf.length;++u){a=r.arrayf[u];if(l.c<a[0].s.c||l.c>a[0].e.c)continue;if(l.r<a[0].s.r||l.r>a[0].e.r)continue;o.push(Ad(a[1],s,T,r,i))}C||o.push(m[1])}break;case"PtgArray":o.push("{"+m[1].map(Ld).join(";")+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":break;case"PtgAreaN":o.push("");break;case"PtgRefErr3d":break;case"PtgMemFunc":break;default:throw"Unrecognized Formula Token: "+m}}return o[0]}function Od(e,t){var n=e.read_shift(4);return qt(e,t-4)}function Fd(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n].t===t)return e.Count++,n;return e[r]={t:t},e.Count++,e.Unique++,r}function Id(e,t,n){if(typeof style_builder!="undefined"){if(/^\d+$/.exec(t.s))return t.s;if(t.s&&t.s==+t.s)return t.s;var r=t.s||{};return t.z&&(r.numFmt=t.z),style_builder.addStyle(r)}var i=n.revssf[t.z!=null?t.z:"General"];for(var s=0,o=e.length;s!=o;++s)if(e[s].numFmtId===i)return s;return e[o]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function qd(e){if(e){var t={};return typeof e.numFmtId!=undefined&&(t.numFmt=m._table[e.numFmtId]),e.fillId&&(t.fill=ah.Fills[e.fillId]),e.fontId&&(t.font=ah.Fonts[e.fontId]),e.borderId&&(t.border=ah.Borders[e.borderId]),e.applyAlignment==1&&(t.alignment=e.alignment),t}return null}function Rd(e,t,n,r){try{if(e.t==="e")e.w=e.w||dn[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=m._general_int(e.v,jd):e.w=m._general_num(e.v,jd);else if(e.t==="d"){var i=k(e.v);(i|0)===i?e.w=m._general_int(i,jd):e.w=m._general_num(i,jd)}else{if(e.v===undefined)return"";e.w=m._general(e.v,jd)}else e.t==="d"?e.w=m.format(t,k(e.v),jd):e.w=m.format(t,e.v,jd);r.cellNF&&(e.z=m._table[t])}catch(s){if(r.WTF)throw s}}function Ud(e,t){var n=hg(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=cg(n))}function Jd(e,t,n){if(!e)return e;var r={},i=e.indexOf("<dimension");if(i>0){var s=e.substr(i,50).match(Vd);s!=null&&Ud(r,s[1])}var o=[];if(e.indexOf("</mergeCells>")!==-1){var u=e.match(zd);for(i=0;i!=u.length;++i)o[i]=hg(u[i].substr(u[i].indexOf('"')+1))}var a=[];if(t.cellStyles&&e.indexOf("</cols>")!==-1){var f=e.match($d);Gd(a,f)}var l={s:{r:1e6,c:1e6},e:{r:0,c:0}},c=e.match(Wd);c&&ev(c[1],r,t,l),e.indexOf("</hyperlinks>")!==-1&&Qd(r,e.match(Xd),n),!r["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(r["!ref"]=cg(l));if(t.sheetRows>0&&r["!ref"]){var h=hg(r["!ref"]);t.sheetRows<+h.e.r&&(h.e.r=t.sheetRows-1,h.e.r>l.e.r&&(h.e.r=l.e.r),h.e.r<h.s.r&&(h.s.r=h.e.r),h.e.c>l.e.c&&(h.e.c=l.e.c),h.e.c<h.s.c&&(h.s.c=h.e.c),r["!fullref"]=r["!ref"],r["!ref"]=cg(h))}return o.length>0&&(r["!merges"]=o),a.length>0&&(r["!cols"]=a),r}function Kd(e){if(e.length==0)return"";var t='<mergeCells count="'+e.length+'">';for(var n=0;n!=e.length;++n)t+='<mergeCell ref="'+cg(e[n])+'"/>';return t+"</mergeCells>"}function Qd(e,t,n){for(var r=0;r!=t.length;++r){var i=I(t[r],!0);if(!i.ref)return;var s=n?n["!id"][i.id]:null;s?(i.Target=s.Target,i.location&&(i.Target+="#"+i.location),i.Rel=s):(i.Target=i.location,s={Target:i.location,TargetMode:"Internal"},i.Rel=s);var o=hg(i.ref);for(var u=o.s.r;u<=o.e.r;++u)for(var a=o.s.c;a<=o.e.c;++a){var f=ug({c:a,r:u});e[f]||(e[f]={t:"stub",v:undefined}),e[f].l=i}}}function Gd(e,t){var n=!1;for(var r=0;r!=t.length;++r){var i=I(t[r],!0),s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;delete i.min,delete i.max,!n&&i.width&&(n=!0,oh(+i.width,i)),i.width&&(i.wpx=nh(+i.width),i.wch=rh(i.wpx),i.MDW=th);while(s<=o)e[s++]=i}}function Yd(e,t){var n=["<cols>"],r,i;for(var s=0;s!=t.length;++s){if(!(r=t[s]))continue;var o={min:s+1,max:s+1};i=-1,r.wpx?i=rh(r.wpx):r.wch&&(i=r.wch),i>-1&&(o.width=ih(i),o.customWidth=1),n[n.length]=at("col",null,o)}return n[n.length]="</cols>",n.join("")}function Zd(e,t,n,r,i,s){if(e.v===undefined&&e.s===undefined)return"";var o="",u=e.t,a=e.v;switch(e.t){case"b":o=e.v?"1":"0";break;case"n":o=""+e.v;break;case"e":o=dn[e.v];break;case"d":r.cellDates?o=(new Date(e.v)).toISOString():(e.t="n",o=""+(e.v=k(e.v)),typeof e.z=="undefined"&&(e.z=m._table[14]));break;default:o=e.v}var f=ot("v",$(o)),l={r:t},c=Id(r.cellXfs,e,r);c!==0&&(l.s=c);switch(e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(r.bookSST){f=ot("v",""+Fd(r.Strings,e.v)),l.t="s";break}l.t="str"}return e.t!=u&&(e.t=u,e.v=a),at("c",f,l)}function tv(e,t,n,r){var i=[],s=[],o=hg(e["!ref"]),u,a,f="",l=[],c,h;for(h=o.s.c;h<=o.e.c;++h)l[h]=ng(h);for(c=o.s.r;c<=o.e.r;++c){s=[],f=Ym(c);for(h=o.s.c;h<=o.e.c;++h){a=l[h]+f;if(e[a]===undefined)continue;(u=Zd(e[a],a,e,t,n,r))!=null&&s.push(u)}s.length>0&&(i[i.length]=at("row",s.join(""),{r:f}))}return i.join("")}function rv(e,t,n){var r=[ct,nv],i=n.SheetNames[e],s=0,o="",u=n.Sheets[i];u===undefined&&(u={});var a=u["!ref"];return a===undefined&&(a="A1"),r[r.length]=at("dimension",null,{ref:a}),u["!cols"]!==undefined&&u["!cols"].length>0&&(r[r.length]=Yd(u,u["!cols"])),r[s=r.length]="<sheetData/>",u["!ref"]!==undefined&&(o=tv(u,t,e,n),o.length>0&&(r[r.length]=o)),r.length>s+1&&(r[r.length]="</sheetData>",r[s]=r[s].replace("/>",">")),u["!merges"]!==undefined&&u["!merges"].length>0&&(r[r.length]=Kd(u["!merges"])),r.length>2&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function iv(e,t){var n=[];return n.r=e.read_shift(4),e.l+=t-4,n}function uv(e,t){var n={};return e.l+=19,n.name=tn(e,t-19),n}function av(e,t){var n=Zt(e);return[n]}function fv(e,t,n){return n==null&&(n=Ut(8)),en(t,n)}function lv(e,t){var n=Zt(e),r=e.read_shift(1);return[n,r,"b"]}function cv(e,t){var n=Zt(e),r=e.read_shift(1);return[n,r,"e"]}function hv(e,t){var n=Zt(e),r=e.read_shift(4);return[n,r,"s"]}function pv(e,t){var n=Zt(e),r=hn(e);return[n,r,"n"]}function dv(e,t){var n=Zt(e),r=fn(e);return[n,r,"n"]}function vv(e,t){var n=Zt(e),r=sn(e);return[n,r,"str"]}function mv(e,t,n){var r=Zt(e),i=e.read_shift(1),s=[r,i,"b"];if(n.cellFormula){var o=Od(e,t-9);s[3]=""}else e.l+=t-9;return s}function gv(e,t,n){var r=Zt(e),i=e.read_shift(1),s=[r,i,"e"];if(n.cellFormula){var o=Od(e,t-9);s[3]=""}else e.l+=t-9;return s}function yv(e,t,n){var r=Zt(e),i=hn(e),s=[r,i,"n"];if(n.cellFormula){var o=Od(e,t-16);s[3]=""}else e.l+=t-16;return s}function bv(e,t,n){var r=e.l,i=Zt(e),s=sn(e),o=[i,s,"str"];if(n.cellFormula)var u=Od(e,r+t-e.l);else e.l=r+t;return o}function Ev(e,t,n){var r=e.l+t,i=ln(e,16),s=nn(e),o=sn(e),u=sn(e),a=sn(e);return e.l=r,{rfx:i,relId:s,loc:o,tooltip:u,display:a}}function Sv(e,t,n){if(!e)return e;n||(n={"!id":{}});var r={},i,s={s:{r:1e6,c:1e6},e:{r:0,c:0}},o=!1,u=!1,a,f,l,c,h,p,d,v,m=[];zt(e,function(c,g){if(u)return;switch(g.n){case"BrtWsDim":i=c;break;case"BrtRowHdr":a=c,t.sheetRows&&t.sheetRows<=a.r&&(u=!0),v=Ym(a.r);break;case"BrtFmlaBool":case"BrtFmlaError":case"BrtFmlaNum":case"BrtFmlaString":case"BrtCellBool":case"BrtCellError":case"BrtCellIsst":case"BrtCellReal":case"BrtCellRk":case"BrtCellSt":f={t:c[2]};switch(c[2]){case"n":f.v=c[1];break;case"s":d=Bd[c[1]],f.v=d.t,f.r=d.r;break;case"b":f.v=c[1]?!0:!1;break;case"e":f.v=c[1],f.w=dn[f.v];break;case"str":f.t="s",f.v=Q(c[1])}t.cellFormula&&c.length>3&&(f.f=c[3]),(l=ah.CellXf[c[0].iStyleRef])&&Rd(f,l.ifmt,null,t),r[ng(h=c[0].c)+v]=f,s.s.r>a.r&&(s.s.r=a.r),s.s.c>h&&(s.s.c=h),s.e.r<a.r&&(s.e.r=a.r),s.e.c<h&&(s.e.c=h);break;case"BrtCellBlank":if(!t.sheetStubs)break;f={t:"s",v:undefined},r[ng(h=c[0].c)+v]=f,s.s.r>a.r&&(s.s.r=a.r),s.s.c>h&&(s.s.c=h),s.e.r<a.r&&(s.e.r=a.r),s.e.c<h&&(s.e.c=h);break;case"BrtBeginMergeCells":break;case"BrtEndMergeCells":break;case"BrtMergeCell":m.push(c);break;case"BrtHLink":var y=n["!id"][c.relId];y&&(c.Target=y.Target,c.loc&&(c.Target+="#"+c.loc),c.Rel=y);for(g=c.rfx.s.r;g<=c.rfx.e.r;++g)for(h=c.rfx.s.c;h<=c.rfx.e.c;++h)p=ug({c:h,r:g}),r[p]||(r[p]={t:"s",v:undefined}),r[p].l=c;break;case"BrtArrFmla":break;case"BrtShrFmla":break;case"BrtBeginSheet":break;case"BrtWsProp":break;case"BrtSheetCalcProp":break;case"BrtBeginWsViews":break;case"BrtBeginWsView":break;case"BrtPane":break;case"BrtSel":break;case"BrtEndWsView":break;case"BrtEndWsViews":break;case"BrtACBegin":break;case"BrtRwDescent":break;case"BrtACEnd":break;case"BrtWsFmtInfoEx14":break;case"BrtWsFmtInfo":break;case"BrtBeginColInfos":break;case"BrtColInfo":break;case"BrtEndColInfos":break;case"BrtBeginSheetData":break;case"BrtEndSheetData":break;case"BrtSheetProtection":break;case"BrtPrintOptions":break;case"BrtMargins":break;case"BrtPageSetup":break;case"BrtFRTBegin":o=!0;break;case"BrtFRTEnd":o=!1;break;case"BrtEndSheet":break;case"BrtDrawing":break;case"BrtLegacyDrawing":break;case"BrtLegacyDrawingHF":break;case"BrtPhoneticInfo":break;case"BrtBeginHeaderFooter":break;case"BrtEndHeaderFooter":break;case"BrtBrk":break;case"BrtBeginRwBrk":break;case"BrtEndRwBrk":break;case"BrtBeginColBrk":break;case"BrtEndColBrk":break;case"BrtBeginUserShViews":break;case"BrtBeginUserShView":break;case"BrtEndUserShView":break;case"BrtEndUserShViews":break;case"BrtBkHim":break;case"BrtBeginOleObjects":break;case"BrtOleObject":break;case"BrtEndOleObjects":break;case"BrtBeginListParts":break;case"BrtListPart":break;case"BrtEndListParts":break;case"BrtBeginSortState":break;case"BrtBeginSortCond":break;case"BrtEndSortCond":break;case"BrtEndSortState":break;case"BrtBeginConditionalFormatting":break;case"BrtEndConditionalFormatting":break;case"BrtBeginCFRule":break;case"BrtEndCFRule":break;case"BrtBeginDVals":break;case"BrtDVal":break;case"BrtEndDVals":break;case"BrtRangeProtection":break;case"BrtBeginDCon":break;case"BrtEndDCon":break;case"BrtBeginDRefs":break;case"BrtDRef":break;case"BrtEndDRefs":break;case"BrtBeginActiveXControls":break;case"BrtActiveX":break;case"BrtEndActiveXControls":break;case"BrtBeginAFilter":break;case"BrtEndAFilter":break;case"BrtBeginFilterColumn":break;case"BrtBeginFilters":break;case"BrtFilter":break;case"BrtEndFilters":break;case"BrtEndFilterColumn":break;case"BrtDynamicFilter":break;case"BrtTop10Filter":break;case"BrtBeginCustomFilters":break;case"BrtCustomFilter":break;case"BrtEndCustomFilters":break;case"BrtBeginSmartTags":break;case"BrtBeginCellSmartTags":break;case"BrtBeginCellSmartTag":break;case"BrtCellSmartTagProperty":break;case"BrtEndCellSmartTag":break;case"BrtEndCellSmartTags":break;case"BrtEndSmartTags":break;case"BrtBeginCellWatches":break;case"BrtCellWatch":break;case"BrtEndCellWatches":break;case"BrtTable":break;case"BrtBeginCellIgnoreECs":break;case"BrtCellIgnoreEC":break;case"BrtEndCellIgnoreECs":break;default:if(!o||t.WTF)throw new Error("Unexpected record "+g.n)}},t),!r["!ref"]&&(s.s.r<1e6||i.e.r>0||i.e.c>0||i.s.r>0||i.s.c>0)&&(r["!ref"]=cg(i));if(t.sheetRows&&r["!ref"]){var g=hg(r["!ref"]);t.sheetRows<+g.e.r&&(g.e.r=t.sheetRows-1,g.e.r>s.e.r&&(g.e.r=s.e.r),g.e.r<g.s.r&&(g.s.r=g.e.r),g.e.c>s.e.c&&(g.e.c=s.e.c),g.e.c<g.s.c&&(g.s.c=g.e.c),r["!fullref"]=r["!ref"],r["!ref"]=cg(g))}return m.length>0&&(r["!merges"]=m),r}function xv(e,t,n,r,i){if(t.v===undefined)return"";var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var o={r:n,c:r};o.s=Id(i.cellXfs,t,i);switch(t.t){case"s":case"str":if(i.bookSST){s=Fd(i.Strings,t.v),o.t="s";break}o.t="str";break;case"n":break;case"b":o.t="b";break;case"e":o.t="e"}Xt(e,"BrtCellBlank",fv(t,o))}function Tv(e,t,n,r,i){var s=hg(t["!ref"]||"A1"),o,u="",a=[];Xt(e,"BrtBeginSheetData");for(var f=s.s.r;f<=s.e.r;++f){u=Ym(f);for(var l=s.s.c;l<=s.e.c;++l){f===s.s.r&&(a[l]=ng(l)),o=a[l]+u;if(!t[o])continue;xv(e,t[o],f,l,r)}}Xt(e,"BrtEndSheetData")}function Nv(e,t,n){var r=Wt(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=hg(s["!ref"]||"A1");return Xt(r,"BrtBeginSheet"),Xt(r,"BrtWsDim",ov(o)),Tv(r,s,e,t,n),Xt(r,"BrtEndSheet"),r.end()}function Mv(e,t){for(var n=0;n!=e.length;++n){var r=e[n];for(var i=0;i!=t.length;++i){var s=t[i];r[s[0]]==null&&(r[s[0]]=s[1])}}}function _v(e,t){for(var n=0;n!=t.length;++n){var r=t[n];e[r[0]]==null&&(e[r[0]]=r[1])}}function Dv(e){_v(e.WBProps,Cv),_v(e.CalcPr,Av),Mv(e.WBView,kv),Mv(e.Sheets,Lv),jd.date1904=K(e.WBProps.date1904,"date1904")}function Hv(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=!1,i="xmlns";e.match(B).forEach(function(s){var o=I(s);switch(q(o[0])){case"<?xml":break;case"<workbook":s.match(Pv)&&(i="xmlns"+s.match(/<(\w+):/)[1]),n.xmlns=o[i];break;case"</workbook>":break;case"<fileVersion":delete o[0],n.AppVersion=o;break;case"<fileVersion/>":break;case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":delete o[0],n.WBProps=o;break;case"<workbookPr/>":delete o[0],n.WBProps=o;break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews>":case"</bookViews>":break;case"<workbookView":delete o[0],n.WBView.push(o);break;case"<sheets>":case"</sheets>":break;case"<sheet":delete o[0],o.name=Q(o.name),n.Sheets.push(o);break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":case"<definedName/>":case"</definedName>":break;case"<calcPr":delete o[0],n.CalcPr=o;break;case"<calcPr/>":delete o[0],n.CalcPr=o;break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;default:if(!r&&t.WTF)throw"unrecognized "+o[0]+" in workbook"}});if(ht.main.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Dv(n),n}function jv(e){try{return K(e.Workbook.WBProps.date1904)?"true":"false"}catch(t){return"false"}}function Fv(e,t){var n=[ct];n[n.length]=Bv,n[n.length]=at("workbookPr",null,{date1904:jv(e)}),n[n.length]="<sheets>";for(var r=0;r!=e.SheetNames.length;++r)n[n.length]=at("sheet",null,{name:e.SheetNames[r].substr(0,31),sheetId:""+(r+1),"r:id":"rId"+(r+1)});return n[n.length]="</sheets>",n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function Iv(e,t){var n={};return n.hsState=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=un(e,t-8),n.name=sn(e),n}function qv(e,t){return t||(t=Ut(127)),t.write_shift(4,e.hsState),t.write_shift(4,e.iTabID),an(e.strRelID,t),on(e.name.substr(0,31),t),t}function Rv(e,t){e.read_shift(4);var n=e.read_shift(4),r=t>8?sn(e):"";return[n,r]}function Uv(e,t){return t||(t=Ut(8)),t.write_shift(4,0),t.write_shift(4,0),t}function zv(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function Wv(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=!1,i;return zt(e,function(i,s){switch(s.n){case"BrtBundleSh":n.Sheets.push(i);break;case"BrtBeginBook":break;case"BrtFileVersion":break;case"BrtWbProp":break;case"BrtACBegin":break;case"BrtAbsPath15":break;case"BrtACEnd":break;case"BrtWbFactoid":break;case"BrtBookProtection":break;case"BrtBeginBookViews":break;case"BrtBookView":break;case"BrtEndBookViews":break;case"BrtBeginBundleShs":break;case"BrtEndBundleShs":break;case"BrtBeginFnGroup":break;case"BrtEndFnGroup":break;case"BrtBeginExternals":break;case"BrtSupSelf":break;case"BrtSupBookSrc":break;case"BrtExternSheet":break;case"BrtEndExternals":break;case"BrtName":break;case"BrtCalcProp":break;case"BrtUserBookView":break;case"BrtBeginPivotCacheIDs":break;case"BrtBeginPivotCacheID":break;case"BrtEndPivotCacheID":break;case"BrtEndPivotCacheIDs":break;case"BrtWebOpt":break;case"BrtFileRecover":break;case"BrtFileSharing":break;case"BrtBeginSmartTagTypes":break;case"BrtSmartTagType":break;case"BrtEndSmartTagTypes":break;case"BrtFRTBegin":r=!0;break;case"BrtFRTArchID$":break;case"BrtWorkBookPr15":break;case"BrtFRTEnd":r=!1;break;case"BrtEndBook":break;default:if(!r||t.WTF)throw new Error("Unexpected record "+s.n)}}),Dv(n),n}function Xv(e,t,n){Xt(e,"BrtBeginBundleShs");for(var r=0;r!=t.SheetNames.length;++r){var i={hsState:0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Xt(e,"BrtBundleSh",qv(i))}Xt(e,"BrtEndBundleShs")}function Vv(e,n){n||(n=Ut(127));for(var r=0;r!=4;++r)n.write_shift(4,0);return on("SheetJS",n),on(t.version,n),on(t.version,n),on("7262",n),n.length=n.l,n}function $v(e,t,n){Xt(e,"BrtBeginBookViews"),Xt(e,"BrtEndBookViews")}function Jv(e,t){return t||(t=Ut(26)),t.write_shift(4,0),t.write_shift(4,1),t.write_shift(4,0),pn(0,t),t.write_shift(-4,1023),t.write_shift(1,51),t.write_shift(1,0),t}function Kv(e,t){return t||(t=Ut(1)),t.write_shift(1,0),t}function Qv(e,t){var n=Wt();return Xt(n,"BrtBeginBook"),Xt(n,"BrtFileVersion",Vv()),Xt(n,"BrtWbProp",Uv()),$v(n,e,t),Xv(n,e,t),Xt(n,"BrtCalcProp",Jv()),Xt(n,"BrtFileRecover",Kv()),Xt(n,"BrtEndBook"),n.end()}function Gv(e,t,n){return(t.substr(-4)===".bin"?Wv:Hv)(e,n)}function Yv(e,t,n,r){return(t.substr(-4)===".bin"?Sv:Jd)(e,n,r)}function Zv(e,t,n){return(t.substr(-4)===".bin"?xh:gh)(e,n)}function em(e,t,n){return Dh(e,n)}function tm(e,t,n){return(t.substr(-4)===".bin"?Oc:Cc)(e,n)}function nm(e,t,n){return(t.substr(-4)===".bin"?tp:Qh)(e,n)}function rm(e,t,n){return(t.substr(-4)===".bin"?Vh:zh)(e,n)}function im(e,t,n){return(t.substr(-4)===".bin"?Qv:Fv)(e,n)}function sm(e,t,n,r){return(t.substr(-4)===".bin"?Nv:rv)(e,n,r)}function om(e,t,n){return(t.substr(-4)===".bin"?Th:bh)(e,n)}function um(e,t,n){return(t.substr(-4)===".bin"?Dc:Lc)(e,n)}function cm(e,t){var n=e.split(/\s+/),r=[];t||(r[0]=n[0]);if(n.length===1)return r;var i=e.match(am),s,o,u,a;if(i)for(a=0;a!=i.length;++a)s=i[a].match(fm),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].substr(1,s[2].length-2):(s[1].substr(0,6)==="xmlns:"?u="xmlns"+s[1].substr(6):u=s[1].substr(o+1),r[u]=s[2].substr(1,s[2].length-2));return r}function hm(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(am),i,s,o,u;if(r)for(u=0;u!=r.length;++u)i=r[u].match(fm),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].substr(1,i[2].length-2):(i[1].substr(0,6)==="xmlns:"?o="xmlns"+i[1].substr(6):o=i[1].substr(s+1),n[o]=i[2].substr(1,i[2].length-2));return n}function pm(e,t){var n=y[e]||W(e);return n==="General"?m._general(t):m.format(n,t)}function dm(e,t,n,r){switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=K(r);break;case"i2":case"int":r=parseInt(r,10);break;case"r4":case"float":r=parseFloat(r);break;case"date":case"dateTime.tz":r=new Date(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw"bad custprop:"+n[0]}e[W(t[3])]=r}function vm(e,t,n){try{e.t==="e"?e.w=e.w||dn[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=m._general_int(e.v):e.w=m._general_num(e.v):e.w=m._general(e.v):e.w=pm(t||"General",e.v),n.cellNF&&(e.z=y[t]||t||"General")}catch(r){if(n.WTF)throw r}}function mm(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=uh[r.Pattern]||r.Pattern)}e[t.ID]=t}function gm(e,t,n,r,i,s,o,u,a){var f="General",l=r.StyleID,c={};a=a||{};var h=[];l===undefined&&u&&(l=u.StyleID),l===undefined&&o&&(l=o.StyleID);while(s[l]!==undefined){s[l].nf&&(f=s[l].nf),s[l].Interior&&h.push(s[l].Interior);if(!s[l].Parent)break;l=s[l].Parent}switch(n.Type){case"Boolean":r.t="b",r.v=K(e);break;case"String":r.t="s",r.r=J(W(e)),r.v=e.indexOf("<")>-1?t:r.r;break;case"DateTime":r.v=(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=W(e):r.v>=1&&r.v<60&&(r.v=r.v-1);if(!f||f=="General")f="yyyy-mm-dd";case"Number":r.v===undefined&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=vn[e],r.w=e;break;default:r.t="s",r.v=J(t)}vm(r,f,a),a.cellFormula!=null&&r.Formula&&(r.f=rp(W(r.Formula),i),r.Formula=undefined),a.cellStyles&&(h.forEach(function(e){!c.patternType&&e.patternType&&(c.patternType=e.patternType)}),r.s=c),r.ixfe=r.StyleID!==undefined?r.StyleID:"Default"}function ym(e){e.t=e.v,e.v=e.w=e.ixfe=undefined}function bm(e){if(l&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;throw"badf"}function Em(e,t){var n=bm(e),r,i=[],s,o={},u=[],a={},f="",l={},c={},h={},p,d,v=0,g=0,y={s:{r:1e6,c:1e6},e:{r:0,c:0}},b={},w={},E="",S=0,x=[],T={},N={},C=0,k={},L=[],A={},O=[],M;wm.lastIndex=0;while(r=wm.exec(n))switch(r[3]){case"Data":if(i[i.length-1][1])break;r[1]==="/"?gm(n.slice(d,r.index),E,p,i[i.length-1][0]=="Comment"?A:c,{c:v,r:g},b,O[v],h,t):(E="",p=cm(r[0]),d=r.index+r[0].length);break;case"Cell":if(r[1]==="/"){L.length>0&&(c.c=L),(!t.sheetRows||t.sheetRows>g)&&c.v!==undefined&&(a[ng(v)+Ym(g)]=c),c.HRef&&(c.l={Target:c.HRef,tooltip:c.HRefScreenTip},c.HRef=c.HRefScreenTip=undefined);if(c.MergeAcross||c.MergeDown){var _=v+(parseInt(c.MergeAcross,10)|0),D=g+(parseInt(c.MergeDown,10)|0);x.push({s:{c:v,r:g},e:{c:_,r:D}})}++v,c.MergeAcross&&(v+=+c.MergeAcross)}else c=hm(r[0]),c.Index&&(v=+c.Index-1),v<y.s.c&&(y.s.c=v),v>y.e.c&&(y.e.c=v),r[0].substr(-2)==="/>"&&++v,L=[];break;case"Row":r[1]==="/"||r[0].substr(-2)==="/>"?(g<y.s.r&&(y.s.r=g),g>y.e.r&&(y.e.r=g),r[0].substr(-2)==="/>"&&(h=cm(r[0]),h.Index&&(g=+h.Index-1)),v=0,++g):(h=cm(r[0]),h.Index&&(g=+h.Index-1));break;case"Worksheet":if(r[1]==="/"){if((s=i.pop())[0]!==r[3])throw"Bad state: "+s;u.push(f),y.s.r<=y.e.r&&y.s.c<=y.e.c&&(a["!ref"]=cg(y)),x.length&&(a["!merges"]=x),o[f]=a}else y={s:{r:1e6,c:1e6},e:{r:0,c:0}},g=v=0,i.push([r[3],!1]),s=cm(r[0]),f=s.Name,a={},x=[];break;case"Table":if(r[1]==="/"){if((s=i.pop())[0]!==r[3])throw"Bad state: "+s}else{if(r[0].slice(-2)=="/>")break;l=cm(r[0]),i.push([r[3],!1]),O=[]}break;case"Style":r[1]==="/"?mm(b,w,t):w=cm(r[0]);break;case"NumberFormat":w.nf=cm(r[0]).Format||"General";break;case"Column":if(i[i.length-1][0]!=="Table")break;M=cm(r[0]),O[M.Index-1||O.length]=M;for(var P=0;P<+M.Span;++P)O[O.length]=M;break;case"NamedRange":break;case"NamedCell":break;case"B":break;case"I":break;case"U":break;case"S":break;case"Sub":break;case"Sup":break;case"Span":break;case"Border":break;case"Alignment":break;case"Borders":break;case"Font":if(r[0].substr(-2)==="/>")break;r[1]==="/"?E+=n.slice(S,r.index):S=r.index+r[0].length;break;case"Interior":if(!t.cellStyles)break;w.Interior=cm(r[0]);break;case"Protection":break;case"Author":case"Title":case"Description":case"Created":case"Keywords":case"Subject":case"Category":case"Company":case"LastAuthor":case"LastSaved":case"LastPrinted":case"Version":case"Revision":case"TotalTime":case"HyperlinkBase":case"Manager":if(r[0].substr(-2)==="/>")break;r[1]==="/"?Pr(T,r[3],n.slice(C,r.index)):C=r.index+r[0].length;break;case"Paragraphs":break;case"Styles":case"Workbook":if(r[1]==="/"){if((s=i.pop())[0]!==r[3])throw"Bad state: "+s}else i.push([r[3],!1]);break;case"Comment":if(r[1]==="/"){if((s=i.pop())[0]!==r[3])throw"Bad state: "+s;ym(A),L.push(A)}else i.push([r[3],!1]),s=cm(r[0]),A={a:s.Author};break;case"Name":break;case"ComponentOptions":case"DocumentProperties":case"CustomDocumentProperties":case"OfficeDocumentSettings":case"PivotTable":case"PivotCache":case"Names":case"MapInfo":case"PageBreaks":case"QueryTable":case"DataValidation":case"AutoFilter":case"Sorting":case"Schema":case"data":case"ConditionalFormatting":case"SmartTagType":case"SmartTags":case"ExcelWorkbook":case"WorkbookOptions":case"WorksheetOptions":if(r[1]==="/"){if((s=i.pop())[0]!==r[3])throw"Bad state: "+s}else r[0].charAt(r[0].length-2)!=="/"&&i.push([r[3],!0]);break;default:var H=!0;switch(i[i.length-1][0]){case"OfficeDocumentSettings":switch(r[3]){case"AllowPNG":break;case"RemovePersonalInformation":break;case"DownloadComponents":break;case"LocationOfComponents":break;case"Colors":break;case"Color":break;case"Index":break;case"RGB":break;case"PixelsPerInch":break;case"TargetScreenSize":break;case"ReadOnlyRecommended":break;default:H=!1}break;case"ComponentOptions":switch(r[3]){case"Toolbar":break;case"HideOfficeLogo":break;case"SpreadsheetAutoFit":break;case"Label":break;case"Caption":break;case"MaxHeight":break;case"MaxWidth":break;case"NextSheetNumber":break;default:H=!1}break;case"ExcelWorkbook":switch(r[3]){case"WindowHeight":break;case"WindowWidth":break;case"WindowTopX":break;case"WindowTopY":break;case"TabRatio":break;case"ProtectStructure":break;case"ProtectWindows":break;case"ActiveSheet":break;case"DisplayInkNotes":break;case"FirstVisibleSheet":break;case"SupBook":break;case"SheetName":break;case"SheetIndex":break;case"SheetIndexFirst":break;case"SheetIndexLast":break;case"Dll":break;case"AcceptLabelsInFormulas":break;case"DoNotSaveLinkValues":break;case"Date1904":break;case"Iteration":break;case"MaxIterations":break;case"MaxChange":break;case"Path":break;case"Xct":break;case"Count":break;case"SelectedSheets":break;case"Calculation":break;case"Uncalced":break;case"StartupPrompt":break;case"Crn":break;case"ExternName":break;case"Formula":break;case"ColFirst":break;case"ColLast":break;case"WantAdvise":break;case"Boolean":break;case"Error":break;case"Text":break;case"OLE":break;case"NoAutoRecover":break;case"PublishObjects":break;case"DoNotCalculateBeforeSave":break;case"Number":break;case"RefModeR1C1":break;case"EmbedSaveSmartTags":break;default:H=!1}break;case"WorkbookOptions":switch(r[3]){case"OWCVersion":break;case"Height":break;case"Width":break;default:H=!1}break;case"WorksheetOptions":switch(r[3]){case"Unsynced":break;case"Visible":break;case"Print":break;case"Panes":break;case"Scale":break;case"Pane":break;case"Number":break;case"Layout":break;case"Header":break;case"Footer":break;case"PageSetup":break;case"PageMargins":break;case"Selected":break;case"ProtectObjects":break;case"EnableSelection":break;case"ProtectScenarios":break;case"ValidPrinterInfo":break;case"HorizontalResolution":break;case"VerticalResolution":break;case"NumberofCopies":break;case"ActiveRow":break;case"ActiveCol":break;case"ActivePane":break;case"TopRowVisible":break;case"TopRowBottomPane":break;case"LeftColumnVisible":break;case"LeftColumnRightPane":break;case"FitToPage":break;case"RangeSelection":break;case"PaperSizeIndex":break;case"PageLayoutZoom":break;case"PageBreakZoom":break;case"FilterOn":break;case"DoNotDisplayGridlines":break;case"SplitHorizontal":break;case"SplitVertical":break;case"FreezePanes":break;case"FrozenNoSplit":break;case"FitWidth":break;case"FitHeight":break;case"CommentsLayout":break;case"Zoom":break;case"LeftToRight":break;case"Gridlines":break;case"AllowSort":break;case"AllowFilter":break;case"AllowInsertRows":break;case"AllowDeleteRows":break;case"AllowInsertCols":break;case"AllowDeleteCols":break;case"AllowInsertHyperlinks":break;case"AllowFormatCells":break;case"AllowSizeCols":break;case"AllowSizeRows":break;case"NoSummaryRowsBelowDetail":break;case"TabColorIndex":break;case"DoNotDisplayHeadings":break;case"ShowPageLayoutZoom":break;case"NoSummaryColumnsRightDetail":break;case"BlackAndWhite":break;case"DoNotDisplayZeros":break;case"DisplayPageBreak":break;case"RowColHeadings":break;case"DoNotDisplayOutline":break;case"NoOrientation":break;case"AllowUsePivotTables":break;case"ZeroHeight":break;case"ViewableRange":break;case"Selection":break;case"ProtectContents":break;default:H=!1}break;case"PivotTable":case"PivotCache":switch(r[3]){case"ImmediateItemsOnDrop":break;case"ShowPageMultipleItemLabel":break;case"CompactRowIndent":break;case"Location":break;case"PivotField":break;case"Orientation":break;case"LayoutForm":break;case"LayoutSubtotalLocation":break;case"LayoutCompactRow":break;case"Position":break;case"PivotItem":break;case"DataType":break;case"DataField":break;case"SourceName":break;case"ParentField":break;case"PTLineItems":break;case"PTLineItem":break;case"CountOfSameItems":break;case"Item":break;case"ItemType":break;case"PTSource":break;case"CacheIndex":break;case"ConsolidationReference":break;case"FileName":break;case"Reference":break;case"NoColumnGrand":break;case"NoRowGrand":break;case"BlankLineAfterItems":break;case"Hidden":break;case"Subtotal":break;case"BaseField":break;case"MapChildItems":break;case"Function":break;case"RefreshOnFileOpen":break;case"PrintSetTitles":break;case"MergeLabels":break;case"DefaultVersion":break;case"RefreshName":break;case"RefreshDate":break;case"RefreshDateCopy":break;case"VersionLastRefresh":break;case"VersionLastUpdate":break;case"VersionUpdateableMin":break;case"VersionRefreshableMin":break;case"Calculation":break;default:H=!1}break;case"PageBreaks":switch(r[3]){case"ColBreaks":break;case"ColBreak":break;case"RowBreaks":break;case"RowBreak":break;case"ColStart":break;case"ColEnd":break;case"RowEnd":break;default:H=!1}break;case"AutoFilter":switch(r[3]){case"AutoFilterColumn":break;case"AutoFilterCondition":break;case"AutoFilterAnd":break;case"AutoFilterOr":break;default:H=!1}break;case"QueryTable":switch(r[3]){case"Id":break;case"AutoFormatFont":break;case"AutoFormatPattern":break;case"QuerySource":break;case"QueryType":break;case"EnableRedirections":break;case"RefreshedInXl9":break;case"URLString":break;case"HTMLTables":break;case"Connection":break;case"CommandText":break;case"RefreshInfo":break;case"NoTitles":break;case"NextId":break;case"ColumnInfo":break;case"OverwriteCells":break;case"DoNotPromptForFile":break;case"TextWizardSettings":break;case"Source":break;case"Number":break;case"Decimal":break;case"ThousandSeparator":break;case"TrailingMinusNumbers":break;case"FormatSettings":break;case"FieldType":break;case"Delimiters":break;case"Tab":break;case"Comma":break;case"AutoFormatName":break;case"VersionLastEdit":break;case"VersionLastRefresh":break;default:H=!1}break;case"Sorting":case"ConditionalFormatting":case"DataValidation":switch(r[3]){case"Range":break;case"Type":break;case"Min":break;case"Max":break;case"Sort":break;case"Descending":break;case"Order":break;case"CaseSensitive":break;case"Value":break;case"ErrorStyle":break;case"ErrorMessage":break;case"ErrorTitle":break;case"CellRangeList":break;case"InputMessage":break;case"InputTitle":break;case"ComboHide":break;case"InputHide":break;case"Condition":break;case"Qualifier":break;case"UseBlank":break;case"Value1":break;case"Value2":break;case"Format":break;default:H=!1}break;case"MapInfo":case"Schema":case"data":switch(r[3]){case"Map":break;case"Entry":break;case"Range":break;case"XPath":break;case"Field":break;case"XSDType":break;case"FilterOn":break;case"Aggregate":break;case"ElementType":break;case"AttributeType":break;case"schema":case"element":case"complexType":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:H=!1}break;case"SmartTags":break;default:H=!1}if(H)break;if(!i[i.length-1][1])throw"Unrecognized tag: "+r[3]+"|"+i.join("|");if(i[i.length-1][0]==="CustomDocumentProperties"){if(r[0].substr(-2)==="/>")break;r[1]==="/"?dm(N,r,k,n.slice(C,r.index)):(k=r,C=r.index+r[0].length);break}if(t.WTF)throw"Unrecognized tag: "+r[3]+"|"+i.join("|")}var B={};return!t.bookSheets&&!t.bookProps&&(B.Sheets=o),B.SheetNames=u,B.SSF=m.get_table(),B.Props=T,B.Custprops=N,B}function Sm(e,t){Bm(t=t||{});switch(t.type||"base64"){case"base64":return Em(f.decode(e),t);case"binary":case"buffer":case"file":return Em(e,t);case"array":return Em(e.map(lm).join(""),t)}}function xm(e,t){}function Tm(e){var t={},n=e.content,r=28,i;i=St(n,r),r+=4+_t(n,r),t.UserType=i,i=_t(n,r),r+=4;switch(i){case 0:break;case 4294967295:case 4294967294:r+=4;break;default:if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));r+=i}i=St(n,r),r+=i.length===0?0:5+i.length,t.Reserved1=i;if((i=_t(n,r))!==1907550708)return t;throw"Unsupported Unicode Extension"}function Nm(e,t,n,r){var i=n,s=[],o=t.slice(t.l,t.l+i);if(r&&r.enc&&r.enc.insitu_decrypt)switch(e.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":break;default:if(o.length===0)break;r.enc.insitu_decrypt(o)}s.push(o),t.l+=i;var u=Dm[Ot(t,t.l)];while(u!=null&&u.n==="Continue")i=Ot(t,t.l+2),s.push(t.slice(t.l+4,t.l+4+i)),t.l+=4+i,u=Dm[Ot(t,t.l)];var a=p(s);It(a,0);var f=0;a.lens=[];for(var l=0;l<s.length;++l)a.lens.push(f),f+=s[l].length;return e.f(a,a.length,r)}function Cm(e,t,n){if(!e.XF)return;try{var r=e.XF.ifmt||0;e.t==="e"?e.w=e.w||dn[e.v]:r===0?e.t==="n"?(e.v|0)===e.v?e.w=m._general_int(e.v):e.w=m._general_num(e.v):e.w=m._general(e.v):e.w=m.format(r,e.v,{date1904:n||!1}),t.cellNF&&(e.z=m._table[r])}catch(i){if(t.WTF)throw i}}function km(e,t,n){return{v:e,ixfe:t,t:n}}function Lm(e,t){var n={opts:{}},r={},i={},o={},u=!1,a={},f=null,l=[],c="",h={},p,d,v,g,y,b,w,E={},S=[],x,T,N=!0,C=[],k=[],L=function(t){return t<8?ar[t]:t<64?k[t-8]||ar[t]:ar[t]},A=function(t,n){var r=n.XF.data;if(!r||!r.patternType)return;n.s={},n.s.patternType=r.patternType;var i;if(i=Jc(L(r.icvFore)))n.s.fgColor={rgb:i};if(i=Jc(L(r.icvBack)))n.s.bgColor={rgb:i}},O=function(t,n,r){if(!N)return;r.cellStyles&&n.XF&&n.XF.data&&A(t,n),p=t,d=ug(t),a.s&&(t.r<a.s.r&&(a.s.r=t.r),t.c<a.s.c&&(a.s.c=t.c)),a.e&&(t.r+1>a.e.r&&(a.e.r=t.r+1),t.c+1>a.e.c&&(a.e.c=t.c+1)),r.sheetRows&&p.r>=r.sheetRows?N=!1:i[d]=n},M={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,wtf:!1};t.password&&(M.password=t.password);var _=[],D=[],P=[[]],H=0,B=0,j=0;P.SheetNames=M.snames,P.sharedf=M.sharedf,P.arrayf=M.arrayf;var F="",I=0;M.codepage=1200,s(1200);while(e.l<e.length-1){var q=e.l,R=e.read_shift(2);if(R===0&&F==="EOF")break;var U=e.l===e.length?0:e.read_shift(2),z,W=Dm[R];if(W&&W.f){if(t.bookSheets&&F==="BoundSheet8"&&W.n!=="BoundSheet8")break;F=W.n;if(W.r===2||W.r==12){var X=e.read_shift(2);U-=2;if(!M.enc&&X!==R)throw"rt mismatch";W.r==12&&(e.l+=10,U-=10)}var V;W.n==="EOF"?V=W.f(e,U,M):V=Nm(W,e,U,M);var $=W.n;if(M.biff===5||M.biff===2)switch($){case"Lbl":$="Label"}switch($){case"Date1904":n.opts.Date1904=V;break;case"WriteProtect":n.opts.WriteProtect=!0;break;case"FilePass":M.enc||(e.l=0),M.enc=V,M.WTF&&console.error(V);if(!t.password)throw new Error("File is password-protected");if(V.Type!==0)throw new Error("Encryption scheme unsupported");if(!V.valid)throw new Error("Password is incorrect");break;case"WriteAccess":M.lastuser=V;break;case"FileSharing":break;case"CodePage":V===21010?V=1200:V===32769&&(V=1252),M.codepage=V,s(V);break;case"RRTabId":M.rrtabid=V;break;case"WinProtect":M.winlocked=V;break;case"Template":break;case"RefreshAll":n.opts.RefreshAll=V;break;case"BookBool":break;case"UsesELFs":break;case"MTRSettings":if(V[0]&&V[1])throw"Unsupported threads: "+V;break;case"CalcCount":n.opts.CalcCount=V;break;case"CalcDelta":n.opts.CalcDelta=V;break;case"CalcIter":n.opts.CalcIter=V;break;case"CalcMode":n.opts.CalcMode=V;break;case"CalcPrecision":n.opts.CalcPrecision=V;break;case"CalcSaveRecalc":n.opts.CalcSaveRecalc=V;break;case"CalcRefMode":M.CalcRefMode=V;break;case"Uncalced":break;case"ForceFullCalculation":n.opts.FullCalc=V;break;case"WsBool":break;case"XF":C.push(V);break;case"ExtSST":break;case"BookExt":break;case"RichTextStream":break;case"BkHim":break;case"SupBook":P[++H]=[V],B=0;break;case"ExternName":P[H][++B]=V;break;case"Index":break;case"Lbl":P[0][++j]=V;break;case"ExternSheet":P[H]=P[H].concat(V),B+=V.length;break;case"Protect":i["!protect"]=V;break;case"Password":V!==0&&M.WTF&&console.error("Password verifier: "+V);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":o[V.pos]=V,M.snames.push(V.name);break;case"EOF":if(--I)break;a.e&&(i["!range"]=a,a.e.r>0&&a.e.c>0&&(a.e.r--,a.e.c--,i["!ref"]=cg(a),a.e.r++,a.e.c++),_.length>0&&(i["!merges"]=_),D.length>0&&(i["!objects"]=D)),c===""?h=i:r[c]=i,i={};break;case"BOF":M.biff===8&&(V.BIFFVer===1280?M.biff=5:V.BIFFVer===2?M.biff=2:V.BIFFVer===7&&(M.biff=2));if(I++)break;N=!0,i={},M.biff===2?(c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}}):c=(o[q]||{name:""}).name,_=[],D=[];break;case"Number":case"BIFF2NUM":x={ixfe:V.ixfe,XF:C[V.ixfe],v:V.val,t:"n"},x.XF&&Cm(x,t,n.opts.Date1904),O({c:V.c,r:V.r},x,t);break;case"BoolErr":x={ixfe:V.ixfe,XF:C[V.ixfe],v:V.val,t:V.t},x.XF&&Cm(x,t,n.opts.Date1904),O({c:V.c,r:V.r},x,t);break;case"RK":x={ixfe:V.ixfe,XF:C[V.ixfe],v:V.rknum,t:"n"},x.XF&&Cm(x,t,n.opts.Date1904),O({c:V.c,r:V.r},x,t);break;case"MulRk":for(var J=V.c;J<=V.C;++J){var K=V.rkrec[J-V.c][0];x={ixfe:K,XF:C[K],v:V.rkrec[J-V.c][1],t:"n"},x.XF&&Cm(x,t,n.opts.Date1904),O({c:J,r:V.r},x,t)}break;case"Formula":switch(V.val){case"String":f=V;break;case"Array Formula":throw"Array Formula unsupported";default:x={v:V.val,ixfe:V.cell.ixfe,t:V.tt},x.XF=C[x.ixfe],t.cellFormula&&(x.f="="+Ad(V.formula,a,V.cell,P,M)),x.XF&&Cm(x,t,n.opts.Date1904),O(V.cell,x,t),f=V}break;case"String":f&&(f.val=V,x={v:f.val,ixfe:f.cell.ixfe,t:"s"},x.XF=C[x.ixfe],t.cellFormula&&(x.f="="+Ad(f.formula,a,f.cell,P,M)),x.XF&&Cm(x,t,n.opts.Date1904),O(f.cell,x,t),f=null);break;case"Array":S.push(V);break;case"ShrFmla":if(!N)break;E[ug(f.cell)]=V[0];break;case"LabelSst":x=km(l[V.isst].t,V.ixfe,"s"),x.XF=C[x.ixfe],x.XF&&Cm(x,t,n.opts.Date1904),O({c:V.c,r:V.r},x,t);break;case"Label":case"BIFF2STR":x=km(V.val,V.ixfe,"s"),x.XF=C[x.ixfe],x.XF&&Cm(x,t,n.opts.Date1904),O({c:V.c,r:V.r},x,t);break;case"Dimensions":I===1&&(a=V);break;case"SST":l=V;break;case"Format":m.load(V[1],V[0]);break;case"MergeCells":_=_.concat(V);break;case"Obj":D[V.cmo[0]]=M.lastobj=V;break;case"TxO":M.lastobj.TxO=V;break;case"HLink":for(w=V[0].s.r;w<=V[0].e.r;++w)for(b=V[0].s.c;b<=V[0].e.c;++b)i[ug({c:b,r:w})]&&(i[ug({c:b,r:w})].l=V[1]);break;case"HLinkTooltip":for(w=V[0].s.r;w<=V[0].e.r;++w)for(b=V[0].s.c;b<=V[0].e.c;++b)i[ug({c:b,r:w})]&&(i[ug({c:b,r:w})].l.tooltip=V[1]);break;case"Note":if(M.biff<=5&&M.biff>=2)break;v=i[ug(V[0])];var Q=D[V[2]];if(!v)break;v.c||(v.c=[]),g={a:V[1],t:Q.TxO.t},v.c.push(g);break;default:switch(W.n){case"ClrtClient":break;case"XFExt":Uh(C[V.ixfe],V.ext);break;case"NameCmt":break;case"Header":break;case"Footer":break;case"HCenter":break;case"VCenter":break;case"Pls":break;case"Setup":break;case"DefColWidth":break;case"GCW":break;case"LHRecord":break;case"ColInfo":break;case"Row":break;case"DBCell":break;case"MulBlank":break;case"EntExU2":break;case"SxView":break;case"Sxvd":break;case"SXVI":break;case"SXVDEx":break;case"SxIvd":break;case"SXDI":break;case"SXLI":break;case"SXEx":break;case"QsiSXTag":break;case"Selection":break;case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":break;case"Blank":break;case"Country":T=V;break;case"RecalcId":break;case"DefaultRowHeight":case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":break;case"Font":break;case"XFCRC":break;case"Style":break;case"StyleExt":break;case"Palette":k=V;break;case"Theme":break;case"ScenarioProtect":break;case"ObjProtect":break;case"CondFmt12":break;case"Table":break;case"TableStyles":break;case"TableStyle":break;case"TableStyleElement":break;case"SXStreamID":break;case"SXVS":break;case"DConRef":break;case"SXAddl":break;case"DConBin":break;case"DConName":break;case"SXPI":break;case"SxFormat":break;case"SxSelect":break;case"SxRule":break;case"SxFilt":break;case"SxItm":break;case"SxDXF":break;case"ScenMan":break;case"DCon":break;case"CellWatch":break;case"PrintRowCol":break;case"PrintGrid":break;case"PrintSize":break;case"XCT":break;case"CRN":break;case"Scl":break;case"SheetExt":break;case"SheetExtOptional":break;case"ObNoMacros":break;case"ObProj":break;case"CodeName":break;case"GUIDTypeLib":break;case"WOpt":break;case"PhoneticInfo":break;case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":break;case"DConn":break;case"DbOrParamQry":break;case"DBQueryExt":break;case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":break;case"Excel9File":break;case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":case"BuiltInFnGroupCount":case"Window1":case"Window2":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":case"Pane":break;default:switch(W.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":break;case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":break;case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":break;case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":break;case"Surf":break;case"AxisParent":break;case"Pos":break;case"ValueRange":break;case"SXViewEx9":break;case"SXViewLink":break;case"PivotChartBits":break;case"SBaseRef":break;case"TextPropsStream":break;case"LnExt":break;case"MkrExt":break;case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":break;case"TxtQry":break;case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":break;case"AutoFilter12":break;case"DropDownObjIds":break;case"Sort":break;case"SortData":break;case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":break;case"ImData":break;case"WebPub":case"AutoWebPub":case"RightMargin":case"LeftMargin":case"TopMargin":case"BottomMargin":case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":break;case"ExternCount":break;case"RString":break;case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;default:switch(W.n){case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;default:if(t.WTF)throw"Unrecognized Record "+W.n}}}}}else e.l+=U}var G=M.biff===2?["Sheet1"]:Object.keys(o).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return o[e].name}),Y=G.slice();return n.Directory=G,n.SheetNames=G,t.bookSheets||(n.Sheets=r),n.Preamble=h,n.Strings=l,n.SSF=m.get_table(),M.enc&&(n.Encryption=M.enc),n.Metadata={},T!==undefined&&(n.Metadata.Country=T),n}function Am(e,t){t||(t={}),Bm(t),i();var n,r,s;e.find?(n=e.find("!CompObj"),r=e.find("!SummaryInformation"),s=e.find("/Workbook")):(It(e,0),s={content:e}),s||(s=e.find("/Book"));var o,u,a;n&&(o=Tm(n));if(t.bookProps&&!t.bookSheets)a={};else{if(!s)throw new Error("Cannot find Workbook stream");a=Lm(s.content,t,!!s.find)}e.find&&Om(e);var f={};for(var l in e.Summary)f[l]=e.Summary[l];for(l in e.DocSummary)f[l]=e.DocSummary[l];return a.Props=a.Custprops=f,t.bookFiles&&(a.cfb=e),a.CompObjP=o,a}function Om(e){var t=e.find("!DocumentSummaryInformation");if(t)try{e.DocSummary=Yr(t,nr)}catch(n){}var r=e.find("!SummaryInformation");if(r)try{e.Summary=Yr(r,rr)}catch(n){}}function Pm(e,t){typeof module!="undefined"&&typeof require!="undefined"&&typeof ODS=="undefined"&&(ODS=require("./ods"));if(typeof ODS=="undefined"||!ODS.parse_ods)throw new Error("Unsupported ODS");return ODS.parse_ods(e,t)}function Hm(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===undefined&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Fm(e,t){if(!e)return 0;try{e=t.map(function(n){return[n.name,e["!id"][n.id].Target]})}catch(n){return null}return!e||e.length===0?null:e}function Im(e,t,n,r,i,s,o){try{i[r]=gr(_(e,n,!0),t),s[r]=Yv(_(e,t),t,o,i[r])}catch(u){if(o.WTF)throw u}}function Rm(e,t){g(m),t=t||{},Bm(t),i();if(O(e,"META-INF/manifest.xml"))return Pm(e,t);var n=S(e.files).filter(qm).sort(),r=hr(_(e,"[Content_Types].xml"),t),o=!1,u,a;r.workbooks.length===0&&(a="xl/workbook.xml",_(e,a,!0)&&r.workbooks.push(a));if(r.workbooks.length===0){a="xl/workbook.bin";if(!M(e,a,!0))throw new Error("Could not find workbook");r.workbooks.push(a),o=!0}r.workbooks[0].substr(-3)=="bin"&&(o=!0),o&&s(1200),!t.bookSheets&&!t.bookProps&&(Bd=[],r.sst&&(Bd=tm(_(e,r.sst.replace(/^\//,"")),r.sst,t)),fh={},t.cellStyles&&r.themes.length&&(fh=em(_(e,r.themes[0].replace(/^\//,""),!0),r.themes[0],t)),ah={},r.style&&(ah=Zv(_(e,r.style.replace(/^\//,"")),r.style,t)));var f=Gv(_(e,r.workbooks[0].replace(/^\//,"")),r.workbooks[0],t),l={},c="";r.coreprops.length!==0&&(c=_(e,r.coreprops[0].replace(/^\//,""),!0),c&&(l=Sr(c)),r.extprops.length!==0&&(c=_(e,r.extprops[0].replace(/^\//,""),!0),c&&kr(c,l)));var h={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(c=_(e,r.custprops[0].replace(/^\//,""),!0),c&&(h=Mr(c,t)));var p={};if(t.bookSheets||t.bookProps){l.Worksheets&&l.SheetNames.length>0?u=l.SheetNames:f.Sheets&&(u=f.Sheets.map(function(t){return t.name})),t.bookProps&&(p.Props=l,p.Custprops=h),typeof u!="undefined"&&(p.SheetNames=u);if(t.bookSheets?p.SheetNames:t.bookProps)return p}u={};var d={};t.bookDeps&&r.calcchain&&(d=rm(_(e,r.calcchain.replace(/^\//,"")),r.calcchain,t));var v=0,y={},b,w;if(!l.Worksheets){var E=f.Sheets;l.Worksheets=E.length,l.SheetNames=[];for(var x=0;x!=E.length;++x)l.SheetNames[x]=E[x].name}var T=o?"bin":"xml",N="xl/_rels/workbook."+T+".rels",C=gr(_(e,N,!0),N);C&&(C=Fm(C,f.Sheets));var k=_(e,"xl/worksheets/sheet.xml",!0)?1:0;for(v=0;v!=l.Worksheets;++v)C?b="xl/"+C[v][1].replace(/[\/]?xl\//,""):(b="xl/worksheets/sheet"+(v+1-k)+"."+T,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),Im(e,b,w,l.SheetNames[v],y,u,t);return r.comments&&Jh(e,r.comments,u,y,t),p={Directory:r,Workbook:f,Props:l,Custprops:h,Deps:d,Sheets:u,SheetNames:l.SheetNames,Strings:Bd,Styles:ah,Themes:fh,SSF:m.get_table()},t.bookFiles&&(p.keys=n,p.files=e.files),t.bookVBA&&(r.vba.length>0?p.vbaraw=_(e,r.vba[0],!0):r.defaults.bin==="application/vnd.ms-office.vbaProject"&&(p.vbaraw=_(e,"xl/vbaProject.bin",!0))),p}function Um(e,t,n,r,i){i||(i={}),e["!id"]||(e["!id"]={}),i.Id="rId"+t,i.Type=r,i.Target=n;if(e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i}function zm(e,t){e&&!e.SSF&&(e.SSF=m.get_table()),e&&e.SSF&&(g(m),m.load_table(e.SSF),t.revssf=N(e.SSF),t.revssf[e.SSF[65535]]=0),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0;var n=t.bookType=="xlsb"?"bin":"xml",r={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};jm(t=t||{});var i=new P,s="",o=0;t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),s="docProps/core.xml",i.file(s,Nr(e.Props,t)),r.coreprops.push(s),Um(t.rels,2,s,mr.CORE_PROPS),s="docProps/app.xml",e.Props||(e.Props={}),e.Props.SheetNames=e.SheetNames,e.Props.Worksheets=e.SheetNames.length,i.file(s,Ar(e.Props,t)),r.extprops.push(s),Um(t.rels,3,s,mr.EXT_PROPS),e.Custprops!==e.Props&&S(e.Custprops||{}).length>0&&(s="docProps/custom.xml",i.file(s,Dr(e.Custprops,t)),r.custprops.push(s),Um(t.rels,4,s,mr.CUST_PROPS)),s="xl/workbook."+n,i.file(s,im(e,s,t)),r.workbooks.push(s),Um(t.rels,1,s,mr.WB);for(o=1;o<=e.SheetNames.length;++o)s="xl/worksheets/sheet"+o+"."+n,i.file(s,sm(o-1,s,t,e)),r.sheets.push(s),Um(t.wbrels,o,"worksheets/sheet"+o+"."+n,mr.WS);return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+n,i.file(s,um(t.Strings,s,t)),r.strs.push(s),Um(t.wbrels,++o,"sharedStrings."+n,mr.SST)),s="xl/theme/theme1.xml",i.file(s,Ph(t)),r.themes.push(s),Um(t.wbrels,++o,"theme/theme1.xml",mr.THEME),s="xl/styles."+n,i.file(s,om(e,s,t)),r.styles.push(s),Um(t.wbrels,++o,"styles."+n,mr.STY),i.file("[Content_Types].xml",vr(r,t)),i.file("_rels/.rels",br(t.rels)),i.file("xl/_rels/workbook."+n+".rels",br(t.wbrels)),i}function Wm(e,t){switch((t||{}).type||"base64"){case"buffer":return e[0];case"base64":return f.decode(e.substr(0,12)).charCodeAt(0);case"binary":return e.charCodeAt(0);case"array":return e[0];default:throw new Error("Unrecognized type "+t.type)}}function Xm(e,t){var n,r=e,i=t||{};i.type||(i.type=l&&Buffer.isBuffer(e)?"buffer":"base64");switch(i.type){case"base64":n=new P(r,{base64:!0});break;case"binary":case"array":n=new P(r,{base64:!1});break;case"buffer":n=new P(r);break;case"file":n=new P(r=D.readFileSync(e));break;default:throw new Error("Unrecognized type "+i.type)}return Rm(n,i)}function Vm(e,t){var n,r=e,i=!1,s,o=t||{};o.type||(o.type=l&&Buffer.isBuffer(e)?"buffer":"base64"),o.type=="file"&&(i=!0,o.type="buffer",r=D.readFileSync(e));switch(s=Wm(r,o)){case 208:return i&&(o.type="file"),Am(w.read(e,o),o);case 9:return Am(h(o.type==="base64"?f.decode(e):e),o);case 60:return Sm(r,o);case 80:return i&&(o.type="file"),Xm(e,t);default:throw new Error("Unsupported file "+s)}}function $m(e,t){var n=t||{};n.type="file";var r=Vm(e,n);return r.FILENAME=e,r}function Jm(e,t){var n=t||{};style_builder=new Sg(t);var r=zm(e,n);switch(n.type){case"base64":return r.generate({type:"base64"});case"binary":return r.generate({type:"string"});case"buffer":return r.generate({type:"nodebuffer"});case"file":return D.writeFileSync(n.file,r.generate({type:"nodebuffer"}));default:throw new Error("Unrecognized type "+n.type)}}function Km(e,t){var n=t||{};switch(n.bookType){case"xml":return xm(e,n);default:return Jm(e,n)}}function Qm(e,t,n){var r=n||{};r.type="file",r.file=t;switch(r.file.substr(-5).toLowerCase()){case".xlsx":r.bookType="xlsx";break;case".xlsm":r.bookType="xlsm";break;case".xlsb":r.bookType="xlsb";break;default:switch(r.file.substr(-4).toLowerCase()){case".xls":r.bookType="xls";break;case".xml":r.bookType="xml"}}return Km(e,r)}function Gm(e){return parseInt(eg(e),10)-1}function Ym(e){return""+(e+1)}function Zm(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eg(e){return e.replace(/\$(\d+)$/,"$1")}function tg(e){var t=ig(e),n=0,r=0;for(;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function ng(e){var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function rg(e){return e.replace(/^([A-Z])/,"$$$1")}function ig(e){return e.replace(/^\$([A-Z])/,"$1")}function sg(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function og(e){var t=sg(e);return{c:tg(t[0]),r:Gm(t[1])}}function ug(e){return ng(e.c)+Ym(e.r)}function ag(e){return rg(Zm(e))}function fg(e){return ig(eg(e))}function lg(e){var t=e.split(":").map(og);return{s:t[0],e:t[t.length-1]}}function cg(e,t){return t===undefined||typeof t=="number"?cg(e.s,e.e):(typeof e!="string"&&(e=ug(e)),typeof t!="string"&&(t=ug(t)),e==t?e:e+":"+t)}function hg(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;n=26*n+i}t.s.c=--n;for(n=0;r<s;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;n=10*n+i}t.s.r=--n;if(r===s||e.charCodeAt(++r)===58)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(n=0;r!=s;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;n=26*n+i}t.e.c=--n;for(n=0;r!=s;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;n=10*n+i}return t.e.r=--n,t}function pg(e,t){if(e.z!==undefined)try{return e.w=m.format(e.z,t)}catch(n){}if(!e.XF)return t;try{return e.w=m.format(e.XF.ifmt||0,t)}catch(n){return""+t}}function dg(e,t){return e==null||e.t==null?"":e.w!==undefined?e.w:t===undefined?pg(e,e.v):pg(e,t)}function vg(e,t){var n,r,i,s=0,o=1,u,a=[],f,l,c,h,p=t!=null?t:{},d=p.raw;if(e==null||e["!ref"]==null)return[];i=p.range!==undefined?p.range:e["!ref"],p.header===1?s=1:p.header==="A"?s=2:Array.isArray(p.header)&&(s=3);switch(typeof i){case"string":u=hg(i);break;case"number":u=hg(e["!ref"]),u.s.r=i;break;default:u=i}s>0&&(o=0);var v=Ym(u.s.r),m=new Array(u.e.c-u.s.c+1),g=new Array(u.e.r-u.s.r-o+1),y=0;for(c=u.s.c;c<=u.e.c;++c){m[c]=ng(c),n=e[m[c]+v];switch(s){case 1:a[c]=c;break;case 2:a[c]=m[c];break;case 3:a[c]=p.header[c-u.s.c];break;default:if(n===undefined)continue;a[c]=dg(n)}}for(l=u.s.r+o;l<=u.e.r;++l){v=Ym(l),f=!0,s===1?r=[]:(r={},Object.defineProperty?Object.defineProperty(r,"__rowNum__",{value:l,enumerable:!1}):r.__rowNum__=l);for(c=u.s.c;c<=u.e.c;++c){n=e[m[c]+v];if(n===undefined||n.t===undefined)continue;h=n.v;switch(n.t){case"e":continue;case"s":break;case"b":case"n":break;default:throw"unrecognized type "+n.t}h!==undefined&&(r[a[c]]=d?h:dg(n,h),f=!1)}if(f===!1||s===1)g[y++]=r}return g.length=y,g}function mg(e,t){return vg(e,t!=null?t:{})}function gg(e,t){var n="",r="",i=/"/g,s=t==null?{}:t;if(e==null||e["!ref"]==null)return"";var o=hg(e["!ref"]),u=s.FS!==undefined?s.FS:",",a=u.charCodeAt(0),f=s.RS!==undefined?s.RS:"\n",l=f.charCodeAt(0),c="",h="",p=[],d=0,v=0,m,g=0,y=0;for(y=o.s.c;y<=o.e.c;++y)p[y]=ng(y);for(g=o.s.r;g<=o.e.r;++g){c="",h=Ym(g);for(y=o.s.c;y<=o.e.c;++y){m=e[p[y]+h],r=m!==undefined?""+dg(m):"";for(d=0,v=0;d!==r.length;++d)if((v=r.charCodeAt(d))===a||v===l||v===34){r='"'+r.replace(i,'""')+'"';break}c+=(y===o.s.c?"":u)+r}n+=c+f}return n}function bg(e){var t,n="",r,i="";if(e==null||e["!ref"]==null)return"";var s=hg(e["!ref"]),o="",u=[],a;t=new Array((s.e.r-s.s.r+1)*(s.e.c-s.s.c+1));var f=0;for(a=s.s.c;a<=s.e.c;++a)u[a]=ng(a);for(var l=s.s.r;l<=s.e.r;++l){o=Ym(l);for(a=s.s.c;a<=s.e.c;++a){n=u[a]+o,r=e[n],i="";if(r===undefined)continue;if(r.f!=null)i=r.f;else if(r.w!==undefined)i="'"+r.w;else{if(r.v===undefined)continue;i=""+r.v}t[f++]=n+"="+i}}return t.length=f,t}function kg(e,t){var n=e.buffer._data,r=t+e.byteOffset;return n[r]}function Lg(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,s=n?xg:Ng,o=r[i+s[0]],u=r[i+s[1]]<<8;return o|u}function Ag(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,s=n?Tg:Cg,o=r[i+s[0]],u=r[i+s[1]]<<8,a=r[i+s[2]]<<16,f=r[i+s[3]]<<24;return o|u|a|f}function Og(e,t,n){if(e<0)throw new RangeError("Tried to write to a negative index");if(e+t>n)throw new RangeError("Tried to write "+t+" bytes past the end of a buffer at index "+e+" of "+n)}function kg(e,t){var n=e.buffer._data,r=t+e.byteOffset;return n[r]}function Mg(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,s=n?xg:Ng,o=r[i+s[0]],u=r[i+s[1]]<<8;return o|u}function _g(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,s=n?Tg:Cg,o=r[i+s[0]],u=r[i+s[1]]<<8,a=r[i+s[2]]<<16,f=r[i+s[3]]<<24;return o|u|a|f}function Dg(e,t,n){var r=e.buffer._data,i=t+e.byteOffset;Og(i,1,r.length),r[i]=n&255}function Pg(e,t,n,r){var i=e.buffer._data,s=r?xg:Ng,o=t+e.byteOffset;Og(o,2,i.length),i[o+s[0]]=n&255,i[o+s[1]]=n>>>8&255}function Hg(e,t,n,r){var i=e.buffer._data,s=r?Tg:Cg,o=t+e.byteOffset;Og(o,4,i.length),i[o+s[0]]=n&255,i[o+s[1]]=n>>>8&255,i[o+s[2]]=n>>>16&255,i[o+s[3]]=n>>>24&255}t.version="0.8.6";var n=1200,r;typeof module!="undefined"&&typeof require!="undefined"&&(typeof cptable=="undefined"&&(cptable=require("./dist/cpexcel")),r=cptable[n]);var s=function(e){n=e},u=function(e){return e},a=function(t){return String.fromCharCode(t)};typeof cptable!="undefined"&&(s=function(e){n=e,r=cptable[e]},u=function(e){return e.charCodeAt(0)===255&&e.charCodeAt(1)===254?cptable.utils.decode(1200,o(e.substr(2))):e},a=function(t){return n===1200?String.fromCharCode(t):cptable.utils.decode(n,[t&255,t>>8])[0]});var f=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e,n){var r="",i,s,o,u,a,f,l;for(var c=0;c<e.length;)i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),r+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l);return r},decode:function(n,r){var i="",s,o,u,a,f,l,c;n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var h=0;h<n.length;)a=t.indexOf(n.charAt(h++)),f=t.indexOf(n.charAt(h++)),l=t.indexOf(n.charAt(h++)),c=t.indexOf(n.charAt(h++)),s=a<<2|f>>4,o=(f&15)<<4|l>>2,u=(l&3)<<6|c,i+=String.fromCharCode(s),l!=64&&(i+=String.fromCharCode(o)),c!=64&&(i+=String.fromCharCode(u));return i}}}(),l=typeof Buffer!="undefined",p=function(e){return[].concat.apply([],e)},d=/\u0000/g,v=/[\u0001-\u0006]/,m={},g=function(t){function n(e){var t="",n=e.length-1;while(n>=0)t+=e.charAt(n--);return t}function r(e,t){var n="";while(n.length<t)n+=e;return n}function i(e,t){var n=""+e;return n.length>=t?n:r("0",t-n.length)+n}function s(e,t){var n=""+e;return n.length>=t?n:r(" ",t-n.length)+n}function o(e,t){var n=""+e;return n.length>=t?n:n+r(" ",t-n.length)}function u(e,t){var n=""+Math.round(e);return n.length>=t?n:r("0",t-n.length)+n}function a(e,t){var n=""+e;return n.length>=t?n:r("0",t-n.length)+n}function l(e,t){if(e>f||e<-f)return u(e,t);var n=Math.round(e);return a(n,t)}function c(e,t){return e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}function p(e){for(var t=0;t!=h.length;++t)e[h[t][0]]===undefined&&(e[h[t][0]]=h[t][1])}function g(e,t,n){var r=e<0?-1:1,i=e*r,s=0,o=1,u=0,a=1,f=0,l=0,c=Math.floor(i);while(f<t){c=Math.floor(i),u=c*o+s,l=c*f+a;if(i-c<5e-10)break;i=1/(i-c),s=o,o=u,a=f,f=l}l>t&&(l=f,u=o),l>t&&(l=a,u=s);if(!n)return[0,r*u,l];if(l===0)throw"Unexpected state: "+u+" "+o+" "+s+" "+l+" "+f+" "+a;var h=Math.floor(r*u/l);return[h,r*u-h*l,l]}function y(e,t){return""+e}function w(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?y(e,t):b(e,t)}throw new Error("unsupported value in General format: "+e)}function E(e,t){return 0}function S(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],u={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};Math.abs(u.u)<1e-6&&(u.u=0),p(t!=null?t:t=[]),t.date1904&&(r+=1462),u.u>.999&&(u.u=0,++i==86400&&(i=0,++r));if(r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var a=new Date(1900,0,1);a.setDate(a.getDate()+r-1),o=[a.getFullYear(),a.getMonth()+1,a.getDate()],s=a.getDay(),r<60&&(s=(s+6)%7),n&&(s=E(a,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}function x(e,t,n,r){var s="",o=0,u=0,a=n.y,f,l=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:f=a%100,l=2;break;default:f=a%1e4,l=4}break;case 109:switch(t.length){case 1:case 2:f=n.m,l=t.length;break;case 3:return m[n.m-1][1];case 5:return m[n.m-1][0];default:return m[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:f=n.d,l=t.length;break;case 3:return v[n.q][0];default:return v[n.q][1]}break;case 104:switch(t.length){case 1:case 2:f=1+(n.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:f=n.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:f=n.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(n.u===0)switch(t){case"s":case"ss":return i(n.S,t.length);case".0":case".00":case".000":}switch(t){case"s":case"ss":case".0":case".00":case".000":r>=2?u=r===3?1e3:100:u=r===1?10:1,o=Math.round(u*(n.S+n.u)),o>=60*u&&(o=0);if(t==="s")return o===0?"0":""+o/u;s=i(o,2+r);if(t==="ss")return s.substr(0,2);return"."+s.substr(2,t.length-1);default:throw"bad second format: "+t};case 90:switch(t){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}l=t.length===3?1:2;break;case 101:f=a,l=1}return l>0?i(f,l):""}function T(e){if(e.length<=3)return e;var t=e.length%3,n=e.substr(0,t);for(;t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}function C(e){var t=[],n=!1,r;for(var i=0,s=0;i<e.length;++i)switch(r=e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(s,i-s),s=i+1}t[t.length]=e.substr(s);if(n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}function L(e,t,n,r){var i=[],s="",o=0,u="",a="t",f,l,h,p,d="H";while(o<e.length)switch(u=e[o]){case"G":if(!c(e,o))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(p=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++o;break;case"\\":var v=e[++o],m=v==="("||v===")"?v:"t";i[i.length]={t:m,v:v},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e[o+1]==="1"||e[o+1]==="2"){if(l==null){l=S(t,n,e[o+1]==="2");if(l==null)return""}i[i.length]={t:"X",v:e.substr(o,2)},a=u,o+=2;break};case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(l==null){l=S(t,n);if(l==null)return""}s=u;while(++o<e.length&&e[o].toLowerCase()===u)s+=u;u==="m"&&a.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=d),i[i.length]={t:u,v:s},a=u;break;case"A":f={t:u,v:"A"},l==null&&(l=S(t,n)),e.substr(o,3)==="A/P"?(l!=null&&(f.v=l.H>=12?"P":"A"),f.t="T",d="h",o+=3):e.substr(o,5)==="AM/PM"?(l!=null&&(f.v=l.H>=12?"PM":"AM"),f.t="T",o+=5,d="h"):(f.t="t",++o);if(l==null&&f.t==="T")return"";i[i.length]=f,a=u;break;case"[":s=u;while(e[o++]!=="]"&&o<e.length)s+=e[o];if(s.substr(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(k)){if(l==null){l=S(t,n);if(l==null)return""}i[i.length]={t:"Z",v:s.toLowerCase()}}else s="";break;case".":if(l!=null){s=u;while((u=e[++o])==="0")s+=u;i[i.length]={t:"s",v:s};break};case"0":case"#":s=u;while("0#?.,E+-%".indexOf(u=e[++o])>-1||u=="\\"&&e[o+1]=="-"&&"0#".indexOf(e[o+2])>-1)s+=u;i[i.length]={t:"n",v:s};break;case"?":s=u;while(e[++o]===u)s+=u;f={t:u,v:s},i[i.length]=f,a=u;break;case"*":++o,(e[o]==" "||e[o]=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=u;while("0123456789".indexOf(e[++o])>-1)s+=e[o];i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++o;break;default:if(",$-+/():!^&'~{}<>=�acfijklopqrtuvwxz".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++o}var g=0,y=0,b;for(o=i.length-1,a="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=d,a="h",g<1&&(g=1);break;case"s":if(b=i[o].v.match(/\.0+$/))y=Math.max(y,b[0].length-1);g<3&&(g=3);case"d":case"y":case"M":case"e":a=i[o].t;break;case"m":a==="s"&&(i[o].t="M",g<2&&(g=2));break;case"X":i[o].v==="B2";break;case"Z":g<1&&i[o].v.match(/[Hh]/)&&(g=1),g<2&&i[o].v.match(/[Mm]/)&&(g=2),g<3&&i[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H);break;case 2:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M)}var E="",T;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o]=undefined;break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=x(i[o].t.charCodeAt(0),i[o].v,l,y),i[o].t="t";break;case"n":case"(":case"?":T=o+1;while(i[T]!=null&&((u=i[T].t)==="?"||u==="D"||(u===" "||u==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[T].v==="/"||"$�".indexOf(i[T].v)>-1||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?")))i[o].v+=i[T].v,i[T]=undefined,++T;E+=i[o].v,o=T-1;break;case"G":i[o].t="t",i[o].v=w(t,n)}var C="",L,A;if(E.length>0){L=t<0&&E.charCodeAt(0)===45?-t:t,A=N(E.charCodeAt(0)===40?"(":"n",E,L),T=A.length-1;var O=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].v.indexOf(".")>-1){O=o;break}var M=i.length;if(O===i.length&&A.indexOf("E")===-1){for(o=i.length-1;o>=0;--o){if(i[o]==null||"n?(".indexOf(i[o].t)===-1)continue;T>=i[o].v.length-1?(T-=i[o].v.length,i[o].v=A.substr(T+1,i[o].v.length)):T<0?i[o].v="":(i[o].v=A.substr(0,T+1),T=-1),i[o].t="t",M=o}T>=0&&M<i.length&&(i[M].v=A.substr(0,T+1)+i[M].v)}else if(O!==i.length&&A.indexOf("E")===-1){T=A.indexOf(".")-1;for(o=O;o>=0;--o){if(i[o]==null||"n?(".indexOf(i[o].t)===-1)continue;h=i[o].v.indexOf(".")>-1&&o===O?i[o].v.indexOf(".")-1:i[o].v.length-1,C=i[o].v.substr(h+1);for(;h>=0;--h)T>=0&&(i[o].v[h]==="0"||i[o].v[h]==="#")&&(C=A[T--]+C);i[o].v=C,i[o].t="t",M=o}T>=0&&M<i.length&&(i[M].v=A.substr(0,T+1)+i[M].v),T=A.indexOf(".")+1;for(o=O;o<i.length;++o){if(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==O)continue;h=i[o].v.indexOf(".")>-1&&o===O?i[o].v.indexOf(".")+1:0,C=i[o].v.substr(0,h);for(;h<i[o].v.length;++h)T<A.length&&(C+=A[T++]);i[o].v=C,i[o].t="t",M=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n(?".indexOf(i[o].t)>-1&&(L=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=N(i[o].t,i[o].v,L),i[o].t="t");var _="";for(o=0;o!==i.length;++o)i[o]!=null&&(_+=i[o].v);return _}function M(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function _(e,t){var n=C(e),r=n.length,i=n[r-1].indexOf("@");r<4&&i>-1&&--r;if(n.length>4)throw"cannot find right format for |"+n+"|";if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(A)!=null||n[1].match(A)!=null){var o=n[0].match(O),u=n[1].match(O);return M(t,o)?[r,n[0]]:M(t,u)?[r,n[1]]:[r,n[o!=null&&u!=null?2:1]]}return[r,s]}function D(e,t,n){p(n!=null?n:n=[]);var r="";switch(typeof e){case"string":r=e;break;case"number":r=(n.table!=null?n.table:d)[e]}if(c(r,0))return w(t,n);var i=_(r,t);if(c(i[1]))return w(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return L(i[1],t,n,i[0])}t.version="0.8.1";var f=Math.pow(2,32),h=[["date1904",0],["output",""],["WTF",!1]];t.opts=h;var d={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"??/?? "hh"?"mm"?"ss"? "',65535:"General"},v=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],m=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];t._general_int=y;var b=function(){function o(e){var t=e<0?12:11,n=f(e.toFixed(12));return n.length<=t?n:(n=e.toPrecision(10),n.length<=t?n:e.toExponential(5))}function u(e){var n=e.toFixed(11).replace(t,".$1");return n.length>(e<0?12:11)&&(n=e.toPrecision(6)),n}function a(e){for(var t=0;t!=e.length;++t)if((e.charCodeAt(t)|32)===101)return e.replace(r,".$1").replace(i,"E").replace("e","E").replace(s,"$10$2");return e}function f(e){return e.indexOf(".")>-1?e.replace(n,"").replace(t,".$1"):e}var t=/\.(\d*[1-9])0+$/,n=/\.0*$/,r=/\.(\d*[1-9])0+/,i=/\.0*[Ee]/,s=/(E[+-])(\d)$/;return function(t,n){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),i;return r>=-4&&r<=-1?i=t.toPrecision(10+r):Math.abs(r)<=9?i=o(t):r===10?i=t.toFixed(10).substr(0,12):i=u(t),f(a(i))}}();t._general_num=b,t._general=w,t.parse_date_code=S;var N=function(){function u(e,n,i){var s=n.replace(t,""),o=n.length-s.length;return N(e,s,i*Math.pow(10,2*o))+r("%",o)}function a(e,t,n){var r=t.length-1;while(t.charCodeAt(r-1)===44)--r;return N(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function f(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E)%i;s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i);if(n.indexOf("e")===-1){var o=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);n.indexOf(".")===-1?n=n[0]+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);while(n.substr(0,2)==="0.")n=n[0]+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n[n.length-1]),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function h(e,t,n){var o=parseInt(e[4]),u=Math.round(t*o),a=Math.floor(u/o),f=u-a*o,l=o;return n+(a===0?"":""+a)+" "+(f===0?r(" ",e[1].length+1+e[4].length):s(f,e[1].length)+e[2]+"/"+e[3]+i(l,e[4].length))}function p(e,t,n){return n+(t===0?"":""+t)+r(" ",e[1].length+2+e[4].length)}function y(e){var t="",n;for(var r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function b(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function w(e,t){return Math.round((e-Math.floor(e))*Math.pow(10,t))}function E(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function S(e,t,p){if(e.charCodeAt(0)===40&&!t.match(v)){var x=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return p>=0?S("n",x,p):"("+S("n",x,-p)+")"}if(t.charCodeAt(t.length-1)===44)return a(e,t,p);if(t.indexOf("%")!==-1)return u(e,t,p);if(t.indexOf("E")!==-1)return f(t,p);if(t.charCodeAt(0)===36)return"$"+S(e,t.substr(t[1]==" "?2:1),p);var C,k,L,A,O,M=Math.abs(p),_=p<0?"-":"";if(t.match(/^00+$/))return _+l(M,t.length);if(t.match(/^[#?]+$/))return C=l(p,0),C==="0"&&(C=""),C.length>t.length?C:y(t.substr(0,t.length-C.length))+C;if((L=t.match(c))!==null)return h(L,M,_);if(t.match(/^#+0+$/)!==null)return _+l(M,t.length-t.indexOf("0"));if((L=t.match(d))!==null)return C=b(p,L[1].length).replace(/^([^\.]+)$/,"$1."+L[1]).replace(/\.$/,"."+L[1]).replace(/\.(\d*)$/,function(e,t){return"."+t+r("0",L[1].length-t.length)}),t.indexOf("0.")!==-1?C:C.replace(/^0\./,".");t=t.replace(/^#+([0.])/,"$1");if((L=t.match(/^(0*)\.(#*)$/))!==null)return _+b(M,L[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,L[1].length?"0.":".");if((L=t.match(/^#,##0(\.?)$/))!==null)return _+T(l(M,0));if((L=t.match(/^#,##0\.([#0]*0)$/))!==null)return p<0?"-"+S(e,t,-p):T(""+Math.floor(p))+"."+i(w(p,L[1].length),L[1].length);if((L=t.match(/^#,#*,#0/))!==null)return S(e,t.replace(/^#,#*,/,""),p);if((L=t.match(/^([0#]+)(\\?-([0#]+))+$/))!==null)return C=n(S(e,t.replace(/[\\-]/g,""),p)),A=0,n(n(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return A<C.length?C[A++]:e==="0"?"0":""}));if(t.match(m)!==null)return C=S(e,"##########",p),"("+C.substr(0,3)+") "+C.substr(3,3)+"-"+C.substr(6);var D="";if((L=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null)return A=Math.min(L[4].length,7),O=g(M,Math.pow(10,A)-1,!1),C=""+_,D=N("n",L[1],O[1]),D[D.length-1]==" "&&(D=D.substr(0,D.length-1)+"0"),C+=D+L[2]+"/"+L[3],D=o(O[2],A),D.length<L[4].length&&(D=y(L[4].substr(L[4].length-D.length))+D),C+=D,C;if((L=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null)return A=Math.min(Math.max(L[1].length,L[4].length),7),O=g(M,Math.pow(10,A)-1,!0),_+(O[0]||(O[1]?"":"0"))+" "+(O[1]?s(O[1],A)+L[2]+"/"+L[3]+o(O[2],A):r(" ",2*A+1+L[2].length+L[3].length));if((L=t.match(/^[#0?]+$/))!==null)return C=l(p,0),t.length<=C.length?C:y(t.substr(0,t.length-C.length))+C;if((L=t.match(/^([#0?]+)\.([#0]+)$/))!==null){C=""+p.toFixed(Math.min(L[2].length,10)).replace(/([^0])0+$/,"$1"),A=C.indexOf(".");var P=t.indexOf(".")-A,H=t.length-C.length-P;return y(t.substr(0,P)+C+t.substr(t.length-H))}if((L=t.match(/^00,000\.([#0]*0)$/))!==null)return A=w(p,L[1].length),p<0?"-"+S(e,t,-p):T(E(p)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e})+"."+i(A,L[1].length);switch(t){case"#,###":var B=T(l(M,0));return B!=="0"?_+B:"";default:}throw new Error("unsupported format |"+t+"|")}function x(e,t,n){var r=t.length-1;while(t.charCodeAt(r-1)===44)--r;return N(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function C(e,n,i){var s=n.replace(t,""),o=n.length-s.length;return N(e,s,i*Math.pow(10,2*o))+r("%",o)}function k(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E)%i;s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i);if(!n.match(/[Ee]/)){var o=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);n.indexOf(".")===-1?n=n[0]+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n[n.length-1]),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function L(e,t,u){if(e.charCodeAt(0)===40&&!t.match(v)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return u>=0?L("n",a,u):"("+L("n",a,-u)+")"}if(t.charCodeAt(t.length-1)===44)return x(e,t,u);if(t.indexOf("%")!==-1)return C(e,t,u);if(t.indexOf("E")!==-1)return k(t,u);if(t.charCodeAt(0)===36)return"$"+L(e,t.substr(t[1]==" "?2:1),u);var f,l,h,b,w=Math.abs(u),E=u<0?"-":"";if(t.match(/^00+$/))return E+i(w,t.length);if(t.match(/^[#?]+$/))return f=""+u,u===0&&(f=""),f.length>t.length?f:y(t.substr(0,t.length-f.length))+f;if((l=t.match(c))!==null)return p(l,w,E);if(t.match(/^#+0+$/)!==null)return E+i(w,t.length-t.indexOf("0"));if((l=t.match(d))!==null)return f=(""+u).replace(/^([^\.]+)$/,"$1."+l[1]).replace(/\.$/,"."+l[1]).replace(/\.(\d*)$/,function(e,t){return"."+t+r("0",l[1].length-t.length)}),t.indexOf("0.")!==-1?f:f.replace(/^0\./,".");t=t.replace(/^#+([0.])/,"$1");if((l=t.match(/^(0*)\.(#*)$/))!==null)return E+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if((l=t.match(/^#,##0(\.?)$/))!==null)return E+T(""+w);if((l=t.match(/^#,##0\.([#0]*0)$/))!==null)return u<0?"-"+L(e,t,-u):T(""+u)+"."+r("0",l[1].length);if((l=t.match(/^#,#*,#0/))!==null)return L(e,t.replace(/^#,#*,/,""),u);if((l=t.match(/^([0#]+)(\\?-([0#]+))+$/))!==null)return f=n(L(e,t.replace(/[\\-]/g,""),u)),h=0,n(n(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return h<f.length?f[h++]:e==="0"?"0":""}));if(t.match(m)!==null)return f=L(e,"##########",u),"("+f.substr(0,3)+") "+f.substr(3,3)+"-"+f.substr(6);var S="";if((l=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null)return h=Math.min(l[4].length,7),b=g(w,Math.pow(10,h)-1,!1),f=""+E,S=N("n",l[1],b[1]),S[S.length-1]==" "&&(S=S.substr(0,S.length-1)+"0"),f+=S+l[2]+"/"+l[3],S=o(b[2],h),S.length<l[4].length&&(S=y(l[4].substr(l[4].length-S.length))+S),f+=S,f;if((l=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null)return h=Math.min(Math.max(l[1].length,l[4].length),7),b=g(w,Math.pow(10,h)-1,!0),E+(b[0]||(b[1]?"":"0"))+" "+(b[1]?s(b[1],h)+l[2]+"/"+l[3]+o(b[2],h):r(" ",2*h+1+l[2].length+l[3].length));if((l=t.match(/^[#0?]+$/))!==null)return f=""+u,t.length<=f.length?f:y(t.substr(0,t.length-f.length))+f;if((l=t.match(/^([#0]+)\.([#0]+)$/))!==null){f=""+u.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),h=f.indexOf(".");var A=t.indexOf(".")-h,O=t.length-f.length-A;return y(t.substr(0,A)+f+t.substr(t.length-O))}if((l=t.match(/^00,000\.([#0]*0)$/))!==null)return u<0?"-"+L(e,t,-u):T(""+u).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e})+"."+i(0,l[1].length);switch(t){case"#,###":var M=T(""+w);return M!=="0"?E+M:"";default:}throw new Error("unsupported format |"+t+"|")}var t=/%/g,c=/# (\?+)( ?)\/( ?)(\d+)/,d=/^#*0*\.(0+)/,v=/\).*[0#]/,m=/\(###\) ###\\?-####/;return function(t,n,r){return(r|0)===r?L(t,n,r):S(t,n,r)}}();t._split=C;var k=/\[[HhMmSs]*\]/;t._eval=L;var A=/\[[=<>]/,O=/\[([=<>]*)(-?\d+\.?\d*)\]/;t._table=d,t.load=function(t,n){d[n]=t},t.format=D,t.get_table=function(){return d},t.load_table=function(n){for(var r=0;r!=392;++r)n[r]!==undefined&&t.load(n[r],r)}};g(m);var y={"General Number":"General","General Date":m._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":m._table[15],"Short Date":m._table[14],"Long Time":m._table[19],"Medium Time":m._table[18],"Short Time":m._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:m._table[2],Standard:m._table[4],Percent:m._table[10],Scientific:m._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'},b=!0,w=function(){function n(e){var t=3,n=512,f=0,l=0,h=0,p=0,d=0,v=[],g=e.slice(0,512);It(g,0);var y=r(g);t=y[0];switch(t){case 3:n=512;break;case 4:n=4096;break;default:throw"Major Version: Expected 3 or 4 saw "+t}n!==512&&(g=e.slice(0,n),It(g,28));var b=e.slice(0,n);i(g,t);var w=g.read_shift(4,"i");if(t===3&&w!==0)throw"# Directory Sectors: Expected 0 saw "+w;g.l+=4,h=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),p=g.read_shift(4,"i"),f=g.read_shift(4,"i"),d=g.read_shift(4,"i"),l=g.read_shift(4,"i");for(var E,x=0;x<109;++x){E=g.read_shift(4,"i");if(E<0)break;v[x]=E}var T=s(e,n);a(d,l,T,n,v);var N=c(T,h,v,n);N[h].name="!Directory",f>0&&p!==S&&(N[p].name="!MiniFAT"),N[v[0]].name="!FAT",N.fat_addrs=v,N.ssz=n;var C={},k=[],L=[],A=[],O={};m(h,N,T,k,f,C,L),o(L,O,A,k);var M=k.shift();k.root=M;var _=u(A,k,L,C,M);return{raw:{header:b,sectors:T},FileIndex:L,FullPaths:A,FullPathDir:O,find:_}}function r(e){e.chk(x,"Header Signature: "),e.chk(T,"CLSID: ");var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}function i(e,t){var n=9;e.chk("feff","Byte Order: ");switch(n=e.read_shift(2)){case 9:if(t!==3)throw"MajorVersion/SectorShift Mismatch";break;case 12:if(t!==4)throw"MajorVersion/SectorShift Mismatch";break;default:throw"Sector Shift: Expected 9 or 12 saw "+n}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}function s(e,t){var n=Math.ceil(e.length/t)-1,r=new Array(n);for(var i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}function o(e,t,n,r){var i=0,s=0,o=0,u=0,a=0,f=r.length,l=new Array(f),c=new Array(f);for(;i<f;++i)l[i]=c[i]=i,n[i]=r[i];for(;a<c.length;++a)i=c[a],s=e[i].L,o=e[i].R,u=e[i].C,l[i]===i&&(s!==-1&&l[s]!==s&&(l[i]=l[s]),o!==-1&&l[o]!==o&&(l[i]=l[o])),u!==-1&&(l[u]=i),s!==-1&&(l[s]=l[i],c.push(s)),o!==-1&&(l[o]=l[i],c.push(o));for(i=1;i!==f;++i)l[i]===i&&(o!==-1&&l[o]!==o?l[i]=l[o]:s!==-1&&l[s]!==s&&(l[i]=l[s]));for(i=1;i<f;++i){if(e[i].type===0)continue;a=l[i];if(a===0)n[i]=n[0]+"/"+n[i];else while(a!==0)n[i]=n[a]+"/"+n[i],a=l[a];l[i]=0}n[0]+="/";for(i=1;i<f;++i)e[i].type!==2&&(n[i]+="/"),t[n[i]]=e[i]}function u(e,t,n,r,i){var s=new Array(e.length),o=new Array(t.length),u;for(u=0;u<e.length;++u)s[u]=e[u].toUpperCase().replace(d,"").replace(v,"!");for(u=0;u<t.length;++u)o[u]=t[u].toUpperCase().replace(d,"").replace(v,"!");return function(u){var a;u.charCodeAt(0)===47?(a=!0,u=i+u):a=u.indexOf("/")!==-1;var f=u.toUpperCase().replace(d,"").replace(v,"!"),l=a===!0?s.indexOf(f):o.indexOf(f);return l===-1?null:a===!0?n[l]:r[t[l]]}}function a(e,t,n,r,i){var s;if(e===S){if(t!==0)throw"DIFAT chain shorter than expected"}else if(e!==-1){var o=n[e],u=(r>>>2)-1;for(var f=0;f<u;++f){if((s=Dt(o,f*4))===S)break;i.push(s)}a(Dt(o,r-4),t-1,n,r,i)}}function l(e,t,n,r,i){var s=e.length,o,u;i||(i=new Array(s));var a=r-1,f,l;o=[],u=[];for(f=t;f>=0;){i[f]=!0,o[o.length]=f,u.push(e[f]);var c=n[Math.floor(f*4/r)];l=f*4&a;if(r<4+l)throw"FAT boundary crossed: "+f+" 4 "+r;f=Dt(e[c],l)}return{nodes:o,data:dt([u])}}function c(e,t,n,r){var i=e.length,s=new Array(i),o=new Array(i),u,a,f=r-1,l,c,h,p;for(l=0;l<i;++l){u=[],h=l+t,h>=i&&(h-=i);if(o[h]===!0)continue;a=[];for(c=h;c>=0;){o[c]=!0,u[u.length]=c,a.push(e[c]);var d=n[Math.floor(c*4/r)];p=c*4&f;if(r<4+p)throw"FAT boundary crossed: "+c+" 4 "+r;c=Dt(e[d],p)}s[h]={nodes:u,data:dt([a])}}return s}function m(e,t,n,r,i,s,o){var u,a=0,f=r.length?2:0,c=t[e].data,h=0,p=0,d,v,m,y;for(;h<c.length;h+=128){u=c.slice(h,h+128),It(u,64),p=u.read_shift(2);if(p===0)continue;d=mt(u,0,p-f),r.push(d),v={name:d,type:u.read_shift(1),color:u.read_shift(1),L:u.read_shift(4,"i"),R:u.read_shift(4,"i"),C:u.read_shift(4,"i"),clsid:u.read_shift(16),state:u.read_shift(4,"i")},m=u.read_shift(2)+u.read_shift(2)+u.read_shift(2)+u.read_shift(2),m!==0&&(v.ctime=m,v.ct=g(u,u.l-8)),y=u.read_shift(2)+u.read_shift(2)+u.read_shift(2)+u.read_shift(2),y!==0&&(v.mtime=y,v.mt=g(u,u.l-8)),v.start=u.read_shift(4,"i"),v.size=u.read_shift(4,"i"),v.type===5?(a=v.start,i>0&&a!==S&&(t[a].name="!StreamData")):v.size>=4096?(v.storage="fat",t[v.start]===undefined&&(t[v.start]=l(n,v.start,t.fat_addrs,t.ssz)),t[v.start].name=v.name,v.content=t[v.start].data.slice(0,v.size),It(v.content,0)):(v.storage="minifat",a!==S&&v.start!==S&&(v.content=t[a].data.slice(v.start*E,v.start*E+v.size),It(v.content,0))),s[d]=v,o.push(v)}}function g(e,t){return new Date((_t(e,t+4)/1e7*Math.pow(2,32)+_t(e,t)/1e7-11644473600)*1e3)}function b(e,t){return y===undefined&&(y=require("fs")),n(y.readFileSync(e),t)}function w(e,t){switch(t!==undefined&&t.type!==undefined?t.type:"base64"){case"file":return b(e,t);case"base64":return n(h(f.decode(e)),t);case"binary":return n(h(e),t)}return n(e)}var t={};t.version="0.10.2";var y,E=64,S=-2,x="d0cf11e0a1b11ae1",T="00000000000000000000000000000000",N={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:S,FREESECT:-1,HEADER_SIGNATURE:x,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:T,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};return t.read=w,t.parse=n,t.utils={ReadShift:Bt,CheckField:Ft,prep_blob:It,bconcat:p,consts:N},t}();typeof require!="undefined"&&typeof module!="undefined"&&typeof b=="undefined"&&(module.exports=w);var D,P;typeof JSZip!="undefined"&&(P=JSZip),typeof exports!="undefined"&&typeof module!="undefined"&&module.exports&&(l&&typeof P=="undefined"&&(P=require("jszip")),typeof P=="undefined"&&(P=require("./jszip").JSZip),D=require("fs"));var H=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,B=/<[^>]*>/g,j=/<\w*:/,F=/<(\/?)\w+:/,R={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},U=T(R),z="&<>'\"".split(""),W=function(){var e=/&[a-z]*;/g,t=/_x([\da-fA-F]+)_/g;return function(r){var i=r+"";return i.replace(e,function(e){return R[e]}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))})}}(),X=/[&<>'"]/g,V=/[\u0000-\u0008\u000b-\u001f]/g,J=function(){function t(e,t){return String.fromCharCode(parseInt(t,10))}var e=/&#(\d+);/g;return function(r){return r.replace(e,t)}}(),Q=function(t){var n="",r=0,i=0,s=0,o=0,u=0,a=0;while(r<t.length){i=t.charCodeAt(r++);if(i<128){n+=String.fromCharCode(i);continue}s=t.charCodeAt(r++);if(i>191&&i<224){n+=String.fromCharCode((i&31)<<6|s&63);continue}o=t.charCodeAt(r++);if(i<240){n+=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63);continue}u=t.charCodeAt(r++),a=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536,n+=String.fromCharCode(55296+(a>>>10&1023)),n+=String.fromCharCode(56320+(a&1023))}return n};if(l){var G=function(t){var n=new Buffer(2*t.length),r,i,s=1,o=0,u=0,a;for(i=0;i<t.length;i+=s)s=1,(a=t.charCodeAt(i))<128?r=a:a<224?(r=(a&31)*64+(t.charCodeAt(i+1)&63),s=2):a<240?(r=(a&15)*4096+(t.charCodeAt(i+1)&63)*64+(t.charCodeAt(i+2)&63),s=3):(s=4,r=(a&7)*262144+(t.charCodeAt(i+1)&63)*4096+(t.charCodeAt(i+2)&63)*64+(t.charCodeAt(i+3)&63),r-=65536,u=55296+(r>>>10&1023),r=56320+(r&1023)),u!==0&&(n[o++]=u&255,n[o++]=u>>>8,u=0),n[o++]=r%256,n[o++]=r>>>8;return n.length=o,n.toString("ucs2")},Y="foo bar bazâð£";Q(Y)==G(Y)&&(Q=G);var Z=function(t){return Buffer(t,"binary").toString("utf8")};Q(Y)==Z(Y)&&(Q=Z)}var et=function(){var e={};return function(n,r){var i=n+"|"+r;return e[i]!==undefined?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([^☃]*)</(?:\\w+:)?'+n+">",r||"")}}(),tt=function(){var e={};return function(n){return e[n]!==undefined?e[n]:e[n]=new RegExp("<vt:"+n+">(.*?)</vt:"+n+">","g")}}(),nt=/<\/?vt:variant>/g,rt=/<vt:([^>]*)>(.*)</,st=/(^\s|\s$|\n)/,ct='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',ht={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};ht.main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var dt,vt;dt=vt=function(t){var n=[];for(var r=0;r<t[0].length;++r)n.push.apply(n,t[0][r]);return n};var mt,gt;mt=gt=function(t,n,r){var i=[];for(var s=n;s<r;s+=2)i.push(String.fromCharCode(Ot(t,s)));return i.join("")};var yt,bt;yt=bt=function(t,n,r){return t.slice(n,n+r).map(function(e){return(e<16?"0":"")+e.toString(16)}).join("")};var wt,Et;wt=Et=function(e,t,n){var r=[];for(var i=t;i<n;i++)r.push(String.fromCharCode(At(e,i)));return r.join("")};var St,xt;St=xt=function(t,n){var r=_t(t,n);return r>0?wt(t,n+4,n+4+r-1):""};var Tt,Nt;Tt=Nt=function(t,n){var r=2*_t(t,n);return r>0?wt(t,n+4,n+4+r-1):""};var Ct,kt;Ct=kt=function(e,t){return pt(e,t)};var Lt=function(t){return Array.isArray(t)};l&&(mt=function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf16le",n,r):gt(t,n,r)},yt=function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):bt(e,t,n)},St=function(t,n){if(!Buffer.isBuffer(t))return xt(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},Tt=function(t,n){if(!Buffer.isBuffer(t))return Nt(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},wt=function(t,n){return this.toString("utf8",t,n)},dt=function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0]):vt(e)},p=function(e){return Buffer.isBuffer(e[0])?Buffer.concat(e):[].concat.apply([],e)},Ct=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):kt(t,n)},Lt=function(t){return Buffer.isBuffer(t)||Array.isArray(t)}),typeof cptable!="undefined"&&(mt=function(e,t,n){return cptable.utils.decode(1200,e.slice(t,n))},wt=function(e,t,n){return cptable.utils.decode(65001,e.slice(t,n))},St=function(e,t){var r=_t(e,t);return r>0?cptable.utils.decode(n,e.slice(t+4,t+4+r-1)):""},Tt=function(e,t){var n=2*_t(e,t);return n>0?cptable.utils.decode(1200,e.slice(t+4,t+4+n-1)):""});var At=function(e,t){return e[t]},Ot=function(e,t){return e[t+1]*256+e[t]},Mt=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},_t=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Dt=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Pt=function(e){return e.match(/../g).map(function(e){return parseInt(e,16)})},Ht=typeof Buffer!="undefined"?function(e){return Buffer.isBuffer(e)?new Buffer(e,"hex"):Pt(e)}:Pt,Jt={},Kt=function(e,t){var n;if(typeof t!="undefined")n=t;else if(typeof require!="undefined")try{n=require("crypto")}catch(r){n=null}e.rc4=function(e,t){var n=new Array(256),r=0,i=0,s=0,o=0;for(i=0;i!=256;++i)n[i]=i;for(i=0;i!=256;++i)s=s+n[i]+e[i%e.length].charCodeAt(0)&255,o=n[i],n[i]=n[s],n[s]=o;i=s=0,out=Buffer(t.length);for(r=0;r!=t.length;++r)i=i+1&255,s=(s+n[i])%256,o=n[i],n[i]=n[s],n[s]=o,out[r]=t[r]^n[n[i]+n[s]&255];return out},n?e.md5=function(e){return n.createHash("md5").update(e).digest("hex")}:e.md5=function(e){throw"unimplemented"}};Kt(Jt,typeof crypto!="undefined"?crypto:undefined);var un=nn,an=rn,dn={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vn=N(dn),yn=0,bn=1,wn=2,En=3,Sn=4,xn=5,Tn=6,Nn=7,Cn=8,kn=10,Ln=11,An=12,On=14,Mn=16,_n=17,Dn=18,Pn=19,Hn=20,Bn=21,jn=22,Fn=23,In=30,qn=31,Rn=64,Un=65,zn=66,Wn=67,Xn=68,Vn=69,$n=70,Jn=71,Kn=72,Qn=73,Gn=4096,Yn=8192,Zn=80,er=81,tr=[Zn,er],nr={1:{n:"CodePage",t:wn},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:En},5:{n:"LineCount",t:En},6:{n:"ParagraphCount",t:En},7:{n:"SlideCount",t:En},8:{n:"NoteCount",t:En},9:{n:"HiddenCount",t:En},10:{n:"MultimediaClipCount",t:En},11:{n:"Scale",t:Ln},12:{n:"HeadingPair",t:Gn|An},13:{n:"DocParts",t:Gn|In},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksDirty",t:Ln},17:{n:"CharacterCount",t:En},19:{n:"SharedDoc",t:Ln},22:{n:"HLinksChanged",t:Ln},23:{n:"AppVersion",t:En,p:"version"},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{}},rr={1:{n:"CodePage",t:wn},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:Rn},11:{n:"LastPrinted",t:Rn},12:{n:"CreatedDate",t:Rn},13:{n:"ModifiedDate",t:Rn},14:{n:"PageCount",t:En},15:{n:"WordCount",t:En},16:{n:"CharCount",t:En},17:{n:"Thumbnail",t:Jn},18:{n:"ApplicationName",t:In},19:{n:"DocumentSecurity",t:En},255:{}},ir={2147483648:{n:"Locale",t:Pn},2147483651:{n:"Behavior",t:Pn},1919054434:{}};(function(){for(var e in ir)ir.hasOwnProperty(e)&&(nr[e]=rr[e]=ir[e])})();var sr={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},or=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ar=ur([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0]),fr={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.chartsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"TODO","application/vnd.ms-excel.dialogsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"TODO","application/vnd.ms-excel.macrosheet":"TODO","application/vnd.ms-excel.macrosheet+xml":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.ms-excel.comments":"comments","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"TODO","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO",sheet:"js"},lr=function(){var e={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};return S(e).forEach(function(t){e[t].xlsm||(e[t].xlsm=e[t].xlsx)}),S(e).forEach(function(t){S(e[t]).forEach(function(n){fr[e[t][n]]=t})}),e}(),cr=C(fr);ht.CT="http://schemas.openxmlformats.org/package/2006/content-types";var pr=at("Types",null,{xmlns:ht.CT,"xmlns:xsd":ht.xsd,"xmlns:xsi":ht.xsi}),dr=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["rels",cr.rels[0]]].map(function(e){return at("Default",null,{Extension:e[0],ContentType:e[1]})}),mr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument"};ht.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var yr=at("Relationships",null,{xmlns:ht.RELS}),wr=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];ht.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",mr.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var Er=function(){var e=new Array(wr.length);for(var t=0;t<wr.length;++t){var n=wr[t],r="(?:"+n[0].substr(0,n[0].indexOf(":"))+":)"+n[0].substr(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>(.*)</"+r+">")}return e}(),xr=at("cp:coreProperties",null,{"xmlns:cp":ht.CORE_PROPS,"xmlns:dc":ht.dc,"xmlns:dcterms":ht.dcterms,"xmlns:dcmitype":ht.dcmitype,"xmlns:xsi":ht.xsi}),Cr=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];ht.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",mr.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";var Lr=at("Properties",null,{xmlns:ht.EXT_PROPS,"xmlns:vt":ht.vt});ht.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",mr.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var Or=/<[^>]+>[^<]*/g,_r=at("Properties",null,{xmlns:ht.CUST_PROPS,"xmlns:vt":ht.vt}),si=ni,hi=qt,pi=function(e,t){var n=e.read_shift(4),r=e.l,i=!1;n>24&&(e.l+=n-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),e.l=r);var s=e.read_shift((i?n-24:n)>>1,"utf16le").replace(d,"");return i&&(e.l+=24),s},di=function(e,t){var n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(r,"cstr"),s=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(4);if(u===0)return i.replace(/\\/g,"/");var a=e.read_shift(4),f=e.read_shift(2),l=e.read_shift(a>>1,"utf16le").replace(d,"");return l},vi=function(e,t){var n=e.read_shift(16);t-=16;switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return pi(e,t);case"0303000000000000c000000000000046":return di(e,t);default:throw"unsupported moniker "+n}},mi=function(e,t){var n=e.read_shift(4),r=e.read_shift(n,"utf16le").replace(d,"");return r},gi=function(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,u,a,f,l,c;i&16&&(s=mi(e,n-e.l)),i&128&&(o=mi(e,n-e.l)),(i&257)===257&&(u=mi(e,n-e.l)),(i&257)===1&&(a=vi(e,n-e.l)),i&8&&(f=mi(e,n-e.l)),i&32&&(l=e.read_shift(16)),i&64&&(c=Hr(e,8)),e.l=n;var h=o||u||a;return f&&(h+="#"+f),{Target:h}},xi=["SHOWALL","SHOWPLACEHOLDER","HIDEALL"],Ti=ri,Oi=Ai,Pi={21:Mi,19:qt,18:function(e,t){e.l+=12},17:function(e,t){e.l+=8},16:qt,15:qt,13:_i,12:function(e,t){e.l+=24},11:function(e,t){e.l+=10},10:function(e,t){e.l+=16},9:qt,8:function(e,t){e.l+=6},7:Di,6:function(e,t){e.l+=6},4:qt,0:function(e,t){e.l+=4}},Bi=ri,Xi=Zr,fs=Si,Ss=function(e,t){var n=Li(e,8);e.l+=16;var r=gi(e,t-24);return[n,r]},xs=function(e,t){var n=e.l+t;e.read_shift(2);var r=Li(e,8),i=e.read_shift((t-10)/2,"dbcs-cont");return i=i.replace(d,""),[r,i]},Ls=qt,As=qt,Os=qt,Ms=qt,_s=ni,Ds=wi,Ps=hn,Hs=ri,Bs=ri,js=hn,Fs=ni,Is=ri,qs=ni,Rs=Zr,Us=ni,zs=ri,Ws=ni,Xs=ni,Vs=ri,$s=Zr,Js=Zr,Ks=Zr,Qs=Zr,Gs=Zr,Ys=ri,Zs=fs,eo=ri,to=ni,no=fs,ro=Ti,io=Zr,so=hn,oo=Zr,uo=ni,ao=ri,fo=ni,lo=ni,co=ri,ho=ni,po=ri,vo=ni,mo=ni,go=hn,yo=ii,bo=ni,wo=ii,Eo=li,So=ni,xo=hn,To=ni,No=ni,Co=ni,ko=qt,Lo=qt,Ao=qt,Oo=qt,Mo=qt,_o=qt,Do=qt,Po=qt,Ho=qt,Bo=qt,jo=qt,Fo=qt,Io=qt,qo=qt,Ro=qt,Uo=qt,zo=qt,Wo=qt,Xo=qt,Vo=qt,$o=qt,Jo=qt,Ko=qt,Qo=qt,Go=qt,Yo=qt,Zo=qt,eu=qt,tu=qt,nu=qt,ru=qt,iu=qt,su=qt,ou=qt,uu=qt,au=qt,fu=qt,lu=qt,cu=qt,hu=qt,pu=qt,du=qt,vu=qt,mu=qt,gu=qt,yu=qt,bu=qt,wu=qt,Eu=qt,Su=qt,xu=qt,Tu=qt,Nu=qt,Cu=qt,ku=qt,Lu=qt,Au=qt,Ou=qt,Mu=qt,_u=qt,Du=qt,Pu=qt,Hu=qt,Bu=qt,ju=qt,Fu=qt,Iu=qt,qu=qt,Ru=qt,Uu=qt,zu=qt,Wu=qt,Xu=qt,Vu=qt,$u=qt,Ju=qt,Ku=qt,Qu=qt,Gu=qt,Yu=qt,Zu=qt,ea=qt,ta=qt,na=qt,ra=qt,ia=qt,sa=qt,oa=qt,ua=qt,aa=qt,fa=qt,la=qt,ca=qt,ha=qt,pa=qt,da=qt,va=qt,ma=qt,ga=qt,ya=qt,ba=qt,wa=qt,Ea=qt,Sa=qt,xa=qt,Ta=qt,Na=qt,Ca=qt,ka=qt,La=qt,Aa=qt,Oa=qt,Ma=li,_a=qt,Da=qt,Pa=qt,Ha=qt,Ba=qt,ja=qt,Fa=qt,Ia=qt,qa=qt,Ra=qt,Ua=qt,za=qt,Wa=qt,Xa=qt,Va=qt,$a=qt,Ja=qt,Ka=qt,Qa=qt,Ga=qt,Ya=qt,Za=qt,ef=qt,tf=qt,nf=qt,rf=qt,sf=qt,of=qt,uf=qt,af=qt,ff=qt,lf=qt,cf=qt,hf=qt,pf=qt,df=qt,vf=qt,mf=qt,gf=qt,yf=qt,bf=qt,wf=qt,Ef=qt,Sf=qt,xf=qt,Tf=qt,Nf=qt,Cf=qt,kf=qt,Lf=qt,Af=qt,Of=qt,Mf=qt,_f=qt,Df=qt,Pf=qt,Hf=qt,Bf=qt,jf=qt,Ff=qt,If=qt,qf=qt,Rf=qt,Uf=qt,zf=qt,Wf=qt,Xf=qt,Vf=qt,$f=qt,Jf=qt,Kf=qt,Qf=qt,Gf=qt,Yf=qt,Zf=qt,el=qt,tl=qt,nl=qt,rl=qt,il=qt,sl=qt,ol=qt,ul=qt,al=qt,fl=qt,ll=qt,cl=qt,hl=qt,pl=qt,dl=qt,vl=qt,ml=qt,gl=qt,yl=qt,bl=qt,wl=qt,El=qt,Sl=qt,xl=qt,Tl=qt,Nl=qt,Cl=qt,kl=qt,Ll=qt,Al=qt,Ol=qt,Ml=qt,_l=qt,Dl=qt,Pl=qt,Hl=qt,Bl=qt,jl=qt,Fl=qt,Il=qt,ql=qt,Rl=qt,Ul=qt,zl=qt,Wl=qt,Xl=qt,Vl=qt,$l=qt,Jl=qt,Kl=qt,Ql=qt,Gl=qt,Yl=qt,Zl=qt,ec=qt,tc=qt,nc=qt,rc=qt,ic=qt,sc=qt,oc=qt,uc=qt,ac=qt,fc=qt,lc=qt,cc=qt,hc=qt,pc=qt,dc=qt,yc={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bc=function(){function u(e){var r=[[],"",[]],i=e.match(t),u=65001;if(!E(i))return"";r[1]=i[1];var a=e.match(n);return E(a)&&(u=o(a[1],r[0],r[2])),r[0].join("")+r[1].replace(s,"<br/>")+r[2].join("")}var t=et("t"),n=et("rPr"),r=/<r>/g,i=/<\/r>/,s=/\r\n/g,o=function(t,n,r){var i={},s=65001,o=t.match(B),u=0;if(o)for(;u!=o.length;++u){var a=I(o[u]);switch(a[0]){case"<condense":break;case"<extend":break;case"<shadow":case"<shadow/>":break;case"<charset":if(a.val=="1")break;s=yc[parseInt(a.val,10)];break;case"<outline":case"<outline/>":break;case"<rFont":i.name=a.val;break;case"<sz":i.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike/>":i.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;case"<u/>":i.u=1;break;case"</u>":break;case"<b":if(!a.val)break;case"<b/>":i.b=1;break;case"</b>":break;case"<i":if(!a.val)break;case"<i/>":i.i=1;break;case"</i>":break;case"<color":a.rgb&&(i.color=a.rgb.substr(2,6));break;case"<family":i.family=a.val;break;case"<vertAlign":break;case"<scheme":break;default:if(a[0].charCodeAt(1)!==47)throw"Unrecognized rich format "+a[0]}}var f=[];return i.b&&f.push("font-weight: bold;"),i.i&&f.push("font-style: italic;"),n.push('<span style="'+f.join("")+'">'),r.push("</span>"),s};return function(t){return t.replace(r,"").split(i).map(u).join("")}}(),wc=/<t[^>]*>([^<]*)<\/t>/g,Ec=/<r>/,xc=/<sst([^>]*)>([\s\S]*)<\/sst>/,Tc=/<(?:si|sstItem)>/g,Nc=/<\/(?:si|sstItem)>/;mr.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var kc=/^\s|\s$|[\t\n\r]/,_c=Yt,Rc=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e){return(e/2|e*128)&255},i=function(e,t){return r(e^t)},s=function(e){var r=t[e.length-1],i=104;for(var s=e.length-1;s>=0;--s){var o=e[s];for(var u=0;u!=7;++u)o&64&&(r^=n[i]),o*=2,--i}return r};return function(t){var n=Pc(t),r=s(n),o=n.length,u=c(16);for(var a=0;a!=16;++a)u[a]=0;var f,l,h;(o&1)===1&&(f=r>>8,u[o]=i(e[0],f),--o,f=r&255,l=n[n.length-1],u[o]=i(l,f));while(o>0)--o,f=r>>8,u[o]=i(n[o],f),--o,f=r&255,u[o]=i(n[o],f);o=15,h=15-n.length;while(h>0)f=r>>8,u[o]=i(e[h],f),--o,--h,f=r&255,u[o]=i(n[o],f),--o,--h;return u}}(),Uc=function(e,t,n,r,i){i||(i=t),r||(r=Rc(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},zc=function(e){var t=0,n=Rc(e);return function(e){var r=Uc(null,e,t,n);return t=r[1],r[0]}},Yc=7,Zc=15,eh=1,th=Yc,uh={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"},ah={},fh={},gh=function(){var t=/<numFmts([^>]*)>.*<\/numFmts>/,n=/<cellXfs([^>]*)>.*<\/cellXfs>/,r=/<fills([^>]*)>.*<\/fills>/,i=/<borders([^>]*)>.*<\/borders>/;return function(s,o){var u;return(u=s.match(t))&&ph(u,o),(u=s.match(/<fonts([^>]*)>.*<\/fonts>/))&&ch(u,o),(u=s.match(r))&&lh(u,o),(u=s.match(i))&&hh(u,o),(u=s.match(n))&&vh(u,o),ah}}(),yh=at("styleSheet",null,{xmlns:ht.main[0],"xmlns:vt":ht.vt});mr.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",mr.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";var Lh=/<a:clrScheme([^>]*)>[^\u2603]*<\/a:clrScheme>/,Ah=/<a:fontScheme([^>]*)>[^\u2603]*<\/a:fontScheme>/,Oh=/<a:fmtScheme([^>]*)>[^\u2603]*<\/a:fmtScheme>/,_h=/<a:themeElements([^>]*)>[^\u2603]*<\/a:themeElements>/,Zh=sn,ep=Gt,rp=function(){function n(e,n,r,i,s,o){var u=i.length>0?parseInt(i,10)|0:0,a=o.length>0?parseInt(o,10)|0:0;return a<0&&s.length===0&&(a=0),s.length>0&&(a+=t.c),r.length>0&&(u+=t.r),n+ng(a)+Ym(u)}var e=/(^|[^A-Za-z])R(\[?)(-?\d+|)\]?C(\[?)(-?\d+|)\]?/g,t;return function(i,s){return t=s,i.replace(e,n)}}(),Mp=ip(4),_p=sp,$p=sp,Jp=sp,Kp=sp,Qp=sp,Gp=sp,Yp=sp,Zp=sp,ed=sp,td=sp,nd=sp,rd=sp,id=sp,sd=sp,od=sp,ud=sp,ad=sp,fd=sp,ld=sp,cd=sp,hd=qt,pd=qt,dd=qt,vd=qt,md={1:{n:"PtgExp",f:Dp},2:{n:"PtgTbl",f:vd},3:{n:"PtgAdd",f:$p},4:{n:"PtgSub",f:ad},5:{n:"PtgMul",f:nd},6:{n:"PtgDiv",f:Jp},7:{n:"PtgPower",f:od},8:{n:"PtgConcat",f:_p},9:{n:"PtgLt",f:ed},10:{n:"PtgLe",f:Zp},11:{n:"PtgEq",f:Kp},12:{n:"PtgGe",f:Qp},13:{n:"PtgGt",f:Gp},14:{n:"PtgNe",f:rd},15:{n:"PtgIsect",f:Yp},16:{n:"PtgUnion",f:ld},17:{n:"PtgRange",f:ud},18:{n:"PtgUplus",f:cd},19:{n:"PtgUminus",f:fd},20:{n:"PtgPercent",f:sd},21:{n:"PtgParen",f:id},22:{n:"PtgMissArg",f:td},23:{n:"PtgStr",f:Fp},28:{n:"PtgErr",f:Pp},29:{n:"PtgBool",f:Bp},30:{n:"PtgInt",f:Hp},31:{n:"PtgNum",f:jp},32:{n:"PtgArray",f:mp},33:{n:"PtgFunc",f:Lp},34:{n:"PtgFuncVar",f:Ap},35:{n:"PtgName",f:Up},36:{n:"PtgRef",f:Np},37:{n:"PtgArea",f:cp},38:{n:"PtgMemArea",f:Wp},39:{n:"PtgMemErr",f:hd},40:{n:"PtgMemNoMem",f:pd},41:{n:"PtgMemFunc",f:Xp},42:{n:"PtgRefErr",f:Vp},43:{n:"PtgAreaErr",f:pp},44:{n:"PtgRefN",f:Cp},45:{n:"PtgAreaN",f:vp},57:{n:"PtgNameX",f:zp},58:{n:"PtgRef3d",f:kp},59:{n:"PtgArea3d",f:hp},60:{n:"PtgRefErr3d",f:dd},61:{n:"PtgAreaErr3d",f:dp},255:{}},gd={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};(function(){for(var e in gd)md[e]=md[gd[e]]})();var yd={},bd={1:{n:"PtgAttrSemi",f:Ep},2:{n:"PtgAttrIf",f:wp},4:{n:"PtgAttrChoose",f:yp},8:{n:"PtgAttrGoto",f:bp},16:{n:"PtgAttrSum",f:Mp},32:{n:"PtgAttrBaxcel",f:gp},64:{n:"PtgAttrSpace",f:xp},65:{n:"PtgAttrSpaceSemi",f:Tp},255:{}},Md={1:"REFERENCE",2:"VALUE",3:"ARRAY"},_d={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Dd={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD"},Pd={2:1,3:1,15:1,16:1,17:1,18:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,65:3,66:3,67:1,68:1,69:1,71:1,72:1,73:1,75:1,76:1,77:1,79:2,80:2,83:1,86:1,90:1,97:2,98:1,99:1,105:1,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,189:3,190:1,195:3,196:3,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,65535:0},Hd={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFNA":"IFNA","_xlfn.IFERROR":"IFERROR","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"},Bd={},jd={};mr.WS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet";var zd=/<mergeCell ref="[A-Z0-9:]+"\s*\/>/g,Wd=/<(?:\w+:)?sheetData>([^\u2603]*)<\/(?:\w+:)?sheetData>/,Xd=/<hyperlink[^>]*\/>/g,Vd=/"(\w*:\w*)"/,$d=/<col[^>]*\/>/g,ev=function(){var t=/<(?:\w+:)?c[ >]/,n=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,i=/<is>([\S\s]*?)<\/is>/,s=et("v"),o=et("f");return function(u,a,f,l){var c=0,h="",p=[],d=[],v=0,m=0,g=0,y="",b,w,E=0,S=0,x,T=0,N=0,C=Array.isArray(ah.CellXf),L;for(var A=u.split(n),O=0,M=A.length;O!=M;++O){h=A[O].trim();var _=h.length;if(_===0)continue;for(c=0;c<_;++c)if(h.charCodeAt(c)===62)break;++c,w=I(h.substr(0,c),!0),E=typeof w.r!="undefined"?parseInt(w.r,10):E+1,S=-1;if(f.sheetRows&&f.sheetRows<E)continue;l.s.r>E-1&&(l.s.r=E-1),l.e.r<E-1&&(l.e.r=E-1),p=h.substr(c).split(t);for(c=typeof w.r=="undefined"?0:1;c!=p.length;++c){h=p[c].trim();if(h.length===0)continue;d=h.match(r),v=c,m=0,g=0,h="<c "+(h.substr(0,1)=="<"?">":"")+h;if(d!==null&&d.length===2){v=0,y=d[1];for(m=0;m!=y.length;++m){if((g=y.charCodeAt(m)-64)<1||g>26)break;v=26*v+g}--v,S=v}else++S;for(m=0;m!=h.length;++m)if(h.charCodeAt(m)===62)break;++m,w=I(h.substr(0,m),!0),w.r||(w.r=wg.encode_cell({r:E-1,c:S})),y=h.substr(m),b={t:""},(d=y.match(s))!==null&&d[1]!==""&&(b.v=W(d[1])),f.cellFormula&&(d=y.match(o))!==null&&(b.f=W(d[1]));if(w.t===undefined&&w.s===undefined&&b.v===undefined){if(!f.sheetStubs)continue;b.t="stub"}else b.t=w.t||"n";l.s.c>v&&(l.s.c=v),l.e.c<v&&(l.e.c=v);switch(b.t){case"n":b.v=parseFloat(b.v),isNaN(b.v)&&(b.v="");break;case"s":x=Bd[parseInt(b.v,10)],b.v=x.t,b.r=x.r,f.cellHTML&&(b.h=x.h);break;case"str":b.t="s",b.v=b.v!=null?Q(b.v):"",f.cellHTML&&(b.h=b.v);break;case"inlineStr":d=y.match(i),b.t="s",d!==null?(x=Sc(d[1]),b.v=x.t):b.v="";break;case"b":b.v=K(b.v);break;case"d":f.cellDates||(b.v=k(b.v),b.t="n");break;case"e":b.w=b.v,b.v=vn[b.v]}T=N=0,C&&w.s!==undefined&&(L=ah.CellXf[w.s],f.cellStyles&&(b.s=qd(L)),L!=null&&(L.numFmtId!=null&&(T=L.numFmtId),f.cellStyles&&L.fillId!=null&&(N=L.fillId))),Rd(b,T,N,f),a[w.r]=b}}}}(),nv=at("worksheet",null,{xmlns:ht.main[0],"xmlns:r":ht.r}),sv=ln,ov=cn,wv=ln,Cv=[["allowRefreshQuery","0"],["autoCompressPictures","1"],["backupFile","0"],["checkCompatibility","0"],["codeName",""],["date1904","0"],["dateCompatibility","1"],["filterPrivacy","0"],["hidePivotFieldList","0"],["promptedSolutions","0"],["publishItems","0"],["refreshAllConnections",!1],["saveExternalLinkValues","1"],["showBorderUnselectedTables","1"],["showInkAnnotation","1"],["showObjects","all"],["showPivotChartFilter","0"]],kv=[["activeTab","0"],["autoFilterDateGrouping","1"],["firstSheet","0"],["minimized","0"],["showHorizontalScroll","1"],["showSheetTabs","1"],["showVerticalScroll","1"],["tabRatio","600"],["visibility","visible"]],Lv=[["state","visible"]],Av=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]],Ov=[["autoUpdate","false"],["changesSavedWin","false"],["includeHiddenRowCol","true"],["includePrintSettings","true"],["maximized","false"],["minimized","false"],["onlySync","false"],["personalView","false"],["showComments","commIndicator"],["showFormulaBar","true"],["showHorizontalScroll","true"],["showObjects","all"],["showSheetTabs","true"],["showStatusbar","true"],["showVerticalScroll","true"],["tabRatio","600"],["xWindow","0"],["yWindow","0"]],Pv=/<\w+:workbook/,Bv=at("workbook",null,{xmlns:ht.main[0],"xmlns:r":ht.r}),am=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,fm=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/,lm=function(e){return String.fromCharCode(e)},wm=/<(\/?)([a-z0-9]*:|)(\w+)[^>]*>/mg,Mm={0:{n:"BrtRowHdr",f:iv},1:{n:"BrtCellBlank",f:av},2:{n:"BrtCellRk",f:dv},3:{n:"BrtCellError",f:cv},4:{n:"BrtCellBool",f:lv},5:{n:"BrtCellReal",f:pv},6:{n:"BrtCellSt",f:vv},7:{n:"BrtCellIsst",f:hv},8:{n:"BrtFmlaString",f:bv},9:{n:"BrtFmlaNum",f:yv},10:{n:"BrtFmlaBool",f:mv},11:{n:"BrtFmlaError",f:gv},16:{n:"BrtFRTArchID$",f:zv},19:{n:"BrtSSTItem",f:Gt},20:{n:"BrtPCDIMissing",f:qt},21:{n:"BrtPCDINumber",f:qt},22:{n:"BrtPCDIBoolean",f:qt},23:{n:"BrtPCDIError",f:qt},24:{n:"BrtPCDIString",f:qt},25:{n:"BrtPCDIDatetime",f:qt},26:{n:"BrtPCDIIndex",f:qt},27:{n:"BrtPCDIAMissing",f:qt},28:{n:"BrtPCDIANumber",f:qt},29:{n:"BrtPCDIABoolean",f:qt},30:{n:"BrtPCDIAError",f:qt},31:{n:"BrtPCDIAString",f:qt},32:{n:"BrtPCDIADatetime",f:qt},33:{n:"BrtPCRRecord",f:qt},34:{n:"BrtPCRRecordDt",f:qt},35:{n:"BrtFRTBegin",f:qt},36:{n:"BrtFRTEnd",f:qt},37:{n:"BrtACBegin",f:qt},38:{n:"BrtACEnd",f:qt},39:{n:"BrtName",f:qt},40:{n:"BrtIndexRowBlock",f:qt},42:{n:"BrtIndexBlock",f:qt},43:{n:"BrtFont",f:Eh},44:{n:"BrtFmt",f:wh},45:{n:"BrtFill",f:qt},46:{n:"BrtBorder",f:qt},47:{n:"BrtXF",f:Sh},48:{n:"BrtStyle",f:qt},49:{n:"BrtCellMeta",f:qt},50:{n:"BrtValueMeta",f:qt},51:{n:"BrtMdb",f:qt},52:{n:"BrtBeginFmd",f:qt},53:{n:"BrtEndFmd",f:qt},54:{n:"BrtBeginMdx",f:qt},55:{n:"BrtEndMdx",f:qt},56:{n:"BrtBeginMdxTuple",f:qt},57:{n:"BrtEndMdxTuple",f:qt},58:{n:"BrtMdxMbrIstr",f:qt},59:{n:"BrtStr",f:qt},60:{n:"BrtColInfo",f:qt},62:{n:"BrtCellRString",f:qt},63:{n:"BrtCalcChainItem$",f:Xh},64:{n:"BrtDVal",f:qt},65:{n:"BrtSxvcellNum",f:qt},66:{n:"BrtSxvcellStr",f:qt},67:{n:"BrtSxvcellBool",f:qt},68:{n:"BrtSxvcellErr",f:qt},69:{n:"BrtSxvcellDate",f:qt},70:{n:"BrtSxvcellNil",f:qt},128:{n:"BrtFileVersion",f:qt},129:{n:"BrtBeginSheet",f:qt},130:{n:"BrtEndSheet",f:qt},131:{n:"BrtBeginBook",f:qt,p:0},132:{n:"BrtEndBook",f:qt},133:{n:"BrtBeginWsViews",f:qt},134:{n:"BrtEndWsViews",f:qt},135:{n:"BrtBeginBookViews",f:qt},136:{n:"BrtEndBookViews",f:qt},137:{n:"BrtBeginWsView",f:qt},138:{n:"BrtEndWsView",f:qt},139:{n:"BrtBeginCsViews",f:qt},140:{n:"BrtEndCsViews",f:qt},141:{n:"BrtBeginCsView",f:qt},142:{n:"BrtEndCsView",f:qt},143:{n:"BrtBeginBundleShs",f:qt},144:{n:"BrtEndBundleShs",f:qt},145:{n:"BrtBeginSheetData",f:qt},146:{n:"BrtEndSheetData",f:qt},147:{n:"BrtWsProp",f:uv},148:{n:"BrtWsDim",f:sv,p:16},151:{n:"BrtPane",f:qt},152:{n:"BrtSel",f:qt},153:{n:"BrtWbProp",f:Rv},154:{n:"BrtWbFactoid",f:qt},155:{n:"BrtFileRecover",f:qt},156:{n:"BrtBundleSh",f:Iv},157:{n:"BrtCalcProp",f:qt},158:{n:"BrtBookView",f:qt},159:{n:"BrtBeginSst",f:Ac},160:{n:"BrtEndSst",f:qt},161:{n:"BrtBeginAFilter",f:qt},162:{n:"BrtEndAFilter",f:qt},163:{n:"BrtBeginFilterColumn",f:qt},164:{n:"BrtEndFilterColumn",f:qt},165:{n:"BrtBeginFilters",f:qt},166:{n:"BrtEndFilters",f:qt},167:{n:"BrtFilter",f:qt},168:{n:"BrtColorFilter",f:qt},169:{n:"BrtIconFilter",f:qt},170:{n:"BrtTop10Filter",f:qt},171:{n:"BrtDynamicFilter",f:qt},172:{n:"BrtBeginCustomFilters",f:qt},173:{n:"BrtEndCustomFilters",f:qt},174:{n:"BrtCustomFilter",f:qt},175:{n:"BrtAFilterDateGroupItem",f:qt},176:{n:"BrtMergeCell",f:wv},177:{n:"BrtBeginMergeCells",f:qt},178:{n:"BrtEndMergeCells",f:qt},179:{n:"BrtBeginPivotCacheDef",f:qt},180:{n:"BrtEndPivotCacheDef",f:qt},181:{n:"BrtBeginPCDFields",f:qt},182:{n:"BrtEndPCDFields",f:qt},183:{n:"BrtBeginPCDField",f:qt},184:{n:"BrtEndPCDField",f:qt},185:{n:"BrtBeginPCDSource",f:qt},186:{n:"BrtEndPCDSource",f:qt},187:{n:"BrtBeginPCDSRange",f:qt},188:{n:"BrtEndPCDSRange",f:qt},189:{n:"BrtBeginPCDFAtbl",f:qt},190:{n:"BrtEndPCDFAtbl",f:qt},191:{n:"BrtBeginPCDIRun",f:qt},192:{n:"BrtEndPCDIRun",f:qt},193:{n:"BrtBeginPivotCacheRecords",f:qt},194:{n:"BrtEndPivotCacheRecords",f:qt},195:{n:"BrtBeginPCDHierarchies",f:qt},196:{n:"BrtEndPCDHierarchies",f:qt},197:{n:"BrtBeginPCDHierarchy",f:qt},198:{n:"BrtEndPCDHierarchy",f:qt},199:{n:"BrtBeginPCDHFieldsUsage",f:qt},200:{n:"BrtEndPCDHFieldsUsage",f:qt},201:{n:"BrtBeginExtConnection",f:qt},202:{n:"BrtEndExtConnection",f:qt},203:{n:"BrtBeginECDbProps",f:qt},204:{n:"BrtEndECDbProps",f:qt},205:{n:"BrtBeginECOlapProps",f:qt},206:{n:"BrtEndECOlapProps",f:qt},207:{n:"BrtBeginPCDSConsol",f:qt},208:{n:"BrtEndPCDSConsol",f:qt},209:{n:"BrtBeginPCDSCPages",f:qt},210:{n:"BrtEndPCDSCPages",f:qt},211:{n:"BrtBeginPCDSCPage",f:qt},212:{n:"BrtEndPCDSCPage",f:qt},213:{n:"BrtBeginPCDSCPItem",f:qt},214:{n:"BrtEndPCDSCPItem",f:qt},215:{n:"BrtBeginPCDSCSets",f:qt},216:{n:"BrtEndPCDSCSets",f:qt},217:{n:"BrtBeginPCDSCSet",f:qt},218:{n:"BrtEndPCDSCSet",f:qt},219:{n:"BrtBeginPCDFGroup",f:qt},220:{n:"BrtEndPCDFGroup",f:qt},221:{n:"BrtBeginPCDFGItems",f:qt},222:{n:"BrtEndPCDFGItems",f:qt},223:{n:"BrtBeginPCDFGRange",f:qt},224:{n:"BrtEndPCDFGRange",f:qt},225:{n:"BrtBeginPCDFGDiscrete",f:qt},226:{n:"BrtEndPCDFGDiscrete",f:qt},227:{n:"BrtBeginPCDSDTupleCache",f:qt},228:{n:"BrtEndPCDSDTupleCache",f:qt},229:{n:"BrtBeginPCDSDTCEntries",f:qt},230:{n:"BrtEndPCDSDTCEntries",f:qt},231:{n:"BrtBeginPCDSDTCEMembers",f:qt},232:{n:"BrtEndPCDSDTCEMembers",f:qt},233:{n:"BrtBeginPCDSDTCEMember",f:qt},234:{n:"BrtEndPCDSDTCEMember",f:qt},235:{n:"BrtBeginPCDSDTCQueries",f:qt},236:{n:"BrtEndPCDSDTCQueries",f:qt},237:{n:"BrtBeginPCDSDTCQuery",f:qt},238:{n:"BrtEndPCDSDTCQuery",f:qt},239:{n:"BrtBeginPCDSDTCSets",f:qt},240:{n:"BrtEndPCDSDTCSets",f:qt},241:{n:"BrtBeginPCDSDTCSet",f:qt},242:{n:"BrtEndPCDSDTCSet",f:qt},243:{n:"BrtBeginPCDCalcItems",f:qt},244:{n:"BrtEndPCDCalcItems",f:qt},245:{n:"BrtBeginPCDCalcItem",f:qt},246:{n:"BrtEndPCDCalcItem",f:qt},247:{n:"BrtBeginPRule",f:qt},248:{n:"BrtEndPRule",f:qt},249:{n:"BrtBeginPRFilters",f:qt},250:{n:"BrtEndPRFilters",f:qt},251:{n:"BrtBeginPRFilter",f:qt},252:{n:"BrtEndPRFilter",f:qt},253:{n:"BrtBeginPNames",f:qt},254:{n:"BrtEndPNames",f:qt},255:{n:"BrtBeginPName",f:qt},256:{n:"BrtEndPName",f:qt},257:{n:"BrtBeginPNPairs",f:qt},258:{n:"BrtEndPNPairs",f:qt},259:{n:"BrtBeginPNPair",f:qt},260:{n:"BrtEndPNPair",f:qt},261:{n:"BrtBeginECWebProps",f:qt},262:{n:"BrtEndECWebProps",f:qt},263:{n:"BrtBeginEcWpTables",f:qt},264:{n:"BrtEndECWPTables",f:qt},265:{n:"BrtBeginECParams",f:qt},266:{n:"BrtEndECParams",f:qt},267:{n:"BrtBeginECParam",f:qt},268:{n:"BrtEndECParam",f:qt},269:{n:"BrtBeginPCDKPIs",f:qt},270:{n:"BrtEndPCDKPIs",f:qt},271:{n:"BrtBeginPCDKPI",f:qt},272:{n:"BrtEndPCDKPI",f:qt},273:{n:"BrtBeginDims",f:qt},274:{n:"BrtEndDims",f:qt},275:{n:"BrtBeginDim",f:qt},276:{n:"BrtEndDim",f:qt},277:{n:"BrtIndexPartEnd",f:qt},278:{n:"BrtBeginStyleSheet",f:qt},279:{n:"BrtEndStyleSheet",f:qt},280:{n:"BrtBeginSXView",f:qt},281:{n:"BrtEndSXVI",f:qt},282:{n:"BrtBeginSXVI",f:qt},283:{n:"BrtBeginSXVIs",f:qt},284:{n:"BrtEndSXVIs",f:qt},285:{n:"BrtBeginSXVD",f:qt},286:{n:"BrtEndSXVD",f:qt},287:{n:"BrtBeginSXVDs",f:qt},288:{n:"BrtEndSXVDs",f:qt},289:{n:"BrtBeginSXPI",f:qt},290:{n:"BrtEndSXPI",f:qt},291:{n:"BrtBeginSXPIs",f:qt},292:{n:"BrtEndSXPIs",f:qt},293:{n:"BrtBeginSXDI",f:qt},294:{n:"BrtEndSXDI",f:qt},295:{n:"BrtBeginSXDIs",f:qt},296:{n:"BrtEndSXDIs",f:qt},297:{n:"BrtBeginSXLI",f:qt},298:{n:"BrtEndSXLI",f:qt},299:{n:"BrtBeginSXLIRws",f:qt},300:{n:"BrtEndSXLIRws",f:qt},301:{n:"BrtBeginSXLICols",f:qt},302:{n:"BrtEndSXLICols",f:qt},303:{n:"BrtBeginSXFormat",f:qt},304:{n:"BrtEndSXFormat",f:qt},305:{n:"BrtBeginSXFormats",f:qt},306:{n:"BrtEndSxFormats",f:qt},307:{n:"BrtBeginSxSelect",f:qt},308:{n:"BrtEndSxSelect",f:qt},309:{n:"BrtBeginISXVDRws",f:qt},310:{n:"BrtEndISXVDRws",f:qt},311:{n:"BrtBeginISXVDCols",f:qt},312:{n:"BrtEndISXVDCols",f:qt},313:{n:"BrtEndSXLocation",f:qt},314:{n:"BrtBeginSXLocation",f:qt},315:{n:"BrtEndSXView",f:qt},316:{n:"BrtBeginSXTHs",f:qt},317:{n:"BrtEndSXTHs",f:qt},318:{n:"BrtBeginSXTH",f:qt},319:{n:"BrtEndSXTH",f:qt},320:{n:"BrtBeginISXTHRws",f:qt},321:{n:"BrtEndISXTHRws",f:qt},322:{n:"BrtBeginISXTHCols",f:qt},323:{n:"BrtEndISXTHCols",f:qt},324:{n:"BrtBeginSXTDMPS",f:qt},325:{n:"BrtEndSXTDMPs",f:qt},326:{n:"BrtBeginSXTDMP",f:qt},327:{n:"BrtEndSXTDMP",f:qt},328:{n:"BrtBeginSXTHItems",f:qt},329:{n:"BrtEndSXTHItems",f:qt},330:{n:"BrtBeginSXTHItem",f:qt},331:{n:"BrtEndSXTHItem",f:qt},332:{n:"BrtBeginMetadata",f:qt},333:{n:"BrtEndMetadata",f:qt},334:{n:"BrtBeginEsmdtinfo",f:qt},335:{n:"BrtMdtinfo",f:qt},336:{n:"BrtEndEsmdtinfo",f:qt},337:{n:"BrtBeginEsmdb",f:qt},338:{n:"BrtEndEsmdb",f:qt},339:{n:"BrtBeginEsfmd",f:qt},340:{n:"BrtEndEsfmd",f:qt},341:{n:"BrtBeginSingleCells",f:qt},342:{n:"BrtEndSingleCells",f:qt},343:{n:"BrtBeginList",f:qt},344:{n:"BrtEndList",f:qt},345:{n:"BrtBeginListCols",f:qt},346:{n:"BrtEndListCols",f:qt},347:{n:"BrtBeginListCol",f:qt},348:{n:"BrtEndListCol",f:qt},349:{n:"BrtBeginListXmlCPr",f:qt},350:{n:"BrtEndListXmlCPr",f:qt},351:{n:"BrtListCCFmla",f:qt},352:{n:"BrtListTrFmla",f:qt},353:{n:"BrtBeginExternals",f:qt},354:{n:"BrtEndExternals",f:qt},355:{n:"BrtSupBookSrc",f:qt},357:{n:"BrtSupSelf",f:qt},358:{n:"BrtSupSame",f:qt},359:{n:"BrtSupTabs",f:qt},360:{n:"BrtBeginSupBook",f:qt},361:{n:"BrtPlaceholderName",f:qt},362:{n:"BrtExternSheet",f:qt},363:{n:"BrtExternTableStart",f:qt},364:{n:"BrtExternTableEnd",f:qt},366:{n:"BrtExternRowHdr",f:qt},367:{n:"BrtExternCellBlank",f:qt},368:{n:"BrtExternCellReal",f:qt},369:{n:"BrtExternCellBool",f:qt},370:{n:"BrtExternCellError",f:qt},371:{n:"BrtExternCellString",f:qt},372:{n:"BrtBeginEsmdx",f:qt},373:{n:"BrtEndEsmdx",f:qt},374:{n:"BrtBeginMdxSet",f:qt},375:{n:"BrtEndMdxSet",f:qt},376:{n:"BrtBeginMdxMbrProp",f:qt},377:{n:"BrtEndMdxMbrProp",f:qt},378:{n:"BrtBeginMdxKPI",f:qt},379:{n:"BrtEndMdxKPI",f:qt},380:{n:"BrtBeginEsstr",f:qt},381:{n:"BrtEndEsstr",f:qt},382:{n:"BrtBeginPRFItem",f:qt},383:{n:"BrtEndPRFItem",f:qt},384:{n:"BrtBeginPivotCacheIDs",f:qt},385:{n:"BrtEndPivotCacheIDs",f:qt},386:{n:"BrtBeginPivotCacheID",f:qt},387:{n:"BrtEndPivotCacheID",f:qt},388:{n:"BrtBeginISXVIs",f:qt},389:{n:"BrtEndISXVIs",f:qt},390:{n:"BrtBeginColInfos",f:qt},391:{n:"BrtEndColInfos",f:qt},392:{n:"BrtBeginRwBrk",f:qt},393:{n:"BrtEndRwBrk",f:qt},394:{n:"BrtBeginColBrk",f:qt},395:{n:"BrtEndColBrk",f:qt},396:{n:"BrtBrk",f:qt},397:{n:"BrtUserBookView",f:qt},398:{n:"BrtInfo",f:qt},399:{n:"BrtCUsr",f:qt},400:{n:"BrtUsr",f:qt},401:{n:"BrtBeginUsers",f:qt},403:{n:"BrtEOF",f:qt},404:{n:"BrtUCR",f:qt},405:{n:"BrtRRInsDel",f:qt},406:{n:"BrtRREndInsDel",f:qt},407:{n:"BrtRRMove",f:qt},408:{n:"BrtRREndMove",f:qt},409:{n:"BrtRRChgCell",f:qt},410:{n:"BrtRREndChgCell",f:qt},411:{n:"BrtRRHeader",f:qt},412:{n:"BrtRRUserView",f:qt},413:{n:"BrtRRRenSheet",f:qt},414:{n:"BrtRRInsertSh",f:qt},415:{n:"BrtRRDefName",f:qt},416:{n:"BrtRRNote",f:qt},417:{n:"BrtRRConflict",f:qt},418:{n:"BrtRRTQSIF",f:qt},419:{n:"BrtRRFormat",f:qt},420:{n:"BrtRREndFormat",f:qt},421:{n:"BrtRRAutoFmt",f:qt},422:{n:"BrtBeginUserShViews",f:qt},423:{n:"BrtBeginUserShView",f:qt},424:{n:"BrtEndUserShView",f:qt},425:{n:"BrtEndUserShViews",f:qt},426:{n:"BrtArrFmla",f:qt},427:{n:"BrtShrFmla",f:qt},428:{n:"BrtTable",f:qt},429:{n:"BrtBeginExtConnections",f:qt},430:{n:"BrtEndExtConnections",f:qt},431:{n:"BrtBeginPCDCalcMems",f:qt},432:{n:"BrtEndPCDCalcMems",f:qt},433:{n:"BrtBeginPCDCalcMem",f:qt},434:{n:"BrtEndPCDCalcMem",f:qt},435:{n:"BrtBeginPCDHGLevels",f:qt},436:{n:"BrtEndPCDHGLevels",f:qt},437:{n:"BrtBeginPCDHGLevel",f:qt},438:{n:"BrtEndPCDHGLevel",f:qt},439:{n:"BrtBeginPCDHGLGroups",f:qt},440:{n:"BrtEndPCDHGLGroups",f:qt},441:{n:"BrtBeginPCDHGLGroup",f:qt},442:{n:"BrtEndPCDHGLGroup",f:qt},443:{n:"BrtBeginPCDHGLGMembers",f:qt},444:{n:"BrtEndPCDHGLGMembers",f:qt},445:{n:"BrtBeginPCDHGLGMember",f:qt},446:{n:"BrtEndPCDHGLGMember",f:qt},447:{n:"BrtBeginQSI",f:qt},448:{n:"BrtEndQSI",f:qt},449:{n:"BrtBeginQSIR",f:qt},450:{n:"BrtEndQSIR",f:qt},451:{n:"BrtBeginDeletedNames",f:qt},452:{n:"BrtEndDeletedNames",f:qt},453:{n:"BrtBeginDeletedName",f:qt},454:{n:"BrtEndDeletedName",f:qt},455:{n:"BrtBeginQSIFs",f:qt},456:{n:"BrtEndQSIFs",f:qt},457:{n:"BrtBeginQSIF",f:qt},458:{n:"BrtEndQSIF",f:qt},459:{n:"BrtBeginAutoSortScope",f:qt},460:{n:"BrtEndAutoSortScope",f:qt},461:{n:"BrtBeginConditionalFormatting",f:qt},462:{n:"BrtEndConditionalFormatting",f:qt},463:{n:"BrtBeginCFRule",f:qt},464:{n:"BrtEndCFRule",f:qt},465:{n:"BrtBeginIconSet",f:qt},466:{n:"BrtEndIconSet",f:qt},467:{n:"BrtBeginDatabar",f:qt},468:{n:"BrtEndDatabar",f:qt},469:{n:"BrtBeginColorScale",f:qt},470:{n:"BrtEndColorScale",f:qt},471:{n:"BrtCFVO",f:qt},472:{n:"BrtExternValueMeta",f:qt},473:{n:"BrtBeginColorPalette",f:qt},474:{n:"BrtEndColorPalette",f:qt},475:{n:"BrtIndexedColor",f:qt},476:{n:"BrtMargins",f:qt},477:{n:"BrtPrintOptions",f:qt},478:{n:"BrtPageSetup",f:qt},479:{n:"BrtBeginHeaderFooter",f:qt},480:{n:"BrtEndHeaderFooter",f:qt},481:{n:"BrtBeginSXCrtFormat",f:qt},482:{n:"BrtEndSXCrtFormat",f:qt},483:{n:"BrtBeginSXCrtFormats",f:qt},484:{n:"BrtEndSXCrtFormats",f:qt},485:{n:"BrtWsFmtInfo",f:qt},486:{n:"BrtBeginMgs",f:qt},487:{n:"BrtEndMGs",f:qt},488:{n:"BrtBeginMGMaps",f:qt},489:{n:"BrtEndMGMaps",f:qt},490:{n:"BrtBeginMG",f:qt},491:{n:"BrtEndMG",f:qt},492:{n:"BrtBeginMap",f:qt},493:{n:"BrtEndMap",f:qt},494:{n:"BrtHLink",f:Ev},495:{n:"BrtBeginDCon",f:qt},496:{n:"BrtEndDCon",f:qt},497:{n:"BrtBeginDRefs",f:qt},498:{n:"BrtEndDRefs",f:qt},499:{n:"BrtDRef",f:qt},500:{n:"BrtBeginScenMan",f:qt},501:{n:"BrtEndScenMan",f:qt},502:{n:"BrtBeginSct",f:qt},503:{n:"BrtEndSct",f:qt},504:{n:"BrtSlc",f:qt},505:{n:"BrtBeginDXFs",f:qt},506:{n:"BrtEndDXFs",f:qt},507:{n:"BrtDXF",f:qt},508:{n:"BrtBeginTableStyles",f:qt},509:{n:"BrtEndTableStyles",f:qt},510:{n:"BrtBeginTableStyle",f:qt},511:{n:"BrtEndTableStyle",f:qt},512:{n:"BrtTableStyleElement",f:qt},513:{n:"BrtTableStyleClient",f:qt},514:{n:"BrtBeginVolDeps",f:qt},515:{n:"BrtEndVolDeps",f:qt},516:{n:"BrtBeginVolType",f:qt},517:{n:"BrtEndVolType",f:qt},518:{n:"BrtBeginVolMain",f:qt},519:{n:"BrtEndVolMain",f:qt},520:{n:"BrtBeginVolTopic",f:qt},521:{n:"BrtEndVolTopic",f:qt},522:{n:"BrtVolSubtopic",f:qt},523:{n:"BrtVolRef",f:qt},524:{n:"BrtVolNum",f:qt},525:{n:"BrtVolErr",f:qt},526:{n:"BrtVolStr",f:qt},527:{n:"BrtVolBool",f:qt},528:{n:"BrtBeginCalcChain$",f:qt},529:{n:"BrtEndCalcChain$",f:qt},530:{n:"BrtBeginSortState",f:qt},531:{n:"BrtEndSortState",f:qt},532:{n:"BrtBeginSortCond",f:qt},533:{n:"BrtEndSortCond",f:qt},534:{n:"BrtBookProtection",f:qt},535:{n:"BrtSheetProtection",f:qt},536:{n:"BrtRangeProtection",f:qt},537:{n:"BrtPhoneticInfo",f:qt},538:{n:"BrtBeginECTxtWiz",f:qt},539:{n:"BrtEndECTxtWiz",f:qt},540:{n:"BrtBeginECTWFldInfoLst",f:qt},541:{n:"BrtEndECTWFldInfoLst",f:qt},542:{n:"BrtBeginECTwFldInfo",f:qt},548:{n:"BrtFileSharing",f:qt},549:{n:"BrtOleSize",f:qt},550:{n:"BrtDrawing",f:qt},551:{n:"BrtLegacyDrawing",f:qt},552:{n:"BrtLegacyDrawingHF",f:qt},553:{n:"BrtWebOpt",f:qt},554:{n:"BrtBeginWebPubItems",f:qt},555:{n:"BrtEndWebPubItems",f:qt},556:{n:"BrtBeginWebPubItem",f:qt},557:{n:"BrtEndWebPubItem",f:qt},558:{n:"BrtBeginSXCondFmt",f:qt},559:{n:"BrtEndSXCondFmt",f:qt},560:{n:"BrtBeginSXCondFmts",f:qt},561:{n:"BrtEndSXCondFmts",f:qt},562:{n:"BrtBkHim",f:qt},564:{n:"BrtColor",f:qt},565:{n:"BrtBeginIndexedColors",f:qt},566:{n:"BrtEndIndexedColors",f:qt},569:{n:"BrtBeginMRUColors",f:qt},570:{n:"BrtEndMRUColors",f:qt},572:{n:"BrtMRUColor",f:qt},573:{n:"BrtBeginDVals",f:qt},574:{n:"BrtEndDVals",f:qt},577:{n:"BrtSupNameStart",f:qt},578:{n:"BrtSupNameValueStart",f:qt},579:{n:"BrtSupNameValueEnd",f:qt},580:{n:"BrtSupNameNum",f:qt},581:{n:"BrtSupNameErr",f:qt},582:{n:"BrtSupNameSt",f:qt},583:{n:"BrtSupNameNil",f:qt},584:{n:"BrtSupNameBool",f:qt},585:{n:"BrtSupNameFmla",f:qt},586:{n:"BrtSupNameBits",f:qt},587:{n:"BrtSupNameEnd",f:qt},588:{n:"BrtEndSupBook",f:qt},589:{n:"BrtCellSmartTagProperty",f:qt},590:{n:"BrtBeginCellSmartTag",f:qt},591:{n:"BrtEndCellSmartTag",f:qt},592:{n:"BrtBeginCellSmartTags",f:qt},593:{n:"BrtEndCellSmartTags",f:qt},594:{n:"BrtBeginSmartTags",f:qt},595:{n:"BrtEndSmartTags",f:qt},596:{n:"BrtSmartTagType",f:qt},597:{n:"BrtBeginSmartTagTypes",f:qt},598:{n:"BrtEndSmartTagTypes",f:qt},599:{n:"BrtBeginSXFilters",f:qt},600:{n:"BrtEndSXFilters",f:qt},601:{n:"BrtBeginSXFILTER",f:qt},602:{n:"BrtEndSXFilter",f:qt},603:{n:"BrtBeginFills",f:qt},604:{n:"BrtEndFills",f:qt},605:{n:"BrtBeginCellWatches",f:qt},606:{n:"BrtEndCellWatches",f:qt},607:{n:"BrtCellWatch",f:qt},608:{n:"BrtBeginCRErrs",f:qt},609:{n:"BrtEndCRErrs",f:qt},610:{n:"BrtCrashRecErr",f:qt},611:{n:"BrtBeginFonts",f:qt},612:{n:"BrtEndFonts",f:qt},613:{n:"BrtBeginBorders",f:qt},614:{n:"BrtEndBorders",f:qt},615:{n:"BrtBeginFmts",f:qt},616:{n:"BrtEndFmts",f:qt},617:{n:"BrtBeginCellXFs",f:qt},618:{n:"BrtEndCellXFs",f:qt},619:{n:"BrtBeginStyles",f:qt},620:{n:"BrtEndStyles",f:qt},625:{n:"BrtBigName",f:qt},626:{n:"BrtBeginCellStyleXFs",f:qt},627:{n:"BrtEndCellStyleXFs",f:qt},628:{n:"BrtBeginComments",f:qt},629:{n:"BrtEndComments",f:qt},630:{n:"BrtBeginCommentAuthors",f:qt},631:{n:"BrtEndCommentAuthors",f:qt},632:{n:"BrtCommentAuthor",f:Zh},633:{n:"BrtBeginCommentList",f:qt},634:{n:"BrtEndCommentList",f:qt},635:{n:"BrtBeginComment",f:Yh},636:{n:"BrtEndComment",f:qt},637:{n:"BrtCommentText",f:ep},638:{n:"BrtBeginOleObjects",f:qt},639:{n:"BrtOleObject",f:qt},640:{n:"BrtEndOleObjects",f:qt},641:{n:"BrtBeginSxrules",f:qt},642:{n:"BrtEndSxRules",f:qt},643:{n:"BrtBeginActiveXControls",f:qt},644:{n:"BrtActiveX",f:qt},645:{n:"BrtEndActiveXControls",f:qt},646:{n:"BrtBeginPCDSDTCEMembersSortBy",f:qt},648:{n:"BrtBeginCellIgnoreECs",f:qt},649:{n:"BrtCellIgnoreEC",f:qt},650:{n:"BrtEndCellIgnoreECs",f:qt},651:{n:"BrtCsProp",f:qt},652:{n:"BrtCsPageSetup",f:qt},653:{n:"BrtBeginUserCsViews",f:qt},654:{n:"BrtEndUserCsViews",f:qt},655:{n:"BrtBeginUserCsView",f:qt},656:{n:"BrtEndUserCsView",f:qt},657:{n:"BrtBeginPcdSFCIEntries",f:qt},658:{n:"BrtEndPCDSFCIEntries",f:qt},659:{n:"BrtPCDSFCIEntry",f:qt},660:{n:"BrtBeginListParts",f:qt},661:{n:"BrtListPart",f:qt},662:{n:"BrtEndListParts",f:qt},663:{n:"BrtSheetCalcProp",f:qt},664:{n:"BrtBeginFnGroup",f:qt},665:{n:"BrtFnGroup",f:qt},666:{n:"BrtEndFnGroup",f:qt},667:{n:"BrtSupAddin",f:qt},668:{n:"BrtSXTDMPOrder",f:qt},669:{n:"BrtCsProtection",f:qt},671:{n:"BrtBeginWsSortMap",f:qt},672:{n:"BrtEndWsSortMap",f:qt},673:{n:"BrtBeginRRSort",f:qt},674:{n:"BrtEndRRSort",f:qt},675:{n:"BrtRRSortItem",f:qt},676:{n:"BrtFileSharingIso",f:qt},677:{n:"BrtBookProtectionIso",f:qt},678:{n:"BrtSheetProtectionIso",f:qt},679:{n:"BrtCsProtectionIso",f:qt},680:{n:"BrtRangeProtectionIso",f:qt},1024:{n:"BrtRwDescent",f:qt},1025:{n:"BrtKnownFonts",f:qt},1026:{n:"BrtBeginSXTupleSet",f:qt},1027:{n:"BrtEndSXTupleSet",f:qt},1028:{n:"BrtBeginSXTupleSetHeader",f:qt},1029:{n:"BrtEndSXTupleSetHeader",f:qt},1030:{n:"BrtSXTupleSetHeaderItem",f:qt},1031:{n:"BrtBeginSXTupleSetData",f:qt},1032:{n:"BrtEndSXTupleSetData",f:qt},1033:{n:"BrtBeginSXTupleSetRow",f:qt},1034:{n:"BrtEndSXTupleSetRow",f:qt},1035:{n:"BrtSXTupleSetRowItem",f:qt},1036:{n:"BrtNameExt",f:qt},1037:{n:"BrtPCDH14",f:qt},1038:{n:"BrtBeginPCDCalcMem14",f:qt},1039:{n:"BrtEndPCDCalcMem14",f:qt},1040:{n:"BrtSXTH14",f:qt},1041:{n:"BrtBeginSparklineGroup",f:qt},1042:{n:"BrtEndSparklineGroup",f:qt},1043:{n:"BrtSparkline",f:qt},1044:{n:"BrtSXDI14",f:qt},1045:{n:"BrtWsFmtInfoEx14",f:qt},1046:{n:"BrtBeginConditionalFormatting14",f:qt},1047:{n:"BrtEndConditionalFormatting14",f:qt},1048:{n:"BrtBeginCFRule14",f:qt},1049:{n:"BrtEndCFRule14",f:qt},1050:{n:"BrtCFVO14",f:qt},1051:{n:"BrtBeginDatabar14",f:qt},1052:{n:"BrtBeginIconSet14",f:qt},1053:{n:"BrtDVal14",f:qt},1054:{n:"BrtBeginDVals14",f:qt},1055:{n:"BrtColor14",f:qt},1056:{n:"BrtBeginSparklines",f:qt},1057:{n:"BrtEndSparklines",f:qt},1058:{n:"BrtBeginSparklineGroups",f:qt},1059:{n:"BrtEndSparklineGroups",f:qt},1061:{n:"BrtSXVD14",f:qt},1062:{n:"BrtBeginSxview14",f:qt},1063:{n:"BrtEndSxview14",f:qt},1066:{n:"BrtBeginPCD14",f:qt},1067:{n:"BrtEndPCD14",f:qt},1068:{n:"BrtBeginExtConn14",f:qt},1069:{n:"BrtEndExtConn14",f:qt},1070:{n:"BrtBeginSlicerCacheIDs",f:qt},1071:{n:"BrtEndSlicerCacheIDs",f:qt},1072:{n:"BrtBeginSlicerCacheID",f:qt},1073:{n:"BrtEndSlicerCacheID",f:qt},1075:{n:"BrtBeginSlicerCache",f:qt},1076:{n:"BrtEndSlicerCache",f:qt},1077:{n:"BrtBeginSlicerCacheDef",f:qt},1078:{n:"BrtEndSlicerCacheDef",f:qt},1079:{n:"BrtBeginSlicersEx",f:qt},1080:{n:"BrtEndSlicersEx",f:qt},1081:{n:"BrtBeginSlicerEx",f:qt},1082:{n:"BrtEndSlicerEx",f:qt},1083:{n:"BrtBeginSlicer",f:qt},1084:{n:"BrtEndSlicer",f:qt},1085:{n:"BrtSlicerCachePivotTables",f:qt},1086:{n:"BrtBeginSlicerCacheOlapImpl",f:qt},1087:{n:"BrtEndSlicerCacheOlapImpl",f:qt},1088:{n:"BrtBeginSlicerCacheLevelsData",f:qt},1089:{n:"BrtEndSlicerCacheLevelsData",f:qt},1090:{n:"BrtBeginSlicerCacheLevelData",f:qt},1091:{n:"BrtEndSlicerCacheLevelData",f:qt},1092:{n:"BrtBeginSlicerCacheSiRanges",f:qt},1093:{n:"BrtEndSlicerCacheSiRanges",f:qt},1094:{n:"BrtBeginSlicerCacheSiRange",f:qt},1095:{n:"BrtEndSlicerCacheSiRange",f:qt},1096:{n:"BrtSlicerCacheOlapItem",f:qt},1097:{n:"BrtBeginSlicerCacheSelections",f:qt},1098:{n:"BrtSlicerCacheSelection",f:qt},1099:{n:"BrtEndSlicerCacheSelections",f:qt},1100:{n:"BrtBeginSlicerCacheNative",f:qt},1101:{n:"BrtEndSlicerCacheNative",f:qt},1102:{n:"BrtSlicerCacheNativeItem",f:qt},1103:{n:"BrtRangeProtection14",f:qt},1104:{n:"BrtRangeProtectionIso14",f:qt},1105:{n:"BrtCellIgnoreEC14",f:qt},1111:{n:"BrtList14",f:qt},1112:{n:"BrtCFIcon",f:qt},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs",f:qt},1114:{n:"BrtEndSlicerCachesPivotCacheIDs",f:qt},1115:{n:"BrtBeginSlicers",f:qt},1116:{n:"BrtEndSlicers",f:qt},1117:{n:"BrtWbProp14",f:qt},1118:{n:"BrtBeginSXEdit",f:qt},1119:{n:"BrtEndSXEdit",f:qt},1120:{n:"BrtBeginSXEdits",f:qt},1121:{n:"BrtEndSXEdits",f:qt},1122:{n:"BrtBeginSXChange",f:qt},1123:{n:"BrtEndSXChange",f:qt},1124:{n:"BrtBeginSXChanges",f:qt},1125:{n:"BrtEndSXChanges",f:qt},1126:{n:"BrtSXTupleItems",f:qt},1128:{n:"BrtBeginSlicerStyle",f:qt},1129:{n:"BrtEndSlicerStyle",f:qt},1130:{n:"BrtSlicerStyleElement",f:qt},1131:{n:"BrtBeginStyleSheetExt14",f:qt},1132:{n:"BrtEndStyleSheetExt14",f:qt},1133:{n:"BrtBeginSlicerCachesPivotCacheID",f:qt},1134:{n:"BrtEndSlicerCachesPivotCacheID",f:qt},1135:{n:"BrtBeginConditionalFormattings",f:qt},1136:{n:"BrtEndConditionalFormattings",f:qt},1137:{n:"BrtBeginPCDCalcMemExt",f:qt},1138:{n:"BrtEndPCDCalcMemExt",f:qt},1139:{n:"BrtBeginPCDCalcMemsExt",f:qt},1140:{n:"BrtEndPCDCalcMemsExt",f:qt},1141:{n:"BrtPCDField14",f:qt},1142:{n:"BrtBeginSlicerStyles",f:qt},1143:{n:"BrtEndSlicerStyles",f:qt},1144:{n:"BrtBeginSlicerStyleElements",f:qt},1145:{n:"BrtEndSlicerStyleElements",f:qt},1146:{n:"BrtCFRuleExt",f:qt},1147:{n:"BrtBeginSXCondFmt14",f:qt},1148:{n:"BrtEndSXCondFmt14",f:qt},1149:{n:"BrtBeginSXCondFmts14",f:qt},1150:{n:"BrtEndSXCondFmts14",f:qt},1152:{n:"BrtBeginSortCond14",f:qt},1153:{n:"BrtEndSortCond14",f:qt},1154:{n:"BrtEndDVals14",f:qt},1155:{n:"BrtEndIconSet14",f:qt},1156:{n:"BrtEndDatabar14",f:qt},1157:{n:"BrtBeginColorScale14",f:qt},1158:{n:"BrtEndColorScale14",f:qt},1159:{n:"BrtBeginSxrules14",f:qt},1160:{n:"BrtEndSxrules14",f:qt},1161:{n:"BrtBeginPRule14",f:qt},1162:{n:"BrtEndPRule14",f:qt},1163:{n:"BrtBeginPRFilters14",f:qt},1164:{n:"BrtEndPRFilters14",f:qt},1165:{n:"BrtBeginPRFilter14",f:qt},1166:{n:"BrtEndPRFilter14",f:qt},1167:{n:"BrtBeginPRFItem14",f:qt},1168:{n:"BrtEndPRFItem14",f:qt},1169:{n:"BrtBeginCellIgnoreECs14",f:qt},1170:{n:"BrtEndCellIgnoreECs14",f:qt},1171:{n:"BrtDxf14",f:qt},1172:{n:"BrtBeginDxF14s",f:qt},1173:{n:"BrtEndDxf14s",f:qt},1177:{n:"BrtFilter14",f:qt},1178:{n:"BrtBeginCustomFilters14",f:qt},1180:{n:"BrtCustomFilter14",f:qt},1181:{n:"BrtIconFilter14",f:qt},1182:{n:"BrtPivotCacheConnectionName",f:qt},2048:{n:"BrtBeginDecoupledPivotCacheIDs",f:qt},2049:{n:"BrtEndDecoupledPivotCacheIDs",f:qt},2050:{n:"BrtDecoupledPivotCacheID",f:qt},2051:{n:"BrtBeginPivotTableRefs",f:qt},2052:{n:"BrtEndPivotTableRefs",f:qt},2053:{n:"BrtPivotTableRef",f:qt},2054:{n:"BrtSlicerCacheBookPivotTables",f:qt},2055:{n:"BrtBeginSxvcells",f:qt},2056:{n:"BrtEndSxvcells",f:qt},2057:{n:"BrtBeginSxRow",f:qt},2058:{n:"BrtEndSxRow",f:qt},2060:{n:"BrtPcdCalcMem15",f:qt},2067:{n:"BrtQsi15",f:qt},2068:{n:"BrtBeginWebExtensions",f:qt},2069:{n:"BrtEndWebExtensions",f:qt},2070:{n:"BrtWebExtension",f:qt},2071:{n:"BrtAbsPath15",f:qt},2072:{n:"BrtBeginPivotTableUISettings",f:qt},2073:{n:"BrtEndPivotTableUISettings",f:qt},2075:{n:"BrtTableSlicerCacheIDs",f:qt},2076:{n:"BrtTableSlicerCacheID",f:qt},2077:{n:"BrtBeginTableSlicerCache",f:qt},2078:{n:"BrtEndTableSlicerCache",f:qt},2079:{n:"BrtSxFilter15",f:qt},2080:{n:"BrtBeginTimelineCachePivotCacheIDs",f:qt},2081:{n:"BrtEndTimelineCachePivotCacheIDs",f:qt},2082:{n:"BrtTimelineCachePivotCacheID",f:qt},2083:{n:"BrtBeginTimelineCacheIDs",f:qt},2084:{n:"BrtEndTimelineCacheIDs",f:qt},2085:{n:"BrtBeginTimelineCacheID",f:qt},2086:{n:"BrtEndTimelineCacheID",f:qt},2087:{n:"BrtBeginTimelinesEx",f:qt},2088:{n:"BrtEndTimelinesEx",f:qt},2089:{n:"BrtBeginTimelineEx",f:qt},2090:{n:"BrtEndTimelineEx",f:qt},2091:{n:"BrtWorkBookPr15",f:qt},2092:{n:"BrtPCDH15",f:qt},2093:{n:"BrtBeginTimelineStyle",f:qt},2094:{n:"BrtEndTimelineStyle",f:qt},2095:{n:"BrtTimelineStyleElement",f:qt},2096:{n:"BrtBeginTimelineStylesheetExt15",f:qt},2097:{n:"BrtEndTimelineStylesheetExt15",f:qt},2098:{n:"BrtBeginTimelineStyles",f:qt},2099:{n:"BrtEndTimelineStyles",f:qt},2100:{n:"BrtBeginTimelineStyleElements",f:qt},2101:{n:"BrtEndTimelineStyleElements",f:qt},2102:{n:"BrtDxf15",f:qt},2103:{n:"BrtBeginDxfs15",f:qt},2104:{n:"brtEndDxfs15",f:qt},2105:{n:"BrtSlicerCacheHideItemsWithNoData",f:qt},2106:{n:"BrtBeginItemUniqueNames",f:qt},2107:{n:"BrtEndItemUniqueNames",f:qt},2108:{n:"BrtItemUniqueName",f:qt},2109:{n:"BrtBeginExtConn15",f:qt},2110:{n:"BrtEndExtConn15",f:qt},2111:{n:"BrtBeginOledbPr15",f:qt},2112:{n:"BrtEndOledbPr15",f:qt},2113:{n:"BrtBeginDataFeedPr15",f:qt},2114:{n:"BrtEndDataFeedPr15",f:qt},2115:{n:"BrtTextPr15",f:qt},2116:{n:"BrtRangePr15",f:qt},2117:{n:"BrtDbCommand15",f:qt},2118:{n:"BrtBeginDbTables15",f:qt},2119:{n:"BrtEndDbTables15",f:qt},2120:{n:"BrtDbTable15",f:qt},2121:{n:"BrtBeginDataModel",f:qt},2122:{n:"BrtEndDataModel",f:qt},2123:{n:"BrtBeginModelTables",f:qt},2124:{n:"BrtEndModelTables",f:qt},2125:{n:"BrtModelTable",f:qt},2126:{n:"BrtBeginModelRelationships",f:qt},2127:{n:"BrtEndModelRelationships",f:qt},2128:{n:"BrtModelRelationship",f:qt},2129:{n:"BrtBeginECTxtWiz15",f:qt},2130:{n:"BrtEndECTxtWiz15",f:qt},2131:{n:"BrtBeginECTWFldInfoLst15",f:qt},2132:{n:"BrtEndECTWFldInfoLst15",f:qt},2133:{n:"BrtBeginECTWFldInfo15",f:qt},2134:{n:"BrtFieldListActiveItem",f:qt},2135:{n:"BrtPivotCacheIdVersion",f:qt},2136:{n:"BrtSXDI15",f:qt},65535:{n:"",f:qt}},_m=x(Mm,"n"),Dm={3:{n:"BIFF2NUM",f:gc},4:{n:"BIFF2STR",f:mc},6:{n:"Formula",f:wd},9:{n:"BOF",f:ji},10:{n:"EOF",f:Ks},12:{n:"CalcCount",f:Bs},13:{n:"CalcMode",f:Is},14:{n:"CalcPrecision",f:qs},15:{n:"CalcRefMode",f:Rs},16:{n:"CalcDelta",f:js},17:{n:"CalcIter",f:Fs},18:{n:"Protect",f:vo},19:{n:"Password",f:ao},20:{n:"Header",f:no},21:{n:"Footer",f:Zs},23:{n:"ExternSheet",f:ps},24:{n:"Lbl",f:hs},25:{n:"WinProtect",f:Co},26:{n:"VerticalPageBreaks",f:Lo},27:{n:"HorizontalPageBreaks",f:Ao},28:{n:"Note",f:ys},29:{n:"Selection",f:Oo},34:{n:"Date1904",f:Xs},35:{n:"ExternName",f:cs},38:{n:"LeftMargin",f:so},39:{n:"RightMargin",f:go},40:{n:"TopMargin",f:xo},41:{n:"BottomMargin",f:Ps},42:{n:"PrintRowCol",f:lo},43:{n:"PrintGrid",f:fo},47:{n:"FilePass",f:Vc},49:{n:"Font",f:Ki},51:{n:"PrintSize",f:co},60:{n:"Continue",f:Mo},61:{n:"Window1",f:Ji},64:{n:"Backup",f:_s},65:{n:"Pane",f:_o},66:{n:"CodePage",f:zs},77:{n:"Pls",f:Do},80:{n:"DCon",f:Po},81:{n:"DConRef",f:Ho},82:{n:"DConName",f:Bo},85:{n:"DefColWidth",f:Vs},89:{n:"XCT",f:jo},90:{n:"CRN",f:Fo},91:{n:"FileSharing",f:Io},92:{n:"WriteAccess",f:Ii},93:{n:"Obj",f:ws},94:{n:"Uncalced",f:qo},95:{n:"CalcSaveRecalc",f:Us},96:{n:"Template",f:Ro},97:{n:"Intl",f:Uo},99:{n:"ObjProtect",f:uo},125:{n:"ColInfo",f:Os},128:{n:"Guts",f:os},129:{n:"WsBool",f:zo},130:{n:"GridSet",f:eo},131:{n:"HCenter",f:to},132:{n:"VCenter",f:No},133:{n:"BoundSheet8",f:qi},134:{n:"WriteProtect",f:ko},140:{n:"Country",f:Ts},141:{n:"HideObj",f:ro},144:{n:"Sort",f:Wo},146:{n:"Palette",f:Cs},151:{n:"Sync",f:Xo},152:{n:"LPr",f:Vo},153:{n:"DxGCol",f:$o},154:{n:"FnGroupName",f:Jo},155:{n:"FilterMode",f:Ko},156:{n:"BuiltInFnGroupCount",f:Hs},157:{n:"AutoFilterInfo",f:Qo},158:{n:"AutoFilter",f:Go},160:{n:"Scl",f:wo},161:{n:"Setup",f:Yo},174:{n:"ScenMan",f:Zo},175:{n:"SCENARIO",f:eu},176:{n:"SxView",f:tu},177:{n:"Sxvd",f:nu},178:{n:"SXVI",f:ru},180:{n:"SxIvd",f:iu},181:{n:"SXLI",f:su},182:{n:"SXPI",f:ou},184:{n:"DocRoute",f:uu},185:{n:"RecipName",f:au},189:{n:"MulRk",f:ts},190:{n:"MulBlank",f:fu},193:{n:"Mms",f:oo},197:{n:"SXDI",f:lu},198:{n:"SXDB",f:cu},199:{n:"SXFDB",f:hu},200:{n:"SXDBB",f:pu},201:{n:"SXNum",f:du},202:{n:"SxBool",f:So},203:{n:"SxErr",f:vu},204:{n:"SXInt",f:mu},205:{n:"SXString",f:gu},206:{n:"SXDtr",f:yu},207:{n:"SxNil",f:bu},208:{n:"SXTbl",f:wu},209:{n:"SXTBRGIITM",f:Eu},210:{n:"SxTbpg",f:Su},211:{n:"ObProj",f:xu},213:{n:"SXStreamID",f:Tu},215:{n:"DBCell",f:Nu},216:{n:"SXRng",f:Cu},217:{n:"SxIsxoper",f:ku},218:{n:"BookBool",f:Lu},220:{n:"DbOrParamQry",f:Au},221:{n:"ScenarioProtect",f:bo},222:{n:"OleObjectSize",f:Ou},224:{n:"XF",f:ss},225:{n:"InterfaceHdr",f:Fi},226:{n:"InterfaceEnd",f:io},227:{n:"SXVS",f:Mu},229:{n:"MergeCells",f:bs},233:{n:"BkHim",f:_u},235:{n:"MsoDrawingGroup",f:Du},236:{n:"MsoDrawing",f:Pu},237:{n:"MsoDrawingSelection",f:Hu},239:{n:"PhoneticInfo",f:Bu},240:{n:"SxRule",f:ju},241:{n:"SXEx",f:Fu},242:{n:"SxFilt",f:Iu},244:{n:"SxDXF",f:qu},245:{n:"SxItm",f:Ru},246:{n:"SxName",f:Uu},247:{n:"SxSelect",f:zu},248:{n:"SXPair",f:Wu},249:{n:"SxFmla",f:Xu},251:{n:"SxFormat",f:Vu},252:{n:"SST",f:Ri},253:{n:"LabelSst",f:Qi},255:{n:"ExtSST",f:Ui},256:{n:"SXVDEx",f:$u},259:{n:"SXFormula",f:Ju},290:{n:"SXDBEx",f:Ku},311:{n:"RRDInsDel",f:Qu},312:{n:"RRDHead",f:Gu},315:{n:"RRDChgCell",f:Yu},317:{n:"RRTabId",f:yo},318:{n:"RRDRenSheet",f:Zu},319:{n:"RRSort",f:ea},320:{n:"RRDMove",f:ta},330:{n:"RRFormat",f:na},331:{n:"RRAutoFmt",f:ra},333:{n:"RRInsertSh",f:ia},334:{n:"RRDMoveBegin",f:sa},335:{n:"RRDMoveEnd",f:oa},336:{n:"RRDInsDelBegin",f:ua},337:{n:"RRDInsDelEnd",f:aa},338:{n:"RRDConflict",f:fa},339:{n:"RRDDefName",f:la},340:{n:"RRDRstEtxp",f:ca},351:{n:"LRng",f:ha},352:{n:"UsesELFs",f:To},353:{n:"DSF",f:$s},401:{n:"CUsr",f:pa},402:{n:"CbUsr",f:da},403:{n:"UsrInfo",f:va},404:{n:"UsrExcl",f:ma},405:{n:"FileLock",f:ga},406:{n:"RRDInfo",f:ya},407:{n:"BCUsrs",f:ba},408:{n:"UsrChk",f:wa},425:{n:"UserBView",f:Ea},426:{n:"UserSViewBegin",f:Sa},427:{n:"UserSViewEnd",f:xa},428:{n:"RRDUserView",f:Ta},429:{n:"Qsi",f:Na},430:{n:"SupBook",f:ls},431:{n:"Prot4Rev",f:ho},432:{n:"CondFmt",f:Ca},433:{n:"CF",f:ka},434:{n:"DVal",f:La},437:{n:"DConBin",f:Aa},438:{n:"TxO",f:Es},439:{n:"RefreshAll",f:mo},440:{n:"HLink",f:Ss},441:{n:"Lel",f:Oa},442:{n:"CodeName",f:Ma},443:{n:"SXFDBType",f:_a},444:{n:"Prot4RevPass",f:po},445:{n:"ObNoMacros",f:Da},446:{n:"Dv",f:Pa},448:{n:"Excel9File",f:Qs},449:{n:"RecalcId",f:Vi,r:2},450:{n:"EntExU2",f:Js},512:{n:"Dimensions",f:Zi},513:{n:"Blank",f:Ds},515:{n:"Number",f:as},516:{n:"Label",f:Gi},517:{n:"BoolErr",f:us},519:{n:"String",f:Eo},520:{n:"Row",f:zi},523:{n:"Index",f:Ha},545:{n:"Array",f:vs},549:{n:"DefaultRowHeight",f:$i},566:{n:"Table",f:Ba},574:{n:"Window2",f:Ms},638:{n:"RK",f:es},659:{n:"Style",f:Ls},1048:{n:"BigName",f:ja},1054:{n:"Format",f:Yi},1084:{n:"ContinueBigName",f:Fa},1212:{n:"ShrFmla",f:ds},2048:{n:"HLinkTooltip",f:xs},2049:{n:"WebPub",f:Ia},2050:{n:"QsiSXTag",f:qa},2051:{n:"DBQueryExt",f:Ra},2052:{n:"ExtString",f:Ua},2053:{n:"TxtQry",f:za},2054:{n:"Qsir",f:Wa},2055:{n:"Qsif",f:Xa},2056:{n:"RRDTQSIF",f:Va},2057:{n:"BOF",f:ji},2058:{n:"OleDbConn",f:$a},2059:{n:"WOpt",f:Ja},2060:{n:"SXViewEx",f:Ka},2061:{n:"SXTH",f:Qa},2062:{n:"SXPIEx",f:Ga},2063:{n:"SXVDTEx",f:Ya},2064:{n:"SXViewEx9",f:Za},2066:{n:"ContinueFrt",f:ef},2067:{n:"RealTimeData",f:tf},2128:{n:"ChartFrtInfo",f:nf},2129:{n:"FrtWrapper",f:rf},2130:{n:"StartBlock",f:sf},2131:{n:"EndBlock",f:of},2132:{n:"StartObject",f:uf},2133:{n:"EndObject",f:af},2134:{n:"CatLab",f:ff},2135:{n:"YMult",f:lf},2136:{n:"SXViewLink",f:cf},2137:{n:"PivotChartBits",f:hf},2138:{n:"FrtFontList",f:pf},2146:{n:"SheetExt",f:df},2147:{n:"BookExt",f:vf,r:12},2148:{n:"SXAddl",f:mf},2149:{n:"CrErr",f:gf},2150:{n:"HFPicture",f:yf},2151:{n:"FeatHdr",f:Gs},2152:{n:"Feat",f:bf},2154:{n:"DataLabExt",f:wf},2155:{n:"DataLabExtContents",f:Ef},2156:{n:"CellWatch",f:Sf},2161:{n:"FeatHdr11",f:xf},2162:{n:"Feature11",f:Tf},2164:{n:"DropDownObjIds",f:Nf},2165:{n:"ContinueFrt11",f:Cf},2166:{n:"DConn",f:kf},2167:{n:"List12",f:Lf},2168:{n:"Feature12",f:Af},2169:{n:"CondFmt12",f:Of},2170:{n:"CF12",f:Mf},2171:{n:"CFEx",f:_f},2172:{n:"XFCRC",f:ks,r:12},2173:{n:"XFExt",f:Rh,r:12},2174:{n:"AutoFilter12",f:Df},2175:{n:"ContinueFrt12",f:Pf},2180:{n:"MDTInfo",f:Hf},2181:{n:"MDXStr",f:Bf},2182:{n:"MDXTuple",f:jf},2183:{n:"MDXSet",f:Ff},2184:{n:"MDXProp",f:If},2185:{n:"MDXKPI",f:qf},2186:{n:"MDB",f:Rf},2187:{n:"PLV",f:Uf},2188:{n:"Compat12",f:Ws,r:12},2189:{n:"DXF",f:zf},2190:{n:"TableStyles",f:Wf,r:12},2191:{n:"TableStyle",f:Xf},2192:{n:"TableStyleElement",f:Vf},2194:{n:"StyleExt",f:As},2195:{n:"NamePublish",f:$f},2196:{n:"NameCmt",f:Jf},2197:{n:"SortData",f:Kf},2198:{n:"Theme",f:Hh,r:12},2199:{n:"GUIDTypeLib",f:Qf},2200:{n:"FnGrp12",f:Gf},2201:{n:"NameFnGrp12",f:Yf},2202:{n:"MTRSettings",f:ms,r:12},2203:{n:"CompressPictures",f:Xi},2204:{n:"HeaderFooter",f:Zf},2205:{n:"CrtLayout12",f:el},2206:{n:"CrtMlFrt",f:tl},2207:{n:"CrtMlFrtContinue",f:nl},2211:{n:"ForceFullCalculation",f:Wi},2212:{n:"ShapePropsStream",f:rl},2213:{n:"TextPropsStream",f:il},2214:{n:"RichTextStream",f:sl},2215:{n:"CrtLayout12A",f:ol},4097:{n:"Units",f:ul},4098:{n:"Chart",f:al},4099:{n:"Series",f:fl},4102:{n:"DataFormat",f:ll},4103:{n:"LineFormat",f:cl},4105:{n:"MarkerFormat",f:hl},4106:{n:"AreaFormat",f:pl},4107:{n:"PieFormat",f:dl},4108:{n:"AttachedLabel",f:vl},4109:{n:"SeriesText",f:ml},4116:{n:"ChartFormat",f:gl},4117:{n:"Legend",f:yl},4118:{n:"SeriesList",f:bl},4119:{n:"Bar",f:wl},4120:{n:"Line",f:El},4121:{n:"Pie",f:Sl},4122:{n:"Area",f:xl},4123:{n:"Scatter",f:Tl},4124:{n:"CrtLine",f:Nl},4125:{n:"Axis",f:Cl},4126:{n:"Tick",f:kl},4127:{n:"ValueRange",f:Ll},4128:{n:"CatSerRange",f:Al},4129:{n:"AxisLine",f:Ol},4130:{n:"CrtLink",f:Ml},4132:{n:"DefaultText",f:_l},4133:{n:"Text",f:Dl},4134:{n:"FontX",f:Ys},4135:{n:"ObjectLink",f:Pl},4146:{n:"Frame",f:Hl},4147:{n:"Begin",f:Bl},4148:{n:"End",f:jl},4149:{n:"PlotArea",f:Fl},4154:{n:"Chart3d",f:Il},4156:{n:"PicF",f:ql},4157:{n:"DropBar",f:Rl},4158:{n:"Radar",f:Ul},4159:{n:"Surf",f:zl},4160:{n:"RadarArea",f:Wl},4161:{n:"AxisParent",f:Xl},4163:{n:"LegendException",f:Vl},4164:{n:"ShtProps",f:$l},4165:{n:"SerToCrt",f:Jl},4166:{n:"AxesUsed",f:Kl},4168:{n:"SBaseRef",f:Ql},4170:{n:"SerParent",f:Gl},4171:{n:"SerAuxTrend",f:Yl},4174:{n:"IFmtRecord",f:Zl},4175:{n:"Pos",f:ec},4176:{n:"AlRuns",f:tc},4177:{n:"BRAI",f:nc},4187:{n:"SerAuxErrBar",f:rc},4188:{n:"ClrtClient",f:Ns},4189:{n:"SerFmt",f:ic},4191:{n:"Chart3DBarShape",f:sc},4192:{n:"Fbi",f:oc},4193:{n:"BopPop",f:uc},4194:{n:"AxcExt",f:ac},4195:{n:"Dat",f:fc},4196:{n:"PlotGrowth",f:lc},4197:{n:"SIIndex",f:cc},4198:{n:"GelFrame",f:hc},4199:{n:"BopPopCustom",f:pc},4200:{n:"Fbi2",f:dc},22:{n:"ExternCount",f:qt},126:{n:"RK",f:qt},127:{n:"ImData",f:qt},135:{n:"Addin",f:qt},136:{n:"Edg",f:qt},137:{n:"Pub",f:qt},145:{n:"Sub",f:qt},148:{n:"LHRecord",f:qt},149:{n:"LHNGraph",f:qt},150:{n:"Sound",f:qt},169:{n:"CoordList",f:qt},171:{n:"GCW",f:qt},188:{n:"ShrFmla",f:qt},194:{n:"AddMenu",f:qt},195:{n:"DelMenu",f:qt},214:{n:"RString",f:qt},223:{n:"UDDesc",f:qt},234:{n:"TabIdConf",f:qt},354:{n:"XL5Modify",f:qt},421:{n:"FileSharing2",f:qt},536:{n:"Name",f:qt},547:{n:"ExternName",f:cs},561:{n:"Font",f:qt},1030:{n:"Formula",f:wd},2157:{n:"FeatInfo",f:qt},2163:{n:"FeatInfo11",f:qt},2177:{n:"SXAddl12",f:qt},2240:{n:"AutoWebPub",f:qt},2241:{n:"ListObj",f:qt},2242:{n:"ListField",f:qt},2243:{n:"ListDV",f:qt},2244:{n:"ListCondFmt",f:qt},2245:{n:"ListCF",f:qt},2246:{n:"FMQry",f:qt},2247:{n:"FMSQry",f:qt},2248:{n:"PLV",f:qt},2249:{n:"LnExt",f:qt},2250:{n:"MkrExt",f:qt},2251:{n:"CrtCoopt",f:qt},0:{}},Bm=Hm([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]]),jm=Hm([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["WTF",!1]]),qm=function(t){return t.substr(-1)!="/"},yg=gg,wg={encode_col:ng,encode_row:Ym,encode_cell:ug,encode_range:cg,decode_col:tg,decode_row:Gm,split_cell:sg,decode_cell:og,decode_range:lg,format_cell:dg,get_formulae:bg,make_csv:gg,make_json:vg,make_formulae:bg,sheet_to_csv:gg,sheet_to_json:vg,sheet_to_formulae:bg,sheet_to_row_object_array:mg},Eg=function(){function e(t,n,r){return this instanceof e?(this.tagName=t,this._attributes=n||{},this._children=r||[],this._prefix="",this):new e(t,n,r)}e.prototype.createElement=function(){return new e(arguments)},e.prototype.children=function(){return this._children},e.prototype.append=function(e){return this._children.push(e),this},e.prototype.prefix=function(e){return arguments.length==0?this._prefix:(this._prefix=e,this)},e.prototype.attr=function(e,t){if(t==undefined)return delete this._attributes[e],this;if(arguments.length==0)return this._attributes;if(typeof e=="string"&&arguments.length==1)return this._attributes.attr[e];if(typeof e=="object"&&arguments.length==1)for(var n in e)this._attributes[n]=e[n];else arguments.length==2&&typeof e=="string"&&(this._attributes[e]=t);return this};var t="'";QUOTE='"';var n={};return n[QUOTE]="&quot;",n[t]="&apos;",e.prototype.escapeAttributeValue=function(e){return'"'+e.replace(/\"/g,"&quot;")+'"'},e.prototype.toXml=function(e){e||(e=this);var t=e._prefix;t+="<"+e.tagName;if(e._attributes)for(var n in e._attributes)t+=" "+n+"="+this.escapeAttributeValue(""+e._attributes[n])+"";if(e._children&&e._children.length>0){t+=">";for(var r=0;r<e._children.length;r++)t+=this.toXml(e._children[r]);t+="</"+e.tagName+">"}else t+="/>";return t},e}(),Sg=function(e){var t=164,n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"??/?? "hh"?"mm"?"ss"? "'},r={};for(var i in n)r[n[i]]=i;return _hashIndex={},_listIndex=[],{initialize:function(e){this.$fonts=Eg("fonts").attr("count",0).attr("x14ac:knownFonts","1"),this.$fills=Eg("fills").attr("count",0),this.$borders=Eg("borders").attr("count",0),this.$numFmts=Eg("numFmts").attr("count",0),this.$cellStyleXfs=Eg("cellStyleXfs"),this.$xf=Eg("xf").attr("numFmtId",0).attr("fontId",0).attr("fillId",0).attr("borderId",0),this.$cellXfs=Eg("cellXfs").attr("count",0),this.$cellStyles=Eg("cellStyles").append(Eg("cellStyle").attr("name","Normal").attr("xfId",0).attr("builtinId",0)),this.$dxfs=Eg("dxfs").attr("count","0"),this.$tableStyles=Eg("tableStyles").attr("count","0").attr("defaultTableStyle","TableStyleMedium9").attr("defaultPivotStyle","PivotStyleMedium4"),this.$styles=Eg("styleSheet").attr("xmlns:mc","http://schemas.openxmlformats.org/markup-compatibility/2006").attr("xmlns:x14ac","http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac").attr("xmlns","http://schemas.openxmlformats.org/spreadsheetml/2006/main").attr("mc:Ignorable","x14ac").prefix('<?xml version="1.0" encoding="UTF-8" standalone="yes"?>').append(this.$numFmts).append(this.$fonts).append(this.$fills).append(this.$borders).append(this.$cellStyleXfs.append(this.$xf)).append(this.$cellXfs).append(this.$cellStyles).append(this.$dxfs).append(this.$tableStyles);var t=e.defaultCellStyle||{};t.font||(t.font={name:"Calibri",sz:"12"}),t.font.name||(t.font.name="Calibri"),t.font.sz||(t.font.sz=11),t.fill||(t.fill={patternType:"none",fgColor:{}}),t.border||(t.border={}),t.numFmt||(t.numFmt=0),this.defaultStyle=t;var n=JSON.parse(JSON.stringify(t));return n.fill={patternType:"gray125",fgColor:{}},this.addStyles([t,n]),this},addStyle:function(e){var t=JSON.stringify(e),n=_hashIndex[t];return n==undefined?(n=this._addXf(e),_hashIndex[t]=n):n=_hashIndex[t],n},addStyles:function(e){var t=this;return e.map(function(e){return t.addStyle(e)})},_duckTypeStyle:function(e){return typeof e=="object"&&(e.patternFill||e.fgColor)?{fill:e}:e.font||e.numFmt||e.border||e.fill?e:this._getStyleCSS(e)},_getStyleCSS:function(e){return e},_addXf:function(e){var t=this._addFont(e.font),n=this._addFill(e.fill),r=this._addBorder(e.border),i=this._addNumFmt(e.numFmt),s=Eg("xf").attr("numFmtId",i).attr("fontId",t).attr("fillId",n).attr("borderId",r).attr("xfId","0");t>0&&s.attr("applyFont","1"),n>0&&s.attr("applyFill","1"),r>0&&s.attr("applyBorder","1"),i>0&&s.attr("applyNumberFormat","1");if(e.alignment){var o=Eg("alignment");e.alignment.horizontal&&o.attr("horizontal",e.alignment.horizontal),e.alignment.vertical&&o.attr("vertical",e.alignment.vertical),e.alignment.indent&&o.attr("indent",e.alignment.indent),e.alignment.readingOrder&&o.attr("readingOrder",e.alignment.readingOrder),e.alignment.wrapText&&o.attr("wrapText",e.alignment.wrapText),e.alignment.textRotation!=undefined&&o.attr("textRotation",e.alignment.textRotation),s.append(o).attr("applyAlignment",1)}this.$cellXfs.append(s);var u=+this.$cellXfs.children().length;return this.$cellXfs.attr("count",u),u-1},_addFont:function(e){if(!e)return 0;var t=Eg("font").append(Eg("sz").attr("val",e.sz||this.defaultStyle.font.sz)).append(Eg("name").attr("val",e.name||this.defaultStyle.font.name));e.bold&&t.append(Eg("b")),e.underline&&t.append(Eg("u")),e.italic&&t.append(Eg("i")),e.strike&&t.append(Eg("strike")),e.outline&&t.append(Eg("outline")),e.shadow&&t.append(Eg("shadow")),e.vertAlign&&t.append(Eg("vertAlign").attr("val",e.vertAlign)),e.color&&(e.color.theme?(t.append(Eg("color").attr("theme",e.color.theme)),e.color.tint&&t.append(Eg("tint").attr("theme",e.color.tint))):e.color.rgb&&t.append(Eg("color").attr("rgb",e.color.rgb))),this.$fonts.append(t);var n=this.$fonts.children().length;return this.$fonts.attr("count",n),n-1},_addNumFmt:function(e){if(!e)return 0;if(typeof e=="string"){var n=r[e];if(n>=0)return n}if(/^[0-9]+$/.exec(e))return e;e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");var i=Eg("numFmt").attr("numFmtId",++t).attr("formatCode",e);this.$numFmts.append(i);var s=this.$numFmts.children().length;return this.$numFmts.attr("count",s),t},_addFill:function(e){if(!e)return 0;var t=Eg("patternFill").attr("patternType",e.patternType||"solid");if(e.fgColor){var n=Eg("fgColor");e.fgColor.rgb?(e.fgColor.rgb.length==6&&(e.fgColor.rgb="FF"+e.fgColor.rgb),n.attr("rgb",e.fgColor.rgb),t.append(n)):e.fgColor.theme&&(n.attr("theme",e.fgColor.theme),e.fgColor.tint&&n.attr("tint",e.fgColor.tint),t.append(n)),e.bgColor||(e.bgColor={indexed:"64"})}if(e.bgColor){var r=Eg("bgColor").attr(e.bgColor);t.append(r)}var i=Eg("fill").append(t);this.$fills.append(i);var s=this.$fills.children().length;return this.$fills.attr("count",s),s-1},_getSubBorder:function(e,t){var n=Eg(e);if(t){t.style&&n.attr("style",t.style);if(t.color){var r=Eg("color");if(t.color.auto)r.attr("auto",t.color.auto);else if(t.color.rgb)r.attr("rgb",t.color.rgb);else if(t.color.theme||t.color.tint)r.attr("theme",t.color.theme||"1"),r.attr("tint",t.color.tint||"0");n.append(r)}}return n},_addBorder:function(e){if(!e)return 0;var t=this,n=Eg("border").attr("diagonalUp",e.diagonalUp).attr("diagonalDown",e.diagonalDown),r=["left","right","top","bottom","diagonal"];r.forEach(function(r){n.append(t._getSubBorder(r,e[r]))}),this.$borders.append(n);var i=this.$borders.children().length;return this.$borders.attr("count",i),i-1},toXml:function(){return this.$styles.toXml()}}.initialize(e||{})},xg=[1,0],Tg=[3,2,1,0],Ng=[0,1],Cg=[0,1,2,3],xg=[1,0],Tg=[3,2,1,0],Ng=[0,1],Cg=[0,1,2,3];t.parse_xlscfb=Am,t.parse_zip=Rm,t.read=Vm,t.readFile=$m,t.readFileSync=$m,t.write=Km,t.writeFile=Qm,t.writeFileSync=Qm,t.utils=wg,t.CFB=w,t.SSF=m})(typeof exports!="undefined"?exports:XLSX);var XLS=XLSX;define("xlsx",["Blob","FileSaver","jszip"],function(e){return function(){var t,n;return t||e.xlsx}}(this)),function(e,t,n,i){function u(t,n){this.element=t,this.settings=e.extend({},o,n),this._defaults=o,this._name=s,this.init()}function a(e){return(e.filename?e.filename:"table2excel")+".xls"}var s="table2excel",o={exclude:".noExl",name:"Table2Excel"};u.prototype={init:function(){var t=this;t.convertHex=function(e,t){return e=e.replace("#",""),r=parseInt(e.substring(0,2),16),g=parseInt(e.substring(2,4),16),b=parseInt(e.substring(4,6),16),t===i&&(t=100),result="rgb("+r+","+g+","+b+","+t/100+")",result},t.convertRGB=function(e){var t=e.split("(")[1].split(")")[0],n=t.split(","),r=n.map(function(e){return e=parseInt(e).toString(16),e.length==1?"0"+e:e});return r="FF"+r.join(""),r},t.tableRows=[],e(t.element).each(function(n,r){var i="",s=[];e(r).find("tr").not(t.settings.exclude).each(function(n,r){t.tableRows[n]=[],len=this.length,e(r).children().each(function(r,i){var s={};s.value=_.isNaN(Number(i.innerText))?i.innerText:Number(i.innerText),s.value==0&&String(s.value).indexOf(".")==-1&&(s.value="");var o=_.map(i.style,function(e){return e}),u={},a=_.isUndefined(i.align)?"left":i.align===""?"left":i.align;if(n==0||n==1||n==len-1&&r==0)a="center";u=e(i).css(o);if(!_.isEmpty(u)){var f=_.has(u,"background-color")?u["background-color"]!="transparent"?t.convertRGB(u["background-color"]):"FFFFFFFF":"FFFFFFFF";s.style={numFmt:"General",fill:{fgColor:{rgb:f}},alignment:{vertical:"center",horizontal:a,wrapText:!1},font:{sz:8,color:{theme:"1"},bold:u.bold==="bold"?!0:!1,name:"Calibri"},border:{top:{style:"thin",color:{auto:1}},right:{style:"thin",color:{auto:1}},bottom:{style:"thin",color:{auto:1}}}}}s.colSpan=i.colSpan,t.tableRows[n].push(s)})})}),t.tableToExcel(t.tableRows,t.settings.name)},tableToExcel:function(e,t){function u(){if(!(this instanceof u))return new u;this.SheetNames=[],this.Sheets={}}var n=this,r="",i,s,o;n.uri="data:application/vnd.ms-excel;base64,",n.base64=function(e){return Base64.encode(unescape(encodeURIComponent(e)))},n.format=function(e,t){return e.replace(/{(\w+)}/g,function(e,n){return t[n]})},n.datenum=function(e,t){t&&(e+=1462);var n=Date.parse(e);return(n-new Date(Date.UTC(1899,11,30)))/864e5},n.sheet_from_array_of_arrays=function(e,t){var n={},r={s:{c:1e7,r:1e7},e:{c:0,r:0}};n["!merges"]=[],n["!cols"]=[];var i=[];for(var s=0;s!=e.length;++s)for(var o=0;o!=e[s].length;++o){r.s.r>s&&(r.s.r=s),r.s.c>o&&(r.s.c=o),r.e.r<s&&(r.e.r=s),r.e.c<o&&(r.e.c=o);var u={v:e[s][o].value,s:{}};if(u.v==null)continue;_.isUndefined(e[s][o].style)||(u.s=e[s][o].style),typeof u.v=="number"?(u.t="n",u.s.numFmt=XLSX.SSF._table[2]):typeof u.v=="boolean"?u.t="b":u.v instanceof Date?(u.t="n",u.s.numFmt=XLSX.SSF._table[15],u.v=moment(u.v)):u.t="s";var a="",f={},l="",c={},h="",p="",d="",v=e[s][o].length-1,m="",g=String(e[s][o].value).length;g=g===0?10:g,g>15?g=15:g<5&&(g=10),n["!cols"].push({wch:g});if(o===0){i=[],c={s:{c:o,r:s},e:{c:o,r:s}},a=c,a.e.c=e[s][o].colSpan-1,i.push(a.e.c),f=XLSX.utils.encode_cell({c:c.s.c,r:c.s.r}),n[f]=u,m=e[s][o].colSpan;for(var y=c.s.c+1;y<m;y++)h={v:"",s:{border:{top:{style:"thin",color:{auto:1}},left:{style:"thin",color:{auto:1}},right:{style:"thin",color:{auto:1}},bottom:{style:"thin",color:{auto:1}}}}},p={c:y,r:s},d=XLSX.utils.encode_cell(p),n[d]=h,i.push(y);n["!merges"].push(a)}else{c={s:{c:o,r:s},e:{c:o,r:s}},c.s.c=_.last(i)+1,a=c,a.s.c=c.s.c,v===o?a.e.c=e[s][o].colSpan>1?_.last(i)+e[s][o].colSpan-1:_.last(i)-1:a.e.c=e[s][o].colSpan>1?_.last(i)+e[s][o].colSpan:_.last(i),f=XLSX.utils.encode_cell({c:c.s.c,r:c.s.r}),n[f]=u;if(e[s][o].colSpan>1){m=e[s][o].colSpan+c.s.c;for(var b=c.s.c+1;b<m;b++)h={v:"",s:{border:{top:{style:"thin",color:{auto:1}},left:{style:"thin",color:{auto:1}},right:{style:"thin",color:{auto:1}},bottom:{style:"thin",color:{auto:1}}}}},p={c:b,r:s},d=XLSX.utils.encode_cell(p),n[d]=h,i.push(b);n["!merges"].push(a)}else i.push(c.s.c)}}return r.s.c<1e7&&(n["!ref"]=XLSX.utils.encode_range(r)),n},n.ctx={worksheet:t||"Worksheet",table:e},n.s2ab=function(e){var t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(var r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t};var a=new u,f=n.sheet_from_array_of_arrays(n.ctx.table);a.SheetNames.push(n.ctx.worksheet),a.Sheets[n.ctx.worksheet]=f;var l=XLSX.write(a,{bookType:"xlsx",bookSST:!0,type:"binary"});console.log("userAgent "+navigator.userAgent);if(bowser.msie&&bowser.version>=5)bowser.msie?bowser.version<=9&&alert("For IE 9 and below, Save Text file as .XLS."):alert("IE 5 and lower not supported");else if(bowser.firefox||bowser.chrome||bowser.safari||bowser.iphone||bowser.android)console.log(bowser.version),saveAs(new Blob([n.s2ab(l)],{type:"application/octet-stream"}),t+".xlsx");return!0}},e.fn[s]=function(t){var n=this;return n.each(function(){e.data(n,"plugin_"+s)||e.data(n,"plugin_"+s,new u(this,t))}),n}}(jQuery,window,document),define("jquery.table2excel",["jquery","base64","Blob","FileSaver","jszip","xlsx"],function(){}),define("app",["jquery","underscore","moment","tpl!templates/home.html","tpl!templates/analytics/projectAnalyticsFT.html","tpl!templates/analytics/earnedSchedule.html","tpl!templates/analytics/scheduleVAR.html","tpl!templates/analytics/spa.html","tpl!templates/analytics/spiCPI.html","tpl!templates/footers/reportsFooter.html","tpl!templates/footers/blankFooter.html","tpl!templates/footers/analyticsFooterA.html","tpl!templates/footers/analyticsFooterB.html","tpl!templates/spinner.html","tpl!templates/reports/cpr1.html","tpl!templates/reports/cpr2.html","tpl!templates/reports/cpr3.html","tpl!templates/reports/cpr4.html","tpl!templates/reports/cpr5.html","tpl!templates/reports/cprTWBS.html","tpl!templates/reports/cprTOBS.html","tpl!templates/reports/foo.html","jszip","kendo","Blob","base64","FileSaver","xlsx","jquery.table2excel"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){var T=T||{};T.projectID="",T.HierarchySelectionID="",T.SnapshotSelectionID="",T.ChartType="",T.SnapshotType="",T.dataType="Quantity",T.periodsBack=6,T.cpr3DHours="X",T.cpr3DExt="",T.Math={};var N=p,C=e(document),k=e(".bkgChange");return n.locale("en"),T.tdColor="#ede330",T.reportData="/DSN/PMR_01_SRV",T.serviceRoot=window.location.protocol+"//"+window.location.host+"/pmr01srv"+T.reportData,T.urlProjectSet="/ProjectSelectionSet?$format=json",T.series=[{name:"Planned (BCWS)",type:"line",field:"runningBCWS",categoryField:"Date",color:"#000099",markers:{type:"circle"}},{name:"Earned (BCWP)",type:"line",field:"runningBCWP",categoryField:"Date",color:"#009933",markers:{type:"circle"}},{name:"EAC",type:"line",dashType:"dash",field:"runningEAC",categoryField:"Date",color:"#000000",markers:{type:"circle"}},{name:"Spend (ACWP)",type:"line",field:"runningACWP",categoryField:"Date",color:"#FF0000",markers:{type:"circle"}}],T.CpiSpiSeries=[{name:"CPI",type:"line",dashType:"dash",field:"CPI",categoryField:"Date",color:"#FF0000",markers:{type:"circle"}},{name:"SPI",type:"line",field:"SPI",categoryField:"Date",color:"#000099",markers:{type:"circle"}},{name:"Target CPI/SPI",type:"line",field:"baseLine",categoryField:"Date",color:"#00BF32",markers:{type:"circle"}}],T.seriesSV=[{name:"Planned (BCWS)",type:"column",field:"runningBCWS",categoryField:"Date",color:"#000099",markers:{type:"circle"}},{name:"Earned (BCWP)",type:"column",field:"runningBCWP",categoryField:"Date",color:"#009933",markers:{type:"circle"}},{name:"EAC",type:"column",field:"runningEAC",categoryField:"Date",color:"#9900FF",markers:{type:"circle"}},{name:"Spend (ACWP)",type:"column",field:"runningACWP",categoryField:"Date",color:"#FF0000",markers:{type:"circle"}}],T.seriesES=[{name:"ES",type:"column",field:"ES",categoryField:"Date",color:"#000099",markers:{type:"circle"}}],T.seriesSV=[{name:"SV",type:"column",field:"SV",categoryField:"Date",color:"#009933",markers:{type:"circle"}}],T.seriesCombo=[{name:"Planned (BCWS)",type:"column",field:"BCWS",categoryField:"Date",color:"#000099",markers:{type:"circle"},axis:"Total"},{name:"Earned (BCWP)",type:"column",field:"BCWP",categoryField:"Date",color:"#009933",markers:{type:"circle"},axis:"Total"},{name:"EAC",type:"column",field:"EAC",categoryField:"Date",color:"#9900FF",markers:{type:"circle"},axis:"Total"},{name:"Spend (ACWP)",type:"column",field:"ACWP",categoryField:"Date",color:"#FF0000",markers:{type:"circle"},axis:"Total"},{name:"Planned (BCWS) [cum]",type:"line",field:"runningBCWS",categoryField:"Date",color:"#000099",markers:{type:"circle"},axis:"Cumulative"},{name:"Earned (BCWP) [cum]",type:"line",field:"runningBCWP",categoryField:"Date",color:"#009933",markers:{type:"circle"},axis:"Cumulative"},{name:"EAC [cum]",type:"line",field:"runningEAC",categoryField:"Date",color:"#9900FF",markers:{type:"circle"},axis:"Cumulative"},{name:"Spend (ACWP) [cum]",type:"line",field:"runningACWP",categoryField:"Date",color:"#FF0000",markers:{type:"circle"},axis:"Cumulative"}],T.DataStore={chart:{},spiCpiChart:{},filtered:[],chartTotals:[],rawspiCpiChartdata:[],rawChartdata:[],gaugesData:[],project:{},hierarchy:[],hierarchySv:[],versions:[],versionSelection:"",hierarchyList:[],snapShotList:[],clearChartData:function(){this.chart={},this.filtered=[],this.chartTotals=[],this.rawChartdata=[],this.gaugesData=[],this.project={},this.hierarchy=[]},setData:function(e,n){if(!t.isEmpty(e)||!t.isUndefined(t.first(e)))this.rawChartdata=t.isArray(e)?t.first(e).d.results:e.d.results;this.filtered=T.VersionFilter(this.versions,this.rawChartdata);var r=T.FilterData(this.filtered,this.rawChartdata,this.versionSelection),i=T.FilterChartData(r.graph,T.dataType);this.chart=T.AssignStore(i.graph),this.chartTotals=i.totals,this.gaugesData=i.gauges,t.isEmpty(n)?this.hierarchy=[]:this.hierarchy=t.isArray(n)?t.first(n).d.results:n.d.results},setSpiCpiData:function(e,n){t.isEmpty(e)?this.rawspiCpiChartdata=[]:this.rawspiCpiChartdata=t.isArray(e)?t.first(e).d.results:e.d.results;var r=T.cpiSpiTrend(this.rawspiCpiChartdata,T.dataType);this.spiCpiChart=T.AssignStore(r),this.hierarchySv=t.isArray(n)?t.first(n).d.results:n.d.results},clearSpiCpiData:function(){this.rawspiCpiChartdata=[],this.spiCpiChart=[],this.hierarchySv=[]}},T.State={alternativeOption:"",defaultSelection:"",text:"Toggle Hierarchy"},T.unit={_monthAttr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],get months(){return this._monthAttr}},T.paint={trCssTransparent:{color:"black","background-color":"transparent"},tdCssTransparent:{color:"black","background-color":"transparent"},setTRHighlight:{"background-color":T.tdColor,color:"black"},setHighlight:{"background-color":T.tdColor,color:"black"},hoverHighlight:{"background-color":T.tdColor,color:"black"}},T.parseHeaderDates=function(e){return e.ReportStartDate=n(e.ReportStartDate).format("DD/MM/YYYY"),e.ReportEndDate=n(e.ReportEndDate).format("DD/MM/YYYY"),e},T.getAnalytics=function(n){n.preventDefault();if(T.CheckProdId())return;T.SnapshotType===""&&(T.SnapshotType="W"),console.log("SnapshotType : "+T.SnapshotType),T.addSpinner(n.currentTarget),T.SpinnerTpl(N,1);var r=e(this),i=[],s=[],o=[],u=[],a="",f="",l="",p=[],d=[],v="",m="",g="",y="",b=r.data("temp"),w=r.data("name");console.log(b),T.dataType="Quantity",T.setHierarchySelection(b.toUpperCase());var E=T.setHierarchyList();T.HierarchySelectionID="",T.setProjectID();var S=T.setSnapshotList();e.when(E,S).done(function(d,v){console.log("HierarchySelectionID Selection: "+T.HierarchySelectionID),T.setDataSelection();var m="tpl!templates/analytics/"+b+".html";requirejs([m],function(d){g=d;switch(w){case"projectAnalytics":y=c;break;default:y=h}i[0]=T.ParseSnapShotDates(T.DataStore.snapShotList),i[1]=T.DataStore.hierarchyList,i[2]=T.DataStore.versions,T.Project(g,y,i);switch(w){case"earnedSchedule":T.createSplittersFT(),o=T.ESSet(),p=T.HierarchySet(),e.when(p,o).done(function(e,i){if(T.apiErrorHandler(n.currentTarget,N,i))return;a=t.isArray(e)?t.first(e).d.results:e.d.results,f=t.isArray(i)?t.first(i).d.results:i.d.results;var s=T.ESfilter(f,T.dataType,a);T.createES_Chart(s,!0,T.dataType),T.analyticsTplConfig(r),t.debounce(T.SpinnerTpl(N,0),1e3)});break;case"scheduleVAR":T.createSplittersFT(),T.setDataSelection(),u=T.SVSet(),p=T.HierarchySet(),e.when(p,u).done(function(e,i){if(T.apiErrorHandler(n.currentTarget,N,i))return;a=t.isArray(e)?t.first(e).d.results:e.d.results,l=t.isArray(i)?t.first(i).d.results:i.d.results;var s=T.SVfilter(l,T.dataType,a);T.createSV_Chart(s,!1,T.dataType),T.analyticsTplConfig(r),t.debounce(T.SpinnerTpl(N,0),1e3)});break;case"spiCPI":T.createSplittersFT(),u=T.SVSet(),p=T.HierarchySet(),e.when(p,u).done(function(i,s){if(T.apiErrorHandler(n.currentTarget,N,s))return;T.DataStore.setSpiCpiData(s,i),T.hierListInitialize(T.DataStore.hierarchySv),T.create_SPICPI_Chart(T.DataStore.spiCpiChart,T.CpiSpiSeries,!1,T.dataType);var o=e("div#treelist");T.hierSpiCpiEvent(o,T.dataType),T.analyticsTplConfig(r),e("#cpiSpiChange").val(T.HierarchySelectionID),t.debounce(T.expandTreeList(o),500),t.debounce(T.SpinnerTpl(N,0),1e3)});break;case"spa":T.createSplittersFT(),t.isEmpty(T.DataStore.chart)&&(s=T.SnapshotSet()),p=T.HierarchySet(),e.when(p,s).done(function(i,s){if(T.apiErrorHandler(n.currentTarget,N,s))return;t.isEmpty(s)?T.DataStore.hierarchy=t.isArray(i)?t.first(i).d.results:i.d.results:T.DataStore.setData(s,i),T.hierListInitialize(T.DataStore.hierarchy),T.createChart(T.DataStore.chart,T.series,!1,T.dataType);var o=e("div#treelist");T.hierEvent(o,T.dataType,!1),T.analyticsTplConfig(r),e("#hChange").val(T.HierarchySelectionID),t.debounce(T.expandTreeList(o),500),t.debounce(T.SpinnerTpl(N,0),1e3)});break;default:console.log("hit default")}})})},T.getReports=function(n){n.preventDefault();if(T.CheckProdId())return;T.SnapshotType===""&&(T.SnapshotType="M"),console.log("SnapshotType : "+T.SnapshotType),T.addSpinner(n.currentTarget),T.SpinnerTpl(N,1);var r=[],i=e(n.currentTarget),s=i.data("temp"),o=i.data("sheet"),u="",a="",l="",c="",h="",p="",d="",v="",m="",g="",y="",b="",w="",E="",S="",x=[],C="",L="",A="",O="tpl!templates/reports/"+s+".html";console.log(s),T.dataType="Quantity",T.setHierarchySelection(s.toUpperCase());var M=T.setHierarchyList();T.HierarchySelectionID="",T.setProjectID();var D=T.setSnapshotList();e.when(M,D).done(function(s,l){console.log("HierarchySelection Selection: "+T.HierarchySelectionID),T.setDataSelection(),requirejs([O],function(s){h=T.HierarchySet(),c=T.projectData(),t.isEmpty(T.DataStore.chart)&&(console.log("hit empty DataStore.chart request"),b=T.SnapshotSet()),e.when(c,h,b).done(function(l,c,h){if(T.apiErrorHandler(i,N,h))return;t.isEmpty(h)||T.DataStore.setData(h,c),T.DataStore.project=t.isArray(l)?t.first(l).d.results:l.d.results,T.DataStore.hierarchy=t.isArray(c)?t.first(c).d.results:c.d.results,g=T.DataStore.hierarchy,y=T.DataStore.chart.options.data;switch(o){case"CPR-1":console.log("hit 1"),d=T.CPRHeaderSet(),e.when(d).done(function(o){r[0]=T.DataStore.project,r[1]=T.formatOneTotals(g,y,T.dataType);if(T.apiErrorHandler(n.currentTarget,N,o))r[2]=[];else{var l=t.isArray(o)?t.first(o).d.results[0]:o.d.results[0];r[2]=T.parseHeaderDates(l)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),e("#cprHierarchyToggle").attr("data-hierarchy",T.State.alternativeOption).attr("data-default",T.State.defaultSelection),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"CPR-2":console.log("hit 2"),d=T.CPRHeaderSet(),e.when(d).done(function(n){r[1]=T.formatOneTotals(g,y,T.dataType);if(T.apiErrorHandler(i,N,n))r[2]=[];else{var o=t.isArray(n)?t.first(n).d.results[0]:n.d.results[0];r[2]=T.parseHeaderDates(o)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),e("#cprHierarchyToggle").attr("data-hierarchy",T.State.alternativeOption).attr("data-default",T.State.defaultSelection),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"CPR-3":console.log("hit 3");var m=T.CPR3DetailSet();d=T.CPRHeaderSet();var b=T.SnapshotSelectionID;T.SnapshotSelectionID=T.DataStore.snapShotList[1].SnapshotSelection,T.setDataSelection();var w=T.SnapshotSet();e.when(m,d,w).done(function(e,n,o){if(T.apiErrorHandler(i,N,o))c={graph:[]};else{A=t.isArray(o)?t.first(o).d.results:o.d.results;var l=T.VersionFilter(T.DataStore.versions,A),c=T.FilterData(l,A,T.DataStore.versionSelection)}var h={};h.first=y,h.last=c.graph,r[0]=T.formatThreeTotals(h,T.dataType);if(T.apiErrorHandler(i,N,n))r[1]=[];else{var p=t.isArray(n)?t.first(n).d.results[0]:n.d.results[0];r[1]=T.parseHeaderDates(p)}T.apiErrorHandler(i,N,e)?r[2]=[]:r[2]=t.isArray(e)?t.first(e).d.results:e.d.results,u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),T.reportTplConfig(i),T.SpinnerTpl(N,0),T.SnapshotSelectionID=b,T.setDataSelection()});break;case"CPR-4":console.log("hit 4"),d=T.CPRHeaderSet(),e.when(d).done(function(e){r[0]=T.DataStore.project,r[1]=T.formatFourTotals(y),r[2]={months:T.unit.months};if(T.apiErrorHandler(i,N,e))r[3]=[];else{var n=t.isArray(e)?t.first(e).d.results[0]:e.d.results[0];r[3]=T.parseHeaderDates(n)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"CPR-5":console.log("hit 5"),v=T.CPR5DetailSet(),d=T.CPRHeaderSet(),e.when(v,d).done(function(e,n){var o=T.FilterChartData(y,T.dataType);r[0]=T.DataStore.project,r[1]=T.formatFiveTotals(o),T.apiErrorHandler(i,N,e)?r[2]=[]:r[2]=t.isArray(e)?t.first(e).d.results[0]:e.d.results[0];if(T.apiErrorHandler(i,N,n))r[3]=[];else{var l=t.isArray(n)?t.first(n).d.results[0]:n.d.results[0];r[3]=T.parseHeaderDates(l)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"CPR-TWBS":console.log("hit TWBS"),T.DataStore.clearSpiCpiData(),p=T.SVSet(),d=T.CPRHeaderSet(),e.when(p,d).done(function(o,l){if(T.apiErrorHandler(n.currentTarget,N,o))return;T.DataStore.setSpiCpiData(o,c),r[0]=T.DataStore.project,C=T.formatOneTotals(T.DataStore.hierarchySv,y,T.dataType),L=T.cpiSpiTrend(T.DataStore.rawspiCpiChartdata,T.dataType),r[1]=T.setTrendToChartData(C,L);if(T.apiErrorHandler(i,N,l))r[2]=[];else{var h=t.isArray(l)?t.first(l).d.results[0]:l.d.results[0];r[2]=T.parseHeaderDates(h)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),e("#cprHierarchyToggle").attr("data-hierarchy",T.State.alternativeOption).attr("data-default",T.State.defaultSelection),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"CPR-TOBS":console.log("hit TOBS"),T.DataStore.clearSpiCpiData(),p=T.SVSet(),d=T.CPRHeaderSet(),e.when(p,d).done(function(o,l){if(T.apiErrorHandler(i,N,o))return;T.DataStore.setSpiCpiData(o,c),r[0]=T.DataStore.project,C=T.formatOneTotals(T.DataStore.hierarchySv,y,T.dataType),L=T.cpiSpiTrend(T.DataStore.rawspiCpiChartdata,T.dataType),r[1]=T.setTrendToChartData(C,L);if(T.apiErrorHandler(n.currentTarget,N,l))r[2]=[];else{var h=t.isArray(l)?t.first(l).d.results[0]:l.d.results[0];r[2]=T.parseHeaderDates(h)}u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),e("#cprHierarchyToggle").attr("data-hierarchy",T.State.alternativeOption).attr("data-default",T.State.defaultSelection),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;case"FOO_REPORT":console.log("hit FOO");var E={},S=[],x=e.Deferred();t.each(T.DataStore.hierarchyList,function(e,t,n){T.HierarchySelectionID=e.HierarchySelection,T.setDataSelection(),S[t]={},S[t].data=T.HierarchySet(),S[t].name=e.ExtID});var O=0;t.each(S,function(n,r){e.when(n.data).done(function(e){E[t.first(e.d.results).HierarchySelection]=[],E[t.first(e.d.results).HierarchySelection].push(e.d.results),O+=1,O===S.length&&x.resolve(E)})}),e.when(x).done(function(e){var t=e,n=T.FooFilter(t,y,T.dataType);r[0]=T.DataStore.project,r[1]=n,u=s,a=f,T.Project(u,a,r),k.attr("id","cprBG"),T.reportTplConfig(i),T.SpinnerTpl(N,0)});break;default:console.log("hit default")}})})})},T.setProjectID=function(e){e!==""&&e!==undefined&&(this.projectID=e),this.urlVersionSet="/VersionSelectionSet(ProjectSelection='"+this.projectID+"')?$format=json",this.urlSnapshotListSet="/SnapshotSelectionSet(ProjectSelection='"+this.projectID+",SnapshotType='"+this.SnapshotType+"')?$format=json"},T.setHierarchySelection=function(e){this.ChartType=e,this.urlHierarchyListSet="/HierarchySelectionSet(ChartType='"+this.ChartType+"',ProjectSelection='"+this.projectID+"')?$format=json"},T.setDataSelection=function(){this.urlSnapshotSet="/SnapshotDataSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"',PlanVersionSelection='"+this.DataStore.versions.setBaseline+"',EACVersionSelection='"+this.DataStore.versions.setEac+"',SnapshotDate='"+this.SnapshotSelectionID+"',SnapshotType='"+this.SnapshotType+"')?$format=json",this.urlHierarchySet="/HierarchyDataSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"')?$format=json",this.urlESSet="/EarnedScheduleDataSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"',PlanVersionSelection='"+this.DataStore.versions.setBaseline+"',SnapshotType='"+this.SnapshotType+"',SnapshotDate='"+this.SnapshotSelectionID+"')?$format=json",this.urlSVSet="/BcwsBcwpAcwpDataSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"',PlanVersionSelection='"+this.DataStore.versions.setBaseline+"',EACVersionSelection='"+this.DataStore.versions.setEac+"',SnapshotType='"+this.SnapshotType+"',SnapshotDate='"+this.SnapshotSelectionID+"')?$format=json",this.urlCPR5Set="/CPR5DetailSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"',SnapshotSelection='"+this.SnapshotSelectionID+"',SnapshotType='"+this.SnapshotType+"',ExternalCost='')?$format=json",this.urlCPR3Set="/CPR3DetailSet(ProjectSelection='"+this.projectID+"',HierarchySelection='"+this.HierarchySelectionID+"',PlanVersionSelection='"+this.DataStore.versions.setBaseline+"',SnapshotSelection='"+this.SnapshotSelectionID+"',SnapshotType='"+this.SnapshotType+"',Hours='"+T.cpr3DHours+"',ExternalCost='"+T.cpr3DExt+"')?$format=json",this.urlCPRHSet="/CPRHeaderSet(ProjectSelection='"+this.projectID+"',SnapshotType='"+this.SnapshotType+"',SnapshotSelection='"+this.SnapshotSelectionID+"')?$format=json"},T.setVersion=function(){var n=this.VersionData();T.DataStore.versionSelection="",e.when(n).done(function(n){T.DataStore.versions=t.isArray(n)?_first(n).d.results:n.d.results;var r=e.grep(T.DataStore.versions,function(e){return e.Default==="X"});T.DataStore.versionSelection=r,T.DataStore.versions.baseline=t.where(T.DataStore.versions,{Type:"P"}),T.DataStore.versions.eac=t.where(T.DataStore.versions,{Type:"E"}),T.DataStore.versions.setBaseline=t.first(T.DataStore.versionSelection).VersionSelection,T.DataStore.versions.setEac=t.last(T.DataStore.versionSelection).VersionSelection})},T.setHierarchyList=function(){var n=new e.Deferred,r=this.HierarchyListSet();return T.HierarchySelectionID="",e.when(r).done(function(r){T.DataStore.hierarchyList=t.isArray(r)?t.first(r).d.results:r.d.results;var i=e.grep(T.DataStore.hierarchyList,function(e){return T.DataStore.hierarchyList.length===1?e:e.Default==="X"});if(!t.isEmpty(i)||i.length>=1)T.HierarchySelectionID=t.first(i).HierarchySelection,T.State.alternativeOption=t.chain(T.DataStore.hierarchyList).filter(function(e){return e.HierarchyDescription==="ESO"}).pluck("HierarchySelection").first().value(),T.State.defaultSelection=T.HierarchySelectionID;n.resolve("complete")}),n.promise()},T.setSnapshotList=function(){var n=new e.Deferred,r=this.SnapshotListSetRequest();return e.when(r).done(function(r){if(t.isUndefined(r)){T.DataStore.snapShotList=[];return}T.DataStore.snapShotList=t.isArray(r)?_first(r).d.results:r.d.results;var i=e.grep(T.DataStore.snapShotList,function(e){return e.Default==="X"});i.length>=1&&T.SnapshotSelectionID===""&&(T.SnapshotSelectionID=t.first(i).SnapshotSelection),n.resolve("complete")}),n.promise()},T.apiErrorHandler=function(e,n,r){return t.isArray(r)&&t.isUndefined(t.first(r))?(t.debounce(T.SpinnerTpl(n,0),1e3),T.addSpinner(e,!1),!0):t.isEmpty(r)?(T.SpinnerTpl(n,0),!0):!1},T.addSpinner=function(n,r){t.isBoolean(r)&&r===!1?e(n).find(".spinnerAdded").removeClass("spinnerAdded"):e(n).children().eq(0).addClass("spinnerAdded")},T.SpinnerTpl=function(t,n){var r=e("#loadSpinner");if(n){var i=t;r.removeClass("displayNone").html(i).fadeIn("slow");return}r.addClass("displayNone").fadeOut("slow").empty()},T.CheckProdId=function(){if(t.isEmpty(this.projectID)||t.isUndefined(this.projectID))return alert("Please select a Project"),!0},T.CheckHierarchyId=function(){if(t.isEmpty(this.HierarchySelectionID)||t.isUndefined(this.HierarchySelectionID))return alert("Please select a Hierarchy"),!0},T.ClearDataStore=function(){this.DataStore.clearChartData()},T.AssignStore=function(e){return new kendo.data.DataSource({data:t.flatten(e),sort:{field:"Date",dir:"asc"},schema:{model:{fields:{Date:{type:"date"}}}}})},T.getCookie=function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""},T.getUsername=function(){var t=T.getCookie("DassianUser");t!=""?e("#userName").html("<p>Welcome "+decodeURI(t)+"</p>"):e("#userName").html("<p>Welcome</p>")},T.Project=function(t,n,r){var i=e("div.mainBody"),s=e("div.footer"),o=t,u=n;i.html(o({combineData:r})),s.html(u)},T.analyticsTplConfig=function(t){var n=e(t).data("name"),r=e(document).find("span.export-chart-pdf");r.attr("data-id",n),$baseline=e(document).find("select#baseline"),$eac=e(document).find("select#eac"),$snapshot=e(document).find("select#snapshot"),e(document).find("#hChange").val(T.HierarchySelectionID),e(document).find("#periodBack").val(T.periodsBack);var i=this.DataStore.versions.setBaseline,s=this.DataStore.versions.setEac,o=this.SnapshotSelectionID;$baseline.val(i),$eac.val(s),$snapshot.val(o);var u=e("li#switchWeeklyButton"),a=e("li#switchMonthlyButton");T.SnapshotType==="M"?(u.show(),a.hide(),e("#weekMonth").html("(Monthly)")):(u.hide(),a.show(),e("#weekMonth").html("(Weekly)"))},T.ParseSnapShotDates=function(e){var r=t.map(e,function(e,t){return{Default:e.Default,ProjectSelection:e.ProjectSelection,SnapshotSelection:e.SnapshotSelection,formatDate:n(e.SnapshotSelection).format("DD/MM/YYYY"),SnapshotType:e.SnapshotType}});return r},T.reportTplConfig=function(t){var n=e(t).data("temp"),r=this,i=e(t).data("id"),s=e(t).data("name"),o=e(t).data("sheet"),u=e(document).find("span.export-excel"),a=e(document).find("span.export-pdf"),f=e(document).find("span.export-report-pdf"),l=e(document).find("table");u.attr("data-id",i),u.attr("data-name",s),u.attr("data-sheet",o),a.attr("data-id",s),f.attr("data-id",s),e(document).find("div.k-animation-container").css("left","-10px"),l.addClass("table table-responsive").css("table-layout","fixed").wrap('<div class="wbsWrap"></div>'),l.find("tr").addClass("border-color");var c={"font-size":"0.7vmax",overflow:"hidden"};l.find("td").addClass("single").css(c);var h=e(document).find("div.getChildren");h.on("click",function(t){t.preventDefault();var n=e(this).attr("data-id");e(document).find(".child"+n).toggleClass("hide").fadeIn("slow"),e(t.currentTarget).find("i.glyphicon").eq(0).toggleClass("glyphicon-minus glyphicon-plus")})},T.convertArraytoObject=function(e){var n={};if(t.isArray(e))return t.each(e,function(e){for(prop in e)e.hasOwnProperty(prop)&&(n[prop]=e[prop])}),n},T.ragSpi=function(e){var n="#0066CC";if(t.isNumber(e))return e<.9?n="#FF0000":e>.9&&e<.95?n="#FF9933":e>.95&&e<1.2?n="#009933":n="#0066CC",n},T.ragCpi=function(e){var n="#009933";if(t.isNumber(e))return e<.9?n="#FF0000":e>.9&&e<.95?n="#FF9933":e>.95&&e<1.2?n="#009933":n="#0066CC",n},T.formatOneTotals=function(n,r,i){if(t.isUndefined(i))var s="Quantity";else s=i;var o="",u="",a=[],f=0,l="",c=[],h="",p="",d="",v="",m={},g=this;return n.length===0?alert("No Heirarchy data"):t.isEmpty(r)?alert("No SnapShot data"):(t.chain(n).sortBy("SortOrder").each(function(i,u){u!=0?o=e.grep(r,function(e){return e.ObjectNumber===i.ObjectNumber}):o=r;var f=T.FilterChartData(o,s);if(t.isUndefined(f))var c=undefined,h=undefined;else c=T.convertArraytoObject(f.totals),h=T.convertArraytoObject(f.gauges);var p=!t.isUndefined(c)&&t.isObject(c)?c:0,d=!t.isUndefined(h)&&t.isObject(h)?h:0;if(p===0)l={CurrCV:p,CurrCvCom:p,CurrSV:p,CurrSvCom:p,ETC_CPI:p,acwpCOM:p,acwpGA:p,acwpHrs:p,acwpOH:p,acwpTotal:p,allbcwsCOM:p,allbcwsGA:p,allbcwsOH:p,bac:p,bcwpCOM:p,bcwpGA:p,bcwpHrs:p,bcwpOH:p,bcwpTotal:p,bcwsAll:p,bcwsCOM:p,bcwsGA:p,bcwsHrs:p,bcwsOH:p,bcwsTotal:p,cpi:p,cpiColour:"#FF0000",curAcwpHrs:p,curAcwpTotal:p,curBcwpHrs:p,curBcwpTotal:p,curBcwsHrs:p,curBcwsTotal:p,curCPI:p,curCPIColour:"#FF0000",curSPI:p,curSPIColour:"#FF0000",curacwpCOM:p,curacwpGA:p,curacwpOH:p,curbcwpCOM:p,curbcwpGA:p,curbcwpOH:p,curbcwsCOM:p,curbcwsGA:p,curbcwsOH:p,cv:p,cvCom:p,eacCOM:p,eacCum:p,eacHrs:p,eacTotal:p,spi:p,spiColour:"#FF0000",sv:p,svCom:p,tcpi:p,vac:p,hasData:!1};else{var v=d.spi,g=d.cpi,y=d.curSPI,b=d.curCPI,w=T.ragSpi(v),E=T.ragCpi(g),S=T.ragSpi(y),x=T.ragCpi(b);p.curSPI=y,p.curCPI=b,p.spi=v,p.cpi=g,p.spiColour=w,p.cpiColour=E,p.curSPIColour=S,p.curCPIColour=x,p.hasData=!0;if(u===0){m=p,p.sv=p.sv-p.svCom,p.cv=p.cv-p.cvCom,p.CurrSV=p.CurrSV-p.CurrSvCom,p.CurrCV=p.CurrCV-p.CurrCvCom,p.vac=t.isNaN(p.bac-p.eacTotal)?0:p.bac-p.eacTotal;var N=m.bcwsUB+m.bcwsMR;m.bacAllSubBelow=t.isNaN(m.bac+m.allbcwsCOM+m.bcwsUB)?0:m.bac+m.allbcwsCOM+m.bcwsUB,m.bacAllBelow=t.isNaN(m.bac+m.allbcwsCOM+N)?0:m.bac+m.allbcwsCOM+N,m.eacAllBelow=t.isNaN(m.eacTotal+m.eacCOM+m.acwpOH)?0:m.eacTotal+m.eacCOM+m.acwpCOM,m.bcwsBelow=t.isNaN(m.bcwsTotal+m.bcwsCOM)?0:m.bcwsTotal+m.bcwsCOM,m.bcwpBelow=t.isNaN(m.bcwpTotal+m.bcwpCOM)?0:m.bcwpTotal+m.bcwpCOM,m.acwpBelow=t.isNaN(m.acwpTotal+m.acwpCOM)?0:m.acwpTotal+m.acwpCOM,m.currbcwsBelow=t.isNaN(m.curBcwsTotal+m.curbcwsCOM)?0:m.curBcwsTotal+m.curbcwsCOM,m.currbcwpBelow=t.isNaN(m.curBcwpTotal+m.curbcwpCOM)?0:m.curBcwpTotal+m.curbcwpCOM,m.curracwsBelow=t.isNaN(m.curAcwpTotal+m.curacwpCOM)?0:m.curAcwpTotal+m.curacwpCOM,m.CurrSVBelow=t.isNaN(m.CurrSV+m.CurrSvCom)?0:m.CurrSV+m.CurrSvCom,m.CurrCVBelow=t.isNaN(m.CurrCV+m.CurrCvCom)?0:m.CurrCV+m.CurrCvCom,m.svBelow=t.isNaN(m.sv+m.svCom)?0:m.sv+m.svCom,m.cvBelow=t.isNaN(m.cv+m.cvCom)?0:m.cv+m.cvCom,m.vacBelow=t.isNaN(m.vac+m.vacCOM+m.bcwsUB)?0:m.vac+m.vacCOM+m.bcwsUB}else{var C=t.isNaN(p.bac-p.allbcwsOH)?0:p.bac-p.allbcwsOH,k=t.isNaN(p.eacTotal-p.eacOH)?0:p.eacTotal-p.eacOH,L=t.isNaN(p.bcwsTotal-p.bcwsOH)?0:p.bcwsTotal-p.bcwsOH,A=t.isNaN(p.bcwpTotal-p.bcwpOH)?0:p.bcwpTotal-p.bcwpOH,O=t.isNaN(p.acwpTotal-p.acwpOH)?0:p.acwpTotal-p.acwpOH,M=t.isNaN(p.curBcwsTotal-p.curbcwsOH)?0:p.curBcwsTotal-p.curbcwsOH,D=t.isNaN(p.curBcwpTotal-p.curbcwpOH)?0:p.curBcwpTotal-p.curbcwpOH,P=t.isNaN(p.curAcwpTotal-p.curacwpOH)?0:p.curAcwpTotal-p.curacwpOH,H=t.isNaN(p.bac-p.eacTotal)?0:p.bac-p.eacTotal;p.vac=H-p.vacOH,p.bac=C,p.eacTotal=k,p.bcwsTotal=L,p.bcwpTotal=A,p.acwpTotal=O,p.curBcwsTotal=M,p.curBcwpTotal=D,p.curAcwpTotal=P;var B=t.isNaN(D-M)?0:D-M,j=t.isNaN(D-P)?0:D-P,F=t.isNaN(A-L)?0:A-L,I=t.isNaN(A-O)?0:A-O;p.sv=F,p.cv=I,p.CurrSV=B,p.CurrCV=j}l=p}var q="";q=t.findIndex(n,{ParentObjNum:i.ObjectNumber});if(q!=-1)var R=0;else R=1;a.push({ParentObjNum:i.ParentObjNum,ObjectNumber:i.ObjectNumber,ExtID:i.ExtID,Type:i.Type,Description:i.Description,SortOrder:i.SortOrder,bcwsCost:l.bcwsTotal,totals:l,isChild:R,hasData:l.hasData})}),t.each(a,function(e,n){if(n!=0){var r=t.findIndex(a,function(t){return t.ObjectNumber===e.ParentObjNum});if(r!=-1&&r!=0){a[r].hasData=!0,a[r].totals.bcwsTotal+=parseFloat(e.totals.bcwsTotal),a[r].totals.bcwpTotal+=parseFloat(e.totals.bcwpTotal),a[r].totals.acwpTotal+=parseFloat(e.totals.acwpTotal),a[r].totals.eacTotal+=parseFloat(e.totals.eacTotal),a[r].totals.curBcwsTotal+=parseFloat(e.totals.curBcwsTotal),a[r].totals.curBcwpTotal+=parseFloat(e.totals.curBcwpTotal),a[r].totals.curAcwpTotal+=parseFloat(e.totals.curAcwpTotal),a[r].totals.curEacTotal+=parseFloat(e.totals.curEacTotal),a[r].totals.eacCum+=parseFloat(e.totals.eacCum),a[r].totals.bac+=parseFloat(e.totals.bac),a[r].totals.sv+=parseFloat(e.totals.sv),a[r].totals.cv+=parseFloat(e.totals.cv),a[r].totals.CurrSV+=parseFloat(e.totals.CurrSV),a[r].totals.CurrCV+=parseFloat(e.totals.CurrCV),a[r].totals.vac+=parseFloat(e.totals.vac),a[r].totals.ETC_CPI+=parseFloat(e.totals.ETC_CPI);var i=a[r].totals.bcwsTotal,s=a[r].totals.bcwpTotal,o=a[r].totals.acwpTotal,u=a[r].totals.curBcwsTotal,f=a[r].totals.curBcwpTotal,l=a[r].totals.curAcwpTotal,c=s/i,m=s/o,g=f/u,y=f/l;c=t.isNaN(c)?0:c,m=t.isNaN(m)?0:m,g=t.isNaN(g)?0:g,y=t.isNaN(y)?0:y,c===Infinity&&(c=0),m===Infinity&&(m=0),g===Infinity&&(g=0),y===Infinity&&(y=0),a[r].totals.spi=T.Math.ceil10(c,-2),a[r].totals.cpi=T.Math.ceil10(m,-3),a[r].totals.curSPI=T.Math.ceil10(g,-2),a[r].totals.curCPI=T.Math.ceil10(y,-3),h=T.ragSpi(c),p=T.ragCpi(m),d=T.ragSpi(g),v=T.ragCpi(y),a[r].totals.spiColour=h,a[r].totals.cpiColour=p,a[r].totals.curSPIColour=d,a[r].totals.curCPIColour=v}}}),t.each(a,function(e,n){t.each(e.totals,function(e,r){if(t.isNumber(e)){if(r==="spi"||r==="cpi"||r==="curSPI"||r==="curCPI"||r==="ETC_CPI")return;a[n].totals[r]=e.toFixed(0)}})}),u=e.grep(a,function(e,t){return e.hasData===!0}),t.first(u).com=m,u)},T.formatThreeTotals=function(r,i){var s=T.FilterChartData(r.first,i),o=t.chain(s.graph).flatten().sortBy("Date").filter(function(e,t){return n(e.Date).set("day",1).unix()>=n(e.SnapshotDate).set("day",1).add(1,"m").unix()}).value();if(t.isUndefined(s.totals)){var u=undefined;return}u=T.convertArraytoObject(s.totals);var a=t.first(o).SnapshotDate;if(!t.isEmpty(r.last)){var f=T.FilterChartData(r.last,i),l=t.chain(f.graph).flatten().sortBy("Date").filter(function(e,t){return n(e.Date).set("day",1).unix()>=n(a).set("day",1).add(1,"m").unix()}).value();if(t.isUndefined(f.totals)){var c=undefined;return}c=T.convertArraytoObject(f.totals)}else{c={},t.each(u,function(e,t,n){c[t]=0});var h=JSON.parse(JSON.stringify(o));l=e.grep(h,function(e){return e[i]=0,e})}var p={},d={},v=n(t.first(o).Date).format("YYYY/MM"),m=n(t.last(o).Date).format("YYYY/MM"),g=n(t.first(o).snapShotDate);d.current={},d.past={};var y=e.grep(o,function(e){if(e.Type==="BCWS")return e.PeriodType==="F"});t.each(y,function(e,r){var i=n(e.Date).format("MM"),s=n(e.SnapshotDate).format("YY"),o=n(e.SnapshotDate).add(1,"y").format("YY"),u=n(e.Date).format("YY"),a=T.unit.months[i-1];if(s===u||o===u){var f=t.keys(d.current);if(f.length>=7)return;t.has(d.current,a)||(d.current[a]={},d.current[a].data=[],d.current[a].total=0,d.current[a].order=t.keys(d.current).length,d.current[a].month=a),d.current[a].data.push(e)}}),t.each(d.current,function(e,n){var r=0;t.each(e.data,function(e,t){r+=parseFloat(e[i])}),e.total=r.toFixed(0)});var b=e.grep(l,function(e){if(e.Type==="BCWS")return e.PeriodType==="F"});t.each(b,function(e,r){var i=n(e.Date).format("MM"),s=n(e.SnapshotDate).format("YY"),o=n(e.SnapshotDate).add(1,"y").format("YY"),u=n(e.Date).format("YY"),a=T.unit.months[i-1];if(s===u||o===u){var f=t.keys(d.past);if(f.length>=7)return;t.has(d.past,a)||(d.past[a]={},d.past[a].data=[],d.past[a].total=0,d.past[a].order=t.keys(d.past).length,d.past[a].month=a),d.past[a].data.push(e)}}),t.each(d.past,function(e,n){var r=0;t.each(e.data,function(e,t){r+=parseFloat(e[i])}),e.total=r.toFixed(0)}),p=u,p.start=v,p.end=m,p.forcast=d;var w=t.isNaN(p.bcwsUB+p.bcwsMR)?0:p.bcwsUB+p.bcwsMR,E=t.isNaN(c.bcwsUB+c.bcwsMR)?0:c.bcwsUB+c.bcwsMR,S=T.Math.round10(c.bcwsTotal,0),x=T.Math.round10(c.bcwsCOM,0),N=T.Math.round10(c.allbcwsCOM,0);return p.bcwsFP=t.isNaN(S+x)?0:S+x,p.curBcwsTotalFP=t.isNaN(c.curBcwsTotal+N+c.curbcwsOH)?0:c.curBcwsTotal+N+c.curbcwsOH,p.bcwsTotalFP=t.isNaN(c.bac+c.allbcwsCOM+c.bcwsUB)?0:c.bac+c.allbcwsCOM+c.bcwsUB,p.bcwsUBFP=c.bcwsUB,p.bcwsTotal=t.isNaN(p.bcwsTotal+p.bcwsCOM-w)?0:p.bcwsTotal+p.bcwsCOM-w,p.subBAC=t.isNaN(p.bac+p.allbcwsCOM+p.bcwsUB)?0:p.bac+p.allbcwsCOM+p.bcwsUB,p.totalBAC=t.isNaN(p.bac+w+p.allbcwsCOM)?0:p.bac+p.allbcwsCOM+w,t.each(p,function(e,t){if(t==="start"||t==="end"||t==="forcast")return;p[t]=Number(e).toFixed(0)}),p},T.formatFourTotals=function(r,i){if(t.isUndefined(i))var s="Quantity";else s=i;var o=[],u="",a="",f="";if(t.isArray(r)){var l=Number(r.length),c=n(r[0].Date).format("YY"),h=e.grep(r,function(e){if(e.Type==="BCWS")return e}),p=e.grep(r,function(e){if(e.Type==="BCWP")return e}),d=e.grep(r,function(e){if(e.Type==="EAC")return e}),v=e.grep(r,function(e){if(e.Type==="ACWP")return e});e.each(h,function(e,r){u=n(r.Date).format("YY"),f=n(r.Date).format("M"),a=n(r.Date).format("MMM"),t.isUndefined(o[u])&&(o[u]={}),t.has(o[u],"bcws")||(o[u].bcws=[],o[u].bcws[f]={}),t.has(o[u].bcws[f],"Quantity")?(o[u].bcws[f].Quantity+=parseFloat(r[s]),o[u].bcws[f].Total+=parseFloat(r.IntValProjCurr)):o[u].bcws[f]={Month:a,Quantity:T.Math.ceil10(r[s],0),Total:T.Math.ceil10(r.IntValProjCurr,0)}}),e.each(p,function(e,r){u=n(r.Date).format("YY"),f=n(r.Date).format("M"),a=n(r.Date).format("MMM"),t.isUndefined(o[u])&&(o[u]={}),t.has(o[u],"bcwp")||(o[u].bcwp=[],o[u].bcwp[f]={}),t.has(o[u].bcwp[f],"Quantity")?(o[u].bcwp[f].Quantity+=parseFloat(r[s]),o[u].bcwp[f].Total+=parseFloat(r.IntValProjCurr)):o[u].bcwp[f]={Month:a,Quantity:T.Math.ceil10(r[s],0),Total:T.Math.ceil10(r.IntValProjCurr,0)}}),e.each(d,function(e,r){u=n(r.Date).format("YY"),f=n(r.Date).format("M"),a=n(r.Date).format("MMM"),t.isUndefined(o[u])&&(o[u]={}),t.has(o[u],"eac")||(o[u].eac=[],o[u].eac[f]={}),t.has(o[u].eac[f],"Quantity")?(o[u].eac[f].Quantity+=parseFloat(r[s]),o[u].eac[f].Total+=parseFloat(r.IntValProjCurr)):o[u].eac[f]={Month:a,Quantity:T.Math.ceil10(r[s],0),Total:T.Math.ceil10(r.IntValProjCurr,0)}}),e.each(v,function(e,r){u=n(r.Date).format("YY"),f=n(r.Date).format("M"),a=n(r.Date).format("MMM"),t.isUndefined(o[u])&&(o[u]={}),t.has(o[u],"acwp")||(o[u].acwp=[],o[u].acwp[f]={}),t.has(o[u].acwp[f],"Quantity")?(o[u].acwp[f].Quantity+=parseFloat(r[s]),o[u].acwp[f].Total+=parseFloat(r.IntValProjCurr)):o[u].acwp[f]={Month:a,Quantity:T.Math.ceil10(r[s],0),Total:T.Math.ceil10(r.IntValProjCurr,0)}})}return o},T.formatFiveTotals=function(e){if(t.isUndefined(e.totals)||t.isUndefined(e.gauges)){var n=undefined,r=undefined;return}n=T.convertArraytoObject(e.totals),r=T.convertArraytoObject(e.gauges);var i=r.spi,s=r.cpi,o=r.curSPI,u=r.curCPI,a=T.ragSpi(i),f=T.ragCpi(s),l=T.ragSpi(o),c=T.ragCpi(u),h={bcwsTotal:n.bcwsTotal,curBcwsTotal:n.curBcwsTotal,bcwpTotal:n.bcwpTotal,curBcwpTotal:n.curBcwpTotal,eacTotal:n.eacTotal,curEacTotal:n.curEacTotal,acwpTotal:n.acwpTotal,curAcwpTotal:n.curAcwpTotal,eacCum:n.eacCum,bac:n.bac,tcpi:n.tcpi,sv:n.sv,cv:n.cv,CurrSV:n.CurrSV,CurrCV:n.CurrCV,vac:n.vac,curSPI:o,curCPI:u,spi:i,cpi:s,BAC_TCPI:n.BAC_TCPI,EAC_TCPI:n.EAC_TCPI,spiColour:a,cpiColour:f,curSPIColour:l,curCPIColour:c};return t.each(h,function(e,n){if(t.isNumber(e)){if(n==="spi"||n==="cpi"||n==="curSPI"||n==="curCPI"||n==="EAC_TCPI"||n==="BAC_TCPI")return;h[n]=e.toFixed(0)}}),h},T.ExportTable=function(t,n,r){e(t).table2excel({exclude:".hide",name:n,filename:r})},T.displayTotals=function(t,n){var r=kendo.toString(t[0].bcwsTotal,"c"),i=kendo.toString(t[1].bcwpTotal,"c"),s=kendo.toString(t[2].eacTotal,"c"),o=kendo.toString(t[3].acwpTotal,"c"),u=kendo.toString(t[4].eacCum,"c"),a=kendo.toString(t[5].bac,"c"),f=kendo.toString(t[6].tcpi);e("button.total-bcws").text(r),e("button.total-bcwp").text(i),e("button.total-eac").text(s),e("button.total-acwp").text(o),e("span.total-tcpi").text(f),e("span.total-bac").text(a),e("span.total-eacCum").text(u),n!=undefined&&(e("span.project").text(n),e("span.user-name").text("N/A"))},T.showProgress=function(t){var n=e(document).find(".treelist-loading"),r=e(document).find(".gauge-loading"),i=e(document).find(".chart-loading");kendo.ui.progress(n,t),kendo.ui.progress(r,t),kendo.ui.progress(i,t)},T.allNodes=function(e,t){var n=t,r=e.next(),i=e.hasClass("k-treelist-group");if(!i){n.push(e.index());if(e.length!=0&&r.length!=0&&!r.hasClass("k-treelist-group"))return T.allNodes(r,n)}else if(i&&r.length!=0)return T.allNodes(r,n);return n},T.createTooltip=function(t){var n=Number(t[0].spi),r=Number(t[1].cpi);e("#rgauge").kendoTooltip({content:"CPI - "+r}),e("#lgauge").kendoTooltip({content:"SPI - "+n})},T.createGauge=function(n){if(n.length===0)return alert("Gauge Data error: No Data.");var r=Number(n[0].spi),i=Number(n[1].cpi);t.isNumber(r)||(r=0),t.isNumber(r)||(i=0),e("#lgauge").kendoRadialGauge({pointer:{value:r},scale:{minorUnit:5,startAngle:-30,endAngle:210,min:0,max:2,labels:{position:"outside"},ranges:[{from:0,to:.9,color:"#FF0000"},{from:.9,to:.95,color:"#FF9933"},{from:.95,to:1.2,color:"#009933"},{from:1.2,to:2,color:"#0066CC"}]}}),e("#rgauge").kendoRadialGauge({pointer:{value:i},scale:{minorUnit:15,startAngle:-30,endAngle:210,min:0,max:3,labels:{position:"outside"},ranges:[{from:0,to:.9,color:"#FF0000"},{from:.9,to:.95,color:"#FF9933"},{from:.95,to:1.2,color:"#009933"},{from:1.2,to:3,color:"#0066CC"}]}})},T.createSplitters=function(){e("#vertical").kendoSplitter({orientation:"vertical",panes:[{collapsible:!0},{collapsible:!0,size:"70%"}]}),e("#horizontal").kendoSplitter({panes:[{collapsible:!0},{collapsible:!0,size:"75%"},{scrollable:!1}]})},T.createSplittersFT=function(){e("#vertical").kendoSplitter({orientation:"vertical",panes:[{collapsible:!1,resizable:!1,size:"34px"},{collapsible:!1,resizable:!1}]}),e("#horizontal").kendoSplitter({panes:[{collapsible:!0,size:"275px"},{collapsible:!0},{scrollable:!0}]})},T.refreshChart=function(){var t=e("#chart").data("kendoChart"),n="",r="",i=e("input[name=seriesType]:checked").val();if(s==="Quantity")var s="{0}hrs",o="Hours";else var s="£{0}",o="£";if(i==="combo")n=T.seriesCombo,r=[{name:"Cumulative",title:{text:"[Cum.]"},color:"#ec5e0a"},{labels:{format:"£{0}"}}];else{r=[{title:{text:o},labels:{format:"{0}"}}],n=T.series;for(var u=0,a=n.length;u<a;u++)n[u].type=i}t.setOptions({series:n})},T.refreshHierarchy=function(){var t=e("#treelist").data("kendoChart"),n="",r="",i=e("input[name=seriesType]:checked").val();if(i==="combo")n=T.seriesCombo,r=[{name:"Cumulative",title:{text:"[Cum.]"},color:"#ec5e0a"},{name:"Total",title:{text:" Total"}}];else{r=[{title:{text:" Total"}}],n=T.series;for(var s=0,o=n.length;s<o;s++)n[s].type=i}t.setOptions({valueAxes:r,series:n})},T.tdHover=function(t){t.preventDefault();if(e(t.currentTarget).hasClass("no-paint"))return;e(t.currentTarget).hasClass("over")?e(t.currentTarget).removeClass("over"):e(t.currentTarget).addClass("over")},T.hierEvent=function(n,r,i){n.on("click","tr span.js-hier",function(n){n.preventDefault(),e(".noData").remove();var s=T.DataStore.chart.options.data,o="",u=[],a=[],f="",l=e(n.currentTarget),c=e("div#treelist").data("kendoTreeList"),h=e("div#chart").data("kendoChart"),p=l.parent().parent(),d=p.index(),v=l.data("objectNumber"),m=l.data("children");l.closest("tr").siblings().removeClass("k-state-selected"),l.hasClass("animated")&&l.removeClass("fadeIn"),l.closest("tr").addClass("k-state-selected");switch(d){case 0:!t.isUndefined(i)&&i&&(s=t.filter(s,function(e){return e.TransactionType==="KPPP"})),f=T.FilterChartData(s,r);break;default:if(m){var g=T.allNodes(e(p),a),y=t.without(g,-1);e.each(y,function(e,t){u.push({ObjectNumber:c.dataSource.options.data[t].ObjectNumber})}),o=T.FilterByHierList(u,s),!t.isUndefined(i)&&i&&(o=t.filter(o,function(e){return e.TransactionType==="KPPP"})),f=T.FilterChartData(o,r)}else u.push({ObjectNumber:c.dataSource.options.data[d].ObjectNumber}),o=T.FilterByHierList(u,s),!t.isUndefined(i)&&i&&(o=t.filter(o,function(e){return e.TransactionType==="KPPP"})),f=T.FilterChartData(o,r)}t.isUndefined(f)?(h.dataSource.data([]),h.refresh(),e('<div class="noData"><p id="noDataMessage">No data available</p></div>').appendTo("#chart"),l.addClass("animated fadeIn").css("color","red")):(h.dataSource.data(t.flatten(f.graph)),h.refresh(),l.addClass("animated fadeIn"))})},T.hierSpiCpiEvent=function(n,r){n.on("click","tr span.js-hier",function(n){n.preventDefault(),e(".noData").remove();var i=T.DataStore.rawspiCpiChartdata,s="",o=[],u=[],a="",f=e(n.currentTarget),l=e("div#treelist").data("kendoTreeList"),c=e("div#chart").data("kendoChart"),h=f.parent().parent(),p=h.index(),d=f.data("children");f.closest("tr").siblings().removeClass("k-state-selected"),f.hasClass("animated")&&f.removeClass("fadeIn"),f.closest("tr").addClass("k-state-selected");switch(p){case 0:a=T.cpiSpiTrend(i,r);break;default:d&&(o.push({ObjectNumber:l.dataSource.options.data[p].ObjectNumber}),s=T.FilterByHierList(o,i),a=T.cpiSpiTrend(s,r))}t.isUndefined(a)||t.isEmpty(a)?(c.dataSource.data([]),c.refresh(),e('<div class="noData"><p id="noDataMessage">No data available</p></div>').appendTo("#chart"),f.addClass("animated fadeIn").css("color","red")):(c.dataSource.data(a),c.refresh(),f.addClass("animated fadeIn"))})},T.expandTreeList=function(t){e(document).find(t).data("kendoTreeList").expand(".k-treelist-group")},T.projectData=function(){var t=e.ajax({url:this.serviceRoot+this.urlProjectSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(e){});return t},T.HierarchyListSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlHierarchyListSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.HierarchySet=function(){var t=e.ajax({url:this.serviceRoot+this.urlHierarchySet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.CPR5DetailSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlCPR5Set,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.CPR3DetailSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlCPR3Set,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.ESSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlESSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.CPRHeaderSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlCPRHSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.SVSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlSVSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.SnapshotListSetRequest=function(){var t=e.ajax({url:this.serviceRoot+this.urlSnapshotListSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.SnapshotSet=function(){var t=e.ajax({url:this.serviceRoot+this.urlSnapshotSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.VersionData=function(){var t=e.ajax({url:this.serviceRoot+this.urlVersionSet,method:"GET",dataType:"json",async:!0}).success(function(e){}).error(function(e){alert("error "+e.statusText),T.SpinnerTpl(N,0)}).done(function(){});return t},T.hierListInitialize=function(t){e(document).find("#treelist").kendoTreeList({dataSource:{data:t,schema:{parse:function(t){var n=[];return e.each(t,function(e,t){var r={parentId:String(t.ParentObjNum).substr(2),ParentObjNum:String(t.ParentObjNum).substr(2),id:String(t.ObjectNumber).substr(2),ObjectNumber:String(t.ObjectNumber).substr(2),Type:t.Type,ExtID:t.ExtID,Description:t.Description,ProjectSelection:t.ProjectSelection,SortOrder:t.SortOrder};n.push(r)}),n},schema:{model:{expanded:!0}}}},resizable:!0,scrollable:!0,header:!1,columns:[{field:"Project Hierachy",width:150,template:kendo.template("<span data-children='#=data.hasChildren#' data-objectNumber='#=data.ObjectNumber#' class='js-hier'><div class='#=data.Type#'></div> #=data.Description#</span>")}]}),e('table[role="treegrid"] tr:first').addClass("k-state-selected")},T.FilterByHierList=function(e,n){var r="",i=[],s="";return t.isArray(e)&&!t.isEmpty(e)&&t.each(e,function(e,s){r=t.chain(n).filter(function(n){return t.contains(n,e.ObjectNumber)}).value(),i.push(r)}),s=t.flatten(i),s},T.VersionFilter=function(n,r){var i={};i.versions=[],i.category=[],i.array="";var s="",o="",u=r,a=0;return t.isEmpty(u)?{}:(u.length>2?i.array=t.reject(n,function(e){return e%2==0}):i.array=n,t.each(n,function(t,n){var r=t.VersionSelection;i.versions[n]={},i.versions[n].Type=t.Type,i.versions[n].VersionSelection=t.VersionSelection,i.versions[n].Default=t.Default,i.versions[n].Data=e.grep(u,function(e,t){return e.Version===r})}),t.isArray(i.versions)&&t.each(i.versions,function(e,n){if(t.isEmpty(e.Data))return;var r=t.map(e.Data,function(e){return{Quantity:e.Quantity,TransactionType:e.TransactionType,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,ProjectSelection:e.ProjectSelection,Version:e.Version,ValueType:e.ValueType,Date:e.Date,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,SnapshotDate:e.SnapshotDate}});i.category.push({Version:e.VersionSelection,Type:e.Type,Default:e.Default,data:r})}),i.category)},T.FilterData=function(n,r,i){var s={};s.graph=[],s.raw={};var o="",u="",a=n;if(a.length===0)return;return s.raw.ACWP=e.grep(r,function(e){if(e.Version==="000")return e}),t.each(a,function(n,r){if(t.isEmpty(n))return;var i=n.data;s[n.Version]={};var o=s[n.Version];o.BCWS="",o.BCWP="",o.EAC="",o.ACWP="",o.ETC="";if(!t.isEmpty(i)){if(n.Type==="P"&&n.Default==="X"){o.BCWS=e.grep(i,function(e){return e.ValueType==="01"}),o.BCWP=e.grep(i,function(e){return e.ValueType==="P2"});if(t.isArray(o.BCWS)&&!t.isEmpty(o.BCWS)){var u=t.chain(o.BCWS).sortBy("Date").map(function(e){return{BCWS:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"BCWS",Date:e.Date,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,SnapshotDate:e.SnapshotDate}}).value();s.graph.push(u)}if(t.isArray(o.BCWP)&&!t.isEmpty(o.BCWP)){var a=0,f=t.chain(o.BCWP).sortBy("Date").map(function(e){return{BCWP:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"BCWP",Date:e.Date,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,SnapshotDate:e.SnapshotDate}}).value();s.graph.push(f)}}if(n.Type==="E"&&n.Default==="X"){o.EAC=e.grep(i,function(e){return e}),o.ACWP=e.grep(i,function(e){return e.ValueType==="04"}),o.ETC=e.grep(i,function(e){return e.ValueType==="01"});if(t.isArray(o.EAC)&&!t.isEmpty(o.EAC)){var l=t.chain(o.EAC).sortBy("Date").map(function(e){return{EAC:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"EAC",Date:e.Date,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,SnapshotDate:e.SnapshotDate}}).value();s.graph.push(l)}if(t.isArray(o.ACWP)&&!t.isEmpty(o.ACWP)){var c=t.chain(o.ACWP).sortBy("Date").map(function(e){return{ACWP:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"ACWP",Date:e.Date,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,SnapshotDate:e.SnapshotDate}}).value();s.graph.push(c)}if(t.isArray(o.ETC)&&!t.isEmpty(o.ETC))var h=t.chain(o.ETC).sortBy("Date").map(function(e){return{ETC:e.IntValProjCurr}})}}}),s},T.FilterChartData=function(r,i){if(t.isUndefined(i)||i==="Quantity")var s=i;else i==="Costs"?s="IntValProjCurr":s=i;var o={};o.graph=[],o.totals=[],o.gauges=[];var u="",a="",f=t.flatten(r);if(f.length===0)return;var l=e.grep(f,function(e){return e.Type==="BCWS"}),c=e.grep(f,function(e){return e.Type==="BCWP"}),h=e.grep(f,function(e){return e.Type==="EAC"}),p=e.grep(f,function(e){return e.Type==="ACWP"}),d=e.grep(h,function(e){if(e.ValueType==="01")return e}),v=e.grep(f,function(e){if(e.Type==="baseLine")return e});o.graph.push(v);var m=0,g=0,y=0,b=0,w=0,E=0,S=0,x=0,N=0,C=0,k=0,L=0,A=0,O=0,M=0,D=0,P=0;if(t.isArray(l)&&!t.isEmpty(l)){var H=t.chain(l).sortBy("Date").map(function(e){m+=parseFloat(e[s]),b+=parseFloat(e[s]),y+=parseFloat(e.Quantity),e.CostType==="COM"&&e.Overhead==="X"&&(N+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(M+=parseFloat(e[s])),e.CostType==="GA"&&e.Overhead==="X"&&(O+=parseFloat(e[s])),e.CostType==="UB"&&(C+=parseFloat(e[s])),e.CostType==="MR"&&(k+=parseFloat(e[s]));if(e.PeriodType==="C"||e.PeriodType==="P")g+=parseFloat(e[s]),e.CostType==="GA"&&e.Overhead==="X"&&(A+=parseFloat(e[s])),e.CostType==="COM"&&e.Overhead==="X"&&(S+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(D+=parseFloat(e[s]));return e.PeriodType=="C"&&(w+=parseFloat(e[s]),E+=parseFloat(e.Quantity),e.CostType==="GA"&&e.Overhead==="X"&&(L+=parseFloat(e[s])),e.CostType==="COM"&&e.Overhead==="X"&&(x+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(P+=parseFloat(e[s]))),{BCWS:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,runningBCWS:m,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"BCWS",Date:e.Date,SnapshotDate:e.SnapshotDate,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType}}).value(),B=C+k;o.totals.push({bcwsAll:b+N-B,bcwsTotal:g-S,bcwsHrs:y,curBcwsTotal:w-x,curBcwsHrs:E,allbcwsCOM:N,bcwsCOM:S,curbcwsCOM:x,allbcwsGA:O,bcwsGA:A,curbcwsGA:L,allbcwsOH:M,bcwsOH:D,curbcwsOH:P,bcwsUB:C,bcwsMR:k}),o.graph.push(H)}else o.totals.push({bcwsAll:0,bcwsTotal:0,bcwsHrs:0,curBcwsTotal:0,curBcwsHrs:0});var j=0,F=0,I=0,q=0,R=0,U=0,z=0,W=0,X=0,V=0,J=0,K=0,Q=0,G=0,Y=0;if(t.isArray(c)&&!t.isEmpty(c)){var Z=t.chain(c).sortBy("Date").map(function(e){j+=parseFloat(e[s]),I+=parseFloat(e.Quantity),e.CostType==="UB"&&(R+=parseFloat(e[s])),e.CostType==="MR"&&(U+=parseFloat(e[s]));if(e.PeriodType==="C"||e.PeriodType==="P")F+=parseFloat(e[s]),I+=parseFloat(e.Quantity),e.CostType==="COM"&&e.Overhead==="X"&&(V+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(G+=parseFloat(e[s])),e.CostType==="GA"&&e.Overhead==="X"&&(K+=parseFloat(e[s]));return e.PeriodType==="C"&&(q+=parseFloat(e[s]),X+=parseFloat(e.Quantity),e.CostType==="GA"&&e.Overhead==="X"&&(Q+=parseFloat(e[s])),e.CostType==="COM"&&e.Overhead==="X"&&(J+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(Y+=parseFloat(e[s])),e.CostType==="UB"&&(z+=parseFloat(e[s])),e.CostType==="MR"&&(W+=parseFloat(e[s]))),{BCWP:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,runningBCWP:j,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"BCWP",Date:e.Date,SnapshotDate:e.SnapshotDate,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType}}).value(),et=t.isNaN(z+W)?0:z+W,tt=t.isNaN(z+W)?0:z+W,nt=t.isNaN(q-J-tt)?q:q-J-tt;o.totals.push({bcwpTotal:F-V-et,bcwpHrs:I,curBcwpTotal:nt,curBcwpHrs:X,bcwpCOM:V,bcwpGA:K,bcwpOH:G,curbcwpCOM:J,curbcwpGA:Q,curbcwpOH:Y,bcwpUB:R,bcwpMR:U,curbcwpUB:z,curbcwpMR:W}),o.graph.push(Z)}else o.totals.push({bcwpTotal:0,bcwpHrs:0,curBcwpTotal:0,curBcwpHrs:0});var rt=0,it=0,st=0,ot=0,ut=0,at=0,ft=0,lt=0,ct=0,ht=0,pt=0;if(t.isArray(p)&&!t.isEmpty(p)){var dt=t.chain(p).sortBy("Date").map(function(e){rt+=parseFloat(e[s]),st+=parseFloat(e.Quantity);if(e.PeriodType==="C"||e.PeriodType==="P")it+=parseFloat(e[s]),e.CostType==="COM"&&e.Overhead==="X"&&(at+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(ht+=parseFloat(e[s])),e.CostType==="GA"&&e.Overhead==="X"&&(lt+=parseFloat(e[s]));return e.PeriodType==="C"&&(ot+=parseFloat(e[s]),ut+=parseFloat(e.Quantity),e.CostType==="GA"&&e.Overhead==="X"&&(ct+=parseFloat(e[s])),e.CostType==="COM"&&e.Overhead==="X"&&(ft+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(pt+=parseFloat(e[s]))),{ACWP:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,runningACWP:rt,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"ACWP",Date:e.Date,SnapshotDate:e.SnapshotDate,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType}}).value();o.totals.push({acwpTotal:it-ht,acwpHrs:st,curAcwpTotal:ot-ft,curAcwpHrs:ut,acwpCOM:at,acwpGA:lt,acwpOH:ht,curacwpCOM:ft,curacwpGA:ct,curacwpOH:pt}),o.graph.push(dt)}else o.totals.push({acwpTotal:0,acwpHrs:0,curAcwpTotal:0,curAcwpHrs:0});var vt=0,mt=0,gt=0,yt=0,bt=0,wt=0;if(t.isArray(h)&&!t.isEmpty(h)){var Et=t.chain(h).sortBy("Date").first().value(),St=h.length,xt=[],Tt=t.chain(h).sortBy("Date").map(function(e,n){if(t.has(e,"parseRemove")&&e.parseRemove)return;return vt+=parseFloat(e[s]),gt+=parseFloat(e.Quantity),mt+=parseFloat(e[s]),e.CostType==="COM"&&e.Overhead==="X"&&(yt+=parseFloat(e[s])),e.CostType==="GA"&&e.Overhead==="X"&&(bt+=parseFloat(e[s])),e.CostType==="OH"&&e.Overhead==="X"&&(wt+=parseFloat(e[s])),{EAC:e.IntValProjCurr,Quantity:e.Quantity,TransactionType:e.TransactionType,runningEAC:vt,IntValProjCurr:e.IntValProjCurr,ExtValProjCurr:e.ExtValProjCurr,ObjectNumber:e.ObjectNumber,Version:e.Version,ValueType:e.ValueType,Type:"EAC",Date:e.Date,SnapshotDate:e.SnapshotDate,PeriodType:e.PeriodType,Overhead:e.Overhead,CostType:e.CostType,parseRemove:!1}}).value();t.chain(Tt).sortBy("Date").each(function(e,t){n(e.SnapshotDate).unix()>n(e.Date).unix()&&(e.runningEAC=null)}),t.isEmpty(p)&&Tt.unshift({Date:Et.SnapshotDate,runningEAC:0,TransactionType:"KPPP",parseRemove:!0}),o.graph.push(Tt),o.graph.push(xt),o.totals.push({eacTotal:mt-yt,eacHrs:gt,eacCOM:yt,eacGA:bt,eacOH:wt})}else o.totals.push({eacTotal:0,eacHrs:0,eacCOM:0,eacOH:0,eacGA:0});if(t.isArray(d)&&!t.isEmpty(d)){var Nt=0;t.chain(d).sortBy("Date").each(function(e){e.PeriodType==="F"&&e.Overhead===""&&(Nt+=parseFloat(e[s]))})}var Ct=T.Math.ceil10(b-B,-2),kt=T.Math.ceil10(g-B,-2),Lt=T.Math.ceil10(F,-2),At=T.Math.ceil10(it,-2),Ot=T.Math.ceil10(S,-2),Mt=T.Math.ceil10(V,-2),_t=T.Math.ceil10(at,-2),Dt=T.Math.ceil10(yt,-2),Pt=T.Math.ceil10(x,-2),Ht=T.Math.ceil10(J,-2),Bt=T.Math.ceil10(ft,-2),jt=T.Math.ceil10(D,-2),Ft=T.Math.ceil10(G,-2),It=T.Math.ceil10(ht,-2),qt=T.Math.ceil10(wt,-2),Rt=T.Math.ceil10(P,-2),Ut=T.Math.ceil10(Y,-2),zt=T.Math.ceil10(pt,-2),Wt=T.Math.ceil10(A,-2),Xt=T.Math.ceil10(K,-2),Vt=T.Math.ceil10(lt,-2),$t=T.Math.ceil10(bt,-2),Jt=T.Math.ceil10(L,-2),Kt=T.Math.ceil10(Q,-2),Qt=T.Math.ceil10(ct,-2),Gt=T.Math.ceil10(w-B,-2),Yt=T.Math.ceil10(q,-2),Zt=T.Math.ceil10(ot,-2),en=T.Math.ceil10(Nt,-2),tn=t.isNaN(mt-yt)?0:mt-yt;o.totals.push({eacCum:T.Math.ceil10(tn,-2)});var nn=t.isNaN(Ct-N)?0:Ct-N,rn=T.Math.ceil10(nn,-2);o.totals.push({bac:rn});var sn=t.isNaN(rn-tn)?0:rn-tn;o.totals.push({vac:T.Math.ceil10(sn,-2)});var on=t.isNaN(M-wt)?0:M-wt;o.totals.push({vacOH:T.Math.ceil10(on,-2)});var un=t.isNaN(N-yt)?0:N-yt;o.totals.push({vacCOM:T.Math.ceil10(un,-2)});var an=t.isNaN(O-bt)?0:O-bt;o.totals.push({vacGA:T.Math.ceil10(an,-2)});var fn=t.isNaN(Yt-Gt)?0:Yt-Gt;o.totals.push({CurrSV:T.Math.ceil10(fn,-2)});var ln=t.isNaN(Yt-Zt)?0:Yt-Zt;o.totals.push({CurrCV:T.Math.ceil10(ln,-2)});var cn=t.isNaN(F-kt)?0:F-kt;o.totals.push({sv:T.Math.ceil10(cn,-2)});var hn=t.isNaN(F-it)?0:F-it;o.totals.push({cv:T.Math.ceil10(hn,-2)});var pn=t.isNaN(Mt-Ot)?0:Mt-Ot;o.totals.push({svCom:T.Math.ceil10(pn,-2)});var dn=t.isNaN(Mt-_t)?0:Mt-_t;o.totals.push({cvCom:T.Math.ceil10(dn,-2)});var vn=t.isNaN(Ht-Pt)?0:Ht-Pt;o.totals.push({CurrSvCom:T.Math.ceil10(vn,-2)});var mn=t.isNaN(Ht-Bt)?0:Ht-Bt;o.totals.push({CurrCvCom:T.Math.ceil10(mn,-2)});var gn=t.isNaN(Ft-jt)?0:Ft-jt;o.totals.push({svOH:T.Math.ceil10(gn,-2)});var yn=t.isNaN(Ft-It)?0:Ft-It;o.totals.push({cvOH:T.Math.ceil10(yn,-2)});var bn=t.isNaN(Ut-Rt)?0:Ut-Rt;o.totals.push({CurrSvOH:T.Math.ceil10(bn,-2)});var wn=t.isNaN(Ut-zt)?0:Ut-zt;o.totals.push({CurrCvOH:T.Math.ceil10(wn,-2)});var En=t.isNaN(Xt-Wt)?0:Xt-Wt;o.totals.push({svGA:T.Math.ceil10(En,-2)});var Sn=t.isNaN(Ft-Vt)?0:Xt-Vt;o.totals.push({cvGA:T.Math.ceil10(Sn,-2)});var xn=t.isNaN(Kt-Jt)?0:Kt-Jt;o.totals.push({CurrSvGA:T.Math.ceil10(xn,-2)});var Tn=t.isNaN(Ut-Qt)?0:Kt-Qt;o.totals.push({CurrCvGA:T.Math.ceil10(Tn,-2)});var Nn=t.isNaN(rn-Lt)?0:rn-Lt,Cn=t.isNaN(Nt-it)?0:Nt-it,kn=t.isNaN(Nn/Cn)?0:Nn/Cn;kn===Infinity&&(kn=0),o.totals.push({tcpi:T.Math.ceil10(kn,-2)});var Ln=t.isNaN(Lt/kt)?0:Lt/kt,An=t.isNaN(Lt/At)?0:Lt/At,On=t.isNaN(q/w)?0:q/w,Mn=t.isNaN(q/ot)?0:q/ot;Ln===Infinity&&(Ln=0),An===Infinity&&(An=0),On===Infinity&&(On=0),Mn===Infinity&&(Mn=0),o.gauges.push({spi:T.Math.ceil10(Ln,-2),curSPI:T.Math.ceil10(On,-2)}),o.gauges.push({cpi:T.Math.ceil10(An,-3),curCPI:T.Math.ceil10(Mn,-3)});var _n=t.isNaN(An/(rn-kt))?0:An/(rn-kt);_n===Infinity&&(_n=0),o.totals.push({ETC_CPI:T.Math.ceil10(_n,0)});var Dn=t.isNaN((rn-(Lt-V))/(mt-yt-At))?0:(rn-(Lt-V))/(mt-yt-At);Dn===Infinity&&(Dn=0),o.totals.push({EAC_TCPI:T.Math.ceil10(Dn,0)});var Pn=t.isNaN((rn-(Lt-V))/(rn-At))?0:(rn-(Lt-V))/(rn-At);return Pn===Infinity&&(Pn=0),o.totals.push({BAC_TCPI:T.Math.ceil10(Pn,0)}),t.flatten(o.totals),t.flatten(o.graph),t.flatten(o.gauges),o},T.setTrendToChartData=function(e,n){var r=[],i=[],s=[],o=n;return t.each(e,function(s,o){r=t.filter(n,function(e){return e.ObjectNumber===s.ObjectNumber});if(!t.isEmpty(r)&&r.length<6){var u=r.length,a=t.isNaN(6-u)?0:6-u,f=[],l={ACWP:0,BCWP:0,BCWS:0,CPI:"",CPIColour:"",Date:"",ObjectNumber:t.first(r).ObjectNumber,SPI:"",SPIColour:"",SnapshotDate:"",isBlank:!0};for(var c=0;c<a;c++)r.unshift(l)}t.isEmpty(r)||i.push(r),e[o].trend=r}),t.each(i,function(n,r){t.each(n,function(n,r){s=t.first(e).trend,t.isUndefined(s[r])&&(s[r]={},s[r].SPI=0,s[r].CPI=0,s[r].BCWP=0,s[r].BCWS=0,s[r].ACWP=0),s[r].BCWP+=Number(n.BCWP),s[r].BCWS+=Number(n.BCWS),s[r].ACWP+=Number(n.ACWP);if(!t.isUndefined(n.isBlank)&&n.isBlank)s[r].SPIColour="",s[r].CPIColour="",s[r].SPI="",s[r].CPI="";else{var i=t.isNaN(s[r].BCWP/s[r].BCWS)?0:s[r].BCWP/s[r].BCWS,o=t.isNaN(s[r].BCWP/s[r].ACWP)?0:s[r].BCWP/s[r].ACWP;s[r].SPI=T.Math.ceil10(i,-2),s[r].CPI=T.Math.ceil10(o,-3),s[r].SPIColour=T.ragSpi(i),s[r].CPIColour=T.ragCpi(o),s[r].SnapshotDate=n.SnapshotDate}})}),e},T.cpiSpiTrend=function(e,r){var i="";r==="Quantity"?i="H":r==="IntValProjCurr"?i="I":i="M";var s,o=t.chain(e).sortBy("SnapshotDate").sortBy("ObjectNumber").where({RecordType:i}).value();return s=t.map(o,function(e,r){var i=Number(e.BCWS),s=Number(e.BCWP),o=Number(e.ACWP),u=t.isNaN(s/i)?0:s/i,a=t.isNaN(s/o)?0:s/o;return u===Infinity&&(u=0),a===Infinity&&(a=0),{CPI:T.Math.ceil10(a,-3),SPI:T.Math.ceil10(u,-2),SPIColour:T.ragSpi(u),CPIColour:T.ragCpi(a),BCWS:i,BCWP:s,ACWP:o,ObjectNumber:e.ObjectNumber,RecordType:e.RecordType,Date:new Date(e.SnapshotDate),SnapshotDate:n(e.SnapshotDate).format("MM/YYYY"),baseLine:1}}),s},T.SVfilter=function(e,r,i){if(r==="Quantity")var r="H";else r==="IntValProjCurr"?r="I":r="M";var s,o,u,a,f=t.chain(e).sortBy("SnapshotDate").sortBy("ObjectNumber").where({RecordType:r}).value(),s=[],l=t.chain(f).uniq(function(e){return e.SnapshotDate}).pluck("SnapshotDate").value(),c=t.map(f,function(e,n){var r=Number(e.BCWS),s=Number(e.BCWP),o=Number(e.ACWP);t.isNaN(r)&&(r=0),t.isNaN(s)&&(s=0),t.isNaN(o)&&(o=0);var u=t.isNaN(s-r)?0:s-r,a=t.chain(i).filter(function(t){return t.ObjectNumber===e.ObjectNumber}).pluck("Description").first().value(),f=t.last(a.split("-"));return{SV:T.Math.ceil10(u,0),title:f.trim(),BCWS:r,BCWP:s,ACWP:o,ObjectNumber:e.ObjectNumber,Date:new Date(e.SnapshotDate),SnapshotDate:e.SnapshotDate}}),h=["#003366","#336699","#003399","#000099","#006699","#0066CC","#009999","#0099FF","#00FFFF","#3366FF","#66FFFF","#E6E6F5"];return t.each(l,function(e,r){T.SnapshotType==="W"?a=n(e).weeks()+"/"+n(e).format("YYYY"):a=n(e).format("MM/YYYY"),s.push({name:a,type:"column",field:"SV",categoryField:"title",color:h[r],markers:{type:"circle"},data:[]}),s[r].data=t.where(c,{SnapshotDate:e})}),s},T.ESfilter=function(e,r,i){if(r==="Quantity")var r="H";else r==="IntValProjCurr"?r="I":r="M";var s=[],o=t.chain(e).sortBy("SnapshotDate").uniq(function(e){return e.SnapshotDate}).pluck("SnapshotDate").value(),u=["#0000cc","#cc0000","#00cc00","#0000ff","#ff0000","#00ff00"];return t.each(o,function(o,a){T.SnapshotType==="W"?parsedName=n(o).isoWeeks()+"/"+n(o).format("YYYY"):parsedName=n(o).format("MM/YYYY"),s.push({name:parsedName,type:"column",field:"ES",categoryField:"title",color:u[a],markers:{type:"circle"},data:[]}),s[a].data=t.chain(e).sortBy("SnapshotDate").where({RecordType:r,SnapshotDate:o}).map(function(e){var n=t.chain(i).filter(function(t){return t.ObjectNumber===e.ObjectNumber}).pluck("Description").first().value(),r=t.last(n.split("-"));return{ProjectSelection:e.ProjectSelection,title:r.trim(),HierarchySelection:e.HierarchySelection,ObjectNumber:e.ObjectNumber,PlanVersionSelection:e.PlanVersionSelection,FundApproved:e.FundApproved,SnapshotType:e.SnapshotType,Date:new Date(e.SnapshotDate),RecordType:e.RecordType,ES:e.ES}}).value()}),s},T.FooFilter=function(e,r,i){if(t.isUndefined(i)||i==="Quantity")var s=i;else s="IntValProjCurr";var o={};o.dates=[],o.merged=[];if(t.isEmpty(e))return;if(t.isEmpty(r))return;var u=t.first(T.DataStore.hierarchyList).HierarchySelection,a=t.last(T.DataStore.hierarchyList).HierarchySelection;o.first=t.chain(t.first(e[u])).where({ReportingLevel:"R"}).value(),o.title=t.first(t.first(e[u]));var f=t.filter(r,function(e){if(e.ValueType==="01")return e.Type==="EAC"}),l=t.chain(f).uniq(!1,function(e,t,r){return n(e.Date).unix()}).value(),c=t.first(e[u]);o.default=t.map(c,function(e,r){var i=[],o=[],u=!1;return i=t.filter(f,function(t){return t.ObjectNumber===e.ObjectNumber}),t.isEmpty(i)&&(u=!0),t.each(l,function(e,r){var u=0,a=t.filter(i,function(t){return n(t.Date).unix()===n(e.Date).unix()});if(t.isEmpty(a))return o[r]=u;t.each(a,function(e,t){u+=parseFloat(e[s])}),o[r]=u}),{Description:e.Description,ExtID:e.ExtID,HierarchySelection:e.HierarchySelection,ObjectNumber:e.ObjectNumber,ParentObjNum:e.ParentObjNum,ProjectSelection:e.ProjectSelection,ReportingLevel:e.ReportingLevel,SortOrder:r,Type:e.Type,Total:o,checkEmpty:u}});var h=t.first(e[a]);o.obs=t.map(h,function(e,r){var i=[],o=[],u=!1;return i=t.filter(f,function(t){return t.ObjectNumber===e.ObjectNumber}),t.isEmpty(i)&&(u=!0),t.each(l,function(e,r){var u=0,a=t.filter(i,function(t){return n(t.Date).unix()===n(e.Date).unix()});if(t.isEmpty(a))return o[r]=u;t.each(a,function(e,t){u+=parseFloat(e[s])}),o[r]=u}),{Description:e.Description,ExtID:e.ExtID,HierarchySelection:e.HierarchySelection,ObjectNumber:e.ObjectNumber,ParentObjNum:e.ParentObjNum,ProjectSelection:e.ProjectSelection,ReportingLevel:e.ReportingLevel,SortOrder:r,Type:e.Type,Total:o,checkEmpty:u}}),o.dates=t.map(l,function(e){return{Date:n(e.Date).format("MM/YYYY")}}),t.each(o.obs,function(e,n,r){var i=[];if(!e.checkEmpty){var s=t.findIndex(r,function(t){return t.ObjectNumber===e.ParentObjNum});o.obs[s].checkEmpty=e.checkEmpty,t.each(e.Total,function(e,t){o.obs[s].Total[t]+=parseFloat(e)})}}),t.each(o.default,function(e,n,r){var i=[];if(!e.checkEmpty){var s=t.findIndex(r,function(t){return t.ObjectNumber===e.ParentObjNum});o.default[s].checkEmpty=e.checkEmpty,t.each(e.Total,function(e,t){o.default[s].Total[t]+=parseFloat(e)})}});var p=o.default.slice(),d=o.obs.slice();return o.default=[],o.obs=[],o.obs=t.filter(d,function(e,n){if(e.ReportingLevel==="R"&&!e.checkEmpty)return t.each(e.Total,function(t,n){e.Total[n]=t.toFixed(0)}),e}),o.default=t.filter(p,function(e,n){if(e.ReportingLevel==="R"&&!e.checkEmpty)return t.each(e.Total,function(t,n){e.Total[n]=t.toFixed(0)}),e}),o},T.create_SPICPI_Chart=function(n,r,i,s){var o="",u="",a="",f="";t.isUndefined(i)&&(i=!1);if(s==="Quantity")var a="{0}hrs",l="Hours";else a="£{0}",l="£";T.SnapshotType==="W"?(o=kendo.template("<div>#: kendo.toString(weekYear( new Date(category)))# # function weekYear( date) {var d = new Date(+date);d.setHours(0,0,0);d.setDate(d.getDate()+4-(d.getDay()||7));return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7)} #/#: kendo.toString(new Date(category), 'yyyy') #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('"+a+"', points[i].value) #</div># } #"),u=kendo.template("#: kendo.toString(weekYearc( new Date(value)))#/#: kendo.toString(new Date(value), 'yyyy') # # function weekYearc( date) {var d = new Date(+date);d.setHours(0,0,0);d.setDate(d.getDate()+4-(d.getDay()||7));return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7)} #"),f="weeks"):(o=kendo.template("<div>#: kendo.toString(new Date(category), 'MM/yyyy') #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('"+a+"', points[i].value) #</div># } #"),u=kendo.template("#: kendo.toString(new Date(value), 'MM/yyyy') #"),f="months"),e("#chart").kendoChart({pdf:{fileName:"SnapShot Costs Export.pdf",proxyURL:this.serviceRoot+"/kendo-ui/service/export"},dataSource:n,chartArea:{},legend:{position:"bottom"},seriesDefaults:{type:"line",style:"smooth",highlight:{visible:!1},markers:{size:5}},series:r,categoryAxis:{baseUnit:f,field:"Date",labels:{rotation:-60,dateFormats:{weeks:"M-yyyy",months:"M-yyyy"},template:u},autoBaseUnitSteps:{days:[],weeks:[1],months:[1],years:[]},maxDateGroups:45,crosshair:{tooltip:{visible:!1},visible:!1},line:{visible:!1},majorGridLines:{visible:!1}},valueAxis:[{reverse:i,title:{text:l},labels:{format:"{0}"}}],tooltip:{visible:!0,shared:!0,sharedTemplate:o}})},T.createES_Chart=function(n,r,i){var s="";t.isUndefined(r)&&(r=!1),i==="Quantity"?dataType="{0}hrs":dataType="£{0}",T.SnapshotType==="W"?s="Weeks":s="Months",e("#chart").kendoChart({pdf:{fileName:"SnapShot Costs Export.pdf",proxyURL:this.serviceRoot+"/kendo-ui/service/export"},chartArea:{},legend:{position:"bottom"},seriesDefaults:{type:"line",style:"smooth",highlight:{visible:!1},markers:{size:5}},series:n,categoryAxis:{majorGridLines:{visible:!1},line:{visible:!1}},valueAxis:[{reverse:r,title:{text:s},labels:{format:"{0}"},line:{visible:!1}}],tooltip:{visible:!0,shared:!0,sharedTemplate:kendo.template("<div>#: category #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('{0}', points[i].value) #</div># } #")}})},T.createSV_Chart=function(n,r,i){var s="";t.isUndefined(r)&&(r=!1),i==="Quantity"?(dataType="{0}hrs",s="Hours"):(dataType="£{0}",s="£"),e("#chart").kendoChart({pdf:{fileName:"SnapShot Costs Export.pdf",proxyURL:this.serviceRoot+"/kendo-ui/service/export"},chartArea:{},legend:{position:"bottom"},seriesDefaults:{type:"line",style:"smooth",highlight:{visible:!1},markers:{size:5}},series:n,categoryAxis:{majorGridLines:{visible:!1},line:{visible:!1}},valueAxis:[{reverse:r,title:{text:s},labels:{format:"{0}"},line:{visible:!1}}],tooltip:{visible:!0,shared:!0,sharedTemplate:kendo.template("<div>#: category #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('{0}', points[i].value) #</div># } #")}})},T.createChart=function(n,r,i,s){var o="",u="",a="",f="",l="";if(t.isUndefined(i))var i=!1;s==="Quantity"?(a="{0}hrs",l="Hours"):(a="£{0}",l="£"),T.SnapshotType==="W"?(o=kendo.template("<div>#: kendo.toString(weekYear( new Date(category)))# # function weekYear( date) {var d = new Date(+date);d.setHours(0,0,0);d.setDate(d.getDate()+4-(d.getDay()||7));return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7)} #/#: kendo.toString(new Date(category), 'yyyy') #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('"+a+"', points[i].value.toFixed(0)) #</div># } #"),u=kendo.template("#: kendo.toString(weekYearc( new Date(value)))#/#: kendo.toString(new Date(value), 'yyyy') # # function weekYearc( date) {var d = new Date(+date);d.setHours(0,0,0);d.setDate(d.getDate()+4-(d.getDay()||7));return Math.ceil((((d-new Date(d.getFullYear(),0,1))/8.64e7)+1)/7)} #"),f="weeks"):(o=kendo.template("<div>#: kendo.toString(new Date(category), 'MM/yyyy') #</div> # for (var i = 0; i < points.length; i++) { #<div style='padding:3px 0 0 0; text-align:left;'>#: points[i].series.name# : #: kendo.format('"+a+"', points[i].value.toFixed(0)) #</div># } #"),u=kendo.template("#: kendo.toString(new Date(value), 'MM/yyyy') #"),f="months"),e("#chart").kendoChart({pdf:{fileName:"SnapShot Costs Export.pdf",proxyURL:this.serviceRoot+"/kendo-ui/service/export",paperSize:"auto",landscape:!0},dataSource:n,chartArea:{},legend:{position:"bottom",align:"center"},seriesDefaults:{type:"line",style:"smooth",highlight:{visible:!1},markers:{size:5},tooltip:{visible:!0}},series:r,categoryAxis:{baseUnit:f,field:"Date",labels:{rotation:-60,dateFormats:{weeks:"M-yyyy",months:"M-yyyy"},template:u},autoBaseUnitSteps:{days:[],weeks:[1],months:[1],years:[]},maxDateGroups:45,crosshair:{tooltip:{visible:!1},visible:!1},line:{visible:!1},majorGridLines:{visible:!1}},valueAxis:[{reverse:i,title:{text:l},labels:{format:"{0}"}}],tooltip:{visible:!0,shared:!0,padding:10,margin:20,color:"black",background:"#FFFFFF",border:{width:2,color:"black"},sharedTemplate:o}})},T.decimalAdjust=function(e,t,n){return typeof n=="undefined"||+n===0?Math[e](t):(t=+t,n=+n,isNaN(t)||typeof n!="number"||n%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))},T.Math.round10=function(e,t){return T.decimalAdjust("round",e,t)},T.Math.floor10=function(e,t){return T.decimalAdjust("floor",e,t)},T.Math.ceil10=function(e,t){return T.decimalAdjust("ceil",e,t)},Date.prototype.getWeekNumber=function(e){var t=new Date(+e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)},Array.prototype.clone=function(){return this.slice(0)},T}),define("domReady",[],function(){"use strict";function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),!function(e,t){t("en-GB",[],e)}(function(){return function(e){var t=e.kendo||(e.kendo={cultures:{}});t.cultures["en-GB"]={name:"en-GB",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n%","n%"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["-$n","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"£"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"dd/MM/yyyy",D:"dd MMMM yyyy",F:"dd MMMM yyyy HH:mm:ss",g:"dd/MM/yyyy HH:mm",G:"dd/MM/yyyy HH:mm:ss",m:"d MMMM",M:"d MMMM",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"HH:mm",T:"HH:mm:ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM yyyy",Y:"MMMM yyyy"},"/":"/",":":":",firstDay:1}}}}(this),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()}),function(e){"use strict";function t(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function n(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),s=e==null?"":""+e;return r.test(s)?s.replace(i,function(e){return t[e]}):s}function i(t,n){var i=arguments,s=t,o=n;[].shift.apply(i);var u,a=this.each(function(){var t=e(this);if(t.is("select")){var n=t.data("selectpicker"),a=typeof s=="object"&&s;if(!n){var f=e.extend({},r.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),a);t.data("selectpicker",n=new r(this,f,o))}else if(a)for(var l in a)a.hasOwnProperty(l)&&(n.options[l]=a[l]);typeof s=="string"&&(n[s]instanceof Function?u=n[s].apply(n,i):u=n.options[s])}});return typeof u!="undefined"?u:a}String.prototype.includes||function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),n="".indexOf,r=function(t){if(this==null)throw TypeError();var r=String(this);if(t&&e.call(t)=="[object RegExp]")throw TypeError();var i=r.length,s=String(t),o=s.length,u=arguments.length>1?arguments[1]:undefined,a=u?Number(u):0;a!=a&&(a=0);var f=Math.min(Math.max(a,0),i);return o+f>i?!1:n.call(r,s,a)!=-1};t?t(String.prototype,"includes",{value:r,configurable:!0,writable:!0}):String.prototype.includes=r}(),String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t={}.toString,n=function(e){if(this==null)throw TypeError();var n=String(this);if(e&&t.call(e)=="[object RegExp]")throw TypeError();var r=n.length,i=String(e),s=i.length,o=arguments.length>1?arguments[1]:undefined,u=o?Number(o):0;u!=u&&(u=0);var a=Math.min(Math.max(u,0),r);if(s+a>r)return!1;var f=-1;while(++f<s)if(n.charCodeAt(a+f)!=i.charCodeAt(f))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),e.expr[":"].icontains=function(t,n,r){var i=e(t),s=(i.data("tokens")||i.text()).toUpperCase();return s.includes(r[3].toUpperCase())},e.expr[":"].ibegins=function(t,n,r){var i=e(t),s=(i.data("tokens")||i.text()).toUpperCase();return s.startsWith(r[3].toUpperCase())},e.expr[":"].aicontains=function(t,n,r){var i=e(t),s=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return s.includes(r[3].toUpperCase())},e.expr[":"].aibegins=function(t,n,r){var i=e(t),s=(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase();return s.startsWith(r[3].toUpperCase())};var r=function(t,n,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,this.options.title===null&&(this.options.title=this.$element.attr("title")),this.val=r.prototype.val,this.render=r.prototype.render,this.refresh=r.prototype.refresh,this.setStyle=r.prototype.setStyle,this.selectAll=r.prototype.selectAll,this.deselectAll=r.prototype.deselectAll,this.destroy=r.prototype.remove,this.remove=r.prototype.remove,this.show=r.prototype.show,this.hide=r.prototype.hide,this.init()};r.VERSION="1.7.2",r.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},r.prototype={constructor:r,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),typeof n!="undefined"&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on("hide.bs.dropdown",function(e){t.$element.trigger("hide.bs.select",e)}),this.$newElement.on("hidden.bs.dropdown",function(e){t.$element.trigger("hidden.bs.select",e)}),this.$newElement.on("show.bs.dropdown",function(e){t.$element.trigger("show.bs.select",e)}),this.$newElement.on("shown.bs.dropdown",function(e){t.$element.trigger("shown.bs.select",e)}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",r=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+">"+"</div>":"",u=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+"</button>"+'<button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button>"+"</div>"+"</div>":"",f='<div class="btn-group bootstrap-select'+t+r+'">'+'<button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="caret"></span>'+"</button>"+'<div class="dropdown-menu open">'+s+o+u+'<ul class="dropdown-menu inner" role="menu">'+"</ul>"+a+"</div>"+"</div>";return e(f)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var r=this,i=[],s=0,o=document.createElement("option"),u=-1,a=function(e,t,n,r){return"<li"+(typeof n!="undefined"&""!==n?' class="'+n+'"':"")+(typeof t!="undefined"&null!==t?' data-original-index="'+t+'"':"")+(typeof r!="undefined"&null!==r?'data-optgroup="'+r+'"':"")+">"+e+"</li>"},f=function(e,i,s,o){return'<a tabindex="0"'+(typeof i!="undefined"?' class="'+i+'"':"")+(typeof s!="undefined"?' style="'+s+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+t(n(e))+'"':"")+(typeof o!="undefined"||o!==null?' data-tokens="'+o+'"':"")+">"+e+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span>'+"</a>"};if(this.options.title&&!this.multiple){u--;if(!this.$element.find(".bs-title-option").length){var l=this.$element[0];o.className="bs-title-option",o.appendChild(document.createTextNode(this.options.title)),o.value="",l.insertBefore(o,l.firstChild),l.options[l.selectedIndex].getAttribute("selected")===null&&(o.selected=!0)}}return this.$element.find("option").each(function(t){var n=e(this);u++;if(n.hasClass("bs-title-option"))return;var o=this.className||"",l=this.style.cssText,c=n.data("content")?n.data("content"):n.html(),h=n.data("tokens")?n.data("tokens"):null,p=typeof n.data("subtext")!="undefined"?'<small class="text-muted">'+n.data("subtext")+"</small>":"",d=typeof n.data("icon")!="undefined"?'<span class="'+r.options.iconBase+" "+n.data("icon")+'"></span> ':"",v=this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled;d!==""&&v&&(d="<span>"+d+"</span>");if(r.options.hideDisabled&&v){u--;return}n.data("content")||(c=d+'<span class="text">'+c+p+"</span>");if(this.parentElement.tagName==="OPTGROUP"&&n.data("divider")!==!0){if(n.index()===0){s+=1;var m=this.parentElement.label,g=typeof n.parent().data("subtext")!="undefined"?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",y=n.parent().data("icon")?'<span class="'+r.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"",b=" "+this.parentElement.className||"";m=y+'<span class="text">'+m+g+"</span>",t!==0&&i.length>0&&(u++,i.push(a("",null,"divider",s+"div"))),u++,i.push(a(m,null,"dropdown-header"+b,s))}i.push(a(f(c,"opt "+o+b,l,h),t,"",s))}else n.data("divider")===!0?i.push(a("",t,"divider")):n.data("hidden")===!0?i.push(a(f(c,o,l,h),t,"hidden is-hidden")):(this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP"&&(u++,i.push(a("",null,"divider",s+"div"))),i.push(a(f(c,o,l,h),t)));r.liObj[t]=u}),!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title&&this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n=this,r;t!==!1&&this.$element.find("option").each(function(e){var t=n.findLis().eq(n.liObj[e]);n.setDisabled(e,this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled,t),n.setSelected(e,this.selected,t)}),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled))return!1;var t=e(this),r=t.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+t.data("icon")+'"></i> ':"",i;return n.options.showSubtext&&t.data("subtext")&&!n.multiple?i=' <small class="text-muted">'+t.data("subtext")+"</small>":i="",typeof t.attr("title")!="undefined"?t.attr("title"):t.data("content")&&n.options.showContent?t.data("content"):r+t.html()+i}}).toArray(),s=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var o=this.options.selectedTextFormat.split(">");if(o.length>1&&i.length>o[1]||o.length==1&&i.length>=2){r=this.options.hideDisabled?", [disabled]":"";var u=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+r).length,a=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(i.length,u):this.options.countSelectedText;s=a.replace("{0}",i.length.toString()).replace("{1}",u.toString())}}this.options.title==undefined&&(this.options.title=this.$element.attr("title")),this.options.selectedTextFormat=="static"&&(s=this.options.title),s||(s=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e?e:this.options.style;t=="add"?this.$button.addClass(n):t=="remove"?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(!t&&(this.options.size===!1||this.sizeInfo))return;var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("ul"),s=document.createElement("li"),o=document.createElement("li"),u=document.createElement("a"),a=document.createElement("span"),f=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null,l=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;a.className="text",n.className=this.$menu[0].parentNode.className+" open",r.className="dropdown-menu open",i.className="dropdown-menu inner",s.className="divider",a.appendChild(document.createTextNode("Inner text")),u.appendChild(a),o.appendChild(u),i.appendChild(o),i.appendChild(s),f&&r.appendChild(f);if(l){var p=document.createElement("span");l.className="bs-searchbox",p.className="form-control",l.appendChild(p),r.appendChild(l)}c&&r.appendChild(c),r.appendChild(i),h&&r.appendChild(h),n.appendChild(r),document.body.appendChild(n);var d=u.offsetHeight,v=f?f.offsetHeight:0,m=l?l.offsetHeight:0,g=c?c.offsetHeight:0,y=h?h.offsetHeight:0,b=e(s).outerHeight(!0),w=getComputedStyle?getComputedStyle(r):!1,E=w?e(r):null,S=parseInt(w?w.paddingTop:E.css("paddingTop"))+parseInt(w?w.paddingBottom:E.css("paddingBottom"))+parseInt(w?w.borderTopWidth:E.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:E.css("borderBottomWidth")),x=S+parseInt(w?w.marginTop:E.css("marginTop"))+parseInt(w?w.marginBottom:E.css("marginBottom"))+2;document.body.removeChild(n),this.sizeInfo={liHeight:d,headerHeight:v,searchHeight:m,actionsHeight:g,doneButtonHeight:y,dividerHeight:b,menuPadding:S,menuExtras:x}},setSize:function(){this.findLis(),this.liHeight();var t=this,n=this.$menu,r=this.$menuInner,i=e(window),s=this.$newElement[0].offsetHeight,o=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,a=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,l=this.sizeInfo.doneButtonHeight,c=this.sizeInfo.dividerHeight,h=this.sizeInfo.menuPadding,p=this.sizeInfo.menuExtras,d=this.options.hideDisabled?".disabled":"",v,m,g,y,b=function(){g=t.$newElement.offset().top-i.scrollTop(),y=i.height()-g-s};b(),this.options.header&&n.css("padding-top",0);if(this.options.size==="auto"){var w=function(){var i,s=function(t,n){return function(r){return n?r.classList?r.classList.contains(t):e(r).hasClass(t):r.classList?!r.classList.contains(t):!e(r).hasClass(t)}},c=t.$menuInner[0].getElementsByTagName("li"),d=Array.prototype.filter?Array.prototype.filter.call(c,s("hidden",!1)):t.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(d,s("dropdown-header",!0)):d.filter(".dropdown-header");b(),v=y-p,t.options.container?(n.data("height")||n.data("height",n.height()),m=n.data("height")):m=n.height(),t.options.dropupAuto&&t.$newElement.toggleClass("dropup",g>y&&v-p<m),t.$newElement.hasClass("dropup")&&(v=g-p),d.length+w.length>3?i=o*3+p-2:i=0,n.css({"max-height":v+"px",overflow:"hidden","min-height":i+u+a+f+l+"px"}),r.css({"max-height":v-u-a-f-l-h+"px","overflow-y":"auto","min-height":Math.max(i-h,0)+"px"})};w(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w),i.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else if(this.options.size&&this.options.size!="auto"&&this.$lis.not(d).length>this.options.size){var E=this.$lis.not(".divider").not(d).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,E+1).filter(".divider").length;v=o*this.options.size+S*c+h,t.options.container?(n.data("height")||n.data("height",n.height()),m=n.data("height")):m=n.height(),t.options.dropupAuto&&this.$newElement.toggleClass("dropup",g>y&&v-p<m),n.css({"max-height":v+u+a+f+l+"px",overflow:"hidden","min-height":""}),r.css({"max-height":v-h+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if(this.options.width==="auto"){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,r)+"px")}else this.options.width==="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t=this,n="<div />",r=e(n),i,s,o=function(e){r.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),i=e.offset(),s=e.hasClass("dropup")?0:e[0].offsetHeight,r.css({top:i.top+s,left:i.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(t.isDisabled())return;o(e(this)),r.appendTo(t.options.container),r.toggleClass("open",!e(this).hasClass("open")),r.append(t.$menu)}),e(window).on("resize scroll",function(){o(t.$newElement)}),this.$element.on("hide.bs.select",function(){t.$menu.data("height",t.$menu.height()),r.detach()})},setSelected:function(e,t,n){if(!n)var n=this.findLis().eq(this.liObj[e]);n.toggleClass("selected",t)},setDisabled:function(e,t,n){if(!n)var n=this.findLis().eq(this.liObj[e]);t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")&&this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this,n=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("click",function(){t.setSize(),t.$element.on("shown.bs.select",function(){if(!t.options.liveSearch&&!t.multiple)t.$menu.find(".selected a").focus();else if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if(typeof e!="number")return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=n}})}),this.$menu.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),s=t.$element.val(),o=t.$element.prop("selectedIndex");t.multiple&&n.stopPropagation(),n.preventDefault();if(!t.isDisabled()&&!r.parent().hasClass("disabled")){var u=t.$element.find("option"),a=u.eq(i),f=a.prop("selected"),l=a.parent("optgroup"),c=t.options.maxOptions,h=l.data("maxOptions")||!1;if(!t.multiple)u.prop("selected",!1),a.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else{a.prop("selected",!f),t.setSelected(i,!f),r.blur();if(c!==!1||h!==!1){var p=c<u.filter(":selected").length,d=h<l.find("option:selected").length;if(c&&p||h&&d)if(c&&c==1)u.prop("selected",!1),a.prop("selected",!0),t.$menu.find(".selected").removeClass("selected"),t.setSelected(i,!0);else if(h&&h==1){l.find("option:selected").prop("selected",!1),a.prop("selected",!0);var v=r.parent().data("optgroup");t.$menu.find('[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(i,!0)}else{var m=typeof t.options.maxOptionsText=="function"?t.options.maxOptionsText(c,h):t.options.maxOptionsText,g=m[0].replace("{n}",c),y=m[1].replace("{n}",h),b=e('<div class="notify"></div>');m[2]&&(g=g.replace("{var}",m[2][c>1?0:1]),y=y.replace("{var}",m[2][h>1?0:1])),a.prop("selected",!1),t.$menu.append(b),c&&p&&(b.append(e("<div>"+g+"</div>")),t.$element.trigger("maxReached.bs.select")),h&&d&&(b.append(e("<div>"+y+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(i,!1)},10),b.delay(750).fadeOut(300,function(){e(this).remove()})}}}t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus();if(s!=t.$element.val()&&t.multiple||o!=t.$element.prop("selectedIndex")&&!t.multiple)t.$element.change(),t.$element.trigger("changed.bs.select",[i,a.prop("selected"),f])}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll(),t.$element.change()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var r=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){r.$menuInner.find(".active").removeClass("active"),!r.$searchbox.val()||(r.$searchbox.val(""),r.$lis.not(".is-hidden").removeClass("hidden"),!i.parent().length||i.remove()),r.multiple||r.$menuInner.find(".selected").addClass("active"),setTimeout(function(){r.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(r.$searchbox.val()){var s=r.$lis.not(".is-hidden").removeClass("hidden").children("a");r.options.liveSearchNormalize?s=s.not(":a"+r._searchStyle()+"("+t(r.$searchbox.val())+")"):s=s.not(":"+r._searchStyle()+"("+r.$searchbox.val()+")"),s.parent().addClass("hidden"),r.$lis.filter(".dropdown-header").each(function(){var t=e(this),n=t.data("optgroup");r.$lis.filter("[data-optgroup="+n+"]").not(t).not(".hidden").length===0&&(t.addClass("hidden"),r.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var o=r.$lis.not(".hidden");o.each(function(t){var n=e(this);n.hasClass("divider")&&(n.index()===o.eq(0).index()||n.index()===o.last().index()||o.eq(t+1).hasClass("divider"))&&n.addClass("hidden")}),r.$lis.not(".hidden, .no-results").length?!i.parent().length||i.remove():(!i.parent().length||i.remove(),i.html(r.options.noneResultsText.replace("{0}",'"'+n(r.$searchbox.val())+'"')).show(),r.$menuInner.append(i))}else r.$lis.not(".is-hidden").removeClass("hidden"),!i.parent().length||i.remove();r.$lis.filter(".active").removeClass("active"),r.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){var e="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":e="ibegins";break;case"contains":default:}return e},val:function(e){return typeof e!="undefined"?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!0),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",!1),this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"),this.render(!1)},keydown:function(n){var r=e(this),i=r.is("input")?r.parent().parent():r.parent(),s,o=i.data("this"),u,a,f,l,c,h,p,d,v=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};o.options.liveSearch&&(i=r.parent().parent()),o.options.container&&(i=o.$menu),s=e("[role=menu] li a",i),d=o.$menu.parent().hasClass("open"),!d&&(n.keyCode>=48&&n.keyCode<=57||event.keyCode>=65&&event.keyCode<=90)&&(o.options.container?o.$newElement.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),d=!0),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&o.$menu.find(".active").length===0&&(n.preventDefault(),o.$menu.parent().removeClass("open"),o.options.container&&o.$newElement.removeClass("open"),o.$button.focus()),s=e("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",i),!r.val()&&!/(38|40)/.test(n.keyCode.toString(10))&&s.filter(".active").length===0&&(s=o.$newElement.find("li"),o.options.liveSearchNormalize?s=s.filter(":a"+o._searchStyle()+"("+t(m[n.keyCode])+")"):s=s.filter(":"+o._searchStyle()+"("+m[n.keyCode]+")")));if(!s.length)return;if(/(38|40)/.test(n.keyCode.toString(10)))u=s.index(s.filter(":focus")),f=s.parent(v).first().data("originalIndex"),l=s.parent(v).last().data("originalIndex"),a=s.eq(u).parent().nextAll(v).eq(0).data("originalIndex"),c=s.eq(u).parent().prevAll(v).eq(0).data("originalIndex"),h=s.eq(a).parent().prevAll(v).eq(0).data("originalIndex"),o.options.liveSearch&&(s.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),u=s.index(s.filter(".active")),f=s.first().data("index"),l=s.last().data("index"),a=s.eq(u).nextAll().eq(0).data("index"),c=s.eq(u).prevAll().eq(0).data("index"),h=s.eq(a).prevAll().eq(0).data("index")),p=r.data("prevIndex"),n.keyCode==38?(o.options.liveSearch&&(u-=1),u!=h&&u>c&&(u=c),u<f&&(u=f),u==p&&(u=l)):n.keyCode==40&&(o.options.liveSearch&&(u+=1),u==-1&&(u=0),u!=h&&u<a&&(u=a),u>l&&(u=l),u==p&&(u=f)),r.data("prevIndex",u),o.options.liveSearch?(n.preventDefault(),r.hasClass("dropdown-toggle")||(s.removeClass("active").eq(u).addClass("active").children("a").focus(),r.focus())):s.eq(u).focus();else if(!r.is("input")){var g=[],y,b;s.each(function(){e(this).parent().hasClass("disabled")||e.trim(e(this).text().toLowerCase()).substring(0,1)==m[n.keyCode]&&g.push(e(this).parent().index())}),y=e(document).data("keycount"),y++,e(document).data("keycount",y),b=e.trim(e(":focus").text().toLowerCase()).substring(0,1),b!=m[n.keyCode]?(y=1,e(document).data("keycount",y)):y>=g.length&&(e(document).data("keycount",0),y>g.length&&(y=1)),s.eq(g[y-1]).focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&o.options.selectOnTab)&&d){/(32)/.test(n.keyCode.toString(10))||n.preventDefault();if(!o.options.liveSearch){var w=e(":focus");w.click(),w.focus(),n.preventDefault(),e(document).data("spaceSelect",!0)}else/(32)/.test(n.keyCode.toString(10))||(o.$menu.find(".active a").click(),r.focus());e(document).data("keycount",0)}if(/(^9$|27)/.test(n.keyCode.toString(10))&&d&&(o.multiple||o.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!d)o.$menu.parent().removeClass("open"),o.options.container&&o.$newElement.removeClass("open"),o.$button.focus()},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var s=e.fn.selectpicker;e.fn.selectpicker=i,e.fn.selectpicker.Constructor=r,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=s,this},e(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',r.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),define("bootstrap-select",function(){});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.4",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),s=i.attr("data-target");s||(s=i.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),s="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,s)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",null==s.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),o="string"==typeof t?t:s.slide;i||r.data("bs.carousel",i=new n(this,s)),"number"==typeof t?i.to(t):o?i[o]():s.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,s=(n+i)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),s=r||this.getItemForDirection(t,i),o=this.interval,u="next"==t?"left":"right",f=this;if(s.hasClass("active"))return this.sliding=!1;var l=s[0],h=e.Event("slide.bs.carousel",{relatedTarget:l,direction:u});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:l,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,i.addClass(u),s.addClass(u),i.one("bsTransitionEnd",function(){s.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),s=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=e.extend({},s.data(),i.data()),u=i.attr("data-slide-to");u&&(o.interval=!1),t.call(s,o),u&&s.data("bs.carousel").to(u),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),s=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),i||n.data("bs.collapse",i=new r(this,s)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return u.call(this);var f=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(u,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][f])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var s=t(i),o=s.data("bs.collapse"),u=o?"toggle":i.data();n.call(s,u)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(s).each(function(){var r=e(this),i=n(r),s={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var s=n(i),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var u={relatedTarget:this};if(s.trigger(r=e.Event("show.bs.dropdown",u)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),o=i.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&i.find(s).trigger("focus"),r.trigger("click");var u=" li:not(.disabled):visible a",l=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(l.length){var h=l.index(t.target);38==t.which&&h>0&&h--,40==t.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var u=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=u,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);s||i.data("bs.modal",s=new n(this,o)),"string"==typeof t?s[t](r):o.show&&s.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),s=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},s.data(),r.data());r.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(s,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),s=i.length;s--;){var o=i[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var u="hover"==o?"mouseenter":"focusin",f="hover"==o?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void (n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void (n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void (n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,l=f.test(u);l&&(u=u.replace(f,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),p=s[0].offsetWidth,d=s[0].offsetHeight;if(l){var v=u,m=this.options.container?e(this.options.container):this.$element.parent(),g=this.getPosition(m);u="bottom"==u&&h.bottom+d>g.bottom?"top":"top"==u&&h.top-d<g.top?"bottom":"right"==u&&h.right+p>g.width?"left":"left"==u&&h.left-p<g.left?"right":u,s.removeClass(v).addClass(u)}var y=this.getCalculatedOffset(u,h,p,d);this.applyPlacement(y,u);var b=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",b).emulateTransitionEnd(n.TRANSITION_DURATION):b()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var f=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(n,t,f,l);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(n),p=h?2*c.left-i+f:2*c.top-s+l,d=h?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][d],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&s.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=r?{top:0,left:0}:t.offset(),o={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},u=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,o,u,s)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,s)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,s)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return o!=(e=s[s.length-1])&&this.activate(e);if(o&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)o!=s[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var u=e(r);this.activate(t.closest("li"),n),this.activate(u,u.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var o=r.find("> .active"),u=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);o.length&&u?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,s)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=s.top?!1:"bottom":e-r>=i+o?!1:"bottom";var u=null==this.affixed,a=u?i:s.top,f=u?o:t;return null!=n&&n>=i?"top":null!=r&&a+f>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,s=r.bottom,o=e(document.body).height();"object"!=typeof r&&(s=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var u=this.getState(o,t,i,s);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var f="affix"+(u?"-"+u:""),l=e.Event(f+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:o-t-s})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),define("bootstrap",["jquery"],function(e){return function(){var t,n;return t||e.bootstrap}}(this)),define("events",["jquery","underscore","domReady","app","tpl!templates/home.html","tpl!templates/analytics/projectAnalyticsFT.html","tpl!templates/analytics/earnedSchedule.html","tpl!templates/analytics/scheduleVAR.html","tpl!templates/analytics/spa.html","tpl!templates/analytics/spiCPI.html","tpl!templates/footers/reportsFooter.html","tpl!templates/footers/blankFooter.html","tpl!templates/footers/analyticsFooterA.html","tpl!templates/footers/analyticsFooterB.html","tpl!templates/spinner.html","tpl!templates/reports/cpr1.html","tpl!templates/reports/cpr2.html","tpl!templates/reports/cpr3.html","tpl!templates/reports/cpr4.html","tpl!templates/reports/cpr5.html","tpl!templates/reports/cprTWBS.html","tpl!templates/reports/cprTOBS.html","tpl!templates/reports/foo.html","moment","jszip","kendo","FileSaver","en-GB","bootstrap-select","Blob","base64","jquery.table2excel","bootstrap","xlsx"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N){n(function(){kendo.culture("en-GB"),window.jszip=N;var n=e(document),s=e(".bkgChange"),o=e("div.mainBody"),u=e("div.footer"),a="",f="",v=d,m=[];console.log(r.serviceRoot),r.SpinnerTpl(v,1),r.getUsername();var g=r.projectData();e.when(g).done(function(e){t.isObject(e)||!t.isUndefined(_first(e))?(m.push(e.d.results),console.log(m)):m.push(t.first(e).d.results),o.html(i({combineData:m})),u.html(c);if(m[0].length>1)n.find(".menuItem").addClass("menu-disabled");else{var s=t.first(m[0]);r.setProjectID(s.ProjectSelection),r.setVersion()}r.SpinnerTpl(v,0)}),n.on("change","#projectSets",function(i){i.preventDefault();var s=e("#projectSets").val();t.isEmpty(s)?(n.find(".menuItem").addClass("menu-disabled"),s=undefined,r.setProjectID(s)):(r.ClearDataStore(),r.setProjectID(s),r.setVersion(),(!t.isEmpty(r.projectID)||!t.isUndefined(r.projectID))&&n.find(".menuItem").removeClass("menu-disabled")),console.log("Project ID: "+s)}),n.on("click","body",function(t){var n=e(t.target);n.parents(".bootstrap-select").length&&(t.stopPropagation(),e(".bootstrap-select.open").removeClass("open"))}),n.on("change","#hChange",function(n){n.preventDefault();var i=e(this),s=i.val(),o=i.find(":selected").attr("data-chartType"),u=i.find(":selected").attr("data-title"),a=e("div#treelist"),f=e("div#chart"),l=a.data("kendoTreeList"),c=f.data("kendoChart");console.log(s+" "+o);if(s===""){i.val(r.HierarchySelectionID);return}r.HierarchySelectionID=s;if(r.CheckHierarchyId())return;r.setHierarchySelection(o.toUpperCase()),i.val(r.HierarchySelectionID),r.SpinnerTpl(v,1),r.dataType="Quantity",r.setDataSelection();var h=r.HierarchySet();e.when(h).done(function(s){if(r.apiErrorHandler(n.currentTarget,v,r.DataStore.chart))return;if(r.apiErrorHandler(n.currentTarget,v,r.DataStore.chart))return;r.DataStore.hierarchy=t.isArray(s)?t.first(s).d.results:s.d.results,l.destroy(),a.empty(),c.destroy(),f.empty(),a.off("click");var o=r.FilterChartData(r.DataStore.chart.options.data,r.dataType);r.DataStore.chart=r.AssignStore(o.graph),r.createChart(r.DataStore.chart,r.series,!1,r.dataType),r.hierListInitialize(r.DataStore.hierarchy),e("#dataType").val(r.dataType),e(".costType").hide(),r.hierEvent(a,r.dataType,!1),r.analyticsTplConfig(i),t.debounce(r.expandTreeList(a),500),t.debounce(r.SpinnerTpl(v,0),1e3)})}),n.on("change","#cpiSpiChange",function(i){i.preventDefault();var s=e(this),o=s.val(),u=s.find(":selected").attr("data-chartType"),a=s.find(":selected").attr("data-title"),f=e("div#treelist"),l=f.data("kendoTreeList"),c=n.find("div#chart").data("kendoChart");f.off(),console.log(o+" "+u);if(o===""){s.val(r.HierarchySelectionID);return}console.log("hit HierarchySelectionID is differnt"),r.HierarchySelectionID=o;if(r.CheckHierarchyId())return;r.DataStore.clearSpiCpiData(),r.setHierarchySelection(u.toUpperCase()),s.val(r.HierarchySelectionID),r.dataType="Quantity",r.SpinnerTpl(v,1),r.setDataSelection();var h=r.SVSet(),p=r.HierarchySet();e.when(p,h).done(function(o,u){if(r.apiErrorHandler(i.currentTarget,v,u))return;r.DataStore.setSpiCpiData(u,o),n.find("div#chart").empty(),f.empty(),l.destroy(),c.destroy(),f.off(),r.create_SPICPI_Chart(r.DataStore.spiCpiChart,r.CpiSpiSeries,!1,r.dataType),r.hierListInitialize(r.DataStore.hierarchySv),e(".dataTypeAnalytics").val("Quantity"),e(".costType").hide(),r.hierSpiCpiEvent(f,r.dataType),r.analyticsTplConfig(s),t.debounce(r.expandTreeList(f),500),t.debounce(r.SpinnerTpl(v,0),1e3)})}),n.on("click","button#refresh",function(t){t.preventDefault();var n=e(this),i=e("#snapshot").find(":selected"),s=i.val(),o=e("#baseline").find(":selected").val(),u=e("#eac").find(":selected").val();if(s==="")return alert("Select SnapShot");if(o==="")return alert("Select Baseline");if(u==="")return alert("Select EAC");r.SnapshotSelectionID=s,r.DataStore.versions.setBaseline=o,r.DataStore.versions.setEac=u,r.setDataSelection(),r.DataStore.clearChartData(),i.on("click",r.getAnalytics),i.trigger("click"),i.off("click")}),n.on("change","select#periodBack",function(t){t.preventDefault();var n=e(this),i=e(this).find(":selected"),s=n.val();r.periodsBack=s,r.setDataSelection(),i.on("click",r.getAnalytics),i.trigger("click"),i.off("click")}),n.on("click",".homeTpl",function(n){n.preventDefault();var o=[],u=r.projectData();e.when(u).done(function(n){var u=t.isArray(n)?t.first(n).d.results:n.d.results;o.push(u),r.SpinnerTpl(v,1);var a=e(this).data("temp"),f=e(this).data("name");s.attr("id","indexBG"),r.Project(i,c,o),e("#projectSets").val(r.projectID),r.ClearDataStore(),r.setVersion(),r.SnapshotSelectionID="",r.cpr3DHours="X",r.cpr3DExt="",r.SnapshotType="",r.SpinnerTpl(v,0)})}),n.on("click",".getAnalytics",r.getAnalytics),n.on("click",".getReport",r.getReports),n.on("change",".dataType",function(i){i.preventDefault(),console.log(r.SnapshotType),r.SpinnerTpl(v,1);var o=e(this).find(":selected"),u=o.val(),c=o.attr("data-sheet"),h=o.attr("data-temp"),p="",d="",g="",y="",b="",w="",E=0;console.log("type: "+u+" and Report: "+h),r.dataType=u,u==="Quantity"?(e(".costType").hide(),r.cpr3DHours="X",r.cpr3DExt=""):u==="Costs"&&(u="IntValProjCurr",r.dataType=u,r.cpr3DHours="",r.cpr3DExt="X"),r.setDataSelection(),w="tpl!templates/reports/"+h+".html",g=r.DataStore.hierarchy,y=r.DataStore.chart.options.data,u==="Material"&&(y=e.grep(y,function(e){return e.TransactionType==="KPPP"}),u="IntValProjCurr",E=1),requirejs([w],function(h){switch(c){case"CPR-1":console.log("hit 1"),b=r.CPRHeaderSet(),e.when(b).done(function(s){m[0]=r.DataStore.project,m[1]=r.formatOneTotals(g,y,u);if(r.apiErrorHandler(i.currentTarget,v,s))m[2]=[];else{var c=t.isArray(s)?t.first(s).d.results[0]:s.d.results[0];m[2]=r.parseHeaderDates(c)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cpr1Title").html("CPR FORMAT 1 - WBS (MATERIAL)"),e(".dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").html("HRS"),e("#cpr1Title").html("CPR FORMAT 1 - WBS (MANHOURS)")):(e("#units").html("&pound;"),e("#cpr1Title").html("CPR FORMAT 1 - WBS (TOTAL COST)"),e("#dataType").val("Costs")),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.SpinnerTpl(v,0)});break;case"CPR-2":console.log("hit 2"),b=r.CPRHeaderSet(),e.when(b).done(function(s){m[0]=r.DataStore.project,m[1]=r.formatOneTotals(g,y,u);if(r.apiErrorHandler(i.currentTarget,v,s))m[2]=[];else{var c=t.isArray(s)?t.first(s).d.results[0]:s.d.results[0];m[2]=r.parseHeaderDates(c)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cpr2Title").html("CPR FORMAT 2 - OBS (MATERIAL)"),e("#dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cpr2Title").text("CPR FORMAT 2 - OBS (MANHOURS)")):(e("#units").html("&pound;"),e("#cpr2Title").text("CPR FORMAT 2 - OBS (TOTAL COST)"),e("#dataType").val("Costs")),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.SpinnerTpl(v,0)});break;case"CPR-3":console.log("hit 3");var w=r.SnapshotSelectionID,S=r.CPR3DetailSet();r.SnapshotSelectionID=r.DataStore.snapShotList[1].SnapshotSelection,b=r.CPRHeaderSet(),r.setDataSelection();var x=r.SnapshotSet();e.when(S,b,x).done(function(n,c,p){if(r.apiErrorHandler(o,v,p))return;var d=t.isArray(p)?t.first(p).d.results:p.d.results,g=r.VersionFilter(r.DataStore.versions,d),b=r.FilterData(g,d,r.DataStore.versionSelection),S={};S.first=y,S.last=b.graph,m[0]=r.formatThreeTotals(S,u);if(r.apiErrorHandler(i.currentTarget,v,c))m[1]=[];else{var x=t.isArray(c)?t.first(c).d.results[0]:c.d.results[0];m[1]=r.parseHeaderDates(x)}r.apiErrorHandler(i.currentTarget,v,n)?m[2]=[]:m[2]=t.isArray(n)?t.first(n).d.results:n.d.results,f=h,a=l,r.Project(f,a,m),s.attr("id","cprBG"),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cpr3Title").html("CPR FORMAT 3 - OBS (MATERIAL)"),e("#dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cpr3Title").text("CPR FORMAT 3 - OBS (MANHOURS)")):(e("#units").html("&pound;"),e("#cpr3Title").text("CPR FORMAT 3 - OBS (TOTAL COST)"),e("#dataType").val("Costs")),r.SnapshotSelectionID=w,r.setDataSelection(),r.SpinnerTpl(v,0)});break;case"CPR-4":console.log("hit 4"),b=r.CPRHeaderSet(),e.when(b).done(function(n){m[0]=r.DataStore.project,m[1]=r.formatFourTotals(y,u),m[2]={months:r.unit.months};if(r.apiErrorHandler(i.currentTarget,v,n))m[3]=[];else{var s=t.isArray(n)?t.first(n).d.results[0]:n.d.results[0];m[3]=r.parseHeaderDates(s)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cpr4Title").html("CPR FORMAT 4 - STAFFING/FORECAST (MATERIAL)"),e("#dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cpr4Title").text("CPR FORMAT 4 - STAFFING/FORECAST (MANHOURS)")):(e("#units").html("&pound;"),e("#cpr4Title").text("CPR FORMAT 4 - STAFFING/FORECAST (TOTAL COST)"),e("#dataType").val("Costs")),r.SpinnerTpl(v,0)});break;case"CPR-5":console.log("hit 5");var T=r.CPR5DetailSet();e.when(T).done(function(n){var s=r.FilterChartData(y,u);b=r.CPRHeaderSet(),e.when(b).done(function(c){m[0]=r.DataStore.project,m[1]=r.formatFiveTotals(s),r.apiErrorHandler(i.currentTarget,v,n)?m[2]=[]:m[2]=t.isArray(n)?t.first(n).d.results[0]:n.d.results[0];if(r.apiErrorHandler(i.currentTarget,v,c))m[3]=[];else{var p=t.isArray(c)?t.first(c).d.results[0]:c.d.results[0];m[3]=r.parseHeaderDates(p)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cpr5Title").html("CPR FORMAT 5 - VAR (MATERIAL)"),e("#dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cpr5Title").text("CPR FORMAT 5 - VAR (MANHOURS)")):(e("#units").html("&pound;"),e("#cpr5Title").text("CPR FORMAT 5 - VAR (TOTAL COST)"),e("#dataType").val("Costs")),r.SpinnerTpl(v,0)})});break;case"CPR-TWBS":console.log("hit TW"),b=r.CPRHeaderSet(),e.when(b).done(function(s){m[0]=r.DataStore.project,p=r.formatOneTotals(r.DataStore.hierarchySv,y,u),d=r.cpiSpiTrend(r.DataStore.rawspiCpiChartdata,u),m[1]=r.setTrendToChartData(p,d);if(r.apiErrorHandler(i.currentTarget,v,s))m[2]=[];else{var c=t.isArray(s)?t.first(s).d.results[0]:s.d.results[0];m[2]=r.parseHeaderDates(c)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cprTWTitle").html("CPR FORMAT TREND - WBS (MATERIAL)"),e(".dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cprTWTitle").text("CPR FORMAT TREND - WBS (MANHOURS)")):(e("#units").html("&pound;"),e("#cprTWTitle").text("CPR FORMAT TREND - WBS (TOTAL COST)"),e(".dataType").val("Costs")),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.SpinnerTpl(v,0)});break;case"CPR-TOBS":console.log("hit TO"),b=r.CPRHeaderSet(),e.when(b).done(function(s){m[0]=r.DataStore.project,p=r.formatOneTotals(r.DataStore.hierarchySv,y,u),d=r.cpiSpiTrend(r.DataStore.rawspiCpiChartdata,u),m[1]=r.setTrendToChartData(p,d);if(r.apiErrorHandler(i.currentTarget,v,s))m[2]=[];else{var c=t.isArray(s)?t.first(s).d.results[0]:s.d.results[0];m[2]=r.parseHeaderDates(c)}f=h,a=l,r.Project(f,a,m),r.reportTplConfig(o),E?(e("#units").html("&pound;"),e("#cprTOTitle").html("CPR FORMAT TREND - OBS (MATERIAL)"),e("#dataType").val("Material")):u==="Quantity"?(e(".costType").hide(),e("#units").text("HRS"),e("#cprTOTitle").text("CPR FORMAT TREND - OBS (MANHOURS)")):(e("#units").html("&pound;"),e("#cprTOTitle").text("CPR FORMAT TREND - OBS (TOTAL COST)"),e("#dataType").val("Costs")),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.SpinnerTpl(v,0)});break;case"FOO_REPORT":console.log("hit FOO");var N={},C=[],k=e.Deferred();t.each(r.DataStore.hierarchyList,function(e,t,n){r.HierarchySelectionID=e.HierarchySelection,r.setDataSelection(),C[t]={},C[t].data=r.HierarchySet(),C[t].name=e.ExtID});var L=0;t.each(C,function(n,r){e.when(n.data).done(function(e){N[t.first(e.d.results).HierarchySelection]=[],N[t.first(e.d.results).HierarchySelection].push(e.d.results),L+=1,L===C.length&&k.resolve(N)})}),e.when(k).done(function(t){var n=t,i=r.FooFilter(n,y,r.dataType);m[0]=r.DataStore.project,m[1]=i,f=h,a=l,r.Project(f,a,m),s.attr("id","cprBG"),r.reportTplConfig(o),E?e("#dataType").val("Material"):u==="Quantity"?e("#dataType").val("Quantity"):e("#dataType").val("Costs"),r.SpinnerTpl(v,0)});break;default:console.log("hit default")}})}),n.on("change",".dataTypeAnalytics",function(i){i.preventDefault(),console.log(r.SnapshotType),r.SpinnerTpl(v,1);var s=e(this).find(":selected"),o=s.val(),u=n.find("div#chart"),l=s.attr("data-name"),c=[],d="",m="",g="",y=[],b=[],w="",E="",S=0,x=s.attr("data-temp");e("div#treelist").off("click"),r.dataType=o,r.dataType==="Quantity"?e(".costType").hide():r.dataType==="Costs"&&(r.dataType="IntValProjCurr");var T="tpl!templates/analytics/"+x+".html";c[0]=r.ParseSnapShotDates(r.DataStore.snapShotList),c[1]=r.DataStore.hierarchyList,c[2]=r.DataStore.versions;switch(l){case"projectAnalytics":a=h;break;default:a=p}requirejs([T],function(n){f=n,r.Project(f,a,c);switch(l){case"earnedSchedule":r.setDataSelection(),y=r.ESSet(),d=r.HierarchySet(),e.when(d,y).done(function(n,u){m=t.isArray(n)?t.first(n).d.results:n.d.results,r.createSplittersFT();if(r.apiErrorHandler(i.currentTarget,v,u))return;w=t.isArray(u)?t.first(u).d.results:u.d.results;var a=r.ESfilter(w,r.dataType,m);r.createES_Chart(a,!0,r.dataType),r.analyticsTplConfig(s),console.info("Selected Type "+o),r.dataType==="Quantity"?(e(".costType").hide(),e(".dataTypeAnalytics").val("Quantity")):r.dataType==="Material"?e(".dataTypeAnalytics").val("Material"):e(".dataTypeAnalytics").val("Costs"),t.debounce(r.SpinnerTpl(v,0),1e3)});break;case"scheduleVAR":r.setDataSelection(),b=r.SVSet(),d=r.HierarchySet(),e.when(d,b).done(function(n,o){m=t.isArray(n)?t.first(n).d.results:n.d.results,r.createSplittersFT();if(r.apiErrorHandler(i.currentTarget,v,o))return;E=t.isArray(o)?t.first(o).d.results:o.d.results;var u=r.SVfilter(E,r.dataType,m);r.createSV_Chart(u,!1,r.dataType),r.analyticsTplConfig(s),r.dataType==="Quantity"?(e(".costType").hide(),e(".dataTypeAnalytics").val("Quantity")):r.dataType==="Material"?e(".dataTypeAnalytics").val("Material"):e(".dataTypeAnalytics").val("Costs"),t.debounce(r.SpinnerTpl(v,0),1e3)});break;case"spa":r.createSplittersFT();if(r.apiErrorHandler(i.currentTarget,v,r.DataStore.chart))return;g=r.DataStore.chart.options.data,m=r.DataStore.hierarchy;if(r.dataType==="Material"){g=e.grep(g,function(e){return e.TransactionType==="KPPP"}),r.dataType="IntValProjCurr",S=1;if(t.isEmpty(g))return r.SpinnerTpl(v,0),alert("No Data for Material selection.")}r.hierListInitialize(m);var u=r.FilterChartData(g,r.dataType),h=t.flatten(u.graph);r.createChart(r.AssignStore(h),r.series,!1,r.dataType),N=e("div#treelist"),r.hierEvent(N,r.dataType,S),r.analyticsTplConfig(s),r.dataType==="Quantity"?(e(".costType").hide(),e(".dataTypeAnalytics").val("Quantity")):S?e(".dataTypeAnalytics").val("Material"):e(".dataTypeAnalytics").val("Costs"),t.debounce(r.expandTreeList(N),500),t.debounce(r.SpinnerTpl(v,0),1e3);break;case"spiCPI":r.createSplittersFT();if(r.apiErrorHandler(i.currentTarget,v,r.DataStore.rawspiCpiChartdata))return;m=r.DataStore.hierarchySv,g=r.DataStore.rawspiCpiChartdata,r.hierListInitialize(m);var p=r.cpiSpiTrend(g,r.dataType),x=r.AssignStore(p);r.create_SPICPI_Chart(x,r.CpiSpiSeries,!1,r.dataType);var T=r.DataStore.hierarchySv[0].ExtID,N=e("div#treelist");r.hierSpiCpiEvent(N,r.dataType),r.analyticsTplConfig(s),console.log("Selected Type "+r.dataType),r.dataType==="Quantity"?(e(".costType").hide(),e(".dataTypeAnalytics").val("Quantity")):r.dataType==="Material"?e(".dataTypeAnalytics").val("Material"):e(".dataTypeAnalytics").val("Costs"),e("#cpiSpiChange").val(r.HierarchySelectionID),t.debounce(r.expandTreeList(N),500),t.debounce(r.SpinnerTpl(v,0),1e3);break;default:console.log("hit default")}})}),n.on("click","a#cprHierarchyToggle",function(i){i.preventDefault();var o=e(this),u=o.data("temp"),c=o.data("sheet"),h=o.data("hierarchy"),p=o.data("default"),d="",g="",y="",b="";r.dataType="Quantity",r.SpinnerTpl(v,1),retrieveTpl="tpl!templates/reports/"+u+".html",requirejs([retrieveTpl],function(i){r.State.alternativeOption=p,r.State.defaultSelection=h,r.HierarchySelectionID=h,r.setDataSelection(),d=r.HierarchySet(),e.when(d).done(function(u){r.DataStore.hierarchy=t.isArray(u)?t.first(u).d.results:u.d.results,g=r.DataStore.hierarchy,y=r.DataStore.chart.options.data;switch(c){case"CPR-1":b=r.CPRHeaderSet(),e.when(b).done(function(e){var u=r.FilterChartData(y,r.dataType);m[0]=r.DataStore.project,m[1]=r.formatOneTotals(g,y,r.dataType);if(t.isEmpty(e))m[2]=[];else{var c=t.isArray(e)?t.first(e).d.results[0]:e.d.results[0];m[2]=r.parseHeaderDates(c)}f=i,a=l,r.Project(f,a,m),s.attr("id","cprBG"),r.reportTplConfig(o),r.SpinnerTpl(v,0),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3)});break;case"CPR-2":console.log("hit 2"),b=r.CPRHeaderSet(),e.when(b).done(function(e){m[1]=r.formatOneTotals(g,y,r.dataType);if(t.isEmpty(e))m[2]=[];else{var u=t.isArray(e)?t.first(e).d.results[0]:e.d.results[0];m[2]=r.parseHeaderDates(u)}f=i,a=l,r.Project(f,a,m),s.attr("id","cprBG"),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.reportTplConfig(o),r.SpinnerTpl(v,0)});break;case"CPR-TWBS":console.log("hit TW"),r.DataStore.clearSpiCpiData(),svData=r.SVSet(),b=r.CPRHeaderSet(),e.when(svData,b).done(function(e,c){r.DataStore.setSpiCpiData(e,u),m[0]=r.DataStore.project,chartTotals=r.formatOneTotals(r.DataStore.hierarchySv,y,r.dataType),trendData=r.cpiSpiTrend(r.DataStore.rawspiCpiChartdata,r.dataType),m[1]=r.setTrendToChartData(chartTotals,trendData);if(t.isEmpty(c))m[2]=[];else{var h=t.isArray(c)?t.first(c).d.results[0]:c.d.results[0];m[2]=r.parseHeaderDates(h)}f=i,a=l,r.Project(f,a,m),s.attr("id","cprBG"),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.reportTplConfig(o),r.SpinnerTpl(v,0)});break;case"CPR-TOBS":console.log("hit TO"),r.DataStore.clearSpiCpiData(),svData=r.SVSet(),e.when(svData).done(function(c){r.DataStore.setSpiCpiData(c,u),b=r.CPRHeaderSet(),e.when(b).done(function(e){m[0]=r.DataStore.project,chartTotals=r.formatOneTotals(r.DataStore.hierarchySv,y,r.dataType),trendData=r.cpiSpiTrend(r.DataStore.rawspiCpiChartdata,r.dataType),m[1]=r.setTrendToChartData(chartTotals,trendData);if(t.isEmpty(e))m[2]=[];else{var u=t.isArray(e)?t.first(e).d.results[0]:e.d.results[0];m[2]=r.parseHeaderDates(u)}f=i,a=l,r.Project(f,a,m),s.attr("id","cprBG"),t.debounce(n.find("#cprHierarchyToggle").attr("data-hierarchy",r.State.alternativeOption).attr("data-default",r.State.defaultSelection),1e3),r.reportTplConfig(o),r.SpinnerTpl(v,0)})});break;default:console.log("hit default, didnt find anything")}})})}),n.on("click","a#switchMonthly",function(t){t.preventDefault();var n=e(this),i=n.parent();$selectedSnapShotType=n.data("type"),r.SnapshotType=$selectedSnapShotType,r.setDataSelection(),r.SnapshotSelectionID="",r.DataStore.clearChartData(),i.on("click",r.getAnalytics),i.trigger("click"),i.off("click")}),n.on("click","a#switchWeekly",function(t){t.preventDefault();var n=e(this),i=n.parent();$selectedSnapShotType=n.data("type"),r.SnapshotType=$selectedSnapShotType,r.setDataSelection(),r.SnapshotSelectionID="",r.DataStore.clearChartData(),i.on("click",r.getAnalytics),i.trigger("click"),i.off("click")}),n.on("click","span.export-excel",function(t){t.preventDefault();var n=e(this).data("id"),i=e(this).data("sheet"),s=e(this).data("name");r.ExportTable("#"+n,i,s)}),n.on("click","span.export-chart-pdf",function(t){t.preventDefault();var n=e(this).data("id");kendo.drawing.drawDOM(e("#chart")).then(function(e){kendo.drawing.pdf.saveAs(e,n+".pdf")})}),n.on("click","span.export-report-pdf",function(t){t.preventDefault();var n=e(this).data("id");kendo.drawing.drawDOM(e(".exportTable")).then(function(e){kendo.drawing.pdf.saveAs(e,n+".pdf")})}),n.on("click","a#clearRAG",function(t){t.preventDefault(),n.find(".rag").each(function(t,n){e(this).css("background-color","")}),e("#applyRAGButton").show(),e("#clearRAGButton").hide()}),n.on("click","a#applyRAG",function(t){t.preventDefault(),n.find(".rag").each(function(t,n){var r=e(this).data("colour");e(this).css("background-color",r)}),e("#applyRAGButton").hide(),e("#clearRAGButton").show()})})}),requirejs.config({baseUrl:"assets",waitSeconds:0,paths:{jquery:"js/jquery.min",text:"js/text",tpl:"js/underscore-tpl",kendo:"js/kendo.all.min",base64:"js/base64",Blob:"js/Blob",bootstrap:"js/bootstrap.min",domReady:"js/domReady",FileSaver:"js/FileSaver",uglify:"js/uglify","jquery.table2excel":"js/jquery.table2excel",jszip:"js/jszip",moment:"js/moment",underscore:"js/underscore","en-GB":"js/cultures/kendo.culture.en-GB.min",xlsx:"js/xlsx",app:"js/app",events:"js/events",requireLib:"js/require","bootstrap-select":"js/bootstrap-select"},shim:{jquery:{exports:"$"},jszip:{exports:"jszip"},underscore:{deps:["jquery"],exports:"_"},moment:{exports:"moment"},xlsx:{deps:["Blob","FileSaver","jszip"],exports:"xlsx"},bootstrap:{deps:["jquery"],exports:"bootstrap"},kendo:{deps:["jquery"],exports:"kendo"},app:{deps:["jquery","underscore","kendo"]},events:{deps:["jquery","underscore","app"]},"jquery.table2excel":{deps:["jquery","base64","Blob","FileSaver","jszip","xlsx"]},tpl:["text"]}}),requirejs(["events"]),define("require_main",function(){});